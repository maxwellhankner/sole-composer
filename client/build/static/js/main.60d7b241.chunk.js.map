{"version":3,"sources":["UserProvider.js","utils/fetchHelpers.js","utils/css/breakpoints.js","containers/Landing/styledComponents.js","utils/css/defaultStyles.js","components/landingui/Buttons/BaseButton.js","components/landingui/Buttons/MenuButton/index.js","components/landingui/Buttons/MenuButton/styledComponents.js","components/landingui/Buttons/LandingSignUpButton/index.js","components/landingui/Buttons/LandingSignUpButton/styledComponents.js","components/landingui/Buttons/NewDesignButton/styledComponents.js","components/landingui/Buttons/NewDesignButton/index.js","components/landingui/Buttons/SplashDesignButton/styledComponents.js","components/landingui/Buttons/SplashDesignButton/index.js","components/landingui/Cards/FeaturedDesignCard/styledComponents.js","components/landingui/Cards/FeaturedDesignCard/index.js","components/landingui/LandingSplash/styledComponents.js","components/landingui/LandingSplash/index.js","components/landingui/MyDesigns/styledComponents.js","components/landingui/MyDesigns/index.js","containers/Landing/index.js","components/designerui/styledComponents.js","components/designerui/LoadingSpinner/styledComponents.js","components/designerui/LoadingSpinner/index.js","components/designerui/ColorPicker/CurrentColors/styledComponents.js","components/designerui/ColorPicker/CurrentColors/index.js","components/designerui/ColorPicker/styledComponents.js","components/designerui/ColorPicker/CustomColorPointers/styledComponents.js","components/designerui/ColorPicker/index.js","components/Scene/styledComponents.js","components/Scene/index.js","components/Scene/partLookup.js","components/Interface/styledComponents.js","components/Interface/Nav/styledComponents.js","components/Interface/Nav/index.js","components/Interface/DesignInfo/styledComponents.js","components/Interface/DesignInfo/index.js","utils/uploadImage.js","utils/takeScreenshot.js","utils/convertAwsLink.js","components/Interface/DesignMenu/index.js","components/Interface/Visibility/styledComponents.js","components/Interface/Visibility/Toggle/styledComponents.js","components/Interface/Visibility/Toggle/index.js","components/Interface/Visibility/index.js","components/Interface/BaseColor/styledComponents.js","components/Interface/BaseColor/index.js","utils/convertPartNames.js","components/Interface/Layers/LayersMain/PartSelector/styledComponents.js","components/Interface/Layers/LayersMain/PartSelector/index.js","components/Interface/Layers/LayersMain/styledComponents.js","components/Interface/Layers/LayersMain/index.js","components/Interface/Layers/PartList/styledComponents.js","components/Interface/Layers/PartList/index.js","components/Interface/Layers/AddLayerType/index.js","components/Interface/Layers/MaskTypes/index.js","components/Interface/Layers/ColorEditor/index.js","components/Interface/Layers/GraphicEditor/styledComponents.js","components/Interface/Layers/GraphicEditor/index.js","components/Interface/Layers/GraphicPicker/CurrentGraphics/index.js","components/Interface/Layers/GraphicPicker/index.js","components/Interface/Layers/Constants.js","components/Interface/Layers/index.js","components/Interface/EditName/styledComponents.js","components/Interface/EditName/index.js","components/Interface/Interface.js","utils/canvasFunctions/setup/setup.js","utils/canvasFunctions/create/createCanvasFunctions.js","utils/canvasFunctions/create/createColorLayerCanvas.js","utils/canvasFunctions/create/createGraphicLayerCanvas.js","utils/canvasFunctions/create/createMaskLayerCanvas.js","utils/canvasFunctions/create/createOverlayLayerCanvas.js","utils/canvasFunctions/create/initialFunctions.js","utils/canvasFunctions/update/partChangeManager.js","utils/canvasFunctions/update/overlayChangeManager.js","utils/canvasFunctions/update/canvasObjectToTextureCanvas.js","components/DesignerContainer/styledComponents.js","components/DesignerContainer/index.js","containers/Designer/index.js","containers/Login/styledComponents.js","containers/Login/index.js","containers/Profile/styledComponents.js","components/landingui/Text/MenuPara/index.js","components/landingui/Text/MenuPara/styledComponents.js","containers/Profile/index.js","containers/NoPage/styledComponents.js","containers/NoPage/index.js","containers/App/styledComponents.js","containers/App/App.js","serviceWorker.js","index.js"],"names":["context","createContext","UserProvider","children","useState","user","setUser","useEffect","fetch","method","credentials","then","res","json","data","err","Provider","value","simpleFetch","link","designFetch","body","headers","JSON","stringify","deviceSizes","mediaQueriesByDevice","tablet","desktop","LandingContainer","styled","div","LandingHeader","LandingHeaderTitle","p","HeaderSpacing","LandingContent","FeaturedDesignsContainer","LandingSectionLabel","LandingSignUpContainer","defaultButtonBackgroundColor","BasicButton","button","MenuButton","BaseButton","props","google","LandingSignUpButton","NewDesignButtonStyled","NewDesignButton","history","useHistory","onClick","push","SplashButton","SplashDesignButton","FeaturedDesignCardContainer","FeaturedDesignCardImage","FeaturedDesignCardTitle","FeaturedDesignCardModel","FeaturedDesignCardAuthor","FeaturedDesignCard","_id","title","configId","author","screenshot","src","alt","modelName","firstName","LandingSplashContainer","SplashLeft","SplashHeader","SplashPara","SplashRight","SplashImage","img","LandingSplash","MyDesignsContainer","MyDesignsGrid","DesignTile","MyDesigns","myDesigns","map","design","key","to","className","Landing","userData","useContext","featured","setFeatured","setMyDesigns","items","responsive","0","700","LeftInterfaceContainer","InterfaceTitle","InterfaceDoubleButtons","InterfaceSingleButtons","InterfaceTitleAndIcon","InterfaceTitleBox","InterfaceButtonBox","InterfaceButton","active","InterfaceIconButtonBox","InterfaceIconButton","LoadingSpinnerContainer","LoadingSpinnerIcon","LoadingSpinner","CurrentColorsScroll","CurrentColorsOption","color","CurrentColors","colorsArray","handleColorChange","i","CustomColorContainer","HueContainer","SaturationContainer","CustomColorInputContainer","CustomColorInputSwatch","CustomColorPointer","CustomColorPointerOffset","CustomPicker","hex","hsl","hsv","onChange","pointer","Math","random","toString","slice","SceneContainer","Shoe","x","y","texture","right","setCurrentPart","setCurrentShoe","alone","setLayersView","setCurrentLayer","setView","redMapCanvas","group","useRef","nodes","useGLTF","configData","source","model","aoMap","useLoader","THREE","flipY","clickShoe","e","delta","floor","uv","part","partLookup","getContext","getImageData","ref","dispose","onPointerDown","stopPropagation","clientX","clientY","pointerDown","onPointerUp","pointerUp","geometry","af1","rotation","PI","position","scale","Scene","rightTexture","leftTexture","texturesLoaded","shoeVisibility","cameraReset","setCameraReset","CameraRig","reset","useThree","camera","set","id","fov","linear","dpr","gl","preserveDrawingBuffer","fallback","left","OrbitControls","minPolarAngle","maxPolarAngle","minDistance","maxDistance","enablePan","enableDamping","InterfaceContainer","InterfaceLeft","InterfaceRight","NavContainer","NavOption","selected","Nav","handleViewChange","view","viewManager","viewName","InfoContainer","InfoTitle","InfoModel","DesignInfo","uploadImage","file","isNew","formData","FormData","append","takeScreenshot","fileName","Promise","resolve","setTimeout","threeCanvas","document","getElementById","firstElementChild","newCanvas","createElement","width","height","drawImage","dataUrl","toDataURL","blobBin","atob","split","array","length","charCodeAt","blob","Blob","Uint8Array","type","name","lastModifiedDate","Date","File","convertAwsLink","url","awsFileName","DesignMenu","userId","canSave","setCanSave","loading","setLoading","handleSaveDesign","a","imageName","image","outlineData","window","location","href","VisibilityContainer","ToggleOptionBox","ToggleOptionButton","Toggle","visibility","setVisibility","hanleShoeVisibility","shoe","visObj","Visibility","currentShoe","setShoeVisibility","BaseColorRadioBox","BaseColorOption","ChangeBaseColor","setDesign","handleUpdateBaseColor","setColorsArray","colors","property","parts","layer","thisColor","includes","overlays","rightBaseColor","baseColors","leftBaseColor","getDesignColors","radioOption","setRadioOption","baseColor","setBaseColor","newColor","handleRadioOption","option","ColorPicker","onChangeComplete","tempDesign","cloneDeep","updateBaseColor","handleConvertPartName","partName","converted","join","charAt","toUpperCase","substr","PartSelectorContainer","PartSelectorTitle","PartSelectorButton","PartSelector","currentPart","numberOfParts","partsArray","arrayOfParts","handlePartChange","LayersMainContainer","LayersMainDivider","LayersMainControlsContainer","LayersMainControlsLeft","LayersMainControlsTitle","LayersMainControlsRight","LayersBox","LayersScrollBox","AnotherScrollBox","LayerItem","LayerItemRight","LayerItemRightTitle","LayerItemLeft","LayersMain","allLayers","currentLayer","numberOfLayers","handleDeleteLayer","handleEditLayer","handleMoveLayer","moveLayer","index","direction","preventDefault","target","setNoCurrentLayer","style","backgroundColor","objectFit","toLowerCase","PartsBox","AnotherPartsScrollBox","PartsScrollBox","PartButton","PartList","currentPartName","AddLayerType","handleAddLayer","layerTypes","types","MaskTypes","handleAddMaskLayer","maskTypes","ColorEditor","handleChangeManager","currentColor","setCurrentColor","layerIndex","GraphicEditorUpper","GraphicEditorVisualContainer","mirror","GraphicEditorButton","GraphicEditorButtons","GraphicEditor","graphicVisualCanvas","handleUpdateGraphicVisualCanvas","handleMoveGraphic","distance","innerHTML","appendChild","placeGraphicVisual","CurrentGraphics","graphicsArray","handleAddGraphicLayer","graphic","GraphicPicker","LayerDictionary","warning","setWarning","isLoading","setIsLoading","setGraphicsArray","graphics","thisGraphic","getGraphicsArray","onFileChange","files","size","toFixed","htmlFor","accept","LayersView","layersView","Object","keys","partsObject","partType","Component","propsToPassDown","layerType","maskType","maskLink","indexOf","EditNameInput","input","EditName","defaultValue","newTitle","startCase","handleUpdateDesignName","Interface","ComponenetToRender","viewChange","Layers","BaseColor","setup","setTexturesLoaded","rightInnerOverlayCanvas","rightOuterOverlayCanvas","rightTextureCanvas","leftInnerOverlayCanvas","leftOuterOverlayCanvas","leftTextureCanvas","rightCanvasObjectRef","rightOverlaysCanvasObjectRef","rightBaseColorCanvasObjectRef","leftBaseColorCanvasObjectRef","leftCanvasObjectRef","leftOverlaysCanvasObjectRef","designObjectToCanvasObject","current","overlayCanvasObjectToTextureCanvas","overlayCanvasObject","overlayCanvas","canvasObjectToTextureCanvas","canvasObject","baseColorCanvasObject","rightCanvas","leftCanvas","needsUpdate","createTexture","textureCanvas","createCanvas","canvasSize","canvas","canvasCTX","waitForElement","fillStyle","fillRect","createRedMapCanvas","Image","redMap","onload","createGraphicVisualCanvas","createColorLayerCanvas","mask","layerCanvas","layerCanvasCTX","maskImg","globalCompositeOperation","createGraphicLayerCanvas","graphicImg","graphicWidth","graphicHeight","graphicPythagorean","round","sqrt","pythagoreanCanvas","pythagoreanCTX","translate","rotate","newX","newY","newScale","createMaskLayerCanvas","createOverlayLayerCanvas","translations","createCanvasObjectPart","designLayers","canvasLayers","thisLayer","layers","createBaseColorCanvasObjectPart","reject","createAllParts","overlayCanvasCTX","graphicCTX","clearRect","updateGraphicVisualCanvas","baseColorCanvas","updateLayer","layerObject","redrawCanvasObjectPart","canvasObjectPart","addLayerToCanvasObject","newLayerCanvas","deleteLayerFromCanvasObject","splice","moveLayerInCanvasObject","tempElement","textureCanvasCTX","divider","overlayChangeManager","changeObject","updateOverlayLayer","effectedParts","overlayParts","addLayerToOverlayCanvasObject","moveLayerInOverlayCanvasObject","deleteLayerFromOverlayCanvasObject","redrawOverlayCanvasObjectPart","finalCanvasCTX","DesignerContainerStyle","DesignerContainer","designSpec","partChangeManager","Designer","useParams","setDesignSpec","setGraphicVisualCanvas","setRightInnerOverlayCanvas","setRightOuterOverlayCanvas","setRightTextureCanvas","setRightTexture","setLeftInnerOverlayCanvas","setLeftOuterOverlayCanvas","setLeftTextureCanvas","setLeftTexture","setRedMapCanvas","canvasOne","canvasTwo","canvasThree","canvasFour","canvasFive","canvasSix","canvasSeven","LoginContainer","Login","open","ProfileContainer","MenuPara","Profile","email","NoPageContainer","NoPage","AppContainer","App","exact","path","component","Boolean","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.60d7b241.chunk.js","sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\nconst context = createContext(null);\n\nconst UserProvider = ({ children }) => {\n  const [user, setUser] = useState();\n\n  useEffect(() => {\n    fetch('/auth/getsession', {\n      method: 'GET',\n      credentials: 'include',\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.err) {\n        } else {\n          setUser(data);\n        }\n      });\n  }, []);\n\n  return <context.Provider value={user}>{children}</context.Provider>;\n};\n\nUserProvider.context = context;\n\nexport default UserProvider;\n","export const simpleFetch = (link, method) => {\n  return fetch(link, { method: method });\n};\n\nexport const designFetch = (link, method, body) => {\n  return fetch(link, {\n    method: method,\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(body),\n  });\n};\n","export const deviceSizes = {\n  tablet: 601,\n  desktop: 992,\n};\n\nexport const mediaQueriesByDevice = {\n  tablet: `@media (min-width: ${deviceSizes.tablet}px)`,\n  desktop: `@media (min-width: ${deviceSizes.desktop}px)`,\n};\n","import styled from 'styled-components';\nimport { mediaQueriesByDevice } from '../../utils/css/breakpoints';\nconst { desktop } = mediaQueriesByDevice;\n\nexport const LandingContainer = styled.div`\n  font-family: 'Roboto';\n  height: 100%;\n`;\n\nexport const LandingHeader = styled.div`\n  z-index: 1;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 46px;\n  color: #f9f9f9;\n  background-color: #000000;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n\n  a {\n    color: #ffffff;\n    text-decoration: none;\n    margin: auto 15px;\n  }\n`;\n\nexport const LandingHeaderTitle = styled.p`\n  margin: auto 15px;\n`;\n\nexport const HeaderSpacing = styled.div`\n  width: 100%;\n  height: 45px;\n`;\n\nexport const LandingSpacing = styled.div`\n  width: 100%;\n  height: 46px;\n`;\n\nexport const LandingContent = styled.div`\n  width: 100%;\n  max-width: 700px;\n  margin: auto;\n  margin-top: 16px;\n\n  ${desktop} {\n    margin-bottom: 0;\n  }\n`;\n\nexport const FeaturedDesignsContainer = styled.div`\n  margin-bottom: 32px;\n  width: 100%;\n`;\n\nexport const LandingSectionLabel = styled.p`\n  font-family: 'Poppins', 'Roboto', 'Ariel';\n  margin: 0px;\n  margin-left: 16px;\n  margin-bottom: 8px;\n  font-size: 24px;\n  font-weight: bold;\n`;\n\nexport const LandingSignUpContainer = styled.div`\n  margin-bottom: 60px;\n  text-align: center;\n`;\n","// Colors\nexport const defaultTextColor = '#000000';\nexport const borderColor = '#000000';\nexport const defaultButtonTextColor = '#ffffff';\nexport const defaultButtonBackgroundColor = '#000000';\nexport const googleLoginButtonBackgroundColor = '#4285f4';\n\n// Designer Colors\n\n// Font Family\nexport const defaultFontFamily = `'Helvetica Neue', Helvetica, Arial, sans-serif`;\n\n// Font Sizes\nexport const defaultFontSize = '2rem';\n\n// Borders\nexport const dividerBorder = `0.2rem solid #d5d5d5`;\nexport const issueBorder = `0.1rem solid ${borderColor}`;\n","import styled from 'styled-components';\nimport {\n  defaultButtonTextColor,\n  defaultButtonBackgroundColor,\n} from '../../../utils/css/defaultStyles';\n\nconst BasicButton = styled.button`\n  box-shadow: none;\n  margin: 0;\n  color: ${defaultButtonTextColor};\n  background-color: ${defaultButtonBackgroundColor};\n  border: none;\n  border-radius: 5px;\n  width: 100%;\n\n  &:active {\n    box-shadow: none;\n  }\n\n  &:hover {\n    cursor: pointer;\n  }\n\n  &:focus {\n    outline: none;\n  }\n`;\n\nexport default BasicButton;\n","import { MenuButton } from './styledComponents';\n\nexport default MenuButton;\n","import styled from 'styled-components';\nimport { BaseButton } from '../';\nimport {\n  googleLoginButtonBackgroundColor,\n  defaultButtonBackgroundColor,\n} from '../../../../utils/css/defaultStyles';\n\nexport const MenuButton = styled(BaseButton)`\n  height: 40px;\n  background-color: ${(props) =>\n    props.google\n      ? googleLoginButtonBackgroundColor\n      : defaultButtonBackgroundColor};\n  padding: 8px;\n  font-size: 16px;\n  text-transform: capitalize;\n  margin-top: 15px;\n`;\n","import { LandingSignUpButton } from './styledComponents';\n\nexport default LandingSignUpButton;\n","import styled from 'styled-components';\nimport { BaseButton } from '../';\n\nexport const LandingSignUpButton = styled(BaseButton)`\n  height: 40px;\n  padding: 8px;\n  font-size: 16px;\n  text-transform: capitalize;\n  padding-left: 23px;\n  padding-right: 23px;\n  width: unset;\n`;\n","import styled from 'styled-components';\nimport { BaseButton } from '../';\n\nexport const NewDesignButtonStyled = styled(BaseButton)`\n  width: calc(100% - 32px);\n  background-color: #000000;\n  height: 50px;\n  font-size: 16px;\n  margin-bottom: 40px;\n  padding: 0;\n  margin-left: 16px;\n  margin-right: 16px;\n`;\n","import React from 'react';\nimport { NewDesignButtonStyled } from './styledComponents';\nimport { useHistory } from 'react-router-dom';\n\nfunction NewDesignButton() {\n  const history = useHistory();\n\n  const handleClick = () => {\n    history.push(`/designer`);\n  };\n  return (\n    <NewDesignButtonStyled onClick={() => handleClick()}>\n      N E W &nbsp; D E S I G N\n    </NewDesignButtonStyled>\n  );\n}\n\nexport default NewDesignButton;\n","import styled from 'styled-components';\n\nexport const SplashButton = styled.button`\n  border: none;\n  color: #ffffff;\n  border-radius: 5px;\n  background-color: #000000;\n  height: 44px;\n  font-size: 16px;\n  width: unset;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 25px;\n  padding-right: 25px;\n`;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { SplashButton } from './styledComponents';\n\nfunction SplashDesignButton() {\n  const history = useHistory();\n\n  const handleClick = () => {\n    history.push(`/designer`);\n  };\n  return (\n    <SplashButton onClick={() => handleClick()}>\n      S T A R T &nbsp; D E S I G N I N G\n    </SplashButton>\n  );\n}\n\nexport default SplashDesignButton;\n","import styled from 'styled-components';\n\nexport const FeaturedDesignCardContainer = styled.div`\n  margin-left: 8px;\n  margin-right: 8px;\n  margin-top: 0px;\n  flex: 0 0 auto;\n`;\n\nexport const FeaturedDesignCardImage = styled.div`\n  width: 100%;\n  background-color: #f0f0f0;\n  border-radius: 8px;\n\n  img {\n    width: 100%;\n  }\n`;\n\nexport const FeaturedDesignCardTitle = styled.p`\n  color: #000000;\n  font-size: 22px;\n  margin-top: 9px;\n  margin-bottom: 0px;\n  margin-left: 5px;\n`;\n\nexport const FeaturedDesignCardModel = styled.p`\n  color: #000000;\n  font-size: 14px;\n  margin-top: 6px;\n  margin-bottom: 0px;\n  margin-left: 5px;\n`;\n\nexport const FeaturedDesignCardAuthor = styled.p`\n  color: #777;\n  font-size: 14px;\n  margin-top: 6px;\n  margin-bottom: 0px;\n  margin-left: 5px;\n`;\n","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport {\n  FeaturedDesignCardContainer,\n  FeaturedDesignCardImage,\n  FeaturedDesignCardTitle,\n  FeaturedDesignCardModel,\n  FeaturedDesignCardAuthor,\n} from './styledComponents';\n\nfunction FeaturedDesignCard({ props }) {\n  const { _id, title, configId, author, screenshot } = props;\n\n  const history = useHistory();\n\n  const handleClick = () => {\n    history.push(`/designer/${_id}`);\n  };\n\n  return (\n    <FeaturedDesignCardContainer onClick={() => handleClick()}>\n      <FeaturedDesignCardImage>\n        <img src={`api/assets/images/${screenshot}`} alt=\"feature-design\" />\n      </FeaturedDesignCardImage>\n\n      <FeaturedDesignCardTitle>{title}</FeaturedDesignCardTitle>\n      <FeaturedDesignCardModel>{configId.modelName}</FeaturedDesignCardModel>\n      <FeaturedDesignCardAuthor>{author.firstName}</FeaturedDesignCardAuthor>\n    </FeaturedDesignCardContainer>\n  );\n}\n\nexport default FeaturedDesignCard;\n","import styled from 'styled-components';\nimport { mediaQueriesByDevice } from '../../../utils/css/breakpoints';\nconst { desktop } = mediaQueriesByDevice;\n\nexport const LandingSplashContainer = styled.div`\n  display: flex;\n  flex-direction: column-reverse;\n  height: unset;\n  margin-bottom: 35px;\n\n  ${desktop} {\n    height: 65vh;\n    margin-top: 12vh;\n    flex-direction: unset;\n    max-width: 1100px;\n    margin-left: auto;\n    margin-right: auto;\n  }\n`;\n\nexport const SplashLeft = styled.div`\n  margin-top: 0px;\n  margin-bottom: 30px;\n  padding-right: 0px;\n  text-align: center;\n  margin-left: 5%;\n  margin-right: 5%;\n  width: 90%;\n  height: 100%;\n\n  ${desktop} {\n    margin-top: unset;\n    margin-bottom: unset;\n    padding-right: unset;\n    text-align: unset;\n    width: 100%;\n  }\n`;\n\nexport const SplashHeader = styled.p`\n  font-size: 30px;\n  margin-top: 30px;\n  font-weight: bold;\n  margin: 0;\n  margin-bottom: 25px;\n\n  ${desktop} {\n    font-size: 40px;\n    margin-top: 70px;\n  }\n`;\n\nexport const SplashPara = styled.p`\n  font-size: 17px;\n  line-height: 150%;\n  margin: 0;\n  margin-bottom: 30px;\n`;\n\nexport const SplashRight = styled.div`\n  width: 80%;\n  margin-left: 10%;\n  margin-right: 10%;\n  margin-top: 70px;\n  margin-bottom: 60px;\n  padding-left: 1px;\n  height: 100%;\n\n  ${desktop} {\n    width: 100%;\n    margin: unset;\n    margin-right: 5%;\n  }\n`;\n\nexport const SplashImage = styled.img`\n  max-width: 100%;\n  max-height: 100%;\n`;\n","import React from 'react';\nimport { SplashDesignButton } from '../Buttons';\nimport {\n  LandingSplashContainer,\n  SplashLeft,\n  SplashHeader,\n  SplashPara,\n  SplashRight,\n  SplashImage,\n} from './styledComponents';\n\nfunction LandingSplash() {\n  return (\n    <LandingSplashContainer>\n      <SplashLeft>\n        <SplashHeader>Create Something New</SplashHeader>\n        <SplashPara>\n          Sole Composer gives you the ability to design and visualize\n          one&#8209;of&#8209;a&#8209;kind sneakers.\n        </SplashPara>\n        <SplashDesignButton />\n      </SplashLeft>\n      <SplashRight>\n        <SplashImage src=\"/sole-cover.png\" />\n      </SplashRight>\n    </LandingSplashContainer>\n  );\n}\n\nexport default LandingSplash;\n","import styled from 'styled-components';\nimport { mediaQueriesByDevice } from '../../../utils/css/breakpoints';\nconst { desktop } = mediaQueriesByDevice;\n\nexport const MyDesignsContainer = styled.div`\n  width: 100%;\n  margin-bottom: 24px;\n`;\n\nexport const MyDesignsGrid = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 3px;\n  margin: 3px;\n\n  ${desktop} {\n    grid-template-columns: 1fr 1fr 1fr;\n    margin: 16px;\n  }\n`;\n\nexport const DesignTile = styled.div`\n  width: 100%;\n  background-color: #f0f0f0;\n\n  img {\n    width: 100%;\n  }\n`;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport {\n  MyDesignsContainer,\n  MyDesignsGrid,\n  DesignTile,\n} from './styledComponents';\n\nfunction MyDesigns({ myDesigns }) {\n  return (\n    <MyDesignsContainer>\n      <MyDesignsGrid>\n        {myDesigns.map((design, key) => (\n          <Link\n            key={key}\n            to={`/designer/${design._id}`}\n            className=\"link-to-designer\"\n          >\n            <DesignTile>\n              <img\n                src={`/api/assets/images/${design.screenshot}`}\n                alt=\"my-design-preview\"\n              />\n            </DesignTile>\n          </Link>\n        ))}\n      </MyDesignsGrid>\n    </MyDesignsContainer>\n  );\n}\n\nexport default MyDesigns;\n","import React, { useState, useEffect, useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport AliceCarousel from 'react-alice-carousel';\nimport 'react-alice-carousel/lib/alice-carousel.css';\nimport './Carousel.css';\nimport UserProvider from '../../UserProvider';\nimport { simpleFetch } from '../../utils/fetchHelpers';\nimport {\n  LandingContainer,\n  LandingContent,\n  LandingHeader,\n  FeaturedDesignsContainer,\n  LandingSignUpContainer,\n  LandingHeaderTitle,\n  LandingSectionLabel,\n  LandingSpacing,\n  HeaderSpacing,\n} from './styledComponents';\nimport { NewDesignButton } from '../../components/landingui/Buttons';\nimport { LandingSignUpButton } from '../../components/landingui/Buttons';\nimport { FeaturedDesignCard } from '../../components/landingui/Cards';\nimport LandingSplash from '../../components/landingui/LandingSplash';\nimport MyDesigns from '../../components/landingui/MyDesigns';\n\nfunction Landing() {\n  const userData = useContext(UserProvider.context);\n  const [featured, setFeatured] = useState();\n  const [myDesigns, setMyDesigns] = useState();\n\n  useEffect(() => {\n    simpleFetch('/api/featured', 'GET')\n      .then((res) => res.json())\n      .then((data) => setFeatured(data));\n\n    if (userData) {\n      simpleFetch('/api/outlines/mydesigns', 'GET')\n        .then((res) => res.json())\n        .then((data) => setMyDesigns(data));\n    }\n  }, [userData]);\n\n  let items = featured\n    ? featured.featured.map((design, key) => (\n        <FeaturedDesignCard props={design} userData={userData} key={key} />\n      ))\n    : null;\n\n  const responsive = {\n    0: { items: 1.7 },\n    700: { items: 3 },\n  };\n\n  return (\n    <LandingContainer>\n      <LandingHeader>\n        <LandingHeaderTitle>\n          <strong>Sole</strong> Composer\n        </LandingHeaderTitle>\n\n        {userData ? (\n          <Link to=\"/profile\">{userData.firstName}</Link>\n        ) : (\n          <Link to=\"/login\">Login</Link>\n        )}\n      </LandingHeader>\n\n      <HeaderSpacing />\n\n      {!userData && <LandingSplash />}\n\n      <LandingContent>\n        {featured && (\n          <FeaturedDesignsContainer>\n            <LandingSectionLabel>FEATURED</LandingSectionLabel>\n            <AliceCarousel responsive={responsive} items={items} />\n          </FeaturedDesignsContainer>\n        )}\n\n        {userData && <NewDesignButton />}\n\n        {!userData && (\n          <LandingSignUpContainer>\n            <Link to=\"/login\">\n              <LandingSignUpButton>sign up</LandingSignUpButton>\n            </Link>\n          </LandingSignUpContainer>\n        )}\n\n        {myDesigns && <LandingSectionLabel>MY DESIGNS</LandingSectionLabel>}\n        {myDesigns && <MyDesigns myDesigns={myDesigns} />}\n      </LandingContent>\n    </LandingContainer>\n  );\n}\n\nexport default Landing;\n","import styled from 'styled-components';\n\nexport const LeftInterfaceContainer = styled.div`\n  background-color: #212121;\n  border-radius: 9px;\n`;\n\nexport const InterfaceTitle = styled.p`\n  font-size: 18px;\n  margin: 10px 14px;\n  color: #ffffff;\n`;\n\nexport const InterfaceDoubleButtons = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  column-gap: 6px;\n  row-gap: 6px;\n  margin: 6px;\n`;\n\nexport const InterfaceSingleButtons = styled.div`\n  display: grid;\n  grid-template-columns: 1fr;\n  row-gap: 6px;\n  margin: 6px;\n`;\n\nexport const InterfaceTitleAndIcon = styled.div`\n  display: flex;\n  justify-content: space-between;\n  margin: 6px;\n`;\n\nexport const InterfaceTitleBox = styled.div`\n  height: 46px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`;\n\nexport const InterfaceButtonBox = styled.div`\n  width: 100%;\n  min-width: 0;\n  box-sizing: border-box;\n  border: 1px solid #343434;\n  border-radius: 6px;\n  background-color: #000000;\n  padding: 3px;\n`;\n\nexport const InterfaceButton = styled.button`\n  box-sizing: border-box;\n  border: 1px solid #343434;\n  border-radius: 3px;\n  width: 100%;\n  height: 38px;\n  background-color: #212121;\n  color: ${(props) => (props.active ? '#ffffff' : '#bbbbbb')};\n  padding: 0px;\n  font-size: 16px;\n\n  &:focus {\n    outline: none;\n  }\n`;\n\n// Icons - Square Buttons\nexport const InterfaceIconButtonBox = styled.div`\n  box-sizing: border-box;\n  border: 1px solid #343434;\n  border-radius: 6px;\n  background-color: #000000;\n  padding: 3px;\n  margin-left: 6px;\n`;\n\nexport const InterfaceIconButton = styled.button`\n  box-sizing: border-box;\n  border: 1px solid;\n  border-color: ${(props) => (props.active ? '#343434' : '#000000')};\n  border-radius: 3px;\n  width: 38px;\n  height: 38px;\n  background-color: ${(props) => (props.active ? '#212121' : '#000000')};\n  padding: 0px;\n  font-size: 16px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  svg {\n    color: ${(props) => (props.active ? '#ffffff' : '#343434')};\n  }\n\n  &:focus {\n    outline: none;\n  }\n`;\n","import styled from 'styled-components';\n\nexport const LoadingSpinnerContainer = styled.div`\n  background-color: #ffffff;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 1;\n`;\n\nexport const LoadingSpinnerIcon = styled.div`\n  position: relative;\n  left: 50%;\n  top: 50%;\n  width: 150px;\n  height: 150px;\n  margin: -75px 0 0 -75px;\n  border: 16px solid #e9e9e9;\n  border-top: 16px solid #333;\n  border-radius: 50%;\n  animation: spin 2s linear infinite;\n\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n`;\n","import React from 'react';\nimport {\n  LoadingSpinnerContainer,\n  LoadingSpinnerIcon,\n} from './styledComponents';\n\nfunction LoadingSpinner() {\n  return (\n    <LoadingSpinnerContainer>\n      <LoadingSpinnerIcon></LoadingSpinnerIcon>\n    </LoadingSpinnerContainer>\n  );\n}\n\nexport default LoadingSpinner;\n","import styled from 'styled-components';\n\nexport const CurrentColorsScroll = styled.div`\n  width: 100%;\n  min-width: 0;\n  display: flex;\n  flex: 0 1 auto;\n  overflow: auto;\n  border-radius: 4px;\n  -webkit-overflow-scrolling: touch;\n  -ms-overflow-style: -ms-autohiding-scrollbar;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n`;\n\nexport const CurrentColorsOption = styled.button`\n  width: 38px;\n  height: 38px;\n  margin-right: 3px;\n  border-radius: 4px;\n  flex: 0 0 auto;\n  background-color: ${(props) => props.color};\n  border: none;\n\n  &:last-child {\n    margin-right: 0px;\n  }\n\n  &:focus {\n    outline: none;\n  }\n`;\n","import React from 'react';\nimport { CurrentColorsScroll, CurrentColorsOption } from './styledComponents';\nimport { InterfaceButtonBox } from '../../../designerui';\n\nfunction CurrentColors({ colorsArray, handleColorChange }) {\n  return (\n    <InterfaceButtonBox>\n      <CurrentColorsScroll>\n        {colorsArray.map((color, i) => (\n          <CurrentColorsOption\n            color={color}\n            key={i}\n            onClick={() => handleColorChange(color)}\n          ></CurrentColorsOption>\n        ))}\n      </CurrentColorsScroll>\n    </InterfaceButtonBox>\n  );\n}\n\nexport default CurrentColors;\n","import styled from 'styled-components';\n\nexport const CustomColorContainer = styled.div``;\n\nexport const HueContainer = styled.div`\n  height: 20px;\n  position: relative;\n  overflow: hidden;\n  border: 1px solid #343434;\n  border-radius: 4px;\n`;\n\nexport const SaturationContainer = styled.div`\n  width: 100%;\n  height: 120px;\n  position: relative;\n  overflow: hidden;\n  border: 1px solid #343434;\n  border-radius: 4px;\n`;\n\nexport const CustomColorInputContainer = styled.div`\n  border-radius: 4px;\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  min-width: 0;\n\n  input {\n    width: 100%;\n    height: 38px;\n    margin-right: 3px;\n    border: 1px solid #ffffff;\n    border-radius: 4px;\n    font-size: 14px;\n    padding-left: 8px;\n    padding-right: 0px;\n    box-shadow: none;\n    -webkit-appearance: none;\n    -webkit-border-radius: 4px;\n  }\n`;\n\nexport const CustomColorInputSwatch = styled.div`\n  flex: 0 0 auto;\n  width: 38px;\n  height: 38px;\n  margin-left: 3px;\n  border-radius: 4px;\n  background-color: ${(props) => props.color};\n`;\n","import styled from 'styled-components';\n\nexport const CustomColorPointer = styled.div`\n  width: 18px;\n  height: 18px;\n  border-radius: 50%;\n  border: #ffffff solid 2px;\n  transform: translate(-9px, -9px);\n`;\n\nexport const CustomColorPointerOffset = styled.div`\n  width: 18px;\n  height: 18px;\n  border-radius: 50%;\n  border: #ffffff solid 2px;\n  transform: translate(-9px, 0px);\n`;\n","import React from 'react';\nimport { CustomPicker } from 'react-color';\nimport CurrentColors from './CurrentColors';\nimport {\n  EditableInput,\n  Hue,\n  Saturation,\n} from 'react-color/lib/components/common';\nimport {\n  CustomColorContainer,\n  HueContainer,\n  SaturationContainer,\n  CustomColorInputContainer,\n  CustomColorInputSwatch,\n} from './styledComponents';\nimport {\n  CustomColorPointer,\n  CustomColorPointerOffset,\n} from './CustomColorPointers';\nimport {\n  InterfaceSingleButtons,\n  InterfaceDoubleButtons,\n  InterfaceButton,\n  InterfaceButtonBox,\n} from '../';\n\nexport const CustomColor = ({\n  hex,\n  hsl,\n  hsv,\n  onChange,\n  handleColorChange,\n  colorsArray,\n}) => {\n  return (\n    <CustomColorContainer>\n      <InterfaceSingleButtons>\n        <InterfaceButtonBox>\n          <HueContainer>\n            <Hue\n              hsl={hsl}\n              onChange={onChange}\n              pointer={CustomColorPointerOffset}\n            />\n          </HueContainer>\n        </InterfaceButtonBox>\n\n        <InterfaceButtonBox>\n          <SaturationContainer>\n            <Saturation\n              hsl={hsl}\n              hsv={hsv}\n              onChange={onChange}\n              pointer={CustomColorPointer}\n            />\n          </SaturationContainer>\n        </InterfaceButtonBox>\n\n        <CurrentColors\n          colorsArray={colorsArray}\n          handleColorChange={handleColorChange}\n        />\n      </InterfaceSingleButtons>\n\n      <InterfaceDoubleButtons>\n        <InterfaceButtonBox>\n          <InterfaceButton\n            active\n            onClick={() =>\n              handleColorChange(\n                '#' +\n                  (\n                    '00000' + ((Math.random() * (1 << 24)) | 0).toString(16)\n                  ).slice(-6)\n              )\n            }\n          >\n            Random\n          </InterfaceButton>\n        </InterfaceButtonBox>\n\n        <InterfaceButtonBox>\n          <CustomColorInputContainer>\n            <EditableInput\n              className=\"editable-input\"\n              value={hex}\n              onChange={onChange}\n            />\n            <CustomColorInputSwatch color={hex}></CustomColorInputSwatch>\n          </CustomColorInputContainer>\n        </InterfaceButtonBox>\n      </InterfaceDoubleButtons>\n    </CustomColorContainer>\n  );\n};\n\nexport default CustomPicker(CustomColor);\n","import styled from 'styled-components';\nimport { mediaQueriesByDevice } from '../../utils/css/breakpoints';\nconst { desktop } = mediaQueriesByDevice;\n\nexport const SceneContainer = styled.div`\n  width: 100vw;\n  height: 100vw;\n  color: #000;\n  flex: 0 0 auto;\n  overflow: hidden;\n\n  ${desktop} {\n    height: 100vh;\n    width: 100vh;\n    margin-left: 160px;\n  }\n`;\n","import React, { useRef, Suspense } from 'react';\nimport { Canvas, useLoader, useThree } from '@react-three/fiber';\nimport { useGLTF, OrbitControls } from '@react-three/drei';\nimport * as THREE from 'three';\nimport { LoadingSpinner } from '../designerui';\nimport { partLookup } from './partLookup';\nimport { SceneContainer } from './styledComponents';\n\nfunction Shoe({\n  design,\n  texture,\n  right,\n  setCurrentPart,\n  setCurrentShoe,\n  alone,\n  setLayersView,\n  setCurrentLayer,\n  setView,\n  redMapCanvas,\n}) {\n  const group = useRef();\n  const { nodes } = useGLTF(\n    `/api/assets/models/${design.configData.source.model}`\n  );\n  const aoMap = useLoader(\n    THREE.TextureLoader,\n    `/api/assets/designimages/${\n      design.configData.source[right ? 'aoMapRight' : 'aoMapLeft']\n    }`\n  );\n  aoMap.flipY = false;\n\n  let x;\n  let y;\n  const pointerDown = (e) => {\n    e.stopPropagation();\n    x = e.clientX;\n    y = e.clientY;\n  };\n\n  const pointerUp = (e) => {\n    e.stopPropagation();\n    if (\n      e.clientX > x - 5 &&\n      e.clientX < x + 5 &&\n      e.clientY > y - 5 &&\n      e.clientY < y + 5\n    ) {\n      clickShoe(e);\n    }\n  };\n\n  const clickShoe = (e) => {\n    if (e.delta < 10) {\n      const x = Math.floor(e.uv.x * 1000);\n      const y = Math.floor(e.uv.y * 1000);\n      const colorValues = redMapCanvas\n        .getContext('2d')\n        .getImageData(x, y, 1, 1).data;\n      const part = partLookup(colorValues[0]);\n      if (part || part === 0) {\n        setLayersView('LayersMain');\n        setCurrentLayer(-1);\n        setView('Layers');\n        setCurrentPart(part);\n        setCurrentShoe(right ? 'right' : 'left');\n      }\n    }\n  };\n\n  return (\n    <group\n      ref={group}\n      dispose={null}\n      onPointerDown={(e) => pointerDown(e)}\n      onPointerUp={(e) => pointerUp(e)}\n    >\n      <mesh\n        geometry={nodes.af1.geometry}\n        rotation={[Math.PI / 2, 0, Math.PI / 2]}\n        position={[0, -1, alone ? 0 : right ? 1.3 : -1.3]}\n        scale={[right ? 0.35 : -0.35, 0.35, 0.35]}\n      >\n        <meshStandardMaterial aoMap={aoMap} map={texture} />\n      </mesh>\n    </group>\n  );\n}\n\nconst Scene = ({\n  design,\n  rightTexture,\n  leftTexture,\n  texturesLoaded,\n  setCurrentPart,\n  setCurrentShoe,\n  shoeVisibility,\n  setLayersView,\n  setCurrentLayer,\n  setView,\n  redMapCanvas,\n  cameraReset,\n  setCameraReset,\n}) => {\n  function CameraRig({ reset }) {\n    if (reset) {\n      const state = useThree();\n      state.camera.position.set(5.5, 1.5, 5.5);\n      setCameraReset(false);\n    }\n    return null;\n  }\n\n  return (\n    <SceneContainer id=\"scene-container-id\">\n      <Canvas\n        camera={{ fov: 45 }}\n        linear\n        dpr={3}\n        gl={{ preserveDrawingBuffer: true }}\n      >\n        <CameraRig reset={cameraReset} />\n        <ambientLight />\n        <Suspense fallback={null}>\n          {shoeVisibility.right && (\n            <Shoe\n              right\n              design={design}\n              texture={rightTexture}\n              setCurrentPart={setCurrentPart}\n              setCurrentShoe={setCurrentShoe}\n              alone={!shoeVisibility.left}\n              setLayersView={setLayersView}\n              setCurrentLayer={setCurrentLayer}\n              setView={setView}\n              redMapCanvas={redMapCanvas}\n            />\n          )}\n          {shoeVisibility.left && (\n            <Shoe\n              design={design}\n              texture={leftTexture}\n              setCurrentPart={setCurrentPart}\n              setCurrentShoe={setCurrentShoe}\n              alone={!shoeVisibility.right}\n              setLayersView={setLayersView}\n              setCurrentLayer={setCurrentLayer}\n              setView={setView}\n              redMapCanvas={redMapCanvas}\n            />\n          )}\n        </Suspense>\n        <OrbitControls\n          minPolarAngle={Math.PI / 4}\n          maxPolarAngle={(Math.PI * 3) / 4}\n          minDistance={4}\n          maxDistance={12}\n          enablePan={false}\n          enableDamping={true}\n        />\n      </Canvas>\n      {!texturesLoaded && <LoadingSpinner />}\n    </SceneContainer>\n  );\n};\n\nexport default Scene;\n","export const partLookup = (value) => {\n  switch (value) {\n    case 255:\n      return 4;\n\n    case 220:\n      return 2;\n\n    case 210:\n      return 0;\n\n    case 200:\n      return 5;\n\n    case 190:\n      return 3;\n\n    case 180:\n      return 1;\n\n    case 170:\n      return 16;\n\n    case 160:\n      return 15;\n\n    case 150:\n      return 14;\n\n    case 140:\n      return 9;\n\n    case 130:\n      return 13;\n\n    case 120:\n      return 11;\n\n    case 110:\n      return 12;\n\n    case 100:\n      return 8;\n\n    case 90:\n      return 10;\n\n    case 80:\n      return 7;\n\n    case 70:\n      return 6;\n\n    case 60:\n      return 17;\n    default:\n  }\n};\n","import styled from 'styled-components';\nimport { mediaQueriesByDevice } from '../../utils/css/breakpoints';\nconst { desktop } = mediaQueriesByDevice;\n\nexport const InterfaceContainer = styled.div`\n  position: fixed;\n  bottom: 0;\n  width: 100%;\n  touch-action: none;\n  display: flex;\n  padding-bottom: 30px;\n\n  ${desktop} {\n    right: 0;\n    width: 375px;\n  }\n`;\n\nexport const InterfaceLeft = styled.div`\n  width: 0px;\n  flex: 1 0 auto;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  margin-left: 16px;\n`;\n\nexport const InterfaceRight = styled.div`\n  width: 70px;\n  flex: 0 0 auto;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n`;\n","import styled from 'styled-components';\n\nexport const NavContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 280px;\n  justify-content: space-between;\n`;\n\nexport const NavOption = styled.div`\n  width: 40px;\n  height: 40px;\n  margin: 15px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  background-color: ${(props) => (props.selected ? '#212121' : 'unset')};\n  border-radius: 6px;\n\n  svg {\n    font-size: 22px;\n    color: ${(props) => (props.selected ? '#ffffff' : '#212121')};\n  }\n`;\n","import React from 'react';\nimport { FaLayerGroup, FaBars, FaEye, FaPaintRoller } from 'react-icons/fa';\nimport { NavContainer, NavOption } from './styledComponents';\n\nfunction Nav({ handleViewChange, view }) {\n  const viewManager = (viewName) => {\n    if (view === viewName) {\n      handleViewChange('DesignInfo');\n    } else {\n      handleViewChange(viewName);\n    }\n  };\n\n  return (\n    <NavContainer>\n      <NavOption\n        selected={view === 'Layers'}\n        onClick={() => viewManager('Layers')}\n      >\n        <FaLayerGroup />\n      </NavOption>\n      <NavOption\n        selected={view === 'ChangeBaseColor'}\n        onClick={() => viewManager('ChangeBaseColor')}\n      >\n        <FaPaintRoller />\n      </NavOption>\n      <NavOption\n        selected={view === 'DesignVisibility'}\n        onClick={() => viewManager('DesignVisibility')}\n      >\n        <FaEye />\n      </NavOption>\n      <NavOption\n        selected={view === 'DesignMenu' || view === 'ChangeDesignName'}\n        onClick={() => viewManager('DesignMenu')}\n      >\n        <FaBars />\n      </NavOption>\n    </NavContainer>\n  );\n}\n\nexport default Nav;\n","import styled from 'styled-components';\n\nexport const InfoContainer = styled.div`\n  padding-bottom: 10px;\n  padding-left: 20px;\n`;\n\nexport const InfoTitle = styled.p`\n  margin: 5px;\n  font-size: 26px;\n  color: #212121;\n`;\n\nexport const InfoModel = styled.p`\n  margin: 5px;\n  font-size: 16px;\n  color: #212121;\n`;\n","import React from 'react';\nimport { InfoContainer, InfoTitle, InfoModel } from './styledComponents';\n\nfunction DesignInfo({ design }) {\n  return (\n    <InfoContainer>\n      <InfoTitle>{design.title}</InfoTitle>\n      <InfoModel>{design.modelName}</InfoModel>\n    </InfoContainer>\n  );\n}\n\nexport default DesignInfo;\n","export const uploadImage = (file, isNew) => {\n  const formData = new FormData();\n  if (isNew) {\n    formData.append('image', file, 'newImage');\n  } else {\n    formData.append('image', file);\n  }\n\n  return fetch('/api/assets/uploadimage', {\n    method: 'POST',\n    body: formData,\n  }).then((res) => res.json());\n};\n","export const takeScreenshot = (fileName) => {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      const threeCanvas = document.getElementById('scene-container-id')\n        .firstElementChild.firstElementChild;\n      const newCanvas = document.createElement('canvas');\n      newCanvas.width = 1024;\n      newCanvas.height = 1024;\n      const newCanvasCtx = newCanvas.getContext('2d');\n      newCanvasCtx.drawImage(threeCanvas, 0, 0, 1024, 1024);\n\n      const dataUrl = newCanvas.toDataURL('image/png');\n\n      var blobBin = atob(dataUrl.split(',')[1]);\n      var array = [];\n      for (var i = 0; i < blobBin.length; i++) {\n        array.push(blobBin.charCodeAt(i));\n      }\n      var blob = new Blob([new Uint8Array(array)], { type: 'image/png' });\n      blob.name = 'theBlob';\n      blob.lastModifiedDate = new Date();\n      var file = new File([blob], fileName, { type: 'image/png' });\n      resolve(file);\n    }, 500);\n  });\n};\n","export const convertAwsLink = (url) => {\n  let awsFileName = url.split('/');\n  awsFileName = awsFileName[awsFileName.length - 1];\n  return awsFileName;\n};\n","import React, { useState } from 'react';\nimport {\n  LeftInterfaceContainer,\n  InterfaceDoubleButtons,\n  InterfaceButtonBox,\n  InterfaceButton,\n  InterfaceTitleAndIcon,\n  InterfaceIconButtonBox,\n  InterfaceIconButton,\n  InterfaceTitleBox,\n  InterfaceTitle,\n} from '../../designerui';\nimport { Link } from 'react-router-dom';\nimport { uploadImage } from '../../../utils/uploadImage';\nimport { takeScreenshot } from '../../../utils/takeScreenshot';\nimport { convertAwsLink } from '../../../utils/convertAwsLink';\nimport { designFetch } from '../../../utils/fetchHelpers';\nimport { FaPen } from 'react-icons/fa';\nimport { LoadingSpinner } from '../../designerui';\n\nfunction DesignMenu({\n  handleViewChange,\n  design,\n  canSave,\n  setCanSave,\n  userData,\n  setCameraReset,\n}) {\n  const [loading, setLoading] = useState(false);\n  let userId;\n  if (typeof userData === 'object' && '_id' in userData) {\n    userId = userData._id;\n  }\n\n  const handleSaveDesign = async () => {\n    if (userData) {\n      setCanSave(false);\n      // if new design\n      if (!design.author) {\n        setLoading(true);\n        setCameraReset(true);\n        const file = await takeScreenshot('newImage');\n        uploadImage(file, true).then((data) => {\n          const imageName = convertAwsLink(data.image);\n          const body = {\n            author: userData._id,\n            title: design.title,\n            screenshot: imageName,\n            configId: '5f925589cc6d6c16e44d5dfd',\n            outlineData: design.outlineData,\n          };\n          designFetch('/api/outlines', 'POST', body)\n            .then((res) => res.json())\n            .then((data) => {\n              window.location.href = `/designer/${data._id}`;\n            });\n        });\n      }\n      // if design is mine\n      else if (design.author === userData._id) {\n        setLoading(true);\n        setCameraReset(true);\n        const file = await takeScreenshot(design.screenshot);\n        uploadImage(file, false).then((data) => {\n          const imageName = convertAwsLink(data.image);\n          const body = {\n            author: design.author,\n            title: design.title,\n            screenshot: imageName,\n            configId: '5f925589cc6d6c16e44d5dfd',\n            outlineData: design.outlineData,\n          };\n          designFetch(`/api/outlines/${design._id}`, 'PUT', body);\n          setLoading(false);\n        });\n      }\n      // if design is not mine\n      else {\n        setLoading(true);\n        setCameraReset(true);\n        const file = await takeScreenshot(design.screenshot);\n        uploadImage(file, true).then((data) => {\n          const imageName = convertAwsLink(data.image);\n          const body = {\n            author: userData._id,\n            title: design.title,\n            screenshot: imageName,\n            configId: '5f925589cc6d6c16e44d5dfd',\n            outlineData: design.outlineData,\n          };\n          designFetch(`/api/outlines/`, 'POST', body)\n            .then((res) => res.json())\n            .then((data) => {\n              window.location.href = `/designer/${data._id}`;\n            });\n        });\n      }\n    }\n  };\n\n  const handleDeleteDesign = () => {\n    if (userData) {\n      if (userData._id === design.author) {\n        fetch(`/api/outlines/${design._id}`, {\n          method: 'DELETE',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n        });\n        window.location.href = '/';\n      }\n    }\n  };\n\n  if (loading) {\n    return (\n      <LeftInterfaceContainer>\n        <LoadingSpinner />\n      </LeftInterfaceContainer>\n    );\n  } else {\n    return (\n      <LeftInterfaceContainer>\n        <InterfaceTitleAndIcon>\n          <InterfaceTitleBox>\n            <InterfaceTitle>{design.title}</InterfaceTitle>\n          </InterfaceTitleBox>\n          <InterfaceIconButtonBox>\n            <InterfaceIconButton\n              active\n              onClick={() => handleViewChange('ChangeDesignName')}\n            >\n              <FaPen />\n            </InterfaceIconButton>\n          </InterfaceIconButtonBox>\n        </InterfaceTitleAndIcon>\n\n        <InterfaceDoubleButtons>\n          <InterfaceButtonBox onClick={() => setCameraReset(true)}>\n            <InterfaceButton active>Reset Camera</InterfaceButton>\n          </InterfaceButtonBox>\n          {canSave && userData ? (\n            <InterfaceButtonBox\n              onClick={() => {\n                handleSaveDesign();\n              }}\n            >\n              <InterfaceButton active>Save</InterfaceButton>\n            </InterfaceButtonBox>\n          ) : (\n            <InterfaceButtonBox>\n              <InterfaceButton>Save</InterfaceButton>\n            </InterfaceButtonBox>\n          )}\n          {userData && design.author === userId ? (\n            <InterfaceButtonBox\n              onClick={() => {\n                handleDeleteDesign();\n              }}\n            >\n              <InterfaceButton active>Delete</InterfaceButton>\n            </InterfaceButtonBox>\n          ) : (\n            <InterfaceButtonBox>\n              <InterfaceButton>Delete</InterfaceButton>\n            </InterfaceButtonBox>\n          )}\n\n          <InterfaceButtonBox>\n            <Link to=\"/\">\n              <InterfaceButton active>Exit</InterfaceButton>\n            </Link>\n          </InterfaceButtonBox>\n        </InterfaceDoubleButtons>\n      </LeftInterfaceContainer>\n    );\n  }\n}\n\nexport default DesignMenu;\n","import styled from 'styled-components';\n\nexport const VisibilityContainer = styled.div`\n  width: 50%;\n  margin-left: auto;\n  background-color: #212121;\n  border-radius: 9px;\n`;\n","import styled from 'styled-components';\n\nexport const ToggleOptionBox = styled.div`\n  border: 1px solid #343434;\n  border-radius: 6px;\n  background-color: #000000;\n  padding: 3px;\n`;\n\nexport const ToggleOptionButton = styled.button`\n  border: ${(props) => (props.active ? '1px solid #343434' : 'unset')};\n  border-radius: 4px;\n  width: 100%;\n  height: 38px;\n  background-color: ${(props) => (props.active ? '#212121' : '#000000')};\n  color: ${(props) => (props.active ? '#ffffff' : '#999999')};\n  padding: 0px;\n  width: 100%;\n  font-size: 16px;\n\n  &:focus {\n    outline: none;\n  }\n`;\n","import React from 'react';\n// import { FaEye } from 'react-icons/fa';\nimport { ToggleOptionBox, ToggleOptionButton } from './styledComponents';\nimport { InterfaceSingleButtons } from '../../../designerui';\n\nfunction Toggle({ setCurrentShoe, visibility, setVisibility }) {\n  const hanleShoeVisibility = (shoe) => {\n    if (shoe === 'left') {\n      if (visibility.left && visibility.right) {\n        let visObj = { ...visibility };\n        visObj.left = false;\n        setVisibility(visObj);\n        setCurrentShoe('right');\n      } else if (visibility.left && !visibility.right) {\n        let visObj = { ...visibility };\n        visObj.left = false;\n        visObj.right = true;\n        setVisibility(visObj);\n        setCurrentShoe('right');\n      } else {\n        let visObj = { ...visibility };\n        visObj.left = true;\n        setVisibility(visObj);\n        setCurrentShoe('left');\n      }\n    } else {\n      if (visibility.left && visibility.right) {\n        let visObj = { ...visibility };\n        visObj.right = false;\n        setVisibility(visObj);\n        setCurrentShoe('left');\n      } else if (!visibility.left && visibility.right) {\n        let visObj = { ...visibility };\n        visObj.right = false;\n        visObj.left = true;\n        setVisibility(visObj);\n        setCurrentShoe('left');\n      } else {\n        let visObj = { ...visibility };\n        visObj.right = true;\n        setVisibility(visObj);\n        setCurrentShoe('right');\n      }\n    }\n  };\n\n  return (\n    <InterfaceSingleButtons>\n      <ToggleOptionBox>\n        <ToggleOptionButton\n          active={visibility.left}\n          onClick={() => {\n            hanleShoeVisibility('left');\n          }}\n        >\n          Left\n        </ToggleOptionButton>\n      </ToggleOptionBox>\n      <ToggleOptionBox>\n        <ToggleOptionButton\n          active={visibility.right}\n          onClick={() => {\n            hanleShoeVisibility('right');\n          }}\n        >\n          Right\n        </ToggleOptionButton>\n      </ToggleOptionBox>\n    </InterfaceSingleButtons>\n  );\n}\n\nexport default Toggle;\n","import React from 'react';\nimport { VisibilityContainer } from './styledComponents';\nimport Toggle from './Toggle';\nimport { LeftInterfaceContainer } from '../../designerui';\n\nfunction Visibility({\n  currentShoe,\n  setCurrentShoe,\n  shoeVisibility,\n  setShoeVisibility,\n}) {\n  return (\n    <VisibilityContainer>\n      <LeftInterfaceContainer>\n        <Toggle\n          currentShoe={currentShoe}\n          setCurrentShoe={setCurrentShoe}\n          visibility={shoeVisibility}\n          setVisibility={setShoeVisibility}\n        />\n      </LeftInterfaceContainer>\n    </VisibilityContainer>\n  );\n}\n\nexport default Visibility;\n","import styled from 'styled-components';\n\nexport const BaseColorRadioBox = styled.div`\n  box-sizing: border-box;\n  background-color: #000000;\n  border-radius: 6px;\n  border: 1px solid #343434;\n  display: flex;\n  flex-direction: row;\n  padding: 3px;\n`;\n\nexport const BaseColorOption = styled.button`\n  box-sizing: border-box;\n  font-size: 16px;\n  color: ${(props) => (props.active ? '#ffffff' : '#999999')};\n  background-color: ${(props) => (props.active ? '#212121' : '#000000')};\n  border: 1px solid;\n  border-radius: 3px;\n  border-color: ${(props) => (props.active ? '#343434' : '#000000')};\n  width: 100%;\n  height: 38px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n","import React, { useState, useEffect } from 'react';\nimport { cloneDeep } from 'lodash';\nimport { ColorPicker } from '../../designerui';\nimport {\n  LeftInterfaceContainer,\n  InterfaceSingleButtons,\n  InterfaceTitleAndIcon,\n  InterfaceTitleBox,\n  InterfaceTitle,\n  InterfaceIconButtonBox,\n  InterfaceIconButton,\n} from '../../designerui';\nimport { BaseColorRadioBox, BaseColorOption } from './styledComponents';\nimport { FaCheck } from 'react-icons/fa';\n\nfunction ChangeBaseColor({\n  design,\n  setDesign,\n  setCanSave,\n  handleUpdateBaseColor,\n  currentShoe,\n  setCurrentShoe,\n}) {\n  const [colorsArray, setColorsArray] = useState([]);\n\n  useEffect(() => {\n    const getDesignColors = () => {\n      const colors = [];\n      for (const property in design.outlineData.parts) {\n        for (const layer in design.outlineData.parts[property].right) {\n          const type = design.outlineData.parts[property].right[layer].type;\n          if (type === 'color' || type === 'mask') {\n            const thisColor =\n              design.outlineData.parts[property].right[layer].color;\n            if (!colors.includes(thisColor)) {\n              colors.push(thisColor);\n            }\n          }\n        }\n        for (const layer in design.outlineData.parts[property].left) {\n          const type = design.outlineData.parts[property].left[layer].type;\n          if (type === 'color' || type === 'mask') {\n            const thisColor =\n              design.outlineData.parts[property].left[layer].color;\n            if (!colors.includes(thisColor)) {\n              colors.push(thisColor);\n            }\n          }\n        }\n      }\n      for (const property in design.outlineData.overlays) {\n        for (const layer in design.outlineData.overlays[property].right) {\n          if (\n            design.outlineData.overlays[property].right[layer].type === 'color'\n          ) {\n            const thisColor =\n              design.outlineData.overlays[property].right[layer].color;\n            if (!colors.includes(thisColor)) {\n              colors.push(thisColor);\n            }\n          }\n        }\n        for (const layer in design.outlineData.overlays[property].left) {\n          if (\n            design.outlineData.overlays[property].left[layer].type === 'color'\n          ) {\n            const thisColor =\n              design.outlineData.overlays[property].left[layer].color;\n            if (!colors.includes(thisColor)) {\n              colors.push(thisColor);\n            }\n          }\n        }\n      }\n\n      const rightBaseColor = design.outlineData.baseColors.right;\n      if (!colors.includes(rightBaseColor)) {\n        colors.push(rightBaseColor);\n      }\n\n      const leftBaseColor = design.outlineData.baseColors.left;\n      if (!colors.includes(leftBaseColor)) {\n        colors.push(leftBaseColor);\n      }\n\n      return colors;\n    };\n\n    setColorsArray(getDesignColors());\n  }, [design, setColorsArray]);\n\n  const initialRadioOption = () => {\n    if (\n      design.outlineData.baseColors.left === design.outlineData.baseColors.right\n    ) {\n      return 'both';\n    } else {\n      return currentShoe;\n    }\n  };\n\n  const [radioOption, setRadioOption] = useState(initialRadioOption());\n  const [baseColor, setBaseColor] = useState(\n    design.outlineData.baseColors[currentShoe]\n  );\n\n  const updateBaseColor = () => {\n    const tempDesign = cloneDeep(design);\n    if (radioOption === 'left') {\n      tempDesign.outlineData.baseColors.left = baseColor;\n    } else if (radioOption === 'right') {\n      tempDesign.outlineData.baseColors.right = baseColor;\n    } else if (radioOption === 'both') {\n      tempDesign.outlineData.baseColors.left = baseColor;\n      tempDesign.outlineData.baseColors.right = baseColor;\n    }\n    setCanSave(true);\n    setDesign(tempDesign);\n    handleUpdateBaseColor(tempDesign);\n  };\n\n  const handleColorChange = (color) => {\n    const newColor = color.hex || color;\n    setBaseColor(newColor);\n  };\n\n  const handleRadioOption = (option) => {\n    setRadioOption(option);\n    if (option === 'right' || option === 'left') {\n      setCurrentShoe(option);\n      setBaseColor(design.outlineData.baseColors[option]);\n    }\n  };\n\n  return (\n    <LeftInterfaceContainer>\n      <InterfaceSingleButtons>\n        <BaseColorRadioBox>\n          <BaseColorOption\n            active={radioOption === 'left'}\n            onClick={() => {\n              handleRadioOption('left');\n            }}\n          >\n            Left\n          </BaseColorOption>\n          <BaseColorOption\n            active={radioOption === 'both'}\n            onClick={() => {\n              handleRadioOption('both');\n            }}\n          >\n            Both\n          </BaseColorOption>\n          <BaseColorOption\n            active={radioOption === 'right'}\n            onClick={() => {\n              handleRadioOption('right');\n            }}\n          >\n            Right\n          </BaseColorOption>\n        </BaseColorRadioBox>\n      </InterfaceSingleButtons>\n\n      <ColorPicker\n        colorsArray={colorsArray}\n        color={baseColor}\n        onChangeComplete={handleColorChange}\n        handleColorChange={handleColorChange}\n      />\n\n      <InterfaceTitleAndIcon>\n        <InterfaceTitleBox>\n          <InterfaceTitle>Base Color</InterfaceTitle>\n        </InterfaceTitleBox>\n        <InterfaceIconButtonBox>\n          <InterfaceIconButton active onClick={() => updateBaseColor()}>\n            <FaCheck />\n          </InterfaceIconButton>\n        </InterfaceIconButtonBox>\n      </InterfaceTitleAndIcon>\n    </LeftInterfaceContainer>\n  );\n}\n\nexport default ChangeBaseColor;\n","export const handleConvertPartName = (partName) => {\n  let converted = partName.split(/(?=[A-Z])/).join(' ');\n  return converted.charAt(0).toUpperCase() + converted.substr(1);\n};\n","import styled from 'styled-components';\n\nexport const PartSelectorContainer = styled.div`\n  display: flex;\n  width: 100%;\n  justify-content: center;\n`;\n\nexport const PartSelectorTitle = styled.button`\n  margin: auto;\n  padding: 12px;\n  border: none;\n  background-color: transparent;\n  color: #ffffff;\n  font-size: 18px;\n\n  &:focus {\n    outline: none;\n  }\n`;\n\nexport const PartSelectorButton = styled.button`\n  font-weight: bold;\n  color: #ffffff;\n  background-color: transparent;\n  border: none;\n  font-size: 1rem;\n  padding-left: 15px;\n  padding-right: 15px;\n\n  &:focus {\n    outline: none;\n  }\n`;\n","import React from 'react';\nimport { FaChevronLeft, FaChevronRight } from 'react-icons/fa';\nimport { handleConvertPartName } from '../../../../../utils/convertPartNames';\nimport {\n  PartSelectorContainer,\n  PartSelectorTitle,\n  PartSelectorButton,\n} from './styledComponents';\n\nfunction PartSelector({\n  design,\n  currentPart,\n  setCurrentPart,\n  setCurrentLayer,\n  setLayersView,\n}) {\n  const numberOfParts = design.configData.partsArray.length;\n  const arrayOfParts = design.configData.partsArray;\n\n  const handlePartChange = (i) => {\n    if (currentPart === 0 && i < 0) {\n      setCurrentPart(numberOfParts - 1);\n    } else if (currentPart === numberOfParts - 1 && i > 0) {\n      setCurrentPart(0);\n    } else {\n      setCurrentPart(currentPart + i);\n    }\n  };\n\n  return (\n    <PartSelectorContainer>\n      <PartSelectorButton\n        onClick={() => {\n          handlePartChange(-1);\n          setCurrentLayer(-1);\n        }}\n      >\n        <FaChevronLeft />\n      </PartSelectorButton>\n      <PartSelectorTitle\n        className=\"partname-button\"\n        onClick={() => {\n          setLayersView('PartList');\n        }}\n      >\n        {handleConvertPartName(arrayOfParts[currentPart])}\n      </PartSelectorTitle>\n      <PartSelectorButton\n        onClick={() => {\n          handlePartChange(1);\n          setCurrentLayer(-1);\n        }}\n      >\n        <FaChevronRight />\n      </PartSelectorButton>\n    </PartSelectorContainer>\n  );\n}\n\nexport default PartSelector;\n","import styled from 'styled-components';\n\nexport const LayersMainContainer = styled.div``;\n\nexport const LayersMainDivider = styled.div`\n  height: 5px;\n  background-color: #000000;\n  border-top: 1px solid #343434;\n  border-bottom: 1px solid #343434;\n  border-right: none;\n  border-left: none;\n`;\n\n// Controls\nexport const LayersMainControlsContainer = styled.div`\n  margin: 6px;\n  display: flex;\n  justify-content: space-between;\n`;\n\nexport const LayersMainControlsLeft = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n`;\n\nexport const LayersMainControlsTitle = styled.p`\n  font-size: 16px;\n  color: #ffffff;\n  margin: 0px;\n  padding-left: 6px;\n`;\n\nexport const LayersMainControlsRight = styled.div`\n  display: flex;\n\n  svg {\n    color: #ffffff;\n  }\n`;\n\n// Layers\nexport const LayersBox = styled.div`\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  height: 150px;\n  margin: 6px;\n  border: 1px solid #343434;\n  border-radius: 6px;\n  background-color: #000000;\n  padding: 3px;\n`;\n\nexport const LayersScrollBox = styled.div`\n  display: flex;\n  flex-direction: column-reverse;\n  justify-content: flex-end;\n  border-radius: 4px;\n`;\n\nexport const AnotherScrollBox = styled.div`\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n`;\n\nexport const LayerItem = styled.div`\n  height: 40px;\n  flex-shrink: 0;\n  display: flex;\n  flex-direction: row;\n  margin-bottom: 3px;\n  font-size: 16px;\n  text-transform: capitalize;\n  overflow: hidden;\n\n  &:first-of-type {\n    margin-bottom: 0;\n  }\n`;\n\nexport const LayerItemRight = styled.div`\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  background-color: ${(props) => (props.active ? '#EEEEEE' : '#212121')};\n  color: ${(props) => (props.active ? '#000000' : '#EEEEEE')};\n  justify-content: center;\n  border: ${(props) =>\n    props.active ? '1px solid #EEEEEE' : '1px solid #343434'};\n  border-radius: 4px;\n`;\n\nexport const LayerItemRightTitle = styled.p`\n  margin: 0px;\n  padding-left: 10px;\n`;\n\nexport const LayerItemLeft = styled.div`\n  width: 40px;\n  margin-right: 3px;\n  display: flex;\n  flex-direction: column;\n  border-radius: 4px;\n  background-color: #212121;\n`;\n","import React from 'react';\nimport { handleConvertPartName } from '../../../../utils/convertPartNames';\nimport { FaChevronUp, FaChevronDown, FaPlus, FaTrash } from 'react-icons/fa';\nimport PartSelector from './PartSelector';\nimport {\n  LayersMainContainer,\n  LayersMainDivider,\n  LayersMainControlsContainer,\n  LayersMainControlsLeft,\n  LayersMainControlsTitle,\n  LayersMainControlsRight,\n  LayersBox,\n  LayersScrollBox,\n  AnotherScrollBox,\n  LayerItem,\n  LayerItemLeft,\n  LayerItemRight,\n  LayerItemRightTitle,\n} from './styledComponents';\nimport {\n  InterfaceIconButtonBox,\n  InterfaceIconButton,\n} from '../../../designerui';\n\nfunction LayersMain({ props }) {\n  const {\n    allLayers,\n    currentPart,\n    design,\n    currentLayer,\n    numberOfLayers,\n    setCurrentLayer,\n    setCurrentPart,\n    setLayersView,\n    handleDeleteLayer,\n    handleEditLayer,\n    handleMoveLayer,\n  } = props;\n\n  // These two functions just double check\n  // Could do conditional in components onClick\n  const deleteLayer = (index) => {\n    if (index !== -1) {\n      if (allLayers[index].type !== 'overlay') {\n        handleDeleteLayer(index);\n      }\n    }\n  };\n\n  const moveLayer = (index, direction) => {\n    if (index !== -1) {\n      if (direction === -1) {\n        if (index !== 0) {\n          handleMoveLayer(index, direction);\n        }\n      } else {\n        if (index !== numberOfLayers - 1) {\n          handleMoveLayer(index, direction);\n        }\n      }\n    }\n  };\n\n  const setNoCurrentLayer = (e) => {\n    e.preventDefault();\n    if (e.target.id === 'layers-box') {\n      setCurrentLayer(-1);\n    }\n  };\n\n  return (\n    <LayersMainContainer>\n      <PartSelector\n        design={design}\n        currentPart={currentPart}\n        setCurrentPart={setCurrentPart}\n        setCurrentLayer={setCurrentLayer}\n        setLayersView={setLayersView}\n      />\n\n      <LayersMainDivider />\n\n      <LayersMainControlsContainer>\n        <LayersMainControlsLeft>\n          <LayersMainControlsTitle>Layers</LayersMainControlsTitle>\n        </LayersMainControlsLeft>\n        <LayersMainControlsRight>\n          <InterfaceIconButtonBox>\n            <InterfaceIconButton\n              active={\n                currentLayer !== -1 &&\n                allLayers?.[currentLayer]?.type !== 'overlay'\n              }\n              onClick={() => deleteLayer(currentLayer)}\n            >\n              <FaTrash />\n            </InterfaceIconButton>\n          </InterfaceIconButtonBox>\n          <InterfaceIconButtonBox>\n            <InterfaceIconButton\n              active={\n                currentLayer !== -1 && numberOfLayers - 1 !== currentLayer\n              }\n              onClick={() => moveLayer(currentLayer, 1)}\n            >\n              <FaChevronUp />\n            </InterfaceIconButton>\n          </InterfaceIconButtonBox>\n          <InterfaceIconButtonBox>\n            <InterfaceIconButton\n              active={currentLayer !== -1 && 0 !== currentLayer}\n              onClick={() => moveLayer(currentLayer, -1)}\n            >\n              <FaChevronDown />\n            </InterfaceIconButton>\n          </InterfaceIconButtonBox>\n          <InterfaceIconButtonBox>\n            <InterfaceIconButton\n              active\n              onClick={() => setLayersView('AddLayerType')}\n            >\n              <FaPlus />\n            </InterfaceIconButton>\n          </InterfaceIconButtonBox>\n        </LayersMainControlsRight>\n      </LayersMainControlsContainer>\n\n      <LayersBox id=\"layers-box\" onClick={(e) => setNoCurrentLayer(e)}>\n        <AnotherScrollBox>\n          <LayersScrollBox>\n            {allLayers.map((layer, i) => (\n              <LayerItem\n                key={i}\n                onClick={() => {\n                  if (i === currentLayer) {\n                    handleEditLayer(i, layer);\n                  } else {\n                    setCurrentLayer(i);\n                  }\n                }}\n              >\n                {layer.type === 'color' ? (\n                  <LayerItemLeft\n                    style={{\n                      backgroundColor: layer.color,\n                    }}\n                  ></LayerItemLeft>\n                ) : layer.type === 'graphic' ? (\n                  <LayerItemLeft>\n                    <img\n                      src={`/api/assets/images/${layer.link}`}\n                      style={{\n                        width: '100%',\n                        height: '100%',\n                        objectFit: 'cover',\n                      }}\n                      alt=\"design-graphic\"\n                    />\n                  </LayerItemLeft>\n                ) : layer.type === 'mask' ? (\n                  <LayerItemLeft>\n                    <img\n                      src={`/api/assets/designimages/${layer.link}`}\n                      style={{\n                        width: '100%',\n                        height: '100%',\n                        objectFit: 'cover',\n                      }}\n                      alt=\"design-graphic\"\n                    />\n                  </LayerItemLeft>\n                ) : (\n                  <LayerItemLeft>\n                    <img\n                      src={`/api/assets/designimages/${layer.source}Mask.png`}\n                      style={{\n                        width: '100%',\n                        height: '100%',\n                        objectFit: 'cover',\n                      }}\n                      alt=\"design-graphic\"\n                    />\n                  </LayerItemLeft>\n                )}\n                <LayerItemRight active={i === currentLayer}>\n                  <LayerItemRightTitle>\n                    {layer.type === 'overlay'\n                      ? handleConvertPartName(layer.source).toLowerCase()\n                      : layer.type}\n                  </LayerItemRightTitle>\n                </LayerItemRight>\n              </LayerItem>\n            ))}\n          </LayersScrollBox>\n        </AnotherScrollBox>\n      </LayersBox>\n    </LayersMainContainer>\n  );\n}\n\nexport default LayersMain;\n","import styled from 'styled-components';\n\nexport const PartsBox = styled.div`\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  height: 220px;\n  margin: 6px;\n  border: 1px solid #343434;\n  border-radius: 6px;\n  background-color: #000000;\n`;\n\nexport const AnotherPartsScrollBox = styled.div`\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n`;\n\nexport const PartsScrollBox = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  column-gap: 6px;\n  row-gap: 6px;\n`;\n\nexport const PartButton = styled.button`\n  box-sizing: border-box;\n  color: ${(props) => (props.active ? '#ffffff' : '#999999')};\n  background-color: ${(props) => (props.active ? '#212121' : '#000000')};\n  border: 1px solid;\n  border-color: ${(props) => (props.active ? '#343434' : '#000000')};\n  border-radius: 4px;\n  margin: 3px;\n  height: 40px;\n  font-size: 16px;\n  text-transform: capitalize;\n  overflow: hidden;\n`;\n","import React from 'react';\nimport {\n  LeftInterfaceContainer,\n  InterfaceTitle,\n  InterfaceSingleButtons,\n  InterfaceButtonBox,\n  InterfaceButton,\n} from '../../../designerui';\nimport {\n  PartsBox,\n  AnotherPartsScrollBox,\n  PartsScrollBox,\n  PartButton,\n} from './styledComponents';\n\nfunction PartList({ props }) {\n  const {\n    design,\n    setCurrentPart,\n    setLayersView,\n    setCurrentLayer,\n    currentPartName,\n  } = props;\n\n  return (\n    <LeftInterfaceContainer>\n      <InterfaceTitle>Select Part</InterfaceTitle>\n      <PartsBox>\n        <AnotherPartsScrollBox>\n          <PartsScrollBox>\n            {design.configData.partsArray.map((part, i) => (\n              <PartButton\n                key={i}\n                active={currentPartName === part}\n                onClick={() => {\n                  setCurrentLayer(-1);\n                  setCurrentPart(i);\n                  setLayersView('LayersMain');\n                }}\n              >\n                {part}\n              </PartButton>\n            ))}\n          </PartsScrollBox>\n        </AnotherPartsScrollBox>\n      </PartsBox>\n\n      <InterfaceSingleButtons>\n        <InterfaceButtonBox>\n          <InterfaceButton active onClick={() => setLayersView('LayersMain')}>\n            Back\n          </InterfaceButton>\n        </InterfaceButtonBox>\n      </InterfaceSingleButtons>\n    </LeftInterfaceContainer>\n  );\n}\n\nexport default PartList;\n","import React from 'react';\nimport {\n  LeftInterfaceContainer,\n  InterfaceTitle,\n  InterfaceSingleButtons,\n  InterfaceButtonBox,\n  InterfaceButton,\n} from '../../../designerui';\n\nfunction AddLayerType({ props }) {\n  const { design, currentPartName, handleAddLayer, setLayersView } = props;\n  return (\n    <LeftInterfaceContainer>\n      <InterfaceTitle>Select Layer Type</InterfaceTitle>\n      <InterfaceSingleButtons>\n        {design.configData.layerTypes[currentPartName].types.map((type, i) => (\n          <InterfaceButtonBox key={i}>\n            {type === 'Mask' ? (\n              <InterfaceButton\n                active\n                onClick={() => {\n                  setLayersView('MaskTypes');\n                }}\n              >\n                {type}\n              </InterfaceButton>\n            ) : type === 'Graphic' ? (\n              <InterfaceButton\n                active\n                onClick={() => {\n                  setLayersView('GraphicPicker');\n                }}\n              >\n                {type}\n              </InterfaceButton>\n            ) : (\n              <InterfaceButton\n                active\n                onClick={() => {\n                  handleAddLayer(type);\n                  setLayersView('LayersMain');\n                }}\n              >\n                {type}\n              </InterfaceButton>\n            )}\n          </InterfaceButtonBox>\n        ))}\n        <InterfaceButtonBox>\n          <InterfaceButton active onClick={() => setLayersView('LayersMain')}>\n            Cancel\n          </InterfaceButton>\n        </InterfaceButtonBox>\n      </InterfaceSingleButtons>\n    </LeftInterfaceContainer>\n  );\n}\n\nexport default AddLayerType;\n","import React from 'react';\nimport {\n  LeftInterfaceContainer,\n  InterfaceTitle,\n  InterfaceSingleButtons,\n  InterfaceButtonBox,\n  InterfaceButton,\n} from '../../../designerui';\n\nfunction MaskTypes({ props }) {\n  const { design, currentPartName, handleAddMaskLayer, setLayersView } = props;\n  return (\n    <LeftInterfaceContainer>\n      <InterfaceTitle>Select Mask Type</InterfaceTitle>\n\n      <InterfaceSingleButtons>\n        {design.configData.maskTypes[currentPartName].map((type, i) => (\n          <InterfaceButtonBox key={i}>\n            <InterfaceButton\n              active\n              onClick={() => {\n                handleAddMaskLayer(type[0], type[1]);\n                setLayersView('LayersMain');\n              }}\n            >\n              {type[0]}\n            </InterfaceButton>\n          </InterfaceButtonBox>\n        ))}\n        <InterfaceButtonBox>\n          <InterfaceButton active onClick={() => setLayersView('LayersMain')}>\n            Cancel\n          </InterfaceButton>\n        </InterfaceButtonBox>\n      </InterfaceSingleButtons>\n    </LeftInterfaceContainer>\n  );\n}\n\nexport default MaskTypes;\n","import React, { useState, useEffect } from 'react';\nimport { handleConvertPartName } from '../../../../utils/convertPartNames';\nimport { ColorPicker } from '../../../designerui';\nimport {\n  LeftInterfaceContainer,\n  InterfaceIconButtonBox,\n  InterfaceIconButton,\n  InterfaceTitleAndIcon,\n  InterfaceTitleBox,\n  InterfaceTitle,\n} from '../../../designerui';\nimport { FaCheck } from 'react-icons/fa';\n\nfunction ColorEditor({ props }) {\n  const {\n    currentLayer,\n    currentPartName,\n    design,\n    handleChangeManager,\n    setLayersView,\n    setCanSave,\n    currentShoe,\n  } = props;\n\n  const [currentColor, setCurrentColor] = useState('#ffffaa');\n  const [colorsArray, setColorsArray] = useState([]);\n\n  useEffect(() => {\n    const getDesignColors = () => {\n      const colors = [];\n      for (const property in design.outlineData.parts) {\n        for (const layer in design.outlineData.parts[property].right) {\n          const type = design.outlineData.parts[property].right[layer].type;\n          if (type === 'color' || type === 'mask') {\n            const thisColor =\n              design.outlineData.parts[property].right[layer].color;\n            if (!colors.includes(thisColor)) {\n              colors.push(thisColor);\n            }\n          }\n        }\n        for (const layer in design.outlineData.parts[property].left) {\n          const type = design.outlineData.parts[property].left[layer].type;\n          if (type === 'color' || type === 'mask') {\n            const thisColor =\n              design.outlineData.parts[property].left[layer].color;\n            if (!colors.includes(thisColor)) {\n              colors.push(thisColor);\n            }\n          }\n        }\n      }\n      for (const property in design.outlineData.overlays) {\n        for (const layer in design.outlineData.overlays[property].right) {\n          if (\n            design.outlineData.overlays[property].right[layer].type === 'color'\n          ) {\n            const thisColor =\n              design.outlineData.overlays[property].right[layer].color;\n            if (!colors.includes(thisColor)) {\n              colors.push(thisColor);\n            }\n          }\n        }\n        for (const layer in design.outlineData.overlays[property].left) {\n          if (\n            design.outlineData.overlays[property].left[layer].type === 'color'\n          ) {\n            const thisColor =\n              design.outlineData.overlays[property].left[layer].color;\n            if (!colors.includes(thisColor)) {\n              colors.push(thisColor);\n            }\n          }\n        }\n      }\n\n      const rightBaseColor = design.outlineData.baseColors.right;\n      if (!colors.includes(rightBaseColor)) {\n        colors.push(rightBaseColor);\n      }\n\n      const leftBaseColor = design.outlineData.baseColors.left;\n      if (!colors.includes(leftBaseColor)) {\n        colors.push(leftBaseColor);\n      }\n\n      return colors;\n    };\n\n    setColorsArray(getDesignColors());\n\n    if (\n      currentPartName === 'outerOverlay' ||\n      currentPartName === 'innerOverlay'\n    ) {\n      setCurrentColor(\n        design.outlineData.overlays[currentPartName][currentShoe][currentLayer]\n          .color\n      );\n    } else {\n      setCurrentColor(\n        design.outlineData.parts[currentPartName][currentShoe][currentLayer]\n          .color\n      );\n    }\n  }, [design, currentPartName, currentLayer, setColorsArray, currentShoe]);\n\n  const handleColorChange = (color) => {\n    setCanSave(true);\n    const newColor = color.hex || color;\n    setCurrentColor(color);\n    handleChangeManager({\n      type: 'color-changed',\n      partName: currentPartName,\n      layerIndex: currentLayer,\n      newColor,\n    });\n  };\n\n  return (\n    <LeftInterfaceContainer>\n      <ColorPicker\n        color={currentColor}\n        colorsArray={colorsArray}\n        onChangeComplete={handleColorChange}\n        handleColorChange={handleColorChange}\n      />\n\n      <InterfaceTitleAndIcon>\n        <InterfaceTitleBox>\n          <InterfaceTitle>\n            {handleConvertPartName(currentPartName)}\n          </InterfaceTitle>\n        </InterfaceTitleBox>\n        <InterfaceIconButtonBox>\n          <InterfaceIconButton\n            active\n            onClick={() => setLayersView('LayersMain')}\n          >\n            <FaCheck />\n          </InterfaceIconButton>\n        </InterfaceIconButtonBox>\n      </InterfaceTitleAndIcon>\n    </LeftInterfaceContainer>\n  );\n}\n\nexport default ColorEditor;\n","import styled from 'styled-components';\n\nexport const GraphicEditorUpper = styled.div`\n  height: 300px;\n  position: relative;\n  margin: 6px;\n`;\n\nexport const GraphicEditorVisualContainer = styled.div`\n  transform: ${(props) => (props.mirror ? 'scaleX(-1)' : 'unset')};\n`;\n\nexport const GraphicEditorButton = styled.button`\n  background-color: #00000077;\n  color: #ffffff;\n  width: 40px;\n  height: 40px;\n  border: none;\n  margin: auto;\n  border-radius: 50px;\n  padding: 0px;\n  font-size: 20px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  &:focus {\n    outline: none;\n  }\n`;\n\nexport const GraphicEditorButtons = styled.div`\n  position: absolute;\n  height: 100%;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: grid;\n  grid-template-columns: 1fr 3fr 1fr 3fr 1fr;\n  grid-template-rows: 1fr 3fr 1fr 3fr 1fr;\n  z-index: 1;\n  grid-template-areas:\n    'counter . up . clock'\n    '. . . . .'\n    'left . . . right'\n    '. . . . .'\n    'compress . down . expand';\n`;\n","import React, { useEffect } from 'react';\nimport {\n  FaArrowDown,\n  FaArrowLeft,\n  FaArrowRight,\n  FaArrowsAlt,\n  FaArrowUp,\n  FaCompressArrowsAlt,\n  FaRedoAlt,\n  FaUndoAlt,\n} from 'react-icons/fa';\nimport './GraphicEditor.css';\nimport {\n  LeftInterfaceContainer,\n  InterfaceButtonBox,\n  InterfaceButton,\n  InterfaceDoubleButtons,\n} from '../../../designerui';\nimport {\n  GraphicEditorUpper,\n  GraphicEditorVisualContainer,\n  GraphicEditorButtons,\n  GraphicEditorButton,\n} from './styledComponents';\n\nfunction GraphicEditor({ props }) {\n  const {\n    currentLayer,\n    currentPartName,\n    graphicVisualCanvas,\n    handleChangeManager,\n    handleUpdateGraphicVisualCanvas,\n    setLayersView,\n    setCanSave,\n    currentShoe,\n  } = props;\n\n  const handleMoveGraphic = (direction, distance) => {\n    setCanSave(true);\n    handleChangeManager({\n      type: 'graphic-moved',\n      partName: currentPartName,\n      layerIndex: currentLayer,\n      direction,\n      distance,\n    });\n  };\n\n  useEffect(() => {\n    const placeGraphicVisual = () => {\n      let div = document.getElementById('graphic-visual-container');\n      div.innerHTML = '';\n      div.appendChild(graphicVisualCanvas);\n    };\n    placeGraphicVisual();\n    handleUpdateGraphicVisualCanvas(currentPartName);\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <LeftInterfaceContainer>\n      <GraphicEditorUpper>\n        <GraphicEditorButtons>\n          <GraphicEditorButton\n            id=\"up-button\"\n            onClick={() => handleMoveGraphic('vert', -30)}\n          >\n            <FaArrowUp />\n          </GraphicEditorButton>\n          <GraphicEditorButton\n            id=\"down-button\"\n            onClick={() => handleMoveGraphic('vert', 30)}\n          >\n            <FaArrowDown />\n          </GraphicEditorButton>\n          <GraphicEditorButton\n            id=\"left-button\"\n            onClick={() => handleMoveGraphic('hor', -30)}\n          >\n            <FaArrowLeft />\n          </GraphicEditorButton>\n          <GraphicEditorButton\n            id=\"right-button\"\n            onClick={() => handleMoveGraphic('hor', 30)}\n          >\n            <FaArrowRight />\n          </GraphicEditorButton>\n          <GraphicEditorButton\n            id=\"scale-up-button\"\n            onClick={() => handleMoveGraphic('scale', 1.1)}\n          >\n            <FaArrowsAlt />\n          </GraphicEditorButton>\n          <GraphicEditorButton\n            id=\"scale-down-button\"\n            onClick={() => handleMoveGraphic('scale', 0.9)}\n          >\n            <FaCompressArrowsAlt />\n          </GraphicEditorButton>\n          <GraphicEditorButton\n            id=\"clockwise-button\"\n            onClick={() => handleMoveGraphic('rotate', 5)}\n          >\n            <FaRedoAlt />\n          </GraphicEditorButton>\n          <GraphicEditorButton\n            id=\"counterclockwise-button\"\n            onClick={() => handleMoveGraphic('rotate', -5)}\n          >\n            <FaUndoAlt />\n          </GraphicEditorButton>\n        </GraphicEditorButtons>\n        <GraphicEditorVisualContainer\n          id=\"graphic-visual-container\"\n          mirror={currentShoe === 'left'}\n        ></GraphicEditorVisualContainer>\n      </GraphicEditorUpper>\n      <InterfaceDoubleButtons>\n        <InterfaceButtonBox>\n          <InterfaceButton active onClick={() => handleMoveGraphic('reset', 0)}>\n            Reset\n          </InterfaceButton>\n        </InterfaceButtonBox>\n        <InterfaceButtonBox>\n          <InterfaceButton active onClick={() => setLayersView('LayersMain')}>\n            Done\n          </InterfaceButton>\n        </InterfaceButtonBox>\n      </InterfaceDoubleButtons>\n    </LeftInterfaceContainer>\n  );\n}\n\nexport default GraphicEditor;\n","import React from 'react';\nimport './CurrentGraphics.css';\n\nfunction CurrentGraphics({ graphicsArray, handleAddGraphicLayer }) {\n  return (\n    <div className='current-graphics-container'>\n      {graphicsArray.map((graphic, i) => (\n        <div\n          className='current-graphics-item'\n          key={i}\n          onClick={() => handleAddGraphicLayer(graphic)}\n        >\n          <img src={`/api/assets/images/${graphic}`} alt='used-already'></img>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default CurrentGraphics;\n","import React, { useState, useEffect } from 'react';\nimport './GraphicPicker.css';\nimport { uploadImage } from '../../../../utils/uploadImage';\nimport { convertAwsLink } from '../../../../utils/convertAwsLink';\nimport CurrentGraphics from './CurrentGraphics';\nimport {\n  LeftInterfaceContainer,\n  InterfaceTitle,\n  InterfaceSingleButtons,\n  InterfaceButtonBox,\n  InterfaceButton,\n} from '../../../designerui';\nimport { LoadingSpinner } from '../../../designerui';\n\nfunction GraphicPicker({ props }) {\n  const { setLayersView, handleAddLayer, design } = props;\n\n  const [warning, setWarning] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [graphicsArray, setGraphicsArray] = useState();\n\n  useEffect(() => {\n    const getGraphicsArray = () => {\n      const graphics = ['red-apple.png'];\n\n      // parts\n      for (const property in design.outlineData.parts) {\n        for (const layer in design.outlineData.parts[property].right) {\n          if (\n            design.outlineData.parts[property].right[layer].type === 'graphic'\n          ) {\n            const thisGraphic =\n              design.outlineData.parts[property].right[layer].link;\n            if (!graphics.includes(thisGraphic)) {\n              graphics.push(thisGraphic);\n            }\n          }\n        }\n        for (const layer in design.outlineData.parts[property].left) {\n          if (\n            design.outlineData.parts[property].left[layer].type === 'graphic'\n          ) {\n            const thisGraphic =\n              design.outlineData.parts[property].left[layer].link;\n            if (!graphics.includes(thisGraphic)) {\n              graphics.push(thisGraphic);\n            }\n          }\n        }\n      }\n      // overlays\n      for (const property in design.outlineData.overlays) {\n        for (const layer in design.outlineData.overlays[property].right) {\n          if (\n            design.outlineData.overlays[property].right[layer].type ===\n            'graphic'\n          ) {\n            const thisGraphic =\n              design.outlineData.overlays[property].right[layer].link;\n            if (!graphics.includes(thisGraphic)) {\n              graphics.push(thisGraphic);\n            }\n          }\n        }\n        for (const layer in design.outlineData.overlays[property].left) {\n          if (\n            design.outlineData.overlays[property].left[layer].type === 'graphic'\n          ) {\n            const thisGraphic =\n              design.outlineData.overlays[property].left[layer].link;\n            if (!graphics.includes(thisGraphic)) {\n              graphics.push(thisGraphic);\n            }\n          }\n        }\n      }\n      if (!graphics[0]) {\n        return null;\n      } else {\n        return graphics;\n      }\n    };\n\n    setGraphicsArray(getGraphicsArray());\n  }, [design]);\n\n  const onFileChange = async (e) => {\n    const fileSize = (e.target.files[0].size / 1024 / 1024).toFixed(4); // MB\n    if (fileSize < 2) {\n      setIsLoading(true);\n      const file = e.target.files[0];\n      await uploadImage(file, true).then((data) => {\n        const awsFileName = convertAwsLink(data.image);\n        handleAddGraphicLayer(awsFileName);\n      });\n    } else {\n      setWarning(true);\n    }\n  };\n\n  const handleAddGraphicLayer = (fileName) => {\n    handleAddLayer('Graphic', fileName);\n    setLayersView('LayersMain');\n  };\n\n  if (isLoading) {\n    return (\n      <LeftInterfaceContainer>\n        <LoadingSpinner />\n      </LeftInterfaceContainer>\n    );\n  }\n\n  return (\n    <LeftInterfaceContainer>\n      <InterfaceTitle>Graphics</InterfaceTitle>\n      {graphicsArray && (\n        <div className=\"used-graphics\">\n          <CurrentGraphics\n            graphicsArray={graphicsArray}\n            handleAddGraphicLayer={handleAddGraphicLayer}\n          />\n        </div>\n      )}\n      <div className=\"upload-image-input\">\n        <label htmlFor=\"image-input-id\" className=\"upload-image-label\">\n          <input\n            onChange={(e) => onFileChange(e)}\n            id=\"image-input-id\"\n            type=\"file\"\n            name=\"myImage\"\n            accept=\"image/png, image/jpeg, .png, .jpg\"\n          />\n          Upload\n        </label>\n      </div>\n\n      {warning && (\n        <div className=\"file-size-warning\">\n          <p>file must be less that 2MB.</p>\n        </div>\n      )}\n\n      <InterfaceSingleButtons>\n        <InterfaceButtonBox>\n          <InterfaceButton active onClick={() => setLayersView('LayersMain')}>\n            Cancel\n          </InterfaceButton>\n        </InterfaceButtonBox>\n      </InterfaceSingleButtons>\n    </LeftInterfaceContainer>\n  );\n}\n\nexport default GraphicPicker;\n","import LayersMain from './LayersMain';\nimport PartList from './PartList';\nimport AddLayerType from './AddLayerType';\nimport MaskTypes from './MaskTypes';\nimport ColorEditor from './ColorEditor';\nimport GraphicEditor from './GraphicEditor';\nimport GraphicPicker from './GraphicPicker';\n\nconst LayerDictionary = {\n  LayersMain: LayersMain,\n  PartList: PartList,\n  AddLayerType: AddLayerType,\n  MaskTypes: MaskTypes,\n  ColorEditor: ColorEditor,\n  GraphicEditor: GraphicEditor,\n  GraphicPicker: GraphicPicker,\n};\n\nexport default LayerDictionary;\n","import React from 'react';\nimport LayerDictionary from './Constants';\nimport { LeftInterfaceContainer } from '../../designerui';\n\nfunction LayersView({\n  layersView,\n  setLayersView,\n  currentLayer,\n  currentPart,\n  design,\n  graphicVisualCanvas,\n  handleChangeManager,\n  handleUpdateGraphicVisualCanvas,\n  handleViewChange,\n  setCurrentLayer,\n  setCurrentPart,\n  setCanSave,\n  currentShoe,\n}) {\n  const currentPartName = Object.keys(design.configData.partsObject)[\n    currentPart\n  ];\n\n  let partType = 'parts';\n  if (\n    currentPartName === 'outerOverlay' ||\n    currentPartName === 'innerOverlay'\n  ) {\n    partType = 'overlays';\n  }\n  const numberOfLayers =\n    design.outlineData[partType][currentPartName][currentShoe].length;\n  const allLayers = design.outlineData[partType][currentPartName][currentShoe];\n\n  const handleAddLayer = (type, fileName) => {\n    setCanSave(true);\n    handleChangeManager({\n      type: 'layer-added',\n      partName: currentPartName,\n      layerType: type,\n      ...(fileName && { fileName: fileName }),\n    });\n    setCurrentLayer(numberOfLayers);\n  };\n\n  const handleAddMaskLayer = (maskType, maskLink) => {\n    setCanSave(true);\n    handleChangeManager({\n      type: 'layer-added',\n      partName: currentPartName,\n      layerType: 'Mask',\n      maskType,\n      maskLink,\n    });\n    setCurrentLayer(numberOfLayers);\n  };\n\n  const handleEditLayer = (i, layer) => {\n    if (layer.type === 'color') {\n      setCurrentLayer(i);\n      setLayersView('ColorEditor');\n    } else if (layer.type === 'graphic') {\n      setCurrentLayer(i);\n      setLayersView('GraphicEditor');\n    } else if (layer.type === 'mask') {\n      setCurrentLayer(i);\n      setLayersView('ColorEditor');\n    } else if (layer.type === 'overlay') {\n      setCurrentPart(design.configData.partsArray.indexOf(layer.source));\n      setCurrentLayer(-1);\n    }\n  };\n\n  const handleDeleteLayer = (layer) => {\n    setCanSave(true);\n    handleChangeManager({\n      type: 'layer-deleted',\n      partName: currentPartName,\n      layerIndex: layer,\n    });\n    setCurrentLayer(-1);\n  };\n\n  const handleMoveLayer = (layer, direction) => {\n    setCanSave(true);\n    handleChangeManager({\n      type: 'layer-moved',\n      partName: currentPartName,\n      layerIndex: layer,\n      direction,\n    });\n    setCurrentLayer(currentLayer + direction);\n  };\n\n  const Component = LayerDictionary[layersView];\n\n  const propsToPassDown = {\n    allLayers,\n    currentPart,\n    currentLayer,\n    currentPartName,\n    design,\n    graphicVisualCanvas,\n    handleAddLayer,\n    handleAddMaskLayer,\n    handleMoveLayer,\n    handleEditLayer,\n    handleDeleteLayer,\n    handleChangeManager,\n    handleUpdateGraphicVisualCanvas,\n    handleViewChange,\n    setCurrentLayer,\n    setCurrentPart,\n    setLayersView,\n    numberOfLayers,\n    setCanSave,\n    currentShoe,\n    layersView,\n  };\n\n  return (\n    <LeftInterfaceContainer>\n      <Component props={propsToPassDown} />\n    </LeftInterfaceContainer>\n  );\n}\n\nexport default LayersView;\n","import styled from 'styled-components';\n\nexport const EditNameTitle = styled.p`\n  color: #ffffff;\n  margin: 16px;\n`;\n\nexport const EditNameInput = styled.input`\n  display: block;\n  font-size: 18px;\n  outline: none;\n  width: 100%;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: none;\n  border-radius: 3px;\n  height: 38px;\n  padding-left: 10px;\n`;\n","import React from 'react';\nimport { cloneDeep, startCase } from 'lodash';\nimport {\n  LeftInterfaceContainer,\n  InterfaceSingleButtons,\n  InterfaceButtonBox,\n  InterfaceButton,\n  InterfaceTitleAndIcon,\n  InterfaceTitleBox,\n  InterfaceTitle,\n} from '../../designerui';\nimport { EditNameInput } from './styledComponents';\n\nfunction EditName({ handleViewChange, design, setDesign, setCanSave }) {\n  const handleUpdateDesignName = () => {\n    const tempDesign = cloneDeep(design);\n    const newTitle = startCase(\n      document.getElementById('design-name-input').value\n    );\n    tempDesign.title = newTitle;\n    setCanSave(true);\n    setDesign(tempDesign);\n    handleViewChange('DesignMenu');\n  };\n\n  return (\n    <LeftInterfaceContainer>\n      <InterfaceTitleAndIcon>\n        <InterfaceTitleBox>\n          <InterfaceTitle>Design Name</InterfaceTitle>\n        </InterfaceTitleBox>\n      </InterfaceTitleAndIcon>\n      <InterfaceSingleButtons>\n        <InterfaceButtonBox>\n          <EditNameInput\n            type=\"text\"\n            id=\"design-name-input\"\n            defaultValue={design.title}\n          ></EditNameInput>\n        </InterfaceButtonBox>\n        <InterfaceButtonBox>\n          <InterfaceButton active onClick={() => handleUpdateDesignName()}>\n            Done\n          </InterfaceButton>\n        </InterfaceButtonBox>\n      </InterfaceSingleButtons>\n    </LeftInterfaceContainer>\n  );\n}\n\nexport default EditName;\n","import React, { useState } from 'react';\nimport {\n  InterfaceContainer,\n  InterfaceLeft,\n  InterfaceRight,\n} from './styledComponents';\nimport DesignerNav from './Nav';\nimport DesignInfo from './DesignInfo';\nimport DesignMenu from './DesignMenu';\nimport Visibility from './Visibility';\nimport BaseColor from './BaseColor';\nimport Layers from './Layers';\nimport EditName from './EditName';\n\nfunction Interface({\n  design,\n  setDesign,\n  graphicVisualCanvas,\n  handleUpdateGraphicVisualCanvas,\n  handleChangeManager,\n  handleUpdateBaseColor,\n  userData,\n  currentPart,\n  setCurrentPart,\n  currentShoe,\n  setCurrentShoe,\n  shoeVisibility,\n  setShoeVisibility,\n  view,\n  setView,\n  layersView,\n  setLayersView,\n  currentLayer,\n  setCurrentLayer,\n  setCameraReset,\n}) {\n  const [canSave, setCanSave] = useState(false);\n\n  const handleViewChange = (viewChange) => {\n    setView(viewChange);\n  };\n\n  let ComponenetToRender;\n\n  if (view === 'DesignMenu') {\n    ComponenetToRender = (\n      <DesignMenu\n        handleViewChange={handleViewChange}\n        design={design}\n        setDesign={setDesign}\n        canSave={canSave}\n        setCanSave={setCanSave}\n        userData={userData}\n        currentShoe={currentShoe}\n        setCurrentShoe={setCurrentShoe}\n        shoeVisibility={shoeVisibility}\n        setShoeVisibility={setShoeVisibility}\n        setCameraReset={setCameraReset}\n      />\n    );\n  } else if (view === 'Layers') {\n    ComponenetToRender = (\n      <Layers\n        layersView={layersView}\n        setLayersView={setLayersView}\n        handleViewChange={handleViewChange}\n        design={design}\n        setDesign={setDesign}\n        currentShoe={currentShoe}\n        currentPart={currentPart}\n        setCurrentPart={setCurrentPart}\n        currentLayer={currentLayer}\n        setCurrentLayer={setCurrentLayer}\n        graphicVisualCanvas={graphicVisualCanvas}\n        handleUpdateGraphicVisualCanvas={handleUpdateGraphicVisualCanvas}\n        handleChangeManager={handleChangeManager}\n        setCanSave={setCanSave}\n      />\n    );\n  } else if (view === 'ChangeDesignName') {\n    ComponenetToRender = (\n      <EditName\n        handleViewChange={handleViewChange}\n        design={design}\n        setDesign={setDesign}\n        setCanSave={setCanSave}\n      />\n    );\n  } else if (view === 'ChangeBaseColor') {\n    ComponenetToRender = (\n      <BaseColor\n        handleViewChange={handleViewChange}\n        design={design}\n        setDesign={setDesign}\n        setCanSave={setCanSave}\n        handleUpdateBaseColor={handleUpdateBaseColor}\n        currentShoe={currentShoe}\n        setCurrentShoe={setCurrentShoe}\n      />\n    );\n  } else if (view === 'DesignInfo') {\n    ComponenetToRender = <DesignInfo design={design} />;\n  } else if (view === 'DesignVisibility') {\n    ComponenetToRender = (\n      <Visibility\n        currentShoe={currentShoe}\n        setCurrentShoe={setCurrentShoe}\n        shoeVisibility={shoeVisibility}\n        setShoeVisibility={setShoeVisibility}\n      />\n    );\n  }\n\n  return (\n    <InterfaceContainer>\n      <InterfaceLeft>{ComponenetToRender}</InterfaceLeft>\n      <InterfaceRight>\n        <DesignerNav handleViewChange={handleViewChange} view={view} />\n      </InterfaceRight>\n    </InterfaceContainer>\n  );\n}\n\nexport default Interface;\n","import {\n  designObjectToCanvasObject,\n  overlayCanvasObjectToTextureCanvas,\n  canvasObjectToTextureCanvas,\n} from '../index';\n\nexport const setup = async ({\n  setTexturesLoaded,\n  design,\n  graphicVisualCanvas,\n  rightInnerOverlayCanvas,\n  rightOuterOverlayCanvas,\n  rightTexture,\n  rightTextureCanvas,\n  leftInnerOverlayCanvas,\n  leftOuterOverlayCanvas,\n  leftTexture,\n  leftTextureCanvas,\n  rightCanvasObjectRef,\n  rightOverlaysCanvasObjectRef,\n  rightBaseColorCanvasObjectRef,\n  leftBaseColorCanvasObjectRef,\n  leftCanvasObjectRef,\n  leftOverlaysCanvasObjectRef,\n}) => {\n  // Create Overlay Canvas Objects\n  rightOverlaysCanvasObjectRef.current = await designObjectToCanvasObject({\n    design,\n    type: 'overlaysCanvasObject',\n    currentShoe: 'right',\n  });\n  leftOverlaysCanvasObjectRef.current = await designObjectToCanvasObject({\n    design,\n    type: 'overlaysCanvasObject',\n    currentShoe: 'left',\n  });\n\n  // Outer Overlay Canvas Object to Texture Canvas\n  overlayCanvasObjectToTextureCanvas({\n    design,\n    overlayCanvasObject: rightOverlaysCanvasObjectRef.current,\n    overlayCanvas: rightOuterOverlayCanvas,\n    partName: 'outerOverlay',\n    graphicVisualCanvas,\n    currentShoe: 'right',\n  });\n  overlayCanvasObjectToTextureCanvas({\n    design,\n    overlayCanvasObject: leftOverlaysCanvasObjectRef.current,\n    overlayCanvas: leftOuterOverlayCanvas,\n    partName: 'outerOverlay',\n    graphicVisualCanvas,\n    currentShoe: 'left',\n  });\n\n  // Inner Overlay Canvas Object to Texture Canvas\n  overlayCanvasObjectToTextureCanvas({\n    design,\n    overlayCanvasObject: rightOverlaysCanvasObjectRef.current,\n    overlayCanvas: rightInnerOverlayCanvas,\n    partName: 'innerOverlay',\n    graphicVisualCanvas,\n    currentShoe: 'right',\n  });\n  overlayCanvasObjectToTextureCanvas({\n    design,\n    overlayCanvasObject: leftOverlaysCanvasObjectRef.current,\n    overlayCanvas: leftInnerOverlayCanvas,\n    partName: 'innerOverlay',\n    graphicVisualCanvas,\n    currentShoe: 'left',\n  });\n\n  // Design Object to Canvas Object\n  rightCanvasObjectRef.current = await designObjectToCanvasObject({\n    design,\n    type: 'partsCanvasObject',\n    overlays: [rightOuterOverlayCanvas, rightInnerOverlayCanvas],\n    currentShoe: 'right',\n  });\n  leftCanvasObjectRef.current = await designObjectToCanvasObject({\n    design,\n    type: 'partsCanvasObject',\n    overlays: [leftOuterOverlayCanvas, leftInnerOverlayCanvas],\n    currentShoe: 'left',\n  });\n\n  // baseColor to baseColor Canvas Object\n  rightBaseColorCanvasObjectRef.current = await designObjectToCanvasObject({\n    design,\n    type: 'baseColorCanvasObject',\n    currentShoe: 'right',\n  });\n  leftBaseColorCanvasObjectRef.current = await designObjectToCanvasObject({\n    design,\n    type: 'baseColorCanvasObject',\n    currentShoe: 'left',\n  });\n\n  // Canvas Object to Canvas\n  const rightCanvas = await canvasObjectToTextureCanvas({\n    design,\n    canvasObject: rightCanvasObjectRef.current,\n    baseColorCanvasObject: rightBaseColorCanvasObjectRef.current,\n  });\n  const leftCanvas = await canvasObjectToTextureCanvas({\n    design,\n    canvasObject: leftCanvasObjectRef.current,\n    baseColorCanvasObject: leftBaseColorCanvasObjectRef.current,\n  });\n\n  // Canvas to Texture Canvas\n  rightTextureCanvas.getContext('2d').drawImage(rightCanvas, 0, 0);\n  rightTexture.needsUpdate = true;\n  leftTextureCanvas.getContext('2d').drawImage(leftCanvas, 0, 0);\n  leftTexture.needsUpdate = true;\n  setTexturesLoaded(true);\n};\n","import * as THREE from 'three';\n\nexport const createTexture = (textureCanvas) => {\n  const texture = new THREE.CanvasTexture(textureCanvas);\n  texture.flipY = false;\n  return texture;\n};\n\nexport const createCanvas = ({ design }) => {\n  return new Promise((resolve) => {\n    const { canvasSize } = design.configData;\n    const canvas = document.createElement('canvas');\n    canvas.width = canvasSize;\n    canvas.height = canvasSize;\n    const canvasCTX = canvas.getContext('2d');\n\n    function waitForElement() {\n      if (canvasCTX !== null && typeof canvas === 'object') {\n        canvasCTX.fillStyle = '#ffffff';\n        canvasCTX.fillRect(0, 0, canvasSize, canvasSize);\n        resolve(canvas);\n      } else {\n        setTimeout(waitForElement, 100);\n      }\n    }\n    waitForElement();\n  });\n};\n\nexport const createRedMapCanvas = ({ design }) => {\n  return new Promise((resolve) => {\n    const { canvasSize } = design.configData;\n    const canvas = document.createElement('canvas');\n    canvas.width = canvasSize;\n    canvas.height = canvasSize;\n    const canvasCTX = canvas.getContext('2d');\n\n    const img = new Image();\n    img.src = `/api/assets/designimages/${design.configData.source.redMap}`;\n    img.onload = () => {\n      function waitForElement() {\n        if (canvasCTX !== null && typeof canvas === 'object') {\n          canvasCTX.drawImage(img, 0, 0, 1000, 1000);\n          resolve(canvas);\n        } else {\n          setTimeout(waitForElement, 100);\n        }\n      }\n      waitForElement();\n    };\n  });\n};\n\nexport const createGraphicVisualCanvas = ({ design }) => {\n  const { canvasSize } = design.configData;\n  const canvas = document.createElement('canvas');\n  canvas.id = 'graphic-visual-canvas';\n  canvas.width = canvasSize;\n  canvas.height = canvasSize;\n  return canvas;\n};\n","export const createColorLayerCanvas = ({ design, layer, partName }) => {\n  return new Promise((resolve) => {\n    let { mask } = design.configData.partsObject[partName];\n    const { color } = layer;\n    const { canvasSize } = design.configData;\n    const layerCanvas = document.createElement('canvas');\n    layerCanvas.width = canvasSize;\n    layerCanvas.height = canvasSize;\n    const layerCanvasCTX = layerCanvas.getContext('2d');\n    const maskImg = new Image();\n    maskImg.src = `/api/assets/designimages/${mask}`;\n    maskImg.onload = () => {\n      function waitForElement() {\n        if (layerCanvasCTX !== null && typeof layerCanvas === 'object') {\n          layerCanvasCTX.drawImage(maskImg, 0, 0, canvasSize, canvasSize);\n          layerCanvasCTX.globalCompositeOperation = 'source-in';\n          layerCanvasCTX.fillStyle = color;\n          layerCanvasCTX.fillRect(0, 0, canvasSize, canvasSize);\n          resolve(layerCanvas);\n        } else {\n          setTimeout(waitForElement, 100);\n        }\n      }\n      waitForElement();\n    };\n  });\n};\n","export const createGraphicLayerCanvas = ({\n  design,\n  layer,\n  partName,\n  currentShoe,\n}) => {\n  return new Promise((resolve) => {\n    const { mask } = design.configData.partsObject[partName];\n    let { link, x, y, scale, rotation } = layer;\n    const { canvasSize } = design.configData;\n    // Create layerCanvas to be returned\n    const layerCanvas = document.createElement('canvas');\n    layerCanvas.width = canvasSize;\n    layerCanvas.height = canvasSize;\n    const layerCanvasCTX = layerCanvas.getContext('2d');\n    const graphicImg = new Image();\n    graphicImg.src = `/api/assets/images/${link}`;\n    graphicImg.onload = () => {\n      // Get graphic's diagnal length (pythagorean)\n      const graphicWidth = graphicImg.width;\n      const graphicHeight = graphicImg.height;\n      const graphicPythagorean = Math.round(\n        Math.sqrt(graphicWidth * graphicWidth + graphicHeight * graphicHeight)\n      );\n      // Create Pythagorean Canvas\n      const pythagoreanCanvas = document.createElement('canvas');\n      pythagoreanCanvas.id = 'pythagorean-canvas';\n      pythagoreanCanvas.width = graphicPythagorean;\n      pythagoreanCanvas.height = graphicPythagorean;\n      const pythagoreanCTX = pythagoreanCanvas.getContext('2d');\n\n      function waitForElement() {\n        if (\n          pythagoreanCTX !== null &&\n          typeof pythagoreanCanvas === 'object' &&\n          layerCanvasCTX !== null &&\n          typeof layerCanvas === 'object'\n        ) {\n          // Translate context to the center of the canvas\n          pythagoreanCTX.translate(\n            pythagoreanCanvas.width / 2,\n            pythagoreanCanvas.height / 2\n          );\n          // Rotate context\n          pythagoreanCTX.rotate((rotation * Math.PI) / 180);\n          pythagoreanCTX.drawImage(\n            graphicImg,\n            graphicImg.width / -2,\n            graphicImg.height / -2,\n            graphicImg.width,\n            graphicImg.height\n          );\n          const maskImg = new Image();\n          maskImg.src = `/api/assets/designimages/${mask}`;\n          maskImg.onload = function () {\n            layerCanvasCTX.drawImage(maskImg, 0, 0, canvasSize, canvasSize);\n            layerCanvasCTX.globalCompositeOperation = 'source-in';\n            // Calculate new position\n            const newX = x + (canvasSize - canvasSize * scale) / 2;\n            const newY = y + (canvasSize - canvasSize * scale) / 2;\n            const newScale = canvasSize * scale;\n            // Draw graphic on layerCanvas\n            if (currentShoe === 'left') {\n              layerCanvasCTX.scale(-1, 1);\n              layerCanvasCTX.translate(-canvasSize, 0);\n            }\n            layerCanvasCTX.drawImage(\n              pythagoreanCanvas,\n              newX,\n              newY,\n              newScale,\n              newScale\n            );\n            resolve(layerCanvas);\n          };\n        } else {\n          setTimeout(waitForElement, 100);\n        }\n      }\n      waitForElement();\n    };\n  });\n};\n","export const createMaskLayerCanvas = ({ design, layer, currentShoe }) => {\n  return new Promise((resolve) => {\n    const { link, color } = layer;\n    const { canvasSize } = design.configData;\n    const layerCanvas = document.createElement('canvas');\n    layerCanvas.width = canvasSize;\n    layerCanvas.height = canvasSize;\n    const layerCanvasCTX = layerCanvas.getContext('2d');\n    const graphicImg = new Image();\n    graphicImg.src = `/api/assets/designimages/${link}`;\n    graphicImg.onload = () => {\n      function waitForElement() {\n        if (layerCanvasCTX !== null && typeof layerCanvas === 'object') {\n          if (currentShoe === 'left' && link === 'heelWingLogoMask.png') {\n            layerCanvasCTX.scale(-1, 1);\n            layerCanvasCTX.translate(-canvasSize, 0);\n          }\n          layerCanvasCTX.drawImage(graphicImg, 0, 0, canvasSize, canvasSize);\n          layerCanvasCTX.globalCompositeOperation = 'source-in';\n          layerCanvasCTX.fillStyle = color;\n          layerCanvasCTX.fillRect(0, 0, canvasSize, canvasSize);\n          resolve(layerCanvas);\n        } else {\n          setTimeout(waitForElement, 100);\n        }\n      }\n      waitForElement();\n    };\n  });\n};\n","export const createOverlayLayerCanvas = ({\n  design,\n  layer,\n  partName,\n  overlayCanvas,\n}) => {\n  return new Promise((resolve) => {\n    const { mask } = design.configData.partsObject[partName];\n    const { source } = layer;\n    const { x, y, scale, rotation } = design.configData.translations[source][\n      partName\n    ];\n    const { canvasSize } = design.configData;\n    const layerCanvas = document.createElement('canvas');\n    layerCanvas.width = canvasSize;\n    layerCanvas.height = canvasSize;\n    const layerCanvasCTX = layerCanvas.getContext('2d');\n    const maskImg = new Image();\n    maskImg.src = `/api/assets/designimages/${mask}`;\n    maskImg.onload = () => {\n      function waitForElement() {\n        if (layerCanvasCTX !== null && typeof layerCanvas === 'object') {\n          layerCanvasCTX.drawImage(maskImg, 0, 0, canvasSize, canvasSize);\n          layerCanvasCTX.globalCompositeOperation = 'source-in';\n          layerCanvasCTX.translate(canvasSize * x, canvasSize * y);\n          layerCanvasCTX.rotate(rotation);\n          layerCanvasCTX.drawImage(\n            overlayCanvas,\n            0,\n            0,\n            canvasSize * scale,\n            canvasSize * scale\n          );\n          resolve(layerCanvas);\n        } else {\n          setTimeout(waitForElement, 100);\n        }\n      }\n      waitForElement();\n    };\n  });\n};\n","import {\n  createColorLayerCanvas,\n  createGraphicLayerCanvas,\n  createOverlayLayerCanvas,\n  createMaskLayerCanvas,\n} from '../index';\n\n// create canvasObject part with designObject part\nconst createCanvasObjectPart = async ({\n  design,\n  designLayers,\n  partName,\n  overlays,\n  currentShoe,\n}) => {\n  const canvasLayers = [];\n  // For each layer in part of design object\n  for (let layer in designLayers) {\n    if (designLayers[layer].type === 'color') {\n      const thisLayer = await createColorLayerCanvas({\n        design,\n        layer: designLayers[layer],\n        partName,\n      });\n      canvasLayers.push(thisLayer);\n    } else if (designLayers[layer].type === 'graphic') {\n      canvasLayers.push(\n        await createGraphicLayerCanvas({\n          design,\n          layer: designLayers[layer],\n          partName,\n          currentShoe,\n        })\n      );\n    } else if (designLayers[layer].type === 'mask') {\n      canvasLayers.push(\n        await createMaskLayerCanvas({\n          design,\n          layer: designLayers[layer],\n          currentShoe,\n        })\n      );\n    } else if (designLayers[layer].type === 'overlay') {\n      if (designLayers[layer].source === 'outerOverlay') {\n        canvasLayers.push(\n          await createOverlayLayerCanvas({\n            design,\n            layer: designLayers[layer],\n            partName,\n            overlayCanvas: overlays[0],\n          })\n        );\n      } else {\n        canvasLayers.push(\n          await createOverlayLayerCanvas({\n            design,\n            layer: designLayers[layer],\n            partName,\n            overlayCanvas: overlays[1],\n          })\n        );\n      }\n    }\n  }\n\n  return { layers: canvasLayers };\n};\n\n// Create Base Color Canvas Object\nconst createBaseColorCanvasObjectPart = async ({\n  design,\n  partName,\n  currentShoe,\n}) => {\n  const canvas = await createColorLayerCanvas({\n    design,\n    layer: { color: design.outlineData.baseColors[currentShoe] },\n    partName,\n  });\n  return canvas;\n};\n\n// turn designObject into canvasObject\nexport const designObjectToCanvasObject = ({\n  design,\n  type,\n  overlays,\n  currentShoe,\n}) => {\n  return new Promise((resolve, reject) => {\n    const canvasObject = {};\n    const createAllParts = async () => {\n      if (type === 'partsCanvasObject') {\n        for (let partName in design.outlineData.parts) {\n          canvasObject[partName] = await createCanvasObjectPart({\n            design,\n            designLayers: design.outlineData.parts[partName][currentShoe],\n            partName,\n            overlays,\n            currentShoe,\n          });\n        }\n      } else if (type === 'overlaysCanvasObject') {\n        for (let partName in design.outlineData.overlays) {\n          canvasObject[partName] = await createCanvasObjectPart({\n            design,\n            designLayers: design.outlineData.overlays[partName][currentShoe],\n            partName,\n            currentShoe,\n          });\n        }\n      } else if (type === 'baseColorCanvasObject') {\n        for (let partName in design.outlineData.parts) {\n          canvasObject[partName] = await createBaseColorCanvasObjectPart({\n            design,\n            partName,\n            currentShoe,\n          });\n        }\n      }\n      resolve(canvasObject);\n    };\n    createAllParts();\n  });\n};\n\nexport const overlayCanvasObjectToTextureCanvas = ({\n  design,\n  overlayCanvasObject,\n  overlayCanvas,\n  partName,\n  graphicVisualCanvas,\n}) => {\n  const { canvasSize } = design.configData;\n  const overlayCanvasCTX = overlayCanvas.getContext('2d');\n  const graphicCTX = graphicVisualCanvas.getContext('2d');\n  graphicCTX.clearRect(0, 0, canvasSize, canvasSize);\n  overlayCanvasCTX.clearRect(0, 0, canvasSize, canvasSize);\n  for (let layer in overlayCanvasObject[partName].layers) {\n    const layerCanvas = overlayCanvasObject[partName].layers[layer];\n    overlayCanvasCTX.drawImage(layerCanvas, 0, 0, canvasSize, canvasSize);\n    graphicCTX.drawImage(layerCanvas, 0, 0, canvasSize, canvasSize);\n  }\n};\n\n// update graphicVisualCanvas\nexport const updateGraphicVisualCanvas = ({\n  design,\n  graphicVisualCanvas,\n  partName,\n  canvasObject,\n  baseColorCanvasObject,\n}) => {\n  const { canvasSize } = design.configData;\n  const graphicCTX = graphicVisualCanvas.getContext('2d');\n  graphicCTX.clearRect(0, 0, canvasSize, canvasSize);\n  if (baseColorCanvasObject[partName]) {\n    const baseColorCanvas = baseColorCanvasObject[partName];\n    graphicCTX.drawImage(baseColorCanvas, 0, 0, canvasSize, canvasSize);\n  }\n  for (let layer in canvasObject[partName].layers) {\n    const layerCanvas = canvasObject[partName].layers[layer];\n    graphicCTX.drawImage(layerCanvas, 0, 0, canvasSize, canvasSize);\n  }\n};\n","import { cloneDeep } from 'lodash';\nimport {\n  createColorLayerCanvas,\n  createGraphicLayerCanvas,\n  createMaskLayerCanvas,\n} from '../index';\n\n//------------------------------------------- Part Change Functions\nexport const partChangeManager = ({\n  changeObject,\n  design,\n  setDesign,\n  texture,\n  textureCanvas,\n  graphicVisualCanvas,\n  canvasObject,\n  baseColorCanvasObject,\n  currentShoe,\n}) => {\n  const { type, fileName } = changeObject;\n  const tempDesign = cloneDeep(design);\n  if (type === 'graphic-moved') {\n    const { partName, layerIndex, direction, distance } = changeObject;\n    const thisLayer =\n      tempDesign.outlineData.parts[partName][currentShoe][layerIndex];\n    if (direction === 'vert') {\n      thisLayer.y += distance;\n    } else if (direction === 'hor') {\n      thisLayer.x += distance;\n    } else if (direction === 'scale') {\n      thisLayer.scale *= distance;\n    } else if (direction === 'rotate') {\n      thisLayer.rotation += distance;\n    } else if (direction === 'reset') {\n      thisLayer.y = 0;\n      thisLayer.x = 0;\n      thisLayer.scale = 1;\n      thisLayer.rotation = 0;\n    }\n\n    setDesign(tempDesign);\n    updateLayer({\n      partName,\n      layerIndex,\n      layerObject: thisLayer,\n      canvasObject,\n      textureCanvas,\n      texture,\n      graphicVisualCanvas,\n      design,\n      baseColorCanvasObject,\n      currentShoe,\n    });\n  } else if (type === 'color-changed') {\n    const { partName, layerIndex, newColor } = changeObject;\n    let thisLayer;\n    if (partName === 'outerOverlay' || partName === 'innerOverlay') {\n      thisLayer = tempDesign.outlineData.overlays[partName].layers[layerIndex];\n    } else {\n      thisLayer =\n        tempDesign.outlineData.parts[partName][currentShoe][layerIndex];\n    }\n\n    thisLayer.color = newColor;\n    setDesign(tempDesign);\n    updateLayer({\n      partName,\n      layerIndex,\n      layerObject: thisLayer,\n      canvasObject,\n      textureCanvas,\n      texture,\n      graphicVisualCanvas,\n      design,\n      baseColorCanvasObject,\n      currentShoe,\n    });\n  } else if (type === 'layer-added') {\n    const { partName, layerType } = changeObject;\n    if (layerType === 'Color') {\n      tempDesign.outlineData.parts[partName][currentShoe].push({\n        type: 'color',\n        color: '#777777',\n      });\n    } else if (layerType === 'Graphic') {\n      tempDesign.outlineData.parts[partName][currentShoe].push({\n        type: 'graphic',\n        link: fileName,\n        x: 0,\n        y: 0,\n        scale: 1,\n        rotation: 0,\n      });\n    } else {\n      const { maskLink } = changeObject;\n      tempDesign.outlineData.parts[partName][currentShoe].push({\n        type: 'mask',\n        link: maskLink,\n        color: '#000000',\n      });\n    }\n\n    setDesign(tempDesign);\n    const layerObject = tempDesign.outlineData.parts[partName][\n      currentShoe\n    ].slice(-1)[0];\n    addLayerToCanvasObject({\n      canvasObject,\n      graphicVisualCanvas,\n      layerObject,\n      partName,\n      texture,\n      textureCanvas,\n      design,\n      baseColorCanvasObject,\n      currentShoe,\n    });\n  } else if (type === 'layer-moved') {\n    const { partName, layerIndex, direction } = changeObject;\n    let array = tempDesign.outlineData.parts[partName][currentShoe];\n    let tempElement = array[layerIndex];\n    array[layerIndex] = array[layerIndex + direction];\n    array[layerIndex + direction] = tempElement;\n    tempDesign.outlineData.parts[partName].layers = array;\n\n    setDesign(tempDesign);\n    moveLayerInCanvasObject({\n      canvasObject,\n      partName,\n      layerIndex,\n      direction,\n      textureCanvas,\n      texture,\n      graphicVisualCanvas,\n      design,\n      baseColorCanvasObject,\n      currentShoe,\n    });\n  } else if (type === 'layer-deleted') {\n    const { partName, layerIndex } = changeObject;\n    tempDesign.outlineData.parts[partName][currentShoe].splice(layerIndex, 1);\n\n    setDesign(tempDesign);\n    deleteLayerFromCanvasObject({\n      canvasObject,\n      partName,\n      layerIndex,\n      textureCanvas,\n      texture,\n      graphicVisualCanvas,\n      design,\n      baseColorCanvasObject,\n      currentShoe,\n    });\n  }\n};\n\nconst updateLayer = async ({\n  partName,\n  layerIndex,\n  layerObject,\n  canvasObject,\n  textureCanvas,\n  texture,\n  graphicVisualCanvas,\n  design,\n  baseColorCanvasObject,\n  currentShoe,\n}) => {\n  // update canvasObject layer\n  let layerCanvas;\n  if (layerObject.type === 'color') {\n    layerCanvas = await createColorLayerCanvas({\n      design,\n      layer: layerObject,\n      partName: partName,\n    });\n  } else if (layerObject.type === 'graphic') {\n    layerCanvas = await createGraphicLayerCanvas({\n      design,\n      layer: layerObject,\n      partName: partName,\n      currentShoe,\n    });\n  } else {\n    layerCanvas = await createMaskLayerCanvas({\n      design,\n      layer: layerObject,\n      currentShoe,\n    });\n  }\n  canvasObject[partName].layers[layerIndex] = layerCanvas;\n  // redraw part\n  redrawCanvasObjectPart({\n    textureCanvas,\n    canvasObjectPart: canvasObject[partName],\n    partName,\n    texture,\n    graphicVisualCanvas,\n    design,\n    baseColorCanvasObject,\n  });\n};\n\nconst addLayerToCanvasObject = async ({\n  canvasObject,\n  graphicVisualCanvas,\n  layerObject,\n  partName,\n  texture,\n  textureCanvas,\n  design,\n  baseColorCanvasObject,\n  currentShoe,\n}) => {\n  if (layerObject.type === 'color') {\n    const newLayerCanvas = await createColorLayerCanvas({\n      design,\n      layer: layerObject,\n      partName,\n    });\n    canvasObject[partName].layers.push(newLayerCanvas);\n  } else if (layerObject.type === 'graphic') {\n    const newLayerCanvas = await createGraphicLayerCanvas({\n      design,\n      layer: layerObject,\n      partName,\n      currentShoe,\n    });\n    canvasObject[partName].layers.push(newLayerCanvas);\n  } else {\n    const newLayerCanvas = await createMaskLayerCanvas({\n      design,\n      layer: layerObject,\n      currentShoe,\n    });\n    canvasObject[partName].layers.push(newLayerCanvas);\n  }\n  redrawCanvasObjectPart({\n    textureCanvas,\n    canvasObjectPart: canvasObject[partName],\n    partName,\n    texture,\n    graphicVisualCanvas,\n    design,\n    baseColorCanvasObject,\n  });\n};\n\nconst deleteLayerFromCanvasObject = ({\n  canvasObject,\n  partName,\n  layerIndex,\n  textureCanvas,\n  texture,\n  graphicVisualCanvas,\n  design,\n  baseColorCanvasObject,\n}) => {\n  canvasObject[partName].layers.splice(layerIndex, 1);\n  redrawCanvasObjectPart({\n    textureCanvas,\n    canvasObjectPart: canvasObject[partName],\n    partName,\n    texture,\n    graphicVisualCanvas,\n    design,\n    baseColorCanvasObject,\n  });\n};\n\nconst moveLayerInCanvasObject = ({\n  canvasObject,\n  partName,\n  layerIndex,\n  direction,\n  textureCanvas,\n  texture,\n  graphicVisualCanvas,\n  design,\n  baseColorCanvasObject,\n}) => {\n  let array = canvasObject[partName].layers;\n  let tempElement = array[layerIndex];\n  array[layerIndex] = array[layerIndex + direction];\n  array[layerIndex + direction] = tempElement;\n  canvasObject[partName].layers = array;\n  redrawCanvasObjectPart({\n    textureCanvas,\n    canvasObjectPart: canvasObject[partName],\n    partName,\n    texture,\n    graphicVisualCanvas,\n    design,\n    baseColorCanvasObject,\n  });\n};\n\nconst redrawCanvasObjectPart = ({\n  textureCanvas,\n  canvasObjectPart,\n  partName,\n  texture,\n  graphicVisualCanvas,\n  design,\n  baseColorCanvasObject,\n}) => {\n  const textureCanvasCTX = textureCanvas.getContext('2d');\n  const graphicCTX = graphicVisualCanvas.getContext('2d');\n  graphicCTX.clearRect(\n    0,\n    0,\n    design.configData.canvasSize,\n    design.configData.canvasSize\n  );\n  const { x, y, width, height } = design.configData.partsObject[partName];\n  const { divider } = design.configData;\n  textureCanvasCTX.drawImage(\n    baseColorCanvasObject[partName],\n    x / divider,\n    y / divider,\n    width / divider,\n    height / divider\n  );\n  graphicCTX.drawImage(\n    baseColorCanvasObject[partName],\n    0,\n    0,\n    design.configData.canvasSize,\n    design.configData.canvasSize\n  );\n  for (let layer in canvasObjectPart.layers) {\n    const layerCanvas = canvasObjectPart.layers[layer];\n    textureCanvasCTX.drawImage(\n      layerCanvas,\n      x / divider,\n      y / divider,\n      width / divider,\n      height / divider\n    );\n    graphicCTX.drawImage(\n      layerCanvas,\n      0,\n      0,\n      design.configData.canvasSize,\n      design.configData.canvasSize\n    );\n  }\n  texture.needsUpdate = true;\n};\n","import { cloneDeep } from 'lodash';\nimport {\n  createColorLayerCanvas,\n  createGraphicLayerCanvas,\n  createOverlayLayerCanvas,\n  overlayCanvasObjectToTextureCanvas,\n} from '../index';\n\n//------------------------------------------- Overlay Change Functions\nexport const overlayChangeManager = ({\n  changeObject,\n  design,\n  setDesign,\n  texture,\n  textureCanvas,\n  graphicVisualCanvas,\n  canvasObject,\n  overlayCanvas,\n  overlayCanvasObject,\n  baseColorCanvasObject,\n  currentShoe,\n}) => {\n  const { type, fileName } = changeObject;\n  const tempDesign = cloneDeep(design);\n  if (type === 'graphic-moved') {\n    const { partName, layerIndex, direction, distance } = changeObject;\n    const thisLayer =\n      tempDesign.outlineData.overlays[partName][currentShoe][layerIndex];\n    if (direction === 'vert') {\n      thisLayer.y += distance;\n    } else if (direction === 'hor') {\n      thisLayer.x += distance;\n    } else if (direction === 'scale') {\n      thisLayer.scale *= distance;\n    } else if (direction === 'rotate') {\n      thisLayer.rotation += distance;\n    } else if (direction === 'reset') {\n      thisLayer.y = 0;\n      thisLayer.x = 0;\n      thisLayer.scale = 1;\n      thisLayer.rotation = 0;\n    }\n\n    setDesign(tempDesign);\n    updateOverlayLayer({\n      partName,\n      layerIndex,\n      layerObject: thisLayer,\n      overlayCanvasObject,\n      overlayCanvas,\n      texture,\n      graphicVisualCanvas,\n      design,\n      canvasObject,\n      textureCanvas,\n      baseColorCanvasObject,\n      currentShoe,\n    });\n  } else if (type === 'color-changed') {\n    const { partName, layerIndex, newColor } = changeObject;\n    let thisLayer =\n      tempDesign.outlineData.overlays[partName][currentShoe][layerIndex];\n    thisLayer.color = newColor;\n\n    setDesign(tempDesign);\n    updateOverlayLayer({\n      partName,\n      layerIndex,\n      layerObject: thisLayer,\n      overlayCanvasObject,\n      overlayCanvas,\n      texture,\n      graphicVisualCanvas,\n      design,\n      canvasObject,\n      textureCanvas,\n      baseColorCanvasObject,\n      currentShoe,\n    });\n  } else if (type === 'layer-added') {\n    const { partName, layerType } = changeObject;\n    // add layers to design if this is the first overlay layer added\n    if (design.outlineData.overlays[partName][currentShoe].length === 0) {\n      const effectedParts = design.configData.overlayParts[partName];\n      for (let layer in effectedParts) {\n        const currentPart = effectedParts[layer];\n        tempDesign.outlineData.parts[currentPart][currentShoe].push({\n          type: 'overlay',\n          source: partName,\n        });\n      }\n    }\n    if (layerType === 'Color') {\n      tempDesign.outlineData.overlays[partName][currentShoe].push({\n        type: 'color',\n        color: '#777777',\n      });\n    } else {\n      tempDesign.outlineData.overlays[partName][currentShoe].push({\n        type: 'graphic',\n        link: fileName,\n        x: 0,\n        y: 0,\n        scale: 1,\n        rotation: 0,\n      });\n    }\n\n    setDesign(tempDesign);\n    addLayerToOverlayCanvasObject({\n      overlayCanvasObject,\n      partName,\n      layerObject: tempDesign.outlineData.overlays[partName][currentShoe].slice(\n        -1\n      )[0],\n      overlayCanvas,\n      texture,\n      graphicVisualCanvas,\n      design,\n      textureCanvas,\n      canvasObject,\n      tempDesign,\n      baseColorCanvasObject,\n      currentShoe,\n    });\n  } else if (type === 'layer-moved') {\n    const { partName, layerIndex, direction } = changeObject;\n    let array = tempDesign.outlineData.overlays[partName][currentShoe];\n    let tempElement = array[layerIndex];\n    array[layerIndex] = array[layerIndex + direction];\n    array[layerIndex + direction] = tempElement;\n    tempDesign.outlineData.overlays[partName][currentShoe] = array;\n\n    setDesign(tempDesign);\n    moveLayerInOverlayCanvasObject({\n      overlayCanvasObject,\n      partName,\n      layerIndex,\n      direction,\n      overlayCanvas,\n      texture,\n      graphicVisualCanvas,\n      design,\n      textureCanvas,\n      canvasObject,\n      baseColorCanvasObject,\n      currentShoe,\n    });\n  } else if (type === 'layer-deleted') {\n    const { partName, layerIndex } = changeObject;\n    tempDesign.outlineData.overlays[partName][currentShoe].splice(\n      layerIndex,\n      1\n    );\n    if (tempDesign.outlineData.overlays[partName][currentShoe].length === 0) {\n      // remove layers from design if this is the last overlay layer deleted\n      const effectedParts = design.configData.overlayParts[partName];\n      for (let layer in effectedParts) {\n        const currentPart = effectedParts[layer];\n        for (\n          let i = 0;\n          i < tempDesign.outlineData.parts[currentPart][currentShoe].length;\n          i++\n        ) {\n          const layerIndex = i;\n          if (\n            tempDesign.outlineData.parts[currentPart][currentShoe][i].type ===\n            'overlay'\n          ) {\n            if (\n              tempDesign.outlineData.parts[currentPart][currentShoe][i]\n                .source === partName\n            ) {\n              tempDesign.outlineData.parts[currentPart][currentShoe].splice(\n                layerIndex,\n                1\n              );\n              canvasObject[currentPart].layers.splice(layerIndex, 1);\n            }\n          }\n        }\n      }\n    }\n\n    setDesign(tempDesign);\n    deleteLayerFromOverlayCanvasObject({\n      overlayCanvasObject,\n      partName,\n      layerIndex,\n      overlayCanvas,\n      texture,\n      graphicVisualCanvas,\n      design,\n      textureCanvas,\n      canvasObject,\n      tempDesign,\n      baseColorCanvasObject,\n      currentShoe,\n    });\n  }\n};\n\nconst updateOverlayLayer = async ({\n  partName,\n  layerIndex,\n  layerObject,\n  overlayCanvasObject,\n  overlayCanvas,\n  texture,\n  graphicVisualCanvas,\n  design,\n  canvasObject,\n  textureCanvas,\n  baseColorCanvasObject,\n  currentShoe,\n}) => {\n  const effectedParts = design.configData.overlayParts[partName];\n  // update canvasObject layer\n  let layerCanvas;\n  if (layerObject.type === 'color') {\n    layerCanvas = await createColorLayerCanvas({\n      design,\n      layer: layerObject,\n      partName,\n    });\n  } else {\n    layerCanvas = await createGraphicLayerCanvas({\n      design,\n      layer: layerObject,\n      partName,\n      currentShoe,\n    });\n  }\n  overlayCanvasObject[partName].layers[layerIndex] = layerCanvas;\n\n  // redraw part on overlayCanvas\n  overlayCanvasObjectToTextureCanvas({\n    design,\n    overlayCanvasObject,\n    overlayCanvas,\n    partName,\n    graphicVisualCanvas,\n    currentShoe,\n  });\n\n  // update effected layers in canvas object\n  for (let part in effectedParts) {\n    const currentPart = effectedParts[part];\n    for (\n      let i = 0;\n      i < design.outlineData.parts[currentPart][currentShoe].length;\n      i++\n    ) {\n      const layerIndex = i;\n      if (\n        design.outlineData.parts[currentPart][currentShoe][i].type === 'overlay'\n      ) {\n        if (\n          design.outlineData.parts[currentPart][currentShoe][i].source ===\n          partName\n        ) {\n          const layerCanvas = await createOverlayLayerCanvas({\n            design,\n            layer: design.outlineData.parts[currentPart][currentShoe][i],\n            partName: currentPart,\n            overlayCanvas,\n          });\n          canvasObject[currentPart].layers[layerIndex] = layerCanvas;\n          // redraw effected parts in textureCanvas\n          redrawOverlayCanvasObjectPart({\n            textureCanvas,\n            canvasObjectPart: canvasObject[currentPart],\n            partName: currentPart,\n            design,\n            baseColorCanvasObject,\n          });\n        }\n      }\n    }\n  }\n  texture.needsUpdate = true;\n};\n\nconst addLayerToOverlayCanvasObject = async ({\n  overlayCanvasObject,\n  partName,\n  layerObject,\n  overlayCanvas,\n  texture,\n  graphicVisualCanvas,\n  design,\n  textureCanvas,\n  canvasObject,\n  tempDesign,\n  baseColorCanvasObject,\n  currentShoe,\n}) => {\n  if (layerObject.type === 'color') {\n    const newLayerCanvas = await createColorLayerCanvas({\n      design,\n      layer: layerObject,\n      partName,\n    });\n    overlayCanvasObject[partName].layers.push(newLayerCanvas);\n  } else if (layerObject.type === 'graphic') {\n    const newLayerCanvas = await createGraphicLayerCanvas({\n      design,\n      layer: layerObject,\n      partName,\n      currentShoe,\n    });\n    overlayCanvasObject[partName].layers.push(newLayerCanvas);\n  }\n  overlayCanvasObjectToTextureCanvas({\n    design,\n    overlayCanvasObject,\n    overlayCanvas,\n    partName,\n    graphicVisualCanvas,\n    currentShoe,\n  });\n  // update effected layers in canvas object\n  const effectedParts = design.configData.overlayParts[partName];\n  for (let part in effectedParts) {\n    const currentPart = effectedParts[part];\n    for (\n      let i = 0;\n      i < tempDesign.outlineData.parts[currentPart][currentShoe].length;\n      i++\n    ) {\n      const layerIndex = i;\n      if (\n        tempDesign.outlineData.parts[currentPart][currentShoe][i].type ===\n        'overlay'\n      ) {\n        if (\n          tempDesign.outlineData.parts[currentPart][currentShoe][i].source ===\n          partName\n        ) {\n          const layerCanvas = await createOverlayLayerCanvas({\n            design,\n            layer: tempDesign.outlineData.parts[currentPart][currentShoe][i],\n            partName: currentPart,\n            overlayCanvas,\n          });\n          canvasObject[currentPart].layers[layerIndex] = layerCanvas;\n          // redraw effected parts in textureCanvas\n          redrawOverlayCanvasObjectPart({\n            textureCanvas,\n            canvasObjectPart: canvasObject[currentPart],\n            partName: currentPart,\n            design,\n            baseColorCanvasObject,\n          });\n        }\n      }\n    }\n  }\n  texture.needsUpdate = true;\n};\n\nconst moveLayerInOverlayCanvasObject = async ({\n  overlayCanvasObject,\n  partName,\n  layerIndex,\n  direction,\n  overlayCanvas,\n  texture,\n  graphicVisualCanvas,\n  design,\n  textureCanvas,\n  canvasObject,\n  baseColorCanvasObject,\n  currentShoe,\n}) => {\n  let array = overlayCanvasObject[partName].layers;\n  let tempElement = array[layerIndex];\n  array[layerIndex] = array[layerIndex + direction];\n  array[layerIndex + direction] = tempElement;\n  overlayCanvasObject[partName].layers = array;\n  overlayCanvasObjectToTextureCanvas({\n    design,\n    overlayCanvasObject,\n    overlayCanvas,\n    partName,\n    graphicVisualCanvas,\n    currentShoe,\n  });\n\n  const effectedParts = design.configData.overlayParts[partName];\n  for (let part in effectedParts) {\n    const currentPart = effectedParts[part];\n    for (\n      let i = 0;\n      i < design.outlineData.parts[currentPart][currentShoe].length;\n      i++\n    ) {\n      const layerIndex = i;\n      if (\n        design.outlineData.parts[currentPart][currentShoe][i].type === 'overlay'\n      ) {\n        if (\n          design.outlineData.parts[currentPart][currentShoe][i].source ===\n          partName\n        ) {\n          const layerCanvas = await createOverlayLayerCanvas({\n            design,\n            layer: design.outlineData.parts[currentPart][currentShoe][i],\n            partName: currentPart,\n            overlayCanvas,\n          });\n          canvasObject[currentPart].layers[layerIndex] = layerCanvas;\n          // redraw effected parts in textureCanvas\n          redrawOverlayCanvasObjectPart({\n            textureCanvas,\n            canvasObjectPart: canvasObject[currentPart],\n            partName: currentPart,\n            design,\n            baseColorCanvasObject,\n          });\n        }\n      }\n    }\n  }\n  texture.needsUpdate = true;\n};\n\nconst deleteLayerFromOverlayCanvasObject = async ({\n  overlayCanvasObject,\n  partName,\n  layerIndex,\n  overlayCanvas,\n  texture,\n  graphicVisualCanvas,\n  design,\n  textureCanvas,\n  canvasObject,\n  tempDesign,\n  baseColorCanvasObject,\n  currentShoe,\n}) => {\n  overlayCanvasObject[partName].layers.splice(layerIndex, 1);\n  overlayCanvasObjectToTextureCanvas({\n    design,\n    overlayCanvasObject,\n    overlayCanvas,\n    partName,\n    graphicVisualCanvas,\n    currentShoe,\n  });\n\n  const effectedParts = design.configData.overlayParts[partName];\n  for (let part in effectedParts) {\n    const currentPart = effectedParts[part];\n    for (\n      let i = 0;\n      i < tempDesign.outlineData.parts[currentPart][currentShoe].length;\n      i++\n    ) {\n      const layerIndex = i;\n      if (\n        tempDesign.outlineData.parts[currentPart][currentShoe][i].type ===\n          'overlay' &&\n        tempDesign.outlineData.parts[currentPart][currentShoe][i].source ===\n          partName\n      ) {\n        const layerCanvas = await createOverlayLayerCanvas({\n          design,\n          layer: design.outlineData.parts[currentPart][currentShoe][i],\n          partName: currentPart,\n          overlayCanvas,\n        });\n        canvasObject[currentPart].layers[layerIndex] = layerCanvas;\n      }\n    }\n    // redraw effected parts in textureCanvas\n    redrawOverlayCanvasObjectPart({\n      textureCanvas,\n      canvasObjectPart: canvasObject[currentPart],\n      partName: currentPart,\n      design,\n      baseColorCanvasObject,\n    });\n  }\n  texture.needsUpdate = true;\n};\n\nconst redrawOverlayCanvasObjectPart = ({\n  textureCanvas,\n  canvasObjectPart,\n  partName,\n  design,\n  baseColorCanvasObject,\n}) => {\n  const textureCanvasCTX = textureCanvas.getContext('2d');\n  const { x, y, width, height } = design.configData.partsObject[partName];\n  const { divider } = design.configData;\n  textureCanvasCTX.drawImage(\n    baseColorCanvasObject[partName],\n    x / divider,\n    y / divider,\n    width / divider,\n    height / divider\n  );\n  for (let layer in canvasObjectPart.layers) {\n    const layerCanvas = canvasObjectPart.layers[layer];\n    textureCanvasCTX.drawImage(\n      layerCanvas,\n      x / divider,\n      y / divider,\n      width / divider,\n      height / divider\n    );\n  }\n};\n","// turn canvasObject into a finalTexture\nexport const canvasObjectToTextureCanvas = ({\n  design,\n  canvasObject,\n  baseColorCanvasObject,\n}) => {\n  return new Promise((resolve, reject) => {\n    const canvas = document.createElement('canvas');\n    canvas.width = design.configData.canvasSize;\n    canvas.height = design.configData.canvasSize;\n    const finalCanvasCTX = canvas.getContext('2d');\n\n    function waitForElement() {\n      if (typeof finalCanvasCTX !== 'undefined') {\n        for (let property in canvasObject) {\n          const { x, y, width, height } = design.configData.partsObject[\n            property\n          ];\n          const { divider } = design.configData;\n          finalCanvasCTX.drawImage(\n            baseColorCanvasObject[property],\n            x / divider,\n            y / divider,\n            width / divider,\n            height / divider\n          );\n          for (let layer in canvasObject[property].layers) {\n            const layerCanvas = canvasObject[property].layers[layer];\n            finalCanvasCTX.drawImage(\n              layerCanvas,\n              x / divider,\n              y / divider,\n              width / divider,\n              height / divider\n            );\n          }\n        }\n        resolve(canvas);\n      } else {\n        setTimeout(waitForElement, 100);\n      }\n    }\n    waitForElement();\n  });\n};\n","import styled from 'styled-components';\n\nexport const DesignerContainerStyle = styled.div`\n  height: 100vh;\n  width: 100vw;\n  background-color: #f9f9f9;\n  font-family: 'Roboto';\n`;\n","import React, { useState, useEffect, useRef } from 'react';\nimport Scene from '../Scene';\nimport Interface from '../../components/Interface/Interface.js';\nimport {\n  setup,\n  designObjectToCanvasObject,\n  updateGraphicVisualCanvas,\n  partChangeManager,\n  canvasObjectToTextureCanvas,\n  overlayChangeManager,\n} from '../../utils/canvasFunctions';\nimport { DesignerContainerStyle } from './styledComponents';\n\nfunction DesignerContainer({\n  userData,\n  designSpec,\n  graphicVisualCanvas,\n  rightInnerOverlayCanvas,\n  rightOuterOverlayCanvas,\n  rightTexture,\n  rightTextureCanvas,\n  leftInnerOverlayCanvas,\n  leftOuterOverlayCanvas,\n  leftTexture,\n  leftTextureCanvas,\n  redMapCanvas,\n}) {\n  const [design, setDesign] = useState(designSpec);\n  const [texturesLoaded, setTexturesLoaded] = useState(false);\n  const [currentPart, setCurrentPart] = useState(0);\n  const [currentShoe, setCurrentShoe] = useState('right');\n  const [currentLayer, setCurrentLayer] = useState(-1);\n  const [shoeVisibility, setShoeVisibility] = useState({\n    right: true,\n    left: true,\n  });\n\n  const [view, setView] = useState('DesignInfo');\n  const [layersView, setLayersView] = useState('LayersMain');\n\n  const rightBaseColorCanvasObjectRef = useRef();\n  const rightCanvasObjectRef = useRef();\n  const rightOverlaysCanvasObjectRef = useRef();\n  const leftBaseColorCanvasObjectRef = useRef();\n  const leftCanvasObjectRef = useRef();\n  const leftOverlaysCanvasObjectRef = useRef();\n\n  const [cameraReset, setCameraReset] = useState(true);\n\n  const handleUpdateGraphicVisualCanvas = (partName) => {\n    if (partName === 'outerOverlay' || partName === 'innerOverlay') {\n      if (currentShoe === 'right') {\n        updateGraphicVisualCanvas({\n          design,\n          graphicVisualCanvas,\n          partName,\n          canvasObject: rightOverlaysCanvasObjectRef.current,\n          baseColorCanvasObject: rightBaseColorCanvasObjectRef.current,\n          currentShoe,\n        });\n      } else {\n        updateGraphicVisualCanvas({\n          design,\n          graphicVisualCanvas,\n          partName,\n          canvasObject: leftOverlaysCanvasObjectRef.current,\n          baseColorCanvasObject: leftBaseColorCanvasObjectRef.current,\n          currentShoe,\n        });\n      }\n    } else {\n      if (currentShoe === 'right') {\n        updateGraphicVisualCanvas({\n          design,\n          graphicVisualCanvas,\n          partName,\n          canvasObject: rightCanvasObjectRef.current,\n          baseColorCanvasObject: rightBaseColorCanvasObjectRef.current,\n          currentShoe,\n        });\n      } else {\n        updateGraphicVisualCanvas({\n          design,\n          graphicVisualCanvas,\n          partName,\n          canvasObject: leftCanvasObjectRef.current,\n          baseColorCanvasObject: leftBaseColorCanvasObjectRef.current,\n          currentShoe,\n        });\n      }\n    }\n  };\n\n  const handleChangeManager = (changeObject) => {\n    const { partName } = changeObject;\n    if (partName === 'outerOverlay') {\n      overlayChangeManager({\n        changeObject,\n        design,\n        setDesign,\n        texture: currentShoe === 'right' ? rightTexture : leftTexture,\n        textureCanvas:\n          currentShoe === 'right' ? rightTextureCanvas : leftTextureCanvas,\n        graphicVisualCanvas,\n        canvasObject:\n          currentShoe === 'right'\n            ? rightCanvasObjectRef.current\n            : leftCanvasObjectRef.current,\n        overlayCanvas:\n          currentShoe === 'right'\n            ? rightOuterOverlayCanvas\n            : leftOuterOverlayCanvas,\n        overlayCanvasObject:\n          currentShoe === 'right'\n            ? rightOverlaysCanvasObjectRef.current\n            : leftOverlaysCanvasObjectRef.current,\n        baseColorCanvasObject:\n          currentShoe === 'right'\n            ? rightBaseColorCanvasObjectRef.current\n            : leftBaseColorCanvasObjectRef.current,\n        currentShoe,\n      });\n    } else if (partName === 'innerOverlay') {\n      overlayChangeManager({\n        changeObject,\n        design,\n        setDesign,\n        texture: currentShoe === 'right' ? rightTexture : leftTexture,\n        textureCanvas:\n          currentShoe === 'right' ? rightTextureCanvas : leftTextureCanvas,\n        graphicVisualCanvas,\n        canvasObject:\n          currentShoe === 'right'\n            ? rightCanvasObjectRef.current\n            : leftCanvasObjectRef.current,\n        overlayCanvas:\n          currentShoe === 'right'\n            ? rightInnerOverlayCanvas\n            : leftInnerOverlayCanvas,\n        overlayCanvasObject:\n          currentShoe === 'right'\n            ? rightOverlaysCanvasObjectRef.current\n            : leftOverlaysCanvasObjectRef.current,\n        baseColorCanvasObject:\n          currentShoe === 'right'\n            ? rightBaseColorCanvasObjectRef.current\n            : leftBaseColorCanvasObjectRef.current,\n        currentShoe,\n      });\n    } else {\n      partChangeManager({\n        changeObject,\n        design,\n        setDesign,\n        texture: currentShoe === 'right' ? rightTexture : leftTexture,\n        textureCanvas:\n          currentShoe === 'right' ? rightTextureCanvas : leftTextureCanvas,\n        graphicVisualCanvas,\n        canvasObject:\n          currentShoe === 'right'\n            ? rightCanvasObjectRef.current\n            : leftCanvasObjectRef.current,\n        baseColorCanvasObject:\n          currentShoe === 'right'\n            ? rightBaseColorCanvasObjectRef.current\n            : leftBaseColorCanvasObjectRef.current,\n        currentShoe,\n      });\n    }\n  };\n\n  const handleUpdateBaseColor = async (tempDesign) => {\n    // baseColor to baseColor Canvas Object\n    rightBaseColorCanvasObjectRef.current = await designObjectToCanvasObject({\n      design: tempDesign,\n      type: 'baseColorCanvasObject',\n      currentShoe: 'right',\n    });\n    leftBaseColorCanvasObjectRef.current = await designObjectToCanvasObject({\n      design: tempDesign,\n      type: 'baseColorCanvasObject',\n      currentShoe: 'left',\n    });\n    // Canvas Object to Canvas\n    const rightCanvas = await canvasObjectToTextureCanvas({\n      design,\n      canvasObject: rightCanvasObjectRef.current,\n      baseColorCanvasObject: rightBaseColorCanvasObjectRef.current,\n    });\n    const leftCanvas = await canvasObjectToTextureCanvas({\n      design,\n      canvasObject: leftCanvasObjectRef.current,\n      baseColorCanvasObject: leftBaseColorCanvasObjectRef.current,\n    });\n    // Canvas to Texture Canvas\n    rightTextureCanvas.getContext('2d').drawImage(rightCanvas, 0, 0);\n    rightTexture.needsUpdate = true;\n    leftTextureCanvas.getContext('2d').drawImage(leftCanvas, 0, 0);\n    leftTexture.needsUpdate = true;\n  };\n\n  useEffect(() => {\n    if (!rightCanvasObjectRef.current || !leftCanvasObjectRef.current) {\n      setup({\n        setTexturesLoaded,\n        design,\n        graphicVisualCanvas,\n        rightBaseColorCanvasObjectRef,\n        rightInnerOverlayCanvas,\n        rightOuterOverlayCanvas,\n        rightTexture,\n        rightTextureCanvas,\n        rightCanvasObjectRef,\n        rightOverlaysCanvasObjectRef,\n        leftBaseColorCanvasObjectRef,\n        leftInnerOverlayCanvas,\n        leftOuterOverlayCanvas,\n        leftTexture,\n        leftTextureCanvas,\n        leftCanvasObjectRef,\n        leftOverlaysCanvasObjectRef,\n      });\n    }\n  }, [\n    design,\n    graphicVisualCanvas,\n    rightInnerOverlayCanvas,\n    rightOuterOverlayCanvas,\n    rightTexture,\n    rightTextureCanvas,\n    leftInnerOverlayCanvas,\n    leftOuterOverlayCanvas,\n    leftTexture,\n    leftTextureCanvas,\n  ]);\n\n  if (design) {\n    return (\n      <DesignerContainerStyle>\n        <Scene\n          design={design}\n          setView={setView}\n          setLayersView={setLayersView}\n          rightTexture={rightTexture}\n          leftTexture={leftTexture}\n          texturesLoaded={texturesLoaded}\n          setCurrentPart={setCurrentPart}\n          setCurrentShoe={setCurrentShoe}\n          setCurrentLayer={setCurrentLayer}\n          shoeVisibility={shoeVisibility}\n          redMapCanvas={redMapCanvas}\n          cameraReset={cameraReset}\n          setCameraReset={setCameraReset}\n        />\n        <Interface\n          design={design}\n          setDesign={setDesign}\n          view={view}\n          setView={setView}\n          currentLayer={currentLayer}\n          setCurrentLayer={setCurrentLayer}\n          layersView={layersView}\n          setLayersView={setLayersView}\n          graphicVisualCanvas={graphicVisualCanvas}\n          handleUpdateGraphicVisualCanvas={handleUpdateGraphicVisualCanvas}\n          handleChangeManager={handleChangeManager}\n          handleUpdateBaseColor={handleUpdateBaseColor}\n          userData={userData}\n          currentPart={currentPart}\n          setCurrentPart={setCurrentPart}\n          currentShoe={currentShoe}\n          setCurrentShoe={setCurrentShoe}\n          shoeVisibility={shoeVisibility}\n          setShoeVisibility={setShoeVisibility}\n          setCameraReset={setCameraReset}\n        />\n      </DesignerContainerStyle>\n    );\n  } else {\n    return <DesignerContainerStyle>Please wait...</DesignerContainerStyle>;\n  }\n}\n\nexport default DesignerContainer;\n","import React, { useEffect, useState, useContext } from 'react';\nimport DesignerContainer from '../../components/DesignerContainer';\nimport {\n  createTexture,\n  createCanvas,\n  createRedMapCanvas,\n  createGraphicVisualCanvas,\n} from '../../utils/canvasFunctions';\nimport { simpleFetch } from '../../utils/fetchHelpers';\nimport { useParams } from 'react-router-dom';\nimport UserProvider from '../../UserProvider';\n\nfunction Designer() {\n  const { id } = useParams();\n  const userData = useContext(UserProvider.context);\n\n  const [designSpec, setDesignSpec] = useState(null);\n  const [graphicVisualCanvas, setGraphicVisualCanvas] = useState(null);\n\n  const [rightInnerOverlayCanvas, setRightInnerOverlayCanvas] = useState(null);\n  const [rightOuterOverlayCanvas, setRightOuterOverlayCanvas] = useState(null);\n  const [rightTextureCanvas, setRightTextureCanvas] = useState(null);\n  const [rightTexture, setRightTexture] = useState(null);\n\n  const [leftInnerOverlayCanvas, setLeftInnerOverlayCanvas] = useState(null);\n  const [leftOuterOverlayCanvas, setLeftOuterOverlayCanvas] = useState(null);\n  const [leftTextureCanvas, setLeftTextureCanvas] = useState(null);\n  const [leftTexture, setLeftTexture] = useState(null);\n\n  const [redMapCanvas, setRedMapCanvas] = useState(null);\n\n  const setup = async (data) => {\n    setDesignSpec(data);\n    setGraphicVisualCanvas(createGraphicVisualCanvas({ design: data }));\n    const canvasOne = await createCanvas({ design: data });\n    setRightInnerOverlayCanvas(canvasOne);\n    const canvasTwo = await createCanvas({ design: data });\n    setRightOuterOverlayCanvas(canvasTwo);\n    const canvasThree = await createCanvas({ design: data });\n    setRightTextureCanvas(canvasThree);\n\n    const canvasFour = await createCanvas({ design: data });\n    setLeftInnerOverlayCanvas(canvasFour);\n    const canvasFive = await createCanvas({ design: data });\n    setLeftOuterOverlayCanvas(canvasFive);\n    const canvasSix = await createCanvas({ design: data });\n    setLeftTextureCanvas(canvasSix);\n\n    const canvasSeven = await createRedMapCanvas({ design: data });\n    setRedMapCanvas(canvasSeven);\n  };\n\n  useEffect(() => {\n    if (id) {\n      simpleFetch(`/api/outlines/${id}`, 'GET')\n        .then((res) => res.json())\n        .then((data) => {\n          setup(data);\n        });\n    } else {\n      simpleFetch('/api/outlines/newdesign', 'GET')\n        .then((res) => res.json())\n        .then((data) => {\n          setup(data);\n        });\n    }\n  }, [id]);\n\n  useEffect(() => {\n    if (rightTextureCanvas && leftTextureCanvas) {\n      setRightTexture(createTexture(rightTextureCanvas));\n      setLeftTexture(createTexture(leftTextureCanvas));\n    }\n  }, [rightTextureCanvas, leftTextureCanvas]);\n\n  const initialized =\n    designSpec &&\n    graphicVisualCanvas &&\n    rightInnerOverlayCanvas &&\n    rightOuterOverlayCanvas &&\n    rightTextureCanvas &&\n    rightTexture &&\n    leftInnerOverlayCanvas &&\n    leftOuterOverlayCanvas &&\n    leftTextureCanvas &&\n    leftTexture &&\n    redMapCanvas;\n\n  if (initialized) {\n    return (\n      <DesignerContainer\n        userData={userData}\n        designSpec={designSpec}\n        graphicVisualCanvas={graphicVisualCanvas}\n        rightInnerOverlayCanvas={rightInnerOverlayCanvas}\n        rightOuterOverlayCanvas={rightOuterOverlayCanvas}\n        rightTexture={rightTexture}\n        rightTextureCanvas={rightTextureCanvas}\n        leftInnerOverlayCanvas={leftInnerOverlayCanvas}\n        leftOuterOverlayCanvas={leftOuterOverlayCanvas}\n        leftTexture={leftTexture}\n        leftTextureCanvas={leftTextureCanvas}\n        redMapCanvas={redMapCanvas}\n      />\n    );\n  } else {\n    return <div></div>;\n  }\n}\n\nexport default Designer;\n","import styled from 'styled-components';\n\nexport const LoginContainer = styled.div`\n  max-width: 400px;\n  margin: auto;\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  justify-content: center;\n  padding: 16px;\n`;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { LoginContainer } from './styledComponents';\nimport { MenuButton } from '../../components/landingui/Buttons';\n\nfunction Login() {\n  const loginWithGoogle = () => {\n    if (process.env.NODE_ENV === 'production') {\n      window.open(`http://solecomposer.com/auth/google`, '_self');\n    } else {\n      window.open(`http://localhost:8000/auth/google`, '_self');\n    }\n  };\n\n  return (\n    <LoginContainer>\n      <MenuButton google onClick={() => loginWithGoogle()}>\n        Login With Google\n      </MenuButton>\n      <Link to=\"/\">\n        <MenuButton>Back</MenuButton>\n      </Link>\n    </LoginContainer>\n  );\n}\n\nexport default Login;\n","import styled from 'styled-components';\n\nexport const ProfileContainer = styled.div`\n  max-width: 400px;\n  margin: auto;\n  display: flex;\n  flex-direction: column;\n  padding: 16px;\n`;\n","import { MenuPara } from './styledComponents';\n\nexport default MenuPara;\n","import styled from 'styled-components';\n\nexport const MenuPara = styled.p`\n  font-family: 'Roboto';\n  padding: 0;\n  text-align: center;\n  margin: 0;\n  margin-top: 15px;\n`;\n","import React, { useContext } from 'react';\nimport UserProvider from '../../UserProvider';\nimport { Link } from 'react-router-dom';\nimport { ProfileContainer } from './styledComponents';\nimport { MenuButton } from '../../components/landingui/Buttons';\nimport { MenuPara } from '../../components/landingui/Text';\n\nfunction Profile() {\n  const userData = useContext(UserProvider.context);\n\n  const handleLogout = () => {\n    if (process.env.NODE_ENV === 'production') {\n      window.open(`http://solecomposer.com/auth/logout`, '_self');\n    } else {\n      window.open(`http://localhost:8000/auth/logout`, '_self');\n    }\n  };\n\n  return (\n    <ProfileContainer>\n      <MenuPara>{userData.firstName}</MenuPara>\n      <MenuPara>{userData.email}</MenuPara>\n      <MenuButton onClick={() => handleLogout()}>Log Out</MenuButton>\n      <Link to=\"/\">\n        <MenuButton>Back</MenuButton>\n      </Link>\n    </ProfileContainer>\n  );\n}\n\nexport default Profile;\n","import styled from 'styled-components';\n\nexport const NoPageContainer = styled.div`\n  max-width: 400px;\n  margin: auto;\n  display: flex;\n  flex-direction: column;\n  padding: 16px;\n`;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { NoPageContainer } from './styledComponents';\nimport { MenuButton } from '../../components/landingui/Buttons';\nimport { MenuPara } from '../../components/landingui/Text';\n\nfunction NoPage() {\n  return (\n    <NoPageContainer>\n      <MenuPara>404 - PAGE NOT FOUND</MenuPara>\n      <Link to=\"/\">\n        <MenuButton>Home</MenuButton>\n      </Link>\n    </NoPageContainer>\n  );\n}\n\nexport default NoPage;\n","import styled from 'styled-components';\n\nexport const AppContainer = styled.div``;\n","import React from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport UserProvider from '../../UserProvider';\nimport Landing from '../Landing';\nimport Designer from '../Designer';\nimport Login from '../Login';\nimport Profile from '../Profile';\nimport NoPage from '../NoPage';\nimport { AppContainer } from './styledComponents';\nimport 'sanitize.css';\n\nfunction App() {\n  return (\n    <AppContainer>\n      <Router>\n        <UserProvider>\n          <Switch>\n            <Route exact path=\"/\" component={Landing} />\n            <Route exact path=\"/login\" component={Login} />\n            <Route exact path=\"/profile\" component={Profile} />\n            <Route exact path=\"/designer\" component={Designer} />\n            <Route exact path=\"/designer/:id\" component={Designer} />\n            <Route path=\"*\" component={NoPage} />\n          </Switch>\n        </UserProvider>\n      </Router>\n    </AppContainer>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './containers/App/App.js';\nimport * as serviceWorker from './serviceWorker';\n// import * as Sentry from '@sentry/react';\n// import { Integrations } from '@sentry/tracing';\n\n// Sentry.init({\n//   dsn:\n//     'https://d98f16c7cc0f4230b7ba30f6a76ef259@o484792.ingest.sentry.io/5538538',\n//   integrations: [new Integrations.BrowserTracing()],\n//   tracesSampleRate: 1.0,\n// });\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n"],"sourceRoot":""}