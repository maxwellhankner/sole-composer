var H8=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var TMe=H8((Zs,eo)=>{function z8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Pl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function G8(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var OO={exports:{}},tS={},FO={exports:{}},mn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev=Symbol.for("react.element"),$8=Symbol.for("react.portal"),W8=Symbol.for("react.fragment"),V8=Symbol.for("react.strict_mode"),j8=Symbol.for("react.profiler"),X8=Symbol.for("react.provider"),J8=Symbol.for("react.context"),K8=Symbol.for("react.forward_ref"),Y8=Symbol.for("react.suspense"),q8=Symbol.for("react.memo"),Q8=Symbol.for("react.lazy"),kP=Symbol.iterator;function Z8(t){return t===null||typeof t!="object"?null:(t=kP&&t[kP]||t["@@iterator"],typeof t=="function"?t:null)}var NO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UO=Object.assign,kO={};function nm(t,e,n){this.props=t,this.context=e,this.refs=kO,this.updater=n||NO}nm.prototype.isReactComponent={};nm.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};nm.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function HO(){}HO.prototype=nm.prototype;function kC(t,e,n){this.props=t,this.context=e,this.refs=kO,this.updater=n||NO}var HC=kC.prototype=new HO;HC.constructor=kC;UO(HC,nm.prototype);HC.isPureReactComponent=!0;var HP=Array.isArray,zO=Object.prototype.hasOwnProperty,zC={current:null},GO={key:!0,ref:!0,__self:!0,__source:!0};function $O(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)zO.call(e,r)&&!GO.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ev,type:t,key:s,ref:o,props:i,_owner:zC.current}}function e$(t,e){return{$$typeof:ev,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function GC(t){return typeof t=="object"&&t!==null&&t.$$typeof===ev}function t$(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var zP=/\/+/g;function bw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?t$(""+t.key):e.toString(36)}function bx(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ev:case $8:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+bw(o,0):r,HP(i)?(n="",t!=null&&(n=t.replace(zP,"$&/")+"/"),bx(i,e,n,"",function(u){return u})):i!=null&&(GC(i)&&(i=e$(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(zP,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",HP(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+bw(s,a);o+=bx(s,e,n,l,i)}else if(l=Z8(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+bw(s,a++),o+=bx(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zy(t,e,n){if(t==null)return t;var r=[],i=0;return bx(t,r,"","",function(s){return e.call(n,s,i++)}),r}function n$(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var os={current:null},Mx={transition:null},r$={ReactCurrentDispatcher:os,ReactCurrentBatchConfig:Mx,ReactCurrentOwner:zC};function WO(){throw Error("act(...) is not supported in production builds of React.")}mn.Children={map:Zy,forEach:function(t,e,n){Zy(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zy(t,function(){e++}),e},toArray:function(t){return Zy(t,function(e){return e})||[]},only:function(t){if(!GC(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};mn.Component=nm;mn.Fragment=W8;mn.Profiler=j8;mn.PureComponent=kC;mn.StrictMode=V8;mn.Suspense=Y8;mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r$;mn.act=WO;mn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=UO({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=zC.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)zO.call(e,l)&&!GO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ev,type:t.type,key:i,ref:s,props:r,_owner:o}};mn.createContext=function(t){return t={$$typeof:J8,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:X8,_context:t},t.Consumer=t};mn.createElement=$O;mn.createFactory=function(t){var e=$O.bind(null,t);return e.type=t,e};mn.createRef=function(){return{current:null}};mn.forwardRef=function(t){return{$$typeof:K8,render:t}};mn.isValidElement=GC;mn.lazy=function(t){return{$$typeof:Q8,_payload:{_status:-1,_result:t},_init:n$}};mn.memo=function(t,e){return{$$typeof:q8,type:t,compare:e===void 0?null:e}};mn.startTransition=function(t){var e=Mx.transition;Mx.transition={};try{t()}finally{Mx.transition=e}};mn.unstable_act=WO;mn.useCallback=function(t,e){return os.current.useCallback(t,e)};mn.useContext=function(t){return os.current.useContext(t)};mn.useDebugValue=function(){};mn.useDeferredValue=function(t){return os.current.useDeferredValue(t)};mn.useEffect=function(t,e){return os.current.useEffect(t,e)};mn.useId=function(){return os.current.useId()};mn.useImperativeHandle=function(t,e,n){return os.current.useImperativeHandle(t,e,n)};mn.useInsertionEffect=function(t,e){return os.current.useInsertionEffect(t,e)};mn.useLayoutEffect=function(t,e){return os.current.useLayoutEffect(t,e)};mn.useMemo=function(t,e){return os.current.useMemo(t,e)};mn.useReducer=function(t,e,n){return os.current.useReducer(t,e,n)};mn.useRef=function(t){return os.current.useRef(t)};mn.useState=function(t){return os.current.useState(t)};mn.useSyncExternalStore=function(t,e,n){return os.current.useSyncExternalStore(t,e,n)};mn.useTransition=function(){return os.current.useTransition()};mn.version="18.3.1";FO.exports=mn;var oe=FO.exports;const K=eS(oe),i$=z8({__proto__:null,default:K},[oe]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s$=oe,o$=Symbol.for("react.element"),a$=Symbol.for("react.fragment"),l$=Object.prototype.hasOwnProperty,u$=s$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c$={key:!0,ref:!0,__self:!0,__source:!0};function VO(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)l$.call(e,r)&&!c$.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:o$,type:t,key:s,ref:o,props:i,_owner:u$.current}}tS.Fragment=a$;tS.jsx=VO;tS.jsxs=VO;OO.exports=tS;var G=OO.exports,jO={exports:{}},ao={},XO={exports:{}},JO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,ee){var te=z.length;z.push(ee);e:for(;0<te;){var fe=te-1>>>1,ye=z[fe];if(0<i(ye,ee))z[fe]=ee,z[te]=ye,te=fe;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var ee=z[0],te=z.pop();if(te!==ee){z[0]=te;e:for(var fe=0,ye=z.length,ue=ye>>>1;fe<ue;){var _e=2*(fe+1)-1,Ne=z[_e],Ve=_e+1,Xe=z[Ve];if(0>i(Ne,te))Ve<ye&&0>i(Xe,Ne)?(z[fe]=Xe,z[Ve]=te,fe=Ve):(z[fe]=Ne,z[_e]=te,fe=_e);else if(Ve<ye&&0>i(Xe,te))z[fe]=Xe,z[Ve]=te,fe=Ve;else break e}}return ee}function i(z,ee){var te=z.sortIndex-ee.sortIndex;return te!==0?te:z.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,p=null,m=3,v=!1,y=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(z){for(var ee=n(u);ee!==null;){if(ee.callback===null)r(u);else if(ee.startTime<=z)r(u),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=n(u)}}function M(z){if(S=!1,x(z),!y)if(n(l)!==null)y=!0,re(R);else{var ee=n(u);ee!==null&&he(M,ee.startTime-z)}}function R(z,ee){y=!1,S&&(S=!1,_(F),F=-1),v=!0;var te=m;try{for(x(ee),p=n(l);p!==null&&(!(p.expirationTime>ee)||z&&!V());){var fe=p.callback;if(typeof fe=="function"){p.callback=null,m=p.priorityLevel;var ye=fe(p.expirationTime<=ee);ee=t.unstable_now(),typeof ye=="function"?p.callback=ye:p===n(l)&&r(l),x(ee)}else r(l);p=n(l)}if(p!==null)var ue=!0;else{var _e=n(u);_e!==null&&he(M,_e.startTime-ee),ue=!1}return ue}finally{p=null,m=te,v=!1}}var T=!1,I=null,F=-1,B=5,O=-1;function V(){return!(t.unstable_now()-O<B)}function H(){if(I!==null){var z=t.unstable_now();O=z;var ee=!0;try{ee=I(!0,z)}finally{ee?ne():(T=!1,I=null)}}else T=!1}var ne;if(typeof w=="function")ne=function(){w(H)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,q=j.port2;j.port1.onmessage=H,ne=function(){q.postMessage(null)}}else ne=function(){A(H,0)};function re(z){I=z,T||(T=!0,ne())}function he(z,ee){F=A(function(){z(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,re(R))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(m){case 1:case 2:case 3:var ee=3;break;default:ee=m}var te=m;m=ee;try{return z()}finally{m=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,ee){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var te=m;m=z;try{return ee()}finally{m=te}},t.unstable_scheduleCallback=function(z,ee,te){var fe=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?fe+te:fe):te=fe,z){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=te+ye,z={id:h++,callback:ee,priorityLevel:z,startTime:te,expirationTime:ye,sortIndex:-1},te>fe?(z.sortIndex=te,e(u,z),n(l)===null&&z===n(u)&&(S?(_(F),F=-1):S=!0,he(M,te-fe))):(z.sortIndex=ye,e(l,z),y||v||(y=!0,re(R))),z},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(z){var ee=m;return function(){var te=m;m=ee;try{return z.apply(this,arguments)}finally{m=te}}}})(JO);XO.exports=JO;var f$=XO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h$=oe,ro=f$;function We(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var KO=new Set,m0={};function dh(t,e){Op(t,e),Op(t+"Capture",e)}function Op(t,e){for(m0[t]=e,t=0;t<e.length;t++)KO.add(e[t])}var zl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_b=Object.prototype.hasOwnProperty,d$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,GP={},$P={};function p$(t){return _b.call($P,t)?!0:_b.call(GP,t)?!1:d$.test(t)?$P[t]=!0:(GP[t]=!0,!1)}function m$(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function g$(t,e,n,r){if(e===null||typeof e>"u"||m$(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function as(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ti={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ti[t]=new as(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ti[e]=new as(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ti[t]=new as(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ti[t]=new as(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ti[t]=new as(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ti[t]=new as(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ti[t]=new as(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ti[t]=new as(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ti[t]=new as(t,5,!1,t.toLowerCase(),null,!1,!1)});var $C=/[\-:]([a-z])/g;function WC(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($C,WC);Ti[e]=new as(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($C,WC);Ti[e]=new as(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($C,WC);Ti[e]=new as(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ti[t]=new as(t,1,!1,t.toLowerCase(),null,!1,!1)});Ti.xlinkHref=new as("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ti[t]=new as(t,1,!1,t.toLowerCase(),null,!0,!0)});function VC(t,e,n,r){var i=Ti.hasOwnProperty(e)?Ti[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(g$(e,n,i,r)&&(n=null),r||i===null?p$(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xl=h$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,e_=Symbol.for("react.element"),lp=Symbol.for("react.portal"),up=Symbol.for("react.fragment"),jC=Symbol.for("react.strict_mode"),xb=Symbol.for("react.profiler"),YO=Symbol.for("react.provider"),qO=Symbol.for("react.context"),XC=Symbol.for("react.forward_ref"),Sb=Symbol.for("react.suspense"),Ab=Symbol.for("react.suspense_list"),JC=Symbol.for("react.memo"),$u=Symbol.for("react.lazy"),QO=Symbol.for("react.offscreen"),WP=Symbol.iterator;function gg(t){return t===null||typeof t!="object"?null:(t=WP&&t[WP]||t["@@iterator"],typeof t=="function"?t:null)}var hr=Object.assign,Mw;function Wg(t){if(Mw===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Mw=e&&e[1]||""}return`
`+Mw+t}var Cw=!1;function Tw(t,e){if(!t||Cw)return"";Cw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Cw=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Wg(t):""}function v$(t){switch(t.tag){case 5:return Wg(t.type);case 16:return Wg("Lazy");case 13:return Wg("Suspense");case 19:return Wg("SuspenseList");case 0:case 2:case 15:return t=Tw(t.type,!1),t;case 11:return t=Tw(t.type.render,!1),t;case 1:return t=Tw(t.type,!0),t;default:return""}}function wb(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case up:return"Fragment";case lp:return"Portal";case xb:return"Profiler";case jC:return"StrictMode";case Sb:return"Suspense";case Ab:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qO:return(t.displayName||"Context")+".Consumer";case YO:return(t._context.displayName||"Context")+".Provider";case XC:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case JC:return e=t.displayName||null,e!==null?e:wb(t.type)||"Memo";case $u:e=t._payload,t=t._init;try{return wb(t(e))}catch{}}return null}function y$(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wb(e);case 8:return e===jC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function dc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ZO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _$(t){var e=ZO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function t_(t){t._valueTracker||(t._valueTracker=_$(t))}function eF(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ZO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function e1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Eb(t,e){var n=e.checked;return hr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function VP(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=dc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tF(t,e){e=e.checked,e!=null&&VC(t,"checked",e,!1)}function bb(t,e){tF(t,e);var n=dc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Mb(t,e.type,n):e.hasOwnProperty("defaultValue")&&Mb(t,e.type,dc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function jP(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Mb(t,e,n){(e!=="number"||e1(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vg=Array.isArray;function Mp(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+dc(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Cb(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(We(91));return hr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function XP(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(We(92));if(Vg(n)){if(1<n.length)throw Error(We(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:dc(n)}}function nF(t,e){var n=dc(e.value),r=dc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function JP(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rF(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tb(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rF(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var n_,iF=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(n_=n_||document.createElement("div"),n_.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=n_.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function g0(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},x$=["Webkit","ms","Moz","O"];Object.keys(Zg).forEach(function(t){x$.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zg[e]=Zg[t]})});function sF(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Zg.hasOwnProperty(t)&&Zg[t]?(""+e).trim():e+"px"}function oF(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=sF(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var S$=hr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rb(t,e){if(e){if(S$[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(We(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(We(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(We(61))}if(e.style!=null&&typeof e.style!="object")throw Error(We(62))}}function Pb(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ib=null;function KC(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lb=null,Cp=null,Tp=null;function KP(t){if(t=rv(t)){if(typeof Lb!="function")throw Error(We(280));var e=t.stateNode;e&&(e=oS(e),Lb(t.stateNode,t.type,e))}}function aF(t){Cp?Tp?Tp.push(t):Tp=[t]:Cp=t}function lF(){if(Cp){var t=Cp,e=Tp;if(Tp=Cp=null,KP(t),e)for(t=0;t<e.length;t++)KP(e[t])}}function uF(t,e){return t(e)}function cF(){}var Rw=!1;function fF(t,e,n){if(Rw)return t(e,n);Rw=!0;try{return uF(t,e,n)}finally{Rw=!1,(Cp!==null||Tp!==null)&&(cF(),lF())}}function v0(t,e){var n=t.stateNode;if(n===null)return null;var r=oS(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(We(231,e,typeof n));return n}var Bb=!1;if(zl)try{var vg={};Object.defineProperty(vg,"passive",{get:function(){Bb=!0}}),window.addEventListener("test",vg,vg),window.removeEventListener("test",vg,vg)}catch{Bb=!1}function A$(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var e0=!1,t1=null,n1=!1,Db=null,w$={onError:function(t){e0=!0,t1=t}};function E$(t,e,n,r,i,s,o,a,l){e0=!1,t1=null,A$.apply(w$,arguments)}function b$(t,e,n,r,i,s,o,a,l){if(E$.apply(this,arguments),e0){if(e0){var u=t1;e0=!1,t1=null}else throw Error(We(198));n1||(n1=!0,Db=u)}}function ph(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hF(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function YP(t){if(ph(t)!==t)throw Error(We(188))}function M$(t){var e=t.alternate;if(!e){if(e=ph(t),e===null)throw Error(We(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return YP(i),t;if(s===r)return YP(i),e;s=s.sibling}throw Error(We(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(We(189))}}if(n.alternate!==r)throw Error(We(190))}if(n.tag!==3)throw Error(We(188));return n.stateNode.current===n?t:e}function dF(t){return t=M$(t),t!==null?pF(t):null}function pF(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pF(t);if(e!==null)return e;t=t.sibling}return null}var mF=ro.unstable_scheduleCallback,qP=ro.unstable_cancelCallback,C$=ro.unstable_shouldYield,T$=ro.unstable_requestPaint,Ir=ro.unstable_now,R$=ro.unstable_getCurrentPriorityLevel,YC=ro.unstable_ImmediatePriority,gF=ro.unstable_UserBlockingPriority,r1=ro.unstable_NormalPriority,P$=ro.unstable_LowPriority,vF=ro.unstable_IdlePriority,nS=null,za=null;function I$(t){if(za&&typeof za.onCommitFiberRoot=="function")try{za.onCommitFiberRoot(nS,t,void 0,(t.current.flags&128)===128)}catch{}}var ua=Math.clz32?Math.clz32:D$,L$=Math.log,B$=Math.LN2;function D$(t){return t>>>=0,t===0?32:31-(L$(t)/B$|0)|0}var r_=64,i_=4194304;function jg(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function i1(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=jg(a):(s&=o,s!==0&&(r=jg(s)))}else o=n&~i,o!==0?r=jg(o):s!==0&&(r=jg(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ua(e),i=1<<n,r|=t[n],e&=~i;return r}function O$(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F$(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ua(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=O$(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ob(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yF(){var t=r_;return r_<<=1,!(r_&4194240)&&(r_=64),t}function Pw(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function tv(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ua(e),t[e]=n}function N$(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ua(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function qC(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ua(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ln=0;function _F(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xF,QC,SF,AF,wF,Fb=!1,s_=[],Zu=null,ec=null,tc=null,y0=new Map,_0=new Map,ju=[],U$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function QP(t,e){switch(t){case"focusin":case"focusout":Zu=null;break;case"dragenter":case"dragleave":ec=null;break;case"mouseover":case"mouseout":tc=null;break;case"pointerover":case"pointerout":y0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_0.delete(e.pointerId)}}function yg(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=rv(e),e!==null&&QC(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function k$(t,e,n,r,i){switch(e){case"focusin":return Zu=yg(Zu,t,e,n,r,i),!0;case"dragenter":return ec=yg(ec,t,e,n,r,i),!0;case"mouseover":return tc=yg(tc,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return y0.set(s,yg(y0.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,_0.set(s,yg(_0.get(s)||null,t,e,n,r,i)),!0}return!1}function EF(t){var e=Df(t.target);if(e!==null){var n=ph(e);if(n!==null){if(e=n.tag,e===13){if(e=hF(n),e!==null){t.blockedOn=e,wF(t.priority,function(){SF(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cx(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Nb(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ib=r,n.target.dispatchEvent(r),Ib=null}else return e=rv(n),e!==null&&QC(e),t.blockedOn=n,!1;e.shift()}return!0}function ZP(t,e,n){Cx(t)&&n.delete(e)}function H$(){Fb=!1,Zu!==null&&Cx(Zu)&&(Zu=null),ec!==null&&Cx(ec)&&(ec=null),tc!==null&&Cx(tc)&&(tc=null),y0.forEach(ZP),_0.forEach(ZP)}function _g(t,e){t.blockedOn===e&&(t.blockedOn=null,Fb||(Fb=!0,ro.unstable_scheduleCallback(ro.unstable_NormalPriority,H$)))}function x0(t){function e(i){return _g(i,t)}if(0<s_.length){_g(s_[0],t);for(var n=1;n<s_.length;n++){var r=s_[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Zu!==null&&_g(Zu,t),ec!==null&&_g(ec,t),tc!==null&&_g(tc,t),y0.forEach(e),_0.forEach(e),n=0;n<ju.length;n++)r=ju[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ju.length&&(n=ju[0],n.blockedOn===null);)EF(n),n.blockedOn===null&&ju.shift()}var Rp=Xl.ReactCurrentBatchConfig,s1=!0;function z$(t,e,n,r){var i=Ln,s=Rp.transition;Rp.transition=null;try{Ln=1,ZC(t,e,n,r)}finally{Ln=i,Rp.transition=s}}function G$(t,e,n,r){var i=Ln,s=Rp.transition;Rp.transition=null;try{Ln=4,ZC(t,e,n,r)}finally{Ln=i,Rp.transition=s}}function ZC(t,e,n,r){if(s1){var i=Nb(t,e,n,r);if(i===null)Hw(t,e,r,o1,n),QP(t,r);else if(k$(i,t,e,n,r))r.stopPropagation();else if(QP(t,r),e&4&&-1<U$.indexOf(t)){for(;i!==null;){var s=rv(i);if(s!==null&&xF(s),s=Nb(t,e,n,r),s===null&&Hw(t,e,r,o1,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Hw(t,e,r,null,n)}}var o1=null;function Nb(t,e,n,r){if(o1=null,t=KC(r),t=Df(t),t!==null)if(e=ph(t),e===null)t=null;else if(n=e.tag,n===13){if(t=hF(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return o1=t,null}function bF(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(R$()){case YC:return 1;case gF:return 4;case r1:case P$:return 16;case vF:return 536870912;default:return 16}default:return 16}}var Ku=null,eT=null,Tx=null;function MF(){if(Tx)return Tx;var t,e=eT,n=e.length,r,i="value"in Ku?Ku.value:Ku.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Tx=i.slice(t,1<r?1-r:void 0)}function Rx(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function o_(){return!0}function eI(){return!1}function lo(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?o_:eI,this.isPropagationStopped=eI,this}return hr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=o_)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=o_)},persist:function(){},isPersistent:o_}),e}var rm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tT=lo(rm),nv=hr({},rm,{view:0,detail:0}),$$=lo(nv),Iw,Lw,xg,rS=hr({},nv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xg&&(xg&&t.type==="mousemove"?(Iw=t.screenX-xg.screenX,Lw=t.screenY-xg.screenY):Lw=Iw=0,xg=t),Iw)},movementY:function(t){return"movementY"in t?t.movementY:Lw}}),tI=lo(rS),W$=hr({},rS,{dataTransfer:0}),V$=lo(W$),j$=hr({},nv,{relatedTarget:0}),Bw=lo(j$),X$=hr({},rm,{animationName:0,elapsedTime:0,pseudoElement:0}),J$=lo(X$),K$=hr({},rm,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Y$=lo(K$),q$=hr({},rm,{data:0}),nI=lo(q$),Q$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tW(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=eW[t])?!!e[t]:!1}function nT(){return tW}var nW=hr({},nv,{key:function(t){if(t.key){var e=Q$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rx(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Z$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nT,charCode:function(t){return t.type==="keypress"?Rx(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rx(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rW=lo(nW),iW=hr({},rS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rI=lo(iW),sW=hr({},nv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nT}),oW=lo(sW),aW=hr({},rm,{propertyName:0,elapsedTime:0,pseudoElement:0}),lW=lo(aW),uW=hr({},rS,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cW=lo(uW),fW=[9,13,27,32],rT=zl&&"CompositionEvent"in window,t0=null;zl&&"documentMode"in document&&(t0=document.documentMode);var hW=zl&&"TextEvent"in window&&!t0,CF=zl&&(!rT||t0&&8<t0&&11>=t0),iI=String.fromCharCode(32),sI=!1;function TF(t,e){switch(t){case"keyup":return fW.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RF(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var cp=!1;function dW(t,e){switch(t){case"compositionend":return RF(e);case"keypress":return e.which!==32?null:(sI=!0,iI);case"textInput":return t=e.data,t===iI&&sI?null:t;default:return null}}function pW(t,e){if(cp)return t==="compositionend"||!rT&&TF(t,e)?(t=MF(),Tx=eT=Ku=null,cp=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return CF&&e.locale!=="ko"?null:e.data;default:return null}}var mW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!mW[t.type]:e==="textarea"}function PF(t,e,n,r){aF(r),e=a1(e,"onChange"),0<e.length&&(n=new tT("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var n0=null,S0=null;function gW(t){zF(t,0)}function iS(t){var e=dp(t);if(eF(e))return t}function vW(t,e){if(t==="change")return e}var IF=!1;if(zl){var Dw;if(zl){var Ow="oninput"in document;if(!Ow){var aI=document.createElement("div");aI.setAttribute("oninput","return;"),Ow=typeof aI.oninput=="function"}Dw=Ow}else Dw=!1;IF=Dw&&(!document.documentMode||9<document.documentMode)}function lI(){n0&&(n0.detachEvent("onpropertychange",LF),S0=n0=null)}function LF(t){if(t.propertyName==="value"&&iS(S0)){var e=[];PF(e,S0,t,KC(t)),fF(gW,e)}}function yW(t,e,n){t==="focusin"?(lI(),n0=e,S0=n,n0.attachEvent("onpropertychange",LF)):t==="focusout"&&lI()}function _W(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return iS(S0)}function xW(t,e){if(t==="click")return iS(e)}function SW(t,e){if(t==="input"||t==="change")return iS(e)}function AW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ha=typeof Object.is=="function"?Object.is:AW;function A0(t,e){if(ha(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!_b.call(e,i)||!ha(t[i],e[i]))return!1}return!0}function uI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cI(t,e){var n=uI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=uI(n)}}function BF(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?BF(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function DF(){for(var t=window,e=e1();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=e1(t.document)}return e}function iT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wW(t){var e=DF(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&BF(n.ownerDocument.documentElement,n)){if(r!==null&&iT(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=cI(n,s);var o=cI(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var EW=zl&&"documentMode"in document&&11>=document.documentMode,fp=null,Ub=null,r0=null,kb=!1;function fI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kb||fp==null||fp!==e1(r)||(r=fp,"selectionStart"in r&&iT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),r0&&A0(r0,r)||(r0=r,r=a1(Ub,"onSelect"),0<r.length&&(e=new tT("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=fp)))}function a_(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var hp={animationend:a_("Animation","AnimationEnd"),animationiteration:a_("Animation","AnimationIteration"),animationstart:a_("Animation","AnimationStart"),transitionend:a_("Transition","TransitionEnd")},Fw={},OF={};zl&&(OF=document.createElement("div").style,"AnimationEvent"in window||(delete hp.animationend.animation,delete hp.animationiteration.animation,delete hp.animationstart.animation),"TransitionEvent"in window||delete hp.transitionend.transition);function sS(t){if(Fw[t])return Fw[t];if(!hp[t])return t;var e=hp[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in OF)return Fw[t]=e[n];return t}var FF=sS("animationend"),NF=sS("animationiteration"),UF=sS("animationstart"),kF=sS("transitionend"),HF=new Map,hI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sc(t,e){HF.set(t,e),dh(e,[t])}for(var Nw=0;Nw<hI.length;Nw++){var Uw=hI[Nw],bW=Uw.toLowerCase(),MW=Uw[0].toUpperCase()+Uw.slice(1);Sc(bW,"on"+MW)}Sc(FF,"onAnimationEnd");Sc(NF,"onAnimationIteration");Sc(UF,"onAnimationStart");Sc("dblclick","onDoubleClick");Sc("focusin","onFocus");Sc("focusout","onBlur");Sc(kF,"onTransitionEnd");Op("onMouseEnter",["mouseout","mouseover"]);Op("onMouseLeave",["mouseout","mouseover"]);Op("onPointerEnter",["pointerout","pointerover"]);Op("onPointerLeave",["pointerout","pointerover"]);dh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dh("onBeforeInput",["compositionend","keypress","textInput","paste"]);dh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CW=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xg));function dI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,b$(r,e,void 0,t),t.currentTarget=null}function zF(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;dI(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;dI(i,a,u),s=l}}}if(n1)throw t=Db,n1=!1,Db=null,t}function Jn(t,e){var n=e[Wb];n===void 0&&(n=e[Wb]=new Set);var r=t+"__bubble";n.has(r)||(GF(e,t,2,!1),n.add(r))}function kw(t,e,n){var r=0;e&&(r|=4),GF(n,t,r,e)}var l_="_reactListening"+Math.random().toString(36).slice(2);function w0(t){if(!t[l_]){t[l_]=!0,KO.forEach(function(n){n!=="selectionchange"&&(CW.has(n)||kw(n,!1,t),kw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[l_]||(e[l_]=!0,kw("selectionchange",!1,e))}}function GF(t,e,n,r){switch(bF(e)){case 1:var i=z$;break;case 4:i=G$;break;default:i=ZC}n=i.bind(null,e,n,t),i=void 0,!Bb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Hw(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Df(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}fF(function(){var u=s,h=KC(n),p=[];e:{var m=HF.get(t);if(m!==void 0){var v=tT,y=t;switch(t){case"keypress":if(Rx(n)===0)break e;case"keydown":case"keyup":v=rW;break;case"focusin":y="focus",v=Bw;break;case"focusout":y="blur",v=Bw;break;case"beforeblur":case"afterblur":v=Bw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=tI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=V$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=oW;break;case FF:case NF:case UF:v=J$;break;case kF:v=lW;break;case"scroll":v=$$;break;case"wheel":v=cW;break;case"copy":case"cut":case"paste":v=Y$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=rI}var S=(e&4)!==0,A=!S&&t==="scroll",_=S?m!==null?m+"Capture":null:m;S=[];for(var w=u,x;w!==null;){x=w;var M=x.stateNode;if(x.tag===5&&M!==null&&(x=M,_!==null&&(M=v0(w,_),M!=null&&S.push(E0(w,M,x)))),A)break;w=w.return}0<S.length&&(m=new v(m,y,null,n,h),p.push({event:m,listeners:S}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==Ib&&(y=n.relatedTarget||n.fromElement)&&(Df(y)||y[Gl]))break e;if((v||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=u,y=y?Df(y):null,y!==null&&(A=ph(y),y!==A||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(S=tI,M="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(S=rI,M="onPointerLeave",_="onPointerEnter",w="pointer"),A=v==null?m:dp(v),x=y==null?m:dp(y),m=new S(M,w+"leave",v,n,h),m.target=A,m.relatedTarget=x,M=null,Df(h)===u&&(S=new S(_,w+"enter",y,n,h),S.target=x,S.relatedTarget=A,M=S),A=M,v&&y)t:{for(S=v,_=y,w=0,x=S;x;x=md(x))w++;for(x=0,M=_;M;M=md(M))x++;for(;0<w-x;)S=md(S),w--;for(;0<x-w;)_=md(_),x--;for(;w--;){if(S===_||_!==null&&S===_.alternate)break t;S=md(S),_=md(_)}S=null}else S=null;v!==null&&pI(p,m,v,S,!1),y!==null&&A!==null&&pI(p,A,y,S,!0)}}e:{if(m=u?dp(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var R=vW;else if(oI(m))if(IF)R=SW;else{R=_W;var T=yW}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(R=xW);if(R&&(R=R(t,u))){PF(p,R,n,h);break e}T&&T(t,m,u),t==="focusout"&&(T=m._wrapperState)&&T.controlled&&m.type==="number"&&Mb(m,"number",m.value)}switch(T=u?dp(u):window,t){case"focusin":(oI(T)||T.contentEditable==="true")&&(fp=T,Ub=u,r0=null);break;case"focusout":r0=Ub=fp=null;break;case"mousedown":kb=!0;break;case"contextmenu":case"mouseup":case"dragend":kb=!1,fI(p,n,h);break;case"selectionchange":if(EW)break;case"keydown":case"keyup":fI(p,n,h)}var I;if(rT)e:{switch(t){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else cp?TF(t,n)&&(F="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(CF&&n.locale!=="ko"&&(cp||F!=="onCompositionStart"?F==="onCompositionEnd"&&cp&&(I=MF()):(Ku=h,eT="value"in Ku?Ku.value:Ku.textContent,cp=!0)),T=a1(u,F),0<T.length&&(F=new nI(F,t,null,n,h),p.push({event:F,listeners:T}),I?F.data=I:(I=RF(n),I!==null&&(F.data=I)))),(I=hW?dW(t,n):pW(t,n))&&(u=a1(u,"onBeforeInput"),0<u.length&&(h=new nI("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:u}),h.data=I))}zF(p,e)})}function E0(t,e,n){return{instance:t,listener:e,currentTarget:n}}function a1(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=v0(t,n),s!=null&&r.unshift(E0(t,s,i)),s=v0(t,e),s!=null&&r.push(E0(t,s,i))),t=t.return}return r}function md(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function pI(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=v0(n,s),l!=null&&o.unshift(E0(n,l,a))):i||(l=v0(n,s),l!=null&&o.push(E0(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var TW=/\r\n?/g,RW=/\u0000|\uFFFD/g;function mI(t){return(typeof t=="string"?t:""+t).replace(TW,`
`).replace(RW,"")}function u_(t,e,n){if(e=mI(e),mI(t)!==e&&n)throw Error(We(425))}function l1(){}var Hb=null,zb=null;function Gb(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $b=typeof setTimeout=="function"?setTimeout:void 0,PW=typeof clearTimeout=="function"?clearTimeout:void 0,gI=typeof Promise=="function"?Promise:void 0,IW=typeof queueMicrotask=="function"?queueMicrotask:typeof gI<"u"?function(t){return gI.resolve(null).then(t).catch(LW)}:$b;function LW(t){setTimeout(function(){throw t})}function zw(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),x0(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);x0(e)}function nc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function vI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var im=Math.random().toString(36).slice(2),Ha="__reactFiber$"+im,b0="__reactProps$"+im,Gl="__reactContainer$"+im,Wb="__reactEvents$"+im,BW="__reactListeners$"+im,DW="__reactHandles$"+im;function Df(t){var e=t[Ha];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Gl]||n[Ha]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=vI(t);t!==null;){if(n=t[Ha])return n;t=vI(t)}return e}t=n,n=t.parentNode}return null}function rv(t){return t=t[Ha]||t[Gl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function dp(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(We(33))}function oS(t){return t[b0]||null}var Vb=[],pp=-1;function Ac(t){return{current:t}}function Qn(t){0>pp||(t.current=Vb[pp],Vb[pp]=null,pp--)}function jn(t,e){pp++,Vb[pp]=t.current,t.current=e}var pc={},zi=Ac(pc),bs=Ac(!1),th=pc;function Fp(t,e){var n=t.type.contextTypes;if(!n)return pc;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ms(t){return t=t.childContextTypes,t!=null}function u1(){Qn(bs),Qn(zi)}function yI(t,e,n){if(zi.current!==pc)throw Error(We(168));jn(zi,e),jn(bs,n)}function $F(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(We(108,y$(t)||"Unknown",i));return hr({},n,r)}function c1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||pc,th=zi.current,jn(zi,t),jn(bs,bs.current),!0}function _I(t,e,n){var r=t.stateNode;if(!r)throw Error(We(169));n?(t=$F(t,e,th),r.__reactInternalMemoizedMergedChildContext=t,Qn(bs),Qn(zi),jn(zi,t)):Qn(bs),jn(bs,n)}var Tl=null,aS=!1,Gw=!1;function WF(t){Tl===null?Tl=[t]:Tl.push(t)}function OW(t){aS=!0,WF(t)}function wc(){if(!Gw&&Tl!==null){Gw=!0;var t=0,e=Ln;try{var n=Tl;for(Ln=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Tl=null,aS=!1}catch(i){throw Tl!==null&&(Tl=Tl.slice(t+1)),mF(YC,wc),i}finally{Ln=e,Gw=!1}}return null}var mp=[],gp=0,f1=null,h1=0,To=[],Ro=0,nh=null,Ll=1,Bl="";function Ef(t,e){mp[gp++]=h1,mp[gp++]=f1,f1=t,h1=e}function VF(t,e,n){To[Ro++]=Ll,To[Ro++]=Bl,To[Ro++]=nh,nh=t;var r=Ll;t=Bl;var i=32-ua(r)-1;r&=~(1<<i),n+=1;var s=32-ua(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ll=1<<32-ua(e)+i|n<<i|r,Bl=s+t}else Ll=1<<s|n<<i|r,Bl=t}function sT(t){t.return!==null&&(Ef(t,1),VF(t,1,0))}function oT(t){for(;t===f1;)f1=mp[--gp],mp[gp]=null,h1=mp[--gp],mp[gp]=null;for(;t===nh;)nh=To[--Ro],To[Ro]=null,Bl=To[--Ro],To[Ro]=null,Ll=To[--Ro],To[Ro]=null}var to=null,qs=null,nr=!1,ra=null;function jF(t,e){var n=Po(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function xI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,to=t,qs=nc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,to=t,qs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=nh!==null?{id:Ll,overflow:Bl}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Po(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,to=t,qs=null,!0):!1;default:return!1}}function jb(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xb(t){if(nr){var e=qs;if(e){var n=e;if(!xI(t,e)){if(jb(t))throw Error(We(418));e=nc(n.nextSibling);var r=to;e&&xI(t,e)?jF(r,n):(t.flags=t.flags&-4097|2,nr=!1,to=t)}}else{if(jb(t))throw Error(We(418));t.flags=t.flags&-4097|2,nr=!1,to=t}}}function SI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;to=t}function c_(t){if(t!==to)return!1;if(!nr)return SI(t),nr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Gb(t.type,t.memoizedProps)),e&&(e=qs)){if(jb(t))throw XF(),Error(We(418));for(;e;)jF(t,e),e=nc(e.nextSibling)}if(SI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(We(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qs=nc(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qs=null}}else qs=to?nc(t.stateNode.nextSibling):null;return!0}function XF(){for(var t=qs;t;)t=nc(t.nextSibling)}function Np(){qs=to=null,nr=!1}function aT(t){ra===null?ra=[t]:ra.push(t)}var FW=Xl.ReactCurrentBatchConfig;function Sg(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(We(309));var r=n.stateNode}if(!r)throw Error(We(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(We(284));if(!n._owner)throw Error(We(290,t))}return t}function f_(t,e){throw t=Object.prototype.toString.call(e),Error(We(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function AI(t){var e=t._init;return e(t._payload)}function JF(t){function e(_,w){if(t){var x=_.deletions;x===null?(_.deletions=[w],_.flags|=16):x.push(w)}}function n(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function r(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function i(_,w){return _=oc(_,w),_.index=0,_.sibling=null,_}function s(_,w,x){return _.index=x,t?(x=_.alternate,x!==null?(x=x.index,x<w?(_.flags|=2,w):x):(_.flags|=2,w)):(_.flags|=1048576,w)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,w,x,M){return w===null||w.tag!==6?(w=Kw(x,_.mode,M),w.return=_,w):(w=i(w,x),w.return=_,w)}function l(_,w,x,M){var R=x.type;return R===up?h(_,w,x.props.children,M,x.key):w!==null&&(w.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===$u&&AI(R)===w.type)?(M=i(w,x.props),M.ref=Sg(_,w,x),M.return=_,M):(M=Fx(x.type,x.key,x.props,null,_.mode,M),M.ref=Sg(_,w,x),M.return=_,M)}function u(_,w,x,M){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=Yw(x,_.mode,M),w.return=_,w):(w=i(w,x.children||[]),w.return=_,w)}function h(_,w,x,M,R){return w===null||w.tag!==7?(w=Xf(x,_.mode,M,R),w.return=_,w):(w=i(w,x),w.return=_,w)}function p(_,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Kw(""+w,_.mode,x),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case e_:return x=Fx(w.type,w.key,w.props,null,_.mode,x),x.ref=Sg(_,null,w),x.return=_,x;case lp:return w=Yw(w,_.mode,x),w.return=_,w;case $u:var M=w._init;return p(_,M(w._payload),x)}if(Vg(w)||gg(w))return w=Xf(w,_.mode,x,null),w.return=_,w;f_(_,w)}return null}function m(_,w,x,M){var R=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return R!==null?null:a(_,w,""+x,M);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case e_:return x.key===R?l(_,w,x,M):null;case lp:return x.key===R?u(_,w,x,M):null;case $u:return R=x._init,m(_,w,R(x._payload),M)}if(Vg(x)||gg(x))return R!==null?null:h(_,w,x,M,null);f_(_,x)}return null}function v(_,w,x,M,R){if(typeof M=="string"&&M!==""||typeof M=="number")return _=_.get(x)||null,a(w,_,""+M,R);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case e_:return _=_.get(M.key===null?x:M.key)||null,l(w,_,M,R);case lp:return _=_.get(M.key===null?x:M.key)||null,u(w,_,M,R);case $u:var T=M._init;return v(_,w,x,T(M._payload),R)}if(Vg(M)||gg(M))return _=_.get(x)||null,h(w,_,M,R,null);f_(w,M)}return null}function y(_,w,x,M){for(var R=null,T=null,I=w,F=w=0,B=null;I!==null&&F<x.length;F++){I.index>F?(B=I,I=null):B=I.sibling;var O=m(_,I,x[F],M);if(O===null){I===null&&(I=B);break}t&&I&&O.alternate===null&&e(_,I),w=s(O,w,F),T===null?R=O:T.sibling=O,T=O,I=B}if(F===x.length)return n(_,I),nr&&Ef(_,F),R;if(I===null){for(;F<x.length;F++)I=p(_,x[F],M),I!==null&&(w=s(I,w,F),T===null?R=I:T.sibling=I,T=I);return nr&&Ef(_,F),R}for(I=r(_,I);F<x.length;F++)B=v(I,_,F,x[F],M),B!==null&&(t&&B.alternate!==null&&I.delete(B.key===null?F:B.key),w=s(B,w,F),T===null?R=B:T.sibling=B,T=B);return t&&I.forEach(function(V){return e(_,V)}),nr&&Ef(_,F),R}function S(_,w,x,M){var R=gg(x);if(typeof R!="function")throw Error(We(150));if(x=R.call(x),x==null)throw Error(We(151));for(var T=R=null,I=w,F=w=0,B=null,O=x.next();I!==null&&!O.done;F++,O=x.next()){I.index>F?(B=I,I=null):B=I.sibling;var V=m(_,I,O.value,M);if(V===null){I===null&&(I=B);break}t&&I&&V.alternate===null&&e(_,I),w=s(V,w,F),T===null?R=V:T.sibling=V,T=V,I=B}if(O.done)return n(_,I),nr&&Ef(_,F),R;if(I===null){for(;!O.done;F++,O=x.next())O=p(_,O.value,M),O!==null&&(w=s(O,w,F),T===null?R=O:T.sibling=O,T=O);return nr&&Ef(_,F),R}for(I=r(_,I);!O.done;F++,O=x.next())O=v(I,_,F,O.value,M),O!==null&&(t&&O.alternate!==null&&I.delete(O.key===null?F:O.key),w=s(O,w,F),T===null?R=O:T.sibling=O,T=O);return t&&I.forEach(function(H){return e(_,H)}),nr&&Ef(_,F),R}function A(_,w,x,M){if(typeof x=="object"&&x!==null&&x.type===up&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case e_:e:{for(var R=x.key,T=w;T!==null;){if(T.key===R){if(R=x.type,R===up){if(T.tag===7){n(_,T.sibling),w=i(T,x.props.children),w.return=_,_=w;break e}}else if(T.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===$u&&AI(R)===T.type){n(_,T.sibling),w=i(T,x.props),w.ref=Sg(_,T,x),w.return=_,_=w;break e}n(_,T);break}else e(_,T);T=T.sibling}x.type===up?(w=Xf(x.props.children,_.mode,M,x.key),w.return=_,_=w):(M=Fx(x.type,x.key,x.props,null,_.mode,M),M.ref=Sg(_,w,x),M.return=_,_=M)}return o(_);case lp:e:{for(T=x.key;w!==null;){if(w.key===T)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(_,w.sibling),w=i(w,x.children||[]),w.return=_,_=w;break e}else{n(_,w);break}else e(_,w);w=w.sibling}w=Yw(x,_.mode,M),w.return=_,_=w}return o(_);case $u:return T=x._init,A(_,w,T(x._payload),M)}if(Vg(x))return y(_,w,x,M);if(gg(x))return S(_,w,x,M);f_(_,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(n(_,w.sibling),w=i(w,x),w.return=_,_=w):(n(_,w),w=Kw(x,_.mode,M),w.return=_,_=w),o(_)):n(_,w)}return A}var Up=JF(!0),KF=JF(!1),d1=Ac(null),p1=null,vp=null,lT=null;function uT(){lT=vp=p1=null}function cT(t){var e=d1.current;Qn(d1),t._currentValue=e}function Jb(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Pp(t,e){p1=t,lT=vp=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ws=!0),t.firstContext=null)}function Bo(t){var e=t._currentValue;if(lT!==t)if(t={context:t,memoizedValue:e,next:null},vp===null){if(p1===null)throw Error(We(308));vp=t,p1.dependencies={lanes:0,firstContext:t}}else vp=vp.next=t;return e}var Of=null;function fT(t){Of===null?Of=[t]:Of.push(t)}function YF(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,fT(e)):(n.next=i.next,i.next=n),e.interleaved=n,$l(t,r)}function $l(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wu=!1;function hT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qF(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Nl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rc(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,bn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,$l(t,n)}return i=r.interleaved,i===null?(e.next=e,fT(r)):(e.next=i.next,i.next=e),r.interleaved=e,$l(t,n)}function Px(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qC(t,n)}}function wI(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function m1(t,e,n,r){var i=t.updateQueue;Wu=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;o=0,h=u=l=null,a=s;do{var m=a.lane,v=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,S=a;switch(m=e,v=n,S.tag){case 1:if(y=S.payload,typeof y=="function"){p=y.call(v,p,m);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=S.payload,m=typeof y=="function"?y.call(v,p,m):y,m==null)break e;p=hr({},p,m);break e;case 2:Wu=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else v={eventTime:v,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=v,l=p):h=h.next=v,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(h===null&&(l=p),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ih|=o,t.lanes=o,t.memoizedState=p}}function EI(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(We(191,i));i.call(r)}}}var iv={},Ga=Ac(iv),M0=Ac(iv),C0=Ac(iv);function Ff(t){if(t===iv)throw Error(We(174));return t}function dT(t,e){switch(jn(C0,e),jn(M0,t),jn(Ga,iv),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tb(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Tb(e,t)}Qn(Ga),jn(Ga,e)}function kp(){Qn(Ga),Qn(M0),Qn(C0)}function QF(t){Ff(C0.current);var e=Ff(Ga.current),n=Tb(e,t.type);e!==n&&(jn(M0,t),jn(Ga,n))}function pT(t){M0.current===t&&(Qn(Ga),Qn(M0))}var ar=Ac(0);function g1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $w=[];function mT(){for(var t=0;t<$w.length;t++)$w[t]._workInProgressVersionPrimary=null;$w.length=0}var Ix=Xl.ReactCurrentDispatcher,Ww=Xl.ReactCurrentBatchConfig,rh=0,cr=null,Qr=null,mi=null,v1=!1,i0=!1,T0=0,NW=0;function Di(){throw Error(We(321))}function gT(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ha(t[n],e[n]))return!1;return!0}function vT(t,e,n,r,i,s){if(rh=s,cr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ix.current=t===null||t.memoizedState===null?zW:GW,t=n(r,i),i0){s=0;do{if(i0=!1,T0=0,25<=s)throw Error(We(301));s+=1,mi=Qr=null,e.updateQueue=null,Ix.current=$W,t=n(r,i)}while(i0)}if(Ix.current=y1,e=Qr!==null&&Qr.next!==null,rh=0,mi=Qr=cr=null,v1=!1,e)throw Error(We(300));return t}function yT(){var t=T0!==0;return T0=0,t}function Ua(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mi===null?cr.memoizedState=mi=t:mi=mi.next=t,mi}function Do(){if(Qr===null){var t=cr.alternate;t=t!==null?t.memoizedState:null}else t=Qr.next;var e=mi===null?cr.memoizedState:mi.next;if(e!==null)mi=e,Qr=t;else{if(t===null)throw Error(We(310));Qr=t,t={memoizedState:Qr.memoizedState,baseState:Qr.baseState,baseQueue:Qr.baseQueue,queue:Qr.queue,next:null},mi===null?cr.memoizedState=mi=t:mi=mi.next=t}return mi}function R0(t,e){return typeof e=="function"?e(t):e}function Vw(t){var e=Do(),n=e.queue;if(n===null)throw Error(We(311));n.lastRenderedReducer=t;var r=Qr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((rh&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,cr.lanes|=h,ih|=h}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,ha(r,e.memoizedState)||(ws=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,cr.lanes|=s,ih|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function jw(t){var e=Do(),n=e.queue;if(n===null)throw Error(We(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ha(s,e.memoizedState)||(ws=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function ZF(){}function eN(t,e){var n=cr,r=Do(),i=e(),s=!ha(r.memoizedState,i);if(s&&(r.memoizedState=i,ws=!0),r=r.queue,_T(rN.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||mi!==null&&mi.memoizedState.tag&1){if(n.flags|=2048,P0(9,nN.bind(null,n,r,i,e),void 0,null),yi===null)throw Error(We(349));rh&30||tN(n,e,i)}return i}function tN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=cr.updateQueue,e===null?(e={lastEffect:null,stores:null},cr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function nN(t,e,n,r){e.value=n,e.getSnapshot=r,iN(e)&&sN(t)}function rN(t,e,n){return n(function(){iN(e)&&sN(t)})}function iN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ha(t,n)}catch{return!0}}function sN(t){var e=$l(t,1);e!==null&&ca(e,t,1,-1)}function bI(t){var e=Ua();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:R0,lastRenderedState:t},e.queue=t,t=t.dispatch=HW.bind(null,cr,t),[e.memoizedState,t]}function P0(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=cr.updateQueue,e===null?(e={lastEffect:null,stores:null},cr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function oN(){return Do().memoizedState}function Lx(t,e,n,r){var i=Ua();cr.flags|=t,i.memoizedState=P0(1|e,n,void 0,r===void 0?null:r)}function lS(t,e,n,r){var i=Do();r=r===void 0?null:r;var s=void 0;if(Qr!==null){var o=Qr.memoizedState;if(s=o.destroy,r!==null&&gT(r,o.deps)){i.memoizedState=P0(e,n,s,r);return}}cr.flags|=t,i.memoizedState=P0(1|e,n,s,r)}function MI(t,e){return Lx(8390656,8,t,e)}function _T(t,e){return lS(2048,8,t,e)}function aN(t,e){return lS(4,2,t,e)}function lN(t,e){return lS(4,4,t,e)}function uN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cN(t,e,n){return n=n!=null?n.concat([t]):null,lS(4,4,uN.bind(null,e,t),n)}function xT(){}function fN(t,e){var n=Do();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gT(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function hN(t,e){var n=Do();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&gT(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function dN(t,e,n){return rh&21?(ha(n,e)||(n=yF(),cr.lanes|=n,ih|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ws=!0),t.memoizedState=n)}function UW(t,e){var n=Ln;Ln=n!==0&&4>n?n:4,t(!0);var r=Ww.transition;Ww.transition={};try{t(!1),e()}finally{Ln=n,Ww.transition=r}}function pN(){return Do().memoizedState}function kW(t,e,n){var r=sc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mN(t))gN(e,n);else if(n=YF(t,e,n,r),n!==null){var i=is();ca(n,t,r,i),vN(n,e,r)}}function HW(t,e,n){var r=sc(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mN(t))gN(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ha(a,o)){var l=e.interleaved;l===null?(i.next=i,fT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=YF(t,e,i,r),n!==null&&(i=is(),ca(n,t,r,i),vN(n,e,r))}}function mN(t){var e=t.alternate;return t===cr||e!==null&&e===cr}function gN(t,e){i0=v1=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function vN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qC(t,n)}}var y1={readContext:Bo,useCallback:Di,useContext:Di,useEffect:Di,useImperativeHandle:Di,useInsertionEffect:Di,useLayoutEffect:Di,useMemo:Di,useReducer:Di,useRef:Di,useState:Di,useDebugValue:Di,useDeferredValue:Di,useTransition:Di,useMutableSource:Di,useSyncExternalStore:Di,useId:Di,unstable_isNewReconciler:!1},zW={readContext:Bo,useCallback:function(t,e){return Ua().memoizedState=[t,e===void 0?null:e],t},useContext:Bo,useEffect:MI,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Lx(4194308,4,uN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Lx(4194308,4,t,e)},useInsertionEffect:function(t,e){return Lx(4,2,t,e)},useMemo:function(t,e){var n=Ua();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ua();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=kW.bind(null,cr,t),[r.memoizedState,t]},useRef:function(t){var e=Ua();return t={current:t},e.memoizedState=t},useState:bI,useDebugValue:xT,useDeferredValue:function(t){return Ua().memoizedState=t},useTransition:function(){var t=bI(!1),e=t[0];return t=UW.bind(null,t[1]),Ua().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=cr,i=Ua();if(nr){if(n===void 0)throw Error(We(407));n=n()}else{if(n=e(),yi===null)throw Error(We(349));rh&30||tN(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,MI(rN.bind(null,r,s,t),[t]),r.flags|=2048,P0(9,nN.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ua(),e=yi.identifierPrefix;if(nr){var n=Bl,r=Ll;n=(r&~(1<<32-ua(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=T0++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=NW++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},GW={readContext:Bo,useCallback:fN,useContext:Bo,useEffect:_T,useImperativeHandle:cN,useInsertionEffect:aN,useLayoutEffect:lN,useMemo:hN,useReducer:Vw,useRef:oN,useState:function(){return Vw(R0)},useDebugValue:xT,useDeferredValue:function(t){var e=Do();return dN(e,Qr.memoizedState,t)},useTransition:function(){var t=Vw(R0)[0],e=Do().memoizedState;return[t,e]},useMutableSource:ZF,useSyncExternalStore:eN,useId:pN,unstable_isNewReconciler:!1},$W={readContext:Bo,useCallback:fN,useContext:Bo,useEffect:_T,useImperativeHandle:cN,useInsertionEffect:aN,useLayoutEffect:lN,useMemo:hN,useReducer:jw,useRef:oN,useState:function(){return jw(R0)},useDebugValue:xT,useDeferredValue:function(t){var e=Do();return Qr===null?e.memoizedState=t:dN(e,Qr.memoizedState,t)},useTransition:function(){var t=jw(R0)[0],e=Do().memoizedState;return[t,e]},useMutableSource:ZF,useSyncExternalStore:eN,useId:pN,unstable_isNewReconciler:!1};function ea(t,e){if(t&&t.defaultProps){e=hr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Kb(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:hr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var uS={isMounted:function(t){return(t=t._reactInternals)?ph(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=is(),i=sc(t),s=Nl(r,i);s.payload=e,n!=null&&(s.callback=n),e=rc(t,s,i),e!==null&&(ca(e,t,i,r),Px(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=is(),i=sc(t),s=Nl(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=rc(t,s,i),e!==null&&(ca(e,t,i,r),Px(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=is(),r=sc(t),i=Nl(n,r);i.tag=2,e!=null&&(i.callback=e),e=rc(t,i,r),e!==null&&(ca(e,t,r,n),Px(e,t,r))}};function CI(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!A0(n,r)||!A0(i,s):!0}function yN(t,e,n){var r=!1,i=pc,s=e.contextType;return typeof s=="object"&&s!==null?s=Bo(s):(i=Ms(e)?th:zi.current,r=e.contextTypes,s=(r=r!=null)?Fp(t,i):pc),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=uS,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function TI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&uS.enqueueReplaceState(e,e.state,null)}function Yb(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},hT(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Bo(s):(s=Ms(e)?th:zi.current,i.context=Fp(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Kb(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&uS.enqueueReplaceState(i,i.state,null),m1(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Hp(t,e){try{var n="",r=e;do n+=v$(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Xw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qb(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var WW=typeof WeakMap=="function"?WeakMap:Map;function _N(t,e,n){n=Nl(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){x1||(x1=!0,aM=r),qb(t,e)},n}function xN(t,e,n){n=Nl(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){qb(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){qb(t,e),typeof r!="function"&&(ic===null?ic=new Set([this]):ic.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function RI(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new WW;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=iV.bind(null,t,e,n),e.then(t,t))}function PI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function II(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Nl(-1,1),e.tag=2,rc(n,e,1))),n.lanes|=1),t)}var VW=Xl.ReactCurrentOwner,ws=!1;function ns(t,e,n,r){e.child=t===null?KF(e,null,n,r):Up(e,t.child,n,r)}function LI(t,e,n,r,i){n=n.render;var s=e.ref;return Pp(e,i),r=vT(t,e,n,r,s,i),n=yT(),t!==null&&!ws?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wl(t,e,i)):(nr&&n&&sT(e),e.flags|=1,ns(t,e,r,i),e.child)}function BI(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!TT(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,SN(t,e,s,r,i)):(t=Fx(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:A0,n(o,r)&&t.ref===e.ref)return Wl(t,e,i)}return e.flags|=1,t=oc(s,r),t.ref=e.ref,t.return=e,e.child=t}function SN(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(A0(s,r)&&t.ref===e.ref)if(ws=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ws=!0);else return e.lanes=t.lanes,Wl(t,e,i)}return Qb(t,e,n,r,i)}function AN(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},jn(_p,Js),Js|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,jn(_p,Js),Js|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,jn(_p,Js),Js|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,jn(_p,Js),Js|=r;return ns(t,e,i,n),e.child}function wN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Qb(t,e,n,r,i){var s=Ms(n)?th:zi.current;return s=Fp(e,s),Pp(e,i),n=vT(t,e,n,r,s,i),r=yT(),t!==null&&!ws?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wl(t,e,i)):(nr&&r&&sT(e),e.flags|=1,ns(t,e,n,i),e.child)}function DI(t,e,n,r,i){if(Ms(n)){var s=!0;c1(e)}else s=!1;if(Pp(e,i),e.stateNode===null)Bx(t,e),yN(e,n,r),Yb(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Bo(u):(u=Ms(n)?th:zi.current,u=Fp(e,u));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&TI(e,o,r,u),Wu=!1;var m=e.memoizedState;o.state=m,m1(e,r,o,i),l=e.memoizedState,a!==r||m!==l||bs.current||Wu?(typeof h=="function"&&(Kb(e,n,h,r),l=e.memoizedState),(a=Wu||CI(e,n,a,r,m,l,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,qF(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ea(e.type,a),o.props=u,p=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Bo(l):(l=Ms(n)?th:zi.current,l=Fp(e,l));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||m!==l)&&TI(e,o,r,l),Wu=!1,m=e.memoizedState,o.state=m,m1(e,r,o,i);var y=e.memoizedState;a!==p||m!==y||bs.current||Wu?(typeof v=="function"&&(Kb(e,n,v,r),y=e.memoizedState),(u=Wu||CI(e,n,u,r,m,y,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Zb(t,e,n,r,s,i)}function Zb(t,e,n,r,i,s){wN(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&_I(e,n,!1),Wl(t,e,s);r=e.stateNode,VW.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Up(e,t.child,null,s),e.child=Up(e,null,a,s)):ns(t,e,a,s),e.memoizedState=r.state,i&&_I(e,n,!0),e.child}function EN(t){var e=t.stateNode;e.pendingContext?yI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&yI(t,e.context,!1),dT(t,e.containerInfo)}function OI(t,e,n,r,i){return Np(),aT(i),e.flags|=256,ns(t,e,n,r),e.child}var eM={dehydrated:null,treeContext:null,retryLane:0};function tM(t){return{baseLanes:t,cachePool:null,transitions:null}}function bN(t,e,n){var r=e.pendingProps,i=ar.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),jn(ar,i&1),t===null)return Xb(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=hS(o,r,0,null),t=Xf(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=tM(n),e.memoizedState=eM,t):ST(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return jW(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=oc(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=oc(a,s):(s=Xf(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?tM(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=eM,r}return s=t.child,t=s.sibling,r=oc(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ST(t,e){return e=hS({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function h_(t,e,n,r){return r!==null&&aT(r),Up(e,t.child,null,n),t=ST(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jW(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Xw(Error(We(422))),h_(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=hS({mode:"visible",children:r.children},i,0,null),s=Xf(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Up(e,t.child,null,o),e.child.memoizedState=tM(o),e.memoizedState=eM,s);if(!(e.mode&1))return h_(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(We(419)),r=Xw(s,r,void 0),h_(t,e,o,r)}if(a=(o&t.childLanes)!==0,ws||a){if(r=yi,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,$l(t,i),ca(r,t,i,-1))}return CT(),r=Xw(Error(We(421))),h_(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=sV.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,qs=nc(i.nextSibling),to=e,nr=!0,ra=null,t!==null&&(To[Ro++]=Ll,To[Ro++]=Bl,To[Ro++]=nh,Ll=t.id,Bl=t.overflow,nh=e),e=ST(e,r.children),e.flags|=4096,e)}function FI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Jb(t.return,e,n)}function Jw(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function MN(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ns(t,e,r.children,n),r=ar.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&FI(t,n,e);else if(t.tag===19)FI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(jn(ar,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&g1(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Jw(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&g1(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Jw(e,!0,n,null,s);break;case"together":Jw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Bx(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ih|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(We(153));if(e.child!==null){for(t=e.child,n=oc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=oc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function XW(t,e,n){switch(e.tag){case 3:EN(e),Np();break;case 5:QF(e);break;case 1:Ms(e.type)&&c1(e);break;case 4:dT(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;jn(d1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(jn(ar,ar.current&1),e.flags|=128,null):n&e.child.childLanes?bN(t,e,n):(jn(ar,ar.current&1),t=Wl(t,e,n),t!==null?t.sibling:null);jn(ar,ar.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return MN(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),jn(ar,ar.current),r)break;return null;case 22:case 23:return e.lanes=0,AN(t,e,n)}return Wl(t,e,n)}var CN,nM,TN,RN;CN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nM=function(){};TN=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ff(Ga.current);var s=null;switch(n){case"input":i=Eb(t,i),r=Eb(t,r),s=[];break;case"select":i=hr({},i,{value:void 0}),r=hr({},r,{value:void 0}),s=[];break;case"textarea":i=Cb(t,i),r=Cb(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=l1)}Rb(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(m0.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(m0.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Jn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};RN=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ag(t,e){if(!nr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Oi(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function JW(t,e,n){var r=e.pendingProps;switch(oT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oi(e),null;case 1:return Ms(e.type)&&u1(),Oi(e),null;case 3:return r=e.stateNode,kp(),Qn(bs),Qn(zi),mT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(c_(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ra!==null&&(cM(ra),ra=null))),nM(t,e),Oi(e),null;case 5:pT(e);var i=Ff(C0.current);if(n=e.type,t!==null&&e.stateNode!=null)TN(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(We(166));return Oi(e),null}if(t=Ff(Ga.current),c_(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ha]=e,r[b0]=s,t=(e.mode&1)!==0,n){case"dialog":Jn("cancel",r),Jn("close",r);break;case"iframe":case"object":case"embed":Jn("load",r);break;case"video":case"audio":for(i=0;i<Xg.length;i++)Jn(Xg[i],r);break;case"source":Jn("error",r);break;case"img":case"image":case"link":Jn("error",r),Jn("load",r);break;case"details":Jn("toggle",r);break;case"input":VP(r,s),Jn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Jn("invalid",r);break;case"textarea":XP(r,s),Jn("invalid",r)}Rb(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&u_(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&u_(r.textContent,a,t),i=["children",""+a]):m0.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Jn("scroll",r)}switch(n){case"input":t_(r),jP(r,s,!0);break;case"textarea":t_(r),JP(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=l1)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rF(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ha]=e,t[b0]=r,CN(t,e,!1,!1),e.stateNode=t;e:{switch(o=Pb(n,r),n){case"dialog":Jn("cancel",t),Jn("close",t),i=r;break;case"iframe":case"object":case"embed":Jn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Xg.length;i++)Jn(Xg[i],t);i=r;break;case"source":Jn("error",t),i=r;break;case"img":case"image":case"link":Jn("error",t),Jn("load",t),i=r;break;case"details":Jn("toggle",t),i=r;break;case"input":VP(t,r),i=Eb(t,r),Jn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=hr({},r,{value:void 0}),Jn("invalid",t);break;case"textarea":XP(t,r),i=Cb(t,r),Jn("invalid",t);break;default:i=r}Rb(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?oF(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&iF(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&g0(t,l):typeof l=="number"&&g0(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(m0.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Jn("scroll",t):l!=null&&VC(t,s,l,o))}switch(n){case"input":t_(t),jP(t,r,!1);break;case"textarea":t_(t),JP(t);break;case"option":r.value!=null&&t.setAttribute("value",""+dc(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Mp(t,!!r.multiple,s,!1):r.defaultValue!=null&&Mp(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=l1)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Oi(e),null;case 6:if(t&&e.stateNode!=null)RN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(We(166));if(n=Ff(C0.current),Ff(Ga.current),c_(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ha]=e,(s=r.nodeValue!==n)&&(t=to,t!==null))switch(t.tag){case 3:u_(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&u_(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ha]=e,e.stateNode=r}return Oi(e),null;case 13:if(Qn(ar),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(nr&&qs!==null&&e.mode&1&&!(e.flags&128))XF(),Np(),e.flags|=98560,s=!1;else if(s=c_(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(We(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(We(317));s[Ha]=e}else Np(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Oi(e),s=!1}else ra!==null&&(cM(ra),ra=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ar.current&1?ei===0&&(ei=3):CT())),e.updateQueue!==null&&(e.flags|=4),Oi(e),null);case 4:return kp(),nM(t,e),t===null&&w0(e.stateNode.containerInfo),Oi(e),null;case 10:return cT(e.type._context),Oi(e),null;case 17:return Ms(e.type)&&u1(),Oi(e),null;case 19:if(Qn(ar),s=e.memoizedState,s===null)return Oi(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ag(s,!1);else{if(ei!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=g1(t),o!==null){for(e.flags|=128,Ag(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return jn(ar,ar.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ir()>zp&&(e.flags|=128,r=!0,Ag(s,!1),e.lanes=4194304)}else{if(!r)if(t=g1(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ag(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!nr)return Oi(e),null}else 2*Ir()-s.renderingStartTime>zp&&n!==1073741824&&(e.flags|=128,r=!0,Ag(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ir(),e.sibling=null,n=ar.current,jn(ar,r?n&1|2:n&1),e):(Oi(e),null);case 22:case 23:return MT(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Js&1073741824&&(Oi(e),e.subtreeFlags&6&&(e.flags|=8192)):Oi(e),null;case 24:return null;case 25:return null}throw Error(We(156,e.tag))}function KW(t,e){switch(oT(e),e.tag){case 1:return Ms(e.type)&&u1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return kp(),Qn(bs),Qn(zi),mT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return pT(e),null;case 13:if(Qn(ar),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(We(340));Np()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qn(ar),null;case 4:return kp(),null;case 10:return cT(e.type._context),null;case 22:case 23:return MT(),null;case 24:return null;default:return null}}var d_=!1,ki=!1,YW=typeof WeakSet=="function"?WeakSet:Set,mt=null;function yp(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_r(t,e,r)}else n.current=null}function rM(t,e,n){try{n()}catch(r){_r(t,e,r)}}var NI=!1;function qW(t,e){if(Hb=s1,t=DF(),iT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,p=t,m=null;t:for(;;){for(var v;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(v=p.firstChild)!==null;)m=p,p=v;for(;;){if(p===t)break t;if(m===n&&++u===i&&(a=o),m===s&&++h===r&&(l=o),(v=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(zb={focusedElem:t,selectionRange:n},s1=!1,mt=e;mt!==null;)if(e=mt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,mt=t;else for(;mt!==null;){e=mt;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var S=y.memoizedProps,A=y.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?S:ea(e.type,S),A);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(We(163))}}catch(M){_r(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,mt=t;break}mt=e.return}return y=NI,NI=!1,y}function s0(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&rM(e,n,s)}i=i.next}while(i!==r)}}function cS(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function iM(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function PN(t){var e=t.alternate;e!==null&&(t.alternate=null,PN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ha],delete e[b0],delete e[Wb],delete e[BW],delete e[DW])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function IN(t){return t.tag===5||t.tag===3||t.tag===4}function UI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||IN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sM(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=l1));else if(r!==4&&(t=t.child,t!==null))for(sM(t,e,n),t=t.sibling;t!==null;)sM(t,e,n),t=t.sibling}function oM(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(oM(t,e,n),t=t.sibling;t!==null;)oM(t,e,n),t=t.sibling}var wi=null,na=!1;function Iu(t,e,n){for(n=n.child;n!==null;)LN(t,e,n),n=n.sibling}function LN(t,e,n){if(za&&typeof za.onCommitFiberUnmount=="function")try{za.onCommitFiberUnmount(nS,n)}catch{}switch(n.tag){case 5:ki||yp(n,e);case 6:var r=wi,i=na;wi=null,Iu(t,e,n),wi=r,na=i,wi!==null&&(na?(t=wi,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):wi.removeChild(n.stateNode));break;case 18:wi!==null&&(na?(t=wi,n=n.stateNode,t.nodeType===8?zw(t.parentNode,n):t.nodeType===1&&zw(t,n),x0(t)):zw(wi,n.stateNode));break;case 4:r=wi,i=na,wi=n.stateNode.containerInfo,na=!0,Iu(t,e,n),wi=r,na=i;break;case 0:case 11:case 14:case 15:if(!ki&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&rM(n,e,o),i=i.next}while(i!==r)}Iu(t,e,n);break;case 1:if(!ki&&(yp(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){_r(n,e,a)}Iu(t,e,n);break;case 21:Iu(t,e,n);break;case 22:n.mode&1?(ki=(r=ki)||n.memoizedState!==null,Iu(t,e,n),ki=r):Iu(t,e,n);break;default:Iu(t,e,n)}}function kI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new YW),e.forEach(function(r){var i=oV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ko(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:wi=a.stateNode,na=!1;break e;case 3:wi=a.stateNode.containerInfo,na=!0;break e;case 4:wi=a.stateNode.containerInfo,na=!0;break e}a=a.return}if(wi===null)throw Error(We(160));LN(s,o,i),wi=null,na=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){_r(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)BN(e,t),e=e.sibling}function BN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ko(e,t),Na(t),r&4){try{s0(3,t,t.return),cS(3,t)}catch(S){_r(t,t.return,S)}try{s0(5,t,t.return)}catch(S){_r(t,t.return,S)}}break;case 1:Ko(e,t),Na(t),r&512&&n!==null&&yp(n,n.return);break;case 5:if(Ko(e,t),Na(t),r&512&&n!==null&&yp(n,n.return),t.flags&32){var i=t.stateNode;try{g0(i,"")}catch(S){_r(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&tF(i,s),Pb(a,o);var u=Pb(a,s);for(o=0;o<l.length;o+=2){var h=l[o],p=l[o+1];h==="style"?oF(i,p):h==="dangerouslySetInnerHTML"?iF(i,p):h==="children"?g0(i,p):VC(i,h,p,u)}switch(a){case"input":bb(i,s);break;case"textarea":nF(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Mp(i,!!s.multiple,v,!1):m!==!!s.multiple&&(s.defaultValue!=null?Mp(i,!!s.multiple,s.defaultValue,!0):Mp(i,!!s.multiple,s.multiple?[]:"",!1))}i[b0]=s}catch(S){_r(t,t.return,S)}}break;case 6:if(Ko(e,t),Na(t),r&4){if(t.stateNode===null)throw Error(We(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){_r(t,t.return,S)}}break;case 3:if(Ko(e,t),Na(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{x0(e.containerInfo)}catch(S){_r(t,t.return,S)}break;case 4:Ko(e,t),Na(t);break;case 13:Ko(e,t),Na(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ET=Ir())),r&4&&kI(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(ki=(u=ki)||h,Ko(e,t),ki=u):Ko(e,t),Na(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(mt=t,h=t.child;h!==null;){for(p=mt=h;mt!==null;){switch(m=mt,v=m.child,m.tag){case 0:case 11:case 14:case 15:s0(4,m,m.return);break;case 1:yp(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(S){_r(r,n,S)}}break;case 5:yp(m,m.return);break;case 22:if(m.memoizedState!==null){zI(p);continue}}v!==null?(v.return=m,mt=v):zI(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{i=p.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=sF("display",o))}catch(S){_r(t,t.return,S)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(S){_r(t,t.return,S)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ko(e,t),Na(t),r&4&&kI(t);break;case 21:break;default:Ko(e,t),Na(t)}}function Na(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(IN(n)){var r=n;break e}n=n.return}throw Error(We(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(g0(i,""),r.flags&=-33);var s=UI(t);oM(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=UI(t);sM(t,a,o);break;default:throw Error(We(161))}}catch(l){_r(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function QW(t,e,n){mt=t,DN(t)}function DN(t,e,n){for(var r=(t.mode&1)!==0;mt!==null;){var i=mt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||d_;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ki;a=d_;var u=ki;if(d_=o,(ki=l)&&!u)for(mt=i;mt!==null;)o=mt,l=o.child,o.tag===22&&o.memoizedState!==null?GI(i):l!==null?(l.return=o,mt=l):GI(i);for(;s!==null;)mt=s,DN(s),s=s.sibling;mt=i,d_=a,ki=u}HI(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,mt=s):HI(t)}}function HI(t){for(;mt!==null;){var e=mt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ki||cS(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ki)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ea(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&EI(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}EI(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&x0(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(We(163))}ki||e.flags&512&&iM(e)}catch(m){_r(e,e.return,m)}}if(e===t){mt=null;break}if(n=e.sibling,n!==null){n.return=e.return,mt=n;break}mt=e.return}}function zI(t){for(;mt!==null;){var e=mt;if(e===t){mt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,mt=n;break}mt=e.return}}function GI(t){for(;mt!==null;){var e=mt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{cS(4,e)}catch(l){_r(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){_r(e,i,l)}}var s=e.return;try{iM(e)}catch(l){_r(e,s,l)}break;case 5:var o=e.return;try{iM(e)}catch(l){_r(e,o,l)}}}catch(l){_r(e,e.return,l)}if(e===t){mt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,mt=a;break}mt=e.return}}var ZW=Math.ceil,_1=Xl.ReactCurrentDispatcher,AT=Xl.ReactCurrentOwner,Lo=Xl.ReactCurrentBatchConfig,bn=0,yi=null,$r=null,bi=0,Js=0,_p=Ac(0),ei=0,I0=null,ih=0,fS=0,wT=0,o0=null,_s=null,ET=0,zp=1/0,bl=null,x1=!1,aM=null,ic=null,p_=!1,Yu=null,S1=0,a0=0,lM=null,Dx=-1,Ox=0;function is(){return bn&6?Ir():Dx!==-1?Dx:Dx=Ir()}function sc(t){return t.mode&1?bn&2&&bi!==0?bi&-bi:FW.transition!==null?(Ox===0&&(Ox=yF()),Ox):(t=Ln,t!==0||(t=window.event,t=t===void 0?16:bF(t.type)),t):1}function ca(t,e,n,r){if(50<a0)throw a0=0,lM=null,Error(We(185));tv(t,n,r),(!(bn&2)||t!==yi)&&(t===yi&&(!(bn&2)&&(fS|=n),ei===4&&Xu(t,bi)),Cs(t,r),n===1&&bn===0&&!(e.mode&1)&&(zp=Ir()+500,aS&&wc()))}function Cs(t,e){var n=t.callbackNode;F$(t,e);var r=i1(t,t===yi?bi:0);if(r===0)n!==null&&qP(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&qP(n),e===1)t.tag===0?OW($I.bind(null,t)):WF($I.bind(null,t)),IW(function(){!(bn&6)&&wc()}),n=null;else{switch(_F(r)){case 1:n=YC;break;case 4:n=gF;break;case 16:n=r1;break;case 536870912:n=vF;break;default:n=r1}n=GN(n,ON.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ON(t,e){if(Dx=-1,Ox=0,bn&6)throw Error(We(327));var n=t.callbackNode;if(Ip()&&t.callbackNode!==n)return null;var r=i1(t,t===yi?bi:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=A1(t,r);else{e=r;var i=bn;bn|=2;var s=NN();(yi!==t||bi!==e)&&(bl=null,zp=Ir()+500,jf(t,e));do try{nV();break}catch(a){FN(t,a)}while(1);uT(),_1.current=s,bn=i,$r!==null?e=0:(yi=null,bi=0,e=ei)}if(e!==0){if(e===2&&(i=Ob(t),i!==0&&(r=i,e=uM(t,i))),e===1)throw n=I0,jf(t,0),Xu(t,r),Cs(t,Ir()),n;if(e===6)Xu(t,r);else{if(i=t.current.alternate,!(r&30)&&!eV(i)&&(e=A1(t,r),e===2&&(s=Ob(t),s!==0&&(r=s,e=uM(t,s))),e===1))throw n=I0,jf(t,0),Xu(t,r),Cs(t,Ir()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(We(345));case 2:bf(t,_s,bl);break;case 3:if(Xu(t,r),(r&130023424)===r&&(e=ET+500-Ir(),10<e)){if(i1(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){is(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=$b(bf.bind(null,t,_s,bl),e);break}bf(t,_s,bl);break;case 4:if(Xu(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ua(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ir()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ZW(r/1960))-r,10<r){t.timeoutHandle=$b(bf.bind(null,t,_s,bl),r);break}bf(t,_s,bl);break;case 5:bf(t,_s,bl);break;default:throw Error(We(329))}}}return Cs(t,Ir()),t.callbackNode===n?ON.bind(null,t):null}function uM(t,e){var n=o0;return t.current.memoizedState.isDehydrated&&(jf(t,e).flags|=256),t=A1(t,e),t!==2&&(e=_s,_s=n,e!==null&&cM(e)),t}function cM(t){_s===null?_s=t:_s.push.apply(_s,t)}function eV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ha(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xu(t,e){for(e&=~wT,e&=~fS,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ua(e),r=1<<n;t[n]=-1,e&=~r}}function $I(t){if(bn&6)throw Error(We(327));Ip();var e=i1(t,0);if(!(e&1))return Cs(t,Ir()),null;var n=A1(t,e);if(t.tag!==0&&n===2){var r=Ob(t);r!==0&&(e=r,n=uM(t,r))}if(n===1)throw n=I0,jf(t,0),Xu(t,e),Cs(t,Ir()),n;if(n===6)throw Error(We(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,bf(t,_s,bl),Cs(t,Ir()),null}function bT(t,e){var n=bn;bn|=1;try{return t(e)}finally{bn=n,bn===0&&(zp=Ir()+500,aS&&wc())}}function sh(t){Yu!==null&&Yu.tag===0&&!(bn&6)&&Ip();var e=bn;bn|=1;var n=Lo.transition,r=Ln;try{if(Lo.transition=null,Ln=1,t)return t()}finally{Ln=r,Lo.transition=n,bn=e,!(bn&6)&&wc()}}function MT(){Js=_p.current,Qn(_p)}function jf(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,PW(n)),$r!==null)for(n=$r.return;n!==null;){var r=n;switch(oT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&u1();break;case 3:kp(),Qn(bs),Qn(zi),mT();break;case 5:pT(r);break;case 4:kp();break;case 13:Qn(ar);break;case 19:Qn(ar);break;case 10:cT(r.type._context);break;case 22:case 23:MT()}n=n.return}if(yi=t,$r=t=oc(t.current,null),bi=Js=e,ei=0,I0=null,wT=fS=ih=0,_s=o0=null,Of!==null){for(e=0;e<Of.length;e++)if(n=Of[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Of=null}return t}function FN(t,e){do{var n=$r;try{if(uT(),Ix.current=y1,v1){for(var r=cr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}v1=!1}if(rh=0,mi=Qr=cr=null,i0=!1,T0=0,AT.current=null,n===null||n.return===null){ei=1,I0=e,$r=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=bi,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=PI(o);if(v!==null){v.flags&=-257,II(v,o,a,s,e),v.mode&1&&RI(s,u,e),e=v,l=u;var y=e.updateQueue;if(y===null){var S=new Set;S.add(l),e.updateQueue=S}else y.add(l);break e}else{if(!(e&1)){RI(s,u,e),CT();break e}l=Error(We(426))}}else if(nr&&a.mode&1){var A=PI(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),II(A,o,a,s,e),aT(Hp(l,a));break e}}s=l=Hp(l,a),ei!==4&&(ei=2),o0===null?o0=[s]:o0.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=_N(s,l,e);wI(s,_);break e;case 1:a=l;var w=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ic===null||!ic.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=xN(s,a,e);wI(s,M);break e}}s=s.return}while(s!==null)}kN(n)}catch(R){e=R,$r===n&&n!==null&&($r=n=n.return);continue}break}while(1)}function NN(){var t=_1.current;return _1.current=y1,t===null?y1:t}function CT(){(ei===0||ei===3||ei===2)&&(ei=4),yi===null||!(ih&268435455)&&!(fS&268435455)||Xu(yi,bi)}function A1(t,e){var n=bn;bn|=2;var r=NN();(yi!==t||bi!==e)&&(bl=null,jf(t,e));do try{tV();break}catch(i){FN(t,i)}while(1);if(uT(),bn=n,_1.current=r,$r!==null)throw Error(We(261));return yi=null,bi=0,ei}function tV(){for(;$r!==null;)UN($r)}function nV(){for(;$r!==null&&!C$();)UN($r)}function UN(t){var e=zN(t.alternate,t,Js);t.memoizedProps=t.pendingProps,e===null?kN(t):$r=e,AT.current=null}function kN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=KW(n,e),n!==null){n.flags&=32767,$r=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ei=6,$r=null;return}}else if(n=JW(n,e,Js),n!==null){$r=n;return}if(e=e.sibling,e!==null){$r=e;return}$r=e=t}while(e!==null);ei===0&&(ei=5)}function bf(t,e,n){var r=Ln,i=Lo.transition;try{Lo.transition=null,Ln=1,rV(t,e,n,r)}finally{Lo.transition=i,Ln=r}return null}function rV(t,e,n,r){do Ip();while(Yu!==null);if(bn&6)throw Error(We(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(We(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(N$(t,s),t===yi&&($r=yi=null,bi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||p_||(p_=!0,GN(r1,function(){return Ip(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Lo.transition,Lo.transition=null;var o=Ln;Ln=1;var a=bn;bn|=4,AT.current=null,qW(t,n),BN(n,t),wW(zb),s1=!!Hb,zb=Hb=null,t.current=n,QW(n),T$(),bn=a,Ln=o,Lo.transition=s}else t.current=n;if(p_&&(p_=!1,Yu=t,S1=i),s=t.pendingLanes,s===0&&(ic=null),I$(n.stateNode),Cs(t,Ir()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(x1)throw x1=!1,t=aM,aM=null,t;return S1&1&&t.tag!==0&&Ip(),s=t.pendingLanes,s&1?t===lM?a0++:(a0=0,lM=t):a0=0,wc(),null}function Ip(){if(Yu!==null){var t=_F(S1),e=Lo.transition,n=Ln;try{if(Lo.transition=null,Ln=16>t?16:t,Yu===null)var r=!1;else{if(t=Yu,Yu=null,S1=0,bn&6)throw Error(We(331));var i=bn;for(bn|=4,mt=t.current;mt!==null;){var s=mt,o=s.child;if(mt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(mt=u;mt!==null;){var h=mt;switch(h.tag){case 0:case 11:case 15:s0(8,h,s)}var p=h.child;if(p!==null)p.return=h,mt=p;else for(;mt!==null;){h=mt;var m=h.sibling,v=h.return;if(PN(h),h===u){mt=null;break}if(m!==null){m.return=v,mt=m;break}mt=v}}}var y=s.alternate;if(y!==null){var S=y.child;if(S!==null){y.child=null;do{var A=S.sibling;S.sibling=null,S=A}while(S!==null)}}mt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,mt=o;else e:for(;mt!==null;){if(s=mt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:s0(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,mt=_;break e}mt=s.return}}var w=t.current;for(mt=w;mt!==null;){o=mt;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,mt=x;else e:for(o=w;mt!==null;){if(a=mt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:cS(9,a)}}catch(R){_r(a,a.return,R)}if(a===o){mt=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,mt=M;break e}mt=a.return}}if(bn=i,wc(),za&&typeof za.onPostCommitFiberRoot=="function")try{za.onPostCommitFiberRoot(nS,t)}catch{}r=!0}return r}finally{Ln=n,Lo.transition=e}}return!1}function WI(t,e,n){e=Hp(n,e),e=_N(t,e,1),t=rc(t,e,1),e=is(),t!==null&&(tv(t,1,e),Cs(t,e))}function _r(t,e,n){if(t.tag===3)WI(t,t,n);else for(;e!==null;){if(e.tag===3){WI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ic===null||!ic.has(r))){t=Hp(n,t),t=xN(e,t,1),e=rc(e,t,1),t=is(),e!==null&&(tv(e,1,t),Cs(e,t));break}}e=e.return}}function iV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=is(),t.pingedLanes|=t.suspendedLanes&n,yi===t&&(bi&n)===n&&(ei===4||ei===3&&(bi&130023424)===bi&&500>Ir()-ET?jf(t,0):wT|=n),Cs(t,e)}function HN(t,e){e===0&&(t.mode&1?(e=i_,i_<<=1,!(i_&130023424)&&(i_=4194304)):e=1);var n=is();t=$l(t,e),t!==null&&(tv(t,e,n),Cs(t,n))}function sV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),HN(t,n)}function oV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(We(314))}r!==null&&r.delete(e),HN(t,n)}var zN;zN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||bs.current)ws=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ws=!1,XW(t,e,n);ws=!!(t.flags&131072)}else ws=!1,nr&&e.flags&1048576&&VF(e,h1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Bx(t,e),t=e.pendingProps;var i=Fp(e,zi.current);Pp(e,n),i=vT(null,e,r,t,i,n);var s=yT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ms(r)?(s=!0,c1(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hT(e),i.updater=uS,e.stateNode=i,i._reactInternals=e,Yb(e,r,t,n),e=Zb(null,e,r,!0,s,n)):(e.tag=0,nr&&s&&sT(e),ns(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Bx(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=lV(r),t=ea(r,t),i){case 0:e=Qb(null,e,r,t,n);break e;case 1:e=DI(null,e,r,t,n);break e;case 11:e=LI(null,e,r,t,n);break e;case 14:e=BI(null,e,r,ea(r.type,t),n);break e}throw Error(We(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ea(r,i),Qb(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ea(r,i),DI(t,e,r,i,n);case 3:e:{if(EN(e),t===null)throw Error(We(387));r=e.pendingProps,s=e.memoizedState,i=s.element,qF(t,e),m1(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Hp(Error(We(423)),e),e=OI(t,e,r,n,i);break e}else if(r!==i){i=Hp(Error(We(424)),e),e=OI(t,e,r,n,i);break e}else for(qs=nc(e.stateNode.containerInfo.firstChild),to=e,nr=!0,ra=null,n=KF(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Np(),r===i){e=Wl(t,e,n);break e}ns(t,e,r,n)}e=e.child}return e;case 5:return QF(e),t===null&&Xb(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Gb(r,i)?o=null:s!==null&&Gb(r,s)&&(e.flags|=32),wN(t,e),ns(t,e,o,n),e.child;case 6:return t===null&&Xb(e),null;case 13:return bN(t,e,n);case 4:return dT(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Up(e,null,r,n):ns(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ea(r,i),LI(t,e,r,i,n);case 7:return ns(t,e,e.pendingProps,n),e.child;case 8:return ns(t,e,e.pendingProps.children,n),e.child;case 12:return ns(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,jn(d1,r._currentValue),r._currentValue=o,s!==null)if(ha(s.value,o)){if(s.children===i.children&&!bs.current){e=Wl(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Nl(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Jb(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(We(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Jb(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ns(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Pp(e,n),i=Bo(i),r=r(i),e.flags|=1,ns(t,e,r,n),e.child;case 14:return r=e.type,i=ea(r,e.pendingProps),i=ea(r.type,i),BI(t,e,r,i,n);case 15:return SN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ea(r,i),Bx(t,e),e.tag=1,Ms(r)?(t=!0,c1(e)):t=!1,Pp(e,n),yN(e,r,i),Yb(e,r,i,n),Zb(null,e,r,!0,t,n);case 19:return MN(t,e,n);case 22:return AN(t,e,n)}throw Error(We(156,e.tag))};function GN(t,e){return mF(t,e)}function aV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Po(t,e,n,r){return new aV(t,e,n,r)}function TT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lV(t){if(typeof t=="function")return TT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===XC)return 11;if(t===JC)return 14}return 2}function oc(t,e){var n=t.alternate;return n===null?(n=Po(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fx(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")TT(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case up:return Xf(n.children,i,s,e);case jC:o=8,i|=8;break;case xb:return t=Po(12,n,e,i|2),t.elementType=xb,t.lanes=s,t;case Sb:return t=Po(13,n,e,i),t.elementType=Sb,t.lanes=s,t;case Ab:return t=Po(19,n,e,i),t.elementType=Ab,t.lanes=s,t;case QO:return hS(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case YO:o=10;break e;case qO:o=9;break e;case XC:o=11;break e;case JC:o=14;break e;case $u:o=16,r=null;break e}throw Error(We(130,t==null?t:typeof t,""))}return e=Po(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Xf(t,e,n,r){return t=Po(7,t,r,e),t.lanes=n,t}function hS(t,e,n,r){return t=Po(22,t,r,e),t.elementType=QO,t.lanes=n,t.stateNode={isHidden:!1},t}function Kw(t,e,n){return t=Po(6,t,null,e),t.lanes=n,t}function Yw(t,e,n){return e=Po(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function uV(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pw(0),this.expirationTimes=Pw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function RT(t,e,n,r,i,s,o,a,l){return t=new uV(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Po(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hT(s),t}function cV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lp,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function $N(t){if(!t)return pc;t=t._reactInternals;e:{if(ph(t)!==t||t.tag!==1)throw Error(We(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ms(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(We(171))}if(t.tag===1){var n=t.type;if(Ms(n))return $F(t,n,e)}return e}function WN(t,e,n,r,i,s,o,a,l){return t=RT(n,r,!0,t,i,s,o,a,l),t.context=$N(null),n=t.current,r=is(),i=sc(n),s=Nl(r,i),s.callback=e??null,rc(n,s,i),t.current.lanes=i,tv(t,i,r),Cs(t,r),t}function dS(t,e,n,r){var i=e.current,s=is(),o=sc(i);return n=$N(n),e.context===null?e.context=n:e.pendingContext=n,e=Nl(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=rc(i,e,o),t!==null&&(ca(t,i,o,s),Px(t,i,o)),o}function w1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function VI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function PT(t,e){VI(t,e),(t=t.alternate)&&VI(t,e)}function fV(){return null}var VN=typeof reportError=="function"?reportError:function(t){console.error(t)};function IT(t){this._internalRoot=t}pS.prototype.render=IT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(We(409));dS(t,e,null,null)};pS.prototype.unmount=IT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sh(function(){dS(null,t,null,null)}),e[Gl]=null}};function pS(t){this._internalRoot=t}pS.prototype.unstable_scheduleHydration=function(t){if(t){var e=AF();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ju.length&&e!==0&&e<ju[n].priority;n++);ju.splice(n,0,t),n===0&&EF(t)}};function LT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function mS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function jI(){}function hV(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=w1(o);s.call(u)}}var o=WN(e,r,t,0,null,!1,!1,"",jI);return t._reactRootContainer=o,t[Gl]=o.current,w0(t.nodeType===8?t.parentNode:t),sh(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=w1(l);a.call(u)}}var l=RT(t,0,!1,null,null,!1,!1,"",jI);return t._reactRootContainer=l,t[Gl]=l.current,w0(t.nodeType===8?t.parentNode:t),sh(function(){dS(e,l,n,r)}),l}function gS(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=w1(o);a.call(l)}}dS(e,o,t,i)}else o=hV(n,e,t,i,r);return w1(o)}xF=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=jg(e.pendingLanes);n!==0&&(qC(e,n|1),Cs(e,Ir()),!(bn&6)&&(zp=Ir()+500,wc()))}break;case 13:sh(function(){var r=$l(t,1);if(r!==null){var i=is();ca(r,t,1,i)}}),PT(t,1)}};QC=function(t){if(t.tag===13){var e=$l(t,134217728);if(e!==null){var n=is();ca(e,t,134217728,n)}PT(t,134217728)}};SF=function(t){if(t.tag===13){var e=sc(t),n=$l(t,e);if(n!==null){var r=is();ca(n,t,e,r)}PT(t,e)}};AF=function(){return Ln};wF=function(t,e){var n=Ln;try{return Ln=t,e()}finally{Ln=n}};Lb=function(t,e,n){switch(e){case"input":if(bb(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=oS(r);if(!i)throw Error(We(90));eF(r),bb(r,i)}}}break;case"textarea":nF(t,n);break;case"select":e=n.value,e!=null&&Mp(t,!!n.multiple,e,!1)}};uF=bT;cF=sh;var dV={usingClientEntryPoint:!1,Events:[rv,dp,oS,aF,lF,bT]},wg={findFiberByHostInstance:Df,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pV={bundleType:wg.bundleType,version:wg.version,rendererPackageName:wg.rendererPackageName,rendererConfig:wg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=dF(t),t===null?null:t.stateNode},findFiberByHostInstance:wg.findFiberByHostInstance||fV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var m_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!m_.isDisabled&&m_.supportsFiber)try{nS=m_.inject(pV),za=m_}catch{}}ao.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dV;ao.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!LT(e))throw Error(We(200));return cV(t,e,null,n)};ao.createRoot=function(t,e){if(!LT(t))throw Error(We(299));var n=!1,r="",i=VN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=RT(t,1,!1,null,null,n,!1,r,i),t[Gl]=e.current,w0(t.nodeType===8?t.parentNode:t),new IT(e)};ao.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(We(188)):(t=Object.keys(t).join(","),Error(We(268,t)));return t=dF(e),t=t===null?null:t.stateNode,t};ao.flushSync=function(t){return sh(t)};ao.hydrate=function(t,e,n){if(!mS(e))throw Error(We(200));return gS(null,t,e,!0,n)};ao.hydrateRoot=function(t,e,n){if(!LT(t))throw Error(We(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=VN;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=WN(e,null,t,1,n??null,i,!1,s,o),t[Gl]=e.current,w0(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new pS(e)};ao.render=function(t,e,n){if(!mS(e))throw Error(We(200));return gS(null,t,e,!1,n)};ao.unmountComponentAtNode=function(t){if(!mS(t))throw Error(We(40));return t._reactRootContainer?(sh(function(){gS(null,null,t,!1,function(){t._reactRootContainer=null,t[Gl]=null})}),!0):!1};ao.unstable_batchedUpdates=bT;ao.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!mS(n))throw Error(We(200));if(t==null||t._reactInternals===void 0)throw Error(We(38));return gS(t,e,n,!1,r)};ao.version="18.3.1-next-f1338f8080-20240426";function jN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jN)}catch(t){console.error(t)}}jN(),jO.exports=ao;var mV=jO.exports,XN,XI=mV;XN=XI.createRoot,XI.hydrateRoot;/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function L0(){return L0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L0.apply(this,arguments)}var qu;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qu||(qu={}));const JI="popstate";function gV(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return fM("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:E1(i)}return yV(e,n,null,t)}function Vr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function JN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vV(){return Math.random().toString(36).substr(2,8)}function KI(t,e){return{usr:t.state,key:t.key,idx:e}}function fM(t,e,n,r){return n===void 0&&(n=null),L0({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?sm(e):e,{state:n,key:e&&e.key||r||vV()})}function E1(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function sm(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function yV(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=qu.Pop,l=null,u=h();u==null&&(u=0,o.replaceState(L0({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function p(){a=qu.Pop;let A=h(),_=A==null?null:A-u;u=A,l&&l({action:a,location:S.location,delta:_})}function m(A,_){a=qu.Push;let w=fM(S.location,A,_);n&&n(w,A),u=h()+1;let x=KI(w,u),M=S.createHref(w);try{o.pushState(x,"",M)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(M)}s&&l&&l({action:a,location:S.location,delta:1})}function v(A,_){a=qu.Replace;let w=fM(S.location,A,_);n&&n(w,A),u=h();let x=KI(w,u),M=S.createHref(w);o.replaceState(x,"",M),s&&l&&l({action:a,location:S.location,delta:0})}function y(A){let _=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof A=="string"?A:E1(A);return w=w.replace(/ $/,"%20"),Vr(_,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,_)}let S={get action(){return a},get location(){return t(i,o)},listen(A){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(JI,p),l=A,()=>{i.removeEventListener(JI,p),l=null}},createHref(A){return e(i,A)},createURL:y,encodeLocation(A){let _=y(A);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:v,go(A){return o.go(A)}};return S}var YI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(YI||(YI={}));function _V(t,e,n){return n===void 0&&(n="/"),xV(t,e,n,!1)}function xV(t,e,n,r){let i=typeof e=="string"?sm(e):e,s=BT(i.pathname||"/",n);if(s==null)return null;let o=KN(t);SV(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=LV(s);a=PV(o[l],u,r)}return a}function KN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Vr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ac([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(Vr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),KN(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:TV(u,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of YN(s.path))i(s,o,l)}),e}function YN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=YN(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function SV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:RV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const AV=/^:[\w-]+$/,wV=3,EV=2,bV=1,MV=10,CV=-2,qI=t=>t==="*";function TV(t,e){let n=t.split("/"),r=n.length;return n.some(qI)&&(r+=CV),e&&(r+=EV),n.filter(i=>!qI(i)).reduce((i,s)=>i+(AV.test(s)?wV:s===""?bV:MV),r)}function RV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function PV(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",p=QI({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),m=l.route;if(!p&&u&&n&&!r[r.length-1].route.index&&(p=QI({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:ac([s,p.pathname]),pathnameBase:FV(ac([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=ac([s,p.pathnameBase]))}return o}function QI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=IV(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,h,p)=>{let{paramName:m,isOptional:v}=h;if(m==="*"){let S=a[p]||"";o=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const y=a[p];return v&&!y?u[m]=void 0:u[m]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function IV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),JN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function LV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return JN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function BT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function BV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?sm(t):t;return{pathname:n?n.startsWith("/")?n:DV(n,e):e,search:NV(r),hash:UV(i)}}function DV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function qw(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function OV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function qN(t,e){let n=OV(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function QN(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=sm(t):(i=L0({},t),Vr(!i.pathname||!i.pathname.includes("?"),qw("?","pathname","search",i)),Vr(!i.pathname||!i.pathname.includes("#"),qw("#","pathname","hash",i)),Vr(!i.search||!i.search.includes("#"),qw("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}a=p>=0?e[p]:"/"}let l=BV(i,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const ac=t=>t.join("/").replace(/\/\/+/g,"/"),FV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),NV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function kV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ZN=["post","put","patch","delete"];new Set(ZN);const HV=["get",...ZN];new Set(HV);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function B0(){return B0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B0.apply(this,arguments)}const DT=oe.createContext(null),zV=oe.createContext(null),mh=oe.createContext(null),vS=oe.createContext(null),Ec=oe.createContext({outlet:null,matches:[],isDataRoute:!1}),eU=oe.createContext(null);function GV(t,e){let{relative:n}=e===void 0?{}:e;sv()||Vr(!1);let{basename:r,navigator:i}=oe.useContext(mh),{hash:s,pathname:o,search:a}=nU(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ac([r,o])),i.createHref({pathname:l,search:a,hash:s})}function sv(){return oe.useContext(vS)!=null}function yS(){return sv()||Vr(!1),oe.useContext(vS).location}function tU(t){oe.useContext(mh).static||oe.useLayoutEffect(t)}function _S(){let{isDataRoute:t}=oe.useContext(Ec);return t?n7():$V()}function $V(){sv()||Vr(!1);let t=oe.useContext(DT),{basename:e,future:n,navigator:r}=oe.useContext(mh),{matches:i}=oe.useContext(Ec),{pathname:s}=yS(),o=JSON.stringify(qN(i,n.v7_relativeSplatPath)),a=oe.useRef(!1);return tU(()=>{a.current=!0}),oe.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let p=QN(u,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ac([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,o,s,t])}function WV(){let{matches:t}=oe.useContext(Ec),e=t[t.length-1];return e?e.params:{}}function nU(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=oe.useContext(mh),{matches:i}=oe.useContext(Ec),{pathname:s}=yS(),o=JSON.stringify(qN(i,r.v7_relativeSplatPath));return oe.useMemo(()=>QN(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function VV(t,e){return jV(t,e)}function jV(t,e,n,r){sv()||Vr(!1);let{navigator:i,static:s}=oe.useContext(mh),{matches:o}=oe.useContext(Ec),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let h=yS(),p;if(e){var m;let _=typeof e=="string"?sm(e):e;u==="/"||(m=_.pathname)!=null&&m.startsWith(u)||Vr(!1),p=_}else p=h;let v=p.pathname||"/",y=v;if(u!=="/"){let _=u.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(_.length).join("/")}let S=!s&&n&&n.matches&&n.matches.length>0?n.matches:_V(t,{pathname:y}),A=qV(S&&S.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:ac([u,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?u:ac([u,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return e&&A?oe.createElement(vS.Provider,{value:{location:B0({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:qu.Pop}},A):A}function XV(){let t=t7(),e=kV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return oe.createElement(oe.Fragment,null,oe.createElement("h2",null,"Unexpected Application Error!"),oe.createElement("h3",{style:{fontStyle:"italic"}},e),n?oe.createElement("pre",{style:i},n):null,s)}const JV=oe.createElement(XV,null);class KV extends oe.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?oe.createElement(Ec.Provider,{value:this.props.routeContext},oe.createElement(eU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function YV(t){let{routeContext:e,match:n,children:r}=t,i=oe.useContext(DT);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),oe.createElement(Ec.Provider,{value:e},r)}function qV(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);h>=0||Vr(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:m,errors:v}=n,y=p.route.loader&&m[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,p,m)=>{let v,y=!1,S=null,A=null;n&&(v=a&&p.route.id?a[p.route.id]:void 0,S=p.route.errorElement||JV,l&&(u<0&&m===0?(r7("route-fallback",!1),y=!0,A=null):u===m&&(y=!0,A=p.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,m+1)),w=()=>{let x;return v?x=S:y?x=A:p.route.Component?x=oe.createElement(p.route.Component,null):p.route.element?x=p.route.element:x=h,oe.createElement(YV,{match:p,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:x})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?oe.createElement(KV,{location:n.location,revalidation:n.revalidation,component:S,error:v,children:w(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):w()},null)}var rU=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(rU||{}),b1=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(b1||{});function QV(t){let e=oe.useContext(DT);return e||Vr(!1),e}function ZV(t){let e=oe.useContext(zV);return e||Vr(!1),e}function e7(t){let e=oe.useContext(Ec);return e||Vr(!1),e}function iU(t){let e=e7(),n=e.matches[e.matches.length-1];return n.route.id||Vr(!1),n.route.id}function t7(){var t;let e=oe.useContext(eU),n=ZV(b1.UseRouteError),r=iU(b1.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function n7(){let{router:t}=QV(rU.UseNavigateStable),e=iU(b1.UseNavigateStable),n=oe.useRef(!1);return tU(()=>{n.current=!0}),oe.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,B0({fromRouteId:e},s)))},[t,e])}const ZI={};function r7(t,e,n){!e&&!ZI[t]&&(ZI[t]=!0)}function i7(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Mf(t){Vr(!1)}function s7(t){let{basename:e="/",children:n=null,location:r,navigationType:i=qu.Pop,navigator:s,static:o=!1,future:a}=t;sv()&&Vr(!1);let l=e.replace(/^\/*/,"/"),u=oe.useMemo(()=>({basename:l,navigator:s,static:o,future:B0({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=sm(r));let{pathname:h="/",search:p="",hash:m="",state:v=null,key:y="default"}=r,S=oe.useMemo(()=>{let A=BT(h,l);return A==null?null:{location:{pathname:A,search:p,hash:m,state:v,key:y},navigationType:i}},[l,h,p,m,v,y,i]);return S==null?null:oe.createElement(mh.Provider,{value:u},oe.createElement(vS.Provider,{children:n,value:S}))}function o7(t){let{children:e,location:n}=t;return VV(hM(e),n)}new Promise(()=>{});function hM(t,e){e===void 0&&(e=[]);let n=[];return oe.Children.forEach(t,(r,i)=>{if(!oe.isValidElement(r))return;let s=[...e,i];if(r.type===oe.Fragment){n.push.apply(n,hM(r.props.children,s));return}r.type!==Mf&&Vr(!1),!r.props.index||!r.props.children||Vr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=hM(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dM(){return dM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dM.apply(this,arguments)}function a7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function l7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function u7(t,e){return t.button===0&&(!e||e==="_self")&&!l7(t)}const c7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],f7="6";try{window.__reactRouterVersion=f7}catch{}const h7="startTransition",e3=i$[h7];function d7(t){let{basename:e,children:n,future:r,window:i}=t,s=oe.useRef();s.current==null&&(s.current=gV({window:i,v5Compat:!0}));let o=s.current,[a,l]=oe.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=oe.useCallback(p=>{u&&e3?e3(()=>l(p)):l(p)},[l,u]);return oe.useLayoutEffect(()=>o.listen(h),[o,h]),oe.useEffect(()=>i7(r),[r]),oe.createElement(s7,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const p7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",m7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lc=oe.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:h,viewTransition:p}=e,m=a7(e,c7),{basename:v}=oe.useContext(mh),y,S=!1;if(typeof u=="string"&&m7.test(u)&&(y=u,p7))try{let x=new URL(window.location.href),M=u.startsWith("//")?new URL(x.protocol+u):new URL(u),R=BT(M.pathname,v);M.origin===x.origin&&R!=null?u=R+M.search+M.hash:S=!0}catch{}let A=GV(u,{relative:i}),_=g7(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:p});function w(x){r&&r(x),x.defaultPrevented||_(x)}return oe.createElement("a",dM({},m,{href:y||A,onClick:S||s?r:w,ref:n,target:l}))});var t3;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(t3||(t3={}));var n3;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(n3||(n3={}));function g7(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=_S(),u=yS(),h=nU(t,{relative:o});return oe.useCallback(p=>{if(u7(p,n)){p.preventDefault();let m=r!==void 0?r:E1(u)===E1(h);l(t,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,h,r,i,n,t,s,o,a])}const sU=oe.createContext(null),ov=({children:t})=>{const[e,n]=oe.useState();return oe.useEffect(()=>{fetch("/auth/getsession",{method:"GET",credentials:"include"}).then(r=>r.json()).then(r=>{r.err||n(r)})},[]),G.jsx(sU.Provider,{value:e,children:t})};ov.context=sU;var oU={},aU={},lU={},xS={},Mi={};Object.defineProperty(Mi,"__esModule",{value:!0});Mi.TraceDirectionKey=Mi.Direction=Mi.Axis=void 0;var pM;Mi.TraceDirectionKey=pM;(function(t){t.NEGATIVE="NEGATIVE",t.POSITIVE="POSITIVE",t.NONE="NONE"})(pM||(Mi.TraceDirectionKey=pM={}));var mM;Mi.Direction=mM;(function(t){t.TOP="TOP",t.LEFT="LEFT",t.RIGHT="RIGHT",t.BOTTOM="BOTTOM",t.NONE="NONE"})(mM||(Mi.Direction=mM={}));var gM;Mi.Axis=gM;(function(t){t.X="x",t.Y="y"})(gM||(Mi.Axis=gM={}));Object.defineProperty(xS,"__esModule",{value:!0});xS.calculateDirection=v7;var Qw=Mi;function v7(t){var e,n=Qw.TraceDirectionKey.NEGATIVE,r=Qw.TraceDirectionKey.POSITIVE,i=t[t.length-1],s=t[t.length-2]||0;return t.every(function(o){return o===0})?Qw.TraceDirectionKey.NONE:(e=i>s?r:n,i===0&&(e=s<0?r:n),e)}var SS={},Io={};Object.defineProperty(Io,"__esModule",{value:!0});Io.resolveAxisDirection=Io.getDirectionValue=Io.getDirectionKey=Io.getDifference=void 0;var Ks=Mi,y7=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=Object.keys(e).toString();switch(n){case Ks.TraceDirectionKey.POSITIVE:return Ks.TraceDirectionKey.POSITIVE;case Ks.TraceDirectionKey.NEGATIVE:return Ks.TraceDirectionKey.NEGATIVE;default:return Ks.TraceDirectionKey.NONE}};Io.getDirectionKey=y7;var _7=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return e[e.length-1]||0};Io.getDirectionValue=_7;var x7=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Math.abs(e-n)};Io.getDifference=x7;var S7=function(e,n){var r=Ks.Direction.LEFT,i=Ks.Direction.RIGHT,s=Ks.Direction.NONE;return e===Ks.Axis.Y&&(r=Ks.Direction.BOTTOM,i=Ks.Direction.TOP),n===Ks.TraceDirectionKey.NEGATIVE&&(s=r),n===Ks.TraceDirectionKey.POSITIVE&&(s=i),s};Io.resolveAxisDirection=S7;Object.defineProperty(SS,"__esModule",{value:!0});SS.calculateDirectionDelta=w7;var A7=Mi,Eg=Io;function w7(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=t.length,r=n-1,i=A7.TraceDirectionKey.NONE;r>=0;r--){var s=t[r],o=(0,Eg.getDirectionKey)(s),a=(0,Eg.getDirectionValue)(s[o]),l=t[r-1]||{},u=(0,Eg.getDirectionKey)(l),h=(0,Eg.getDirectionValue)(l[u]),p=(0,Eg.getDifference)(a,h);if(p>=e){i=o;break}else i=u}return i}var AS={};Object.defineProperty(AS,"__esModule",{value:!0});AS.calculateDuration=E7;function E7(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t?e-t:0}var OT={};Object.defineProperty(OT,"__esModule",{value:!0});OT.calculateMovingPosition=b7;function b7(t){if("changedTouches"in t){var e=t.changedTouches&&t.changedTouches[0];return{x:e&&e.clientX,y:e&&e.clientY}}return{x:t.clientX,y:t.clientY}}var FT={},wS={};Object.defineProperty(wS,"__esModule",{value:!0});wS.updateTrace=M7;function M7(t,e){var n=t[t.length-1];return n!==e&&t.push(e),t}var ES={},bS={};Object.defineProperty(bS,"__esModule",{value:!0});bS.calculateTraceDirections=C7;var g_=Mi;function r3(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C7(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=[],n=g_.TraceDirectionKey.POSITIVE,r=g_.TraceDirectionKey.NEGATIVE,i=0,s=[],o=g_.TraceDirectionKey.NONE;i<t.length;i++){var a=t[i],l=t[i-1];if(s.length){var u=a>l?n:r;o===g_.TraceDirectionKey.NONE&&(o=u),u===o?s.push(a):(e.push(r3({},o,s.slice())),s=[],s.push(a),o=u)}else a!==0&&(o=a>0?n:r),s.push(a)}return s.length&&e.push(r3({},o,s)),e}Object.defineProperty(ES,"__esModule",{value:!0});ES.resolveDirection=L7;var T7=xS,R7=bS,P7=SS,i3=Io,I7=Mi;function L7(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:I7.Axis.X,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(n){var r=(0,R7.calculateTraceDirections)(t),i=(0,P7.calculateDirectionDelta)(r,n);return(0,i3.resolveAxisDirection)(e,i)}var s=(0,T7.calculateDirection)(t);return(0,i3.resolveAxisDirection)(e,s)}var MS={};Object.defineProperty(MS,"__esModule",{value:!0});MS.calculateVelocity=B7;function B7(t,e,n){var r=Math.sqrt(t*t+e*e);return r/(n||1)}Object.defineProperty(FT,"__esModule",{value:!0});FT.calculatePosition=F7;var s3=wS,o3=ES,D7=AS,O7=MS,a3=Mi;function F7(t,e){var n=t.start,r=t.x,i=t.y,s=t.traceX,o=t.traceY,a=e.rotatePosition,l=e.directionDelta,u=a.x-r,h=i-a.y,p=Math.abs(u),m=Math.abs(h);(0,s3.updateTrace)(s,u),(0,s3.updateTrace)(o,h);var v=(0,o3.resolveDirection)(s,a3.Axis.X,l),y=(0,o3.resolveDirection)(o,a3.Axis.Y,l),S=(0,D7.calculateDuration)(n,Date.now()),A=(0,O7.calculateVelocity)(p,m,S);return{absX:p,absY:m,deltaX:u,deltaY:h,directionX:v,directionY:y,duration:S,positionX:a.x,positionY:a.y,velocity:A}}var CS={};Object.defineProperty(CS,"__esModule",{value:!0});CS.checkIsMoreThanSingleTouches=void 0;var N7=function(e){return!!(e.touches&&e.touches.length>1)};CS.checkIsMoreThanSingleTouches=N7;var av={},TS={};Object.defineProperty(TS,"__esModule",{value:!0});TS.createOptions=U7;function U7(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.defineProperty(t,"passive",{get:function(){return this.isPassiveSupported=!0,!0},enumerable:!0}),t}Object.defineProperty(av,"__esModule",{value:!0});av.checkIsPassiveSupported=H7;av.noop=void 0;var k7=TS;function H7(t){if(typeof t=="boolean")return t;var e={isPassiveSupported:t};try{var n=(0,k7.createOptions)(e);window.addEventListener("checkIsPassiveSupported",vM,n),window.removeEventListener("checkIsPassiveSupported",vM,n)}catch{}return e.isPassiveSupported}var vM=function(){};av.noop=vM;var RS={};Object.defineProperty(RS,"__esModule",{value:!0});RS.checkIsTouchEventsSupported=void 0;function yM(t){"@babel/helpers - typeof";return yM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yM(t)}var z7=function(){return(typeof window>"u"?"undefined":yM(window))==="object"&&("ontouchstart"in window||!!window.navigator.maxTouchPoints)};RS.checkIsTouchEventsSupported=z7;var PS={};Object.defineProperty(PS,"__esModule",{value:!0});PS.getInitialState=void 0;function l3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l3(Object(n),!0).forEach(function(r){$7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $7(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var W7=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return G7({x:0,y:0,start:0,isSwiping:!1,traceX:[],traceY:[]},e)};PS.getInitialState=W7;var IS={};Object.defineProperty(IS,"__esModule",{value:!0});IS.getInitialProps=void 0;function u3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u3(Object(n),!0).forEach(function(r){j7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j7(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var X7=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return V7({element:null,target:null,delta:10,directionDelta:0,rotationAngle:0,mouseTrackingEnabled:!1,touchTrackingEnabled:!0,preventDefaultTouchmoveEvent:!1,preventTrackingOnMouseleave:!1},e)};IS.getInitialProps=X7;var NT={};Object.defineProperty(NT,"__esModule",{value:!0});NT.getOptions=J7;function J7(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return t?{passive:!1}:{}}var UT={};Object.defineProperty(UT,"__esModule",{value:!0});UT.rotateByAngle=K7;function K7(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(e===0)return t;var n=t.x,r=t.y,i=Math.PI/180*e,s=n*Math.cos(i)+r*Math.sin(i),o=r*Math.cos(i)-n*Math.sin(i);return{x:s,y:o}}(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=xS;Object.keys(e).forEach(function(x){x==="default"||x==="__esModule"||x in t&&t[x]===e[x]||Object.defineProperty(t,x,{enumerable:!0,get:function(){return e[x]}})});var n=SS;Object.keys(n).forEach(function(x){x==="default"||x==="__esModule"||x in t&&t[x]===n[x]||Object.defineProperty(t,x,{enumerable:!0,get:function(){return n[x]}})});var r=AS;Object.keys(r).forEach(function(x){x==="default"||x==="__esModule"||x in t&&t[x]===r[x]||Object.defineProperty(t,x,{enumerable:!0,get:function(){return r[x]}})});var i=OT;Object.keys(i).forEach(function(x){x==="default"||x==="__esModule"||x in t&&t[x]===i[x]||Object.defineProperty(t,x,{enumerable:!0,get:function(){return i[x]}})});var s=FT;Object.keys(s).forEach(function(x){x==="default"||x==="__esModule"||x in t&&t[x]===s[x]||Object.defineProperty(t,x,{enumerable:!0,get:function(){return s[x]}})});var o=bS;Object.keys(o).forEach(function(x){x==="default"||x==="__esModule"||x in t&&t[x]===o[x]||Object.defineProperty(t,x,{enumerable:!0,get:function(){return o[x]}})});var a=MS;Object.keys(a).forEach(function(x){x==="default"||x==="__esModule"||x in t&&t[x]===a[x]||Object.defineProperty(t,x,{enumerable:!0,get:function(){return a[x]}})});var l=CS;Object.keys(l).forEach(function(x){x==="default"||x==="__esModule"||x in t&&t[x]===l[x]||Object.defineProperty(t,x,{enumerable:!0,get:function(){return l[x]}})});var u=av;Object.keys(u).forEach(function(x){x==="default"||x==="__esModule"||x in t&&t[x]===u[x]||Object.defineProperty(t,x,{enumerable:!0,get:function(){return u[x]}})});var h=RS;Object.keys(h).forEach(function(x){x==="default"||x==="__esModule"||x in t&&t[x]===h[x]||Object.defineProperty(t,x,{enumerable:!0,get:function(){return h[x]}})});var p=Io;Object.keys(p).forEach(function(x){x==="default"||x==="__esModule"||x in t&&t[x]===p[x]||Object.defineProperty(t,x,{enumerable:!0,get:function(){return p[x]}})});var m=TS;Object.keys(m).forEach(function(x){x==="default"||x==="__esModule"||x in t&&t[x]===m[x]||Object.defineProperty(t,x,{enumerable:!0,get:function(){return m[x]}})});var v=PS;Object.keys(v).forEach(function(x){x==="default"||x==="__esModule"||x in t&&t[x]===v[x]||Object.defineProperty(t,x,{enumerable:!0,get:function(){return v[x]}})});var y=IS;Object.keys(y).forEach(function(x){x==="default"||x==="__esModule"||x in t&&t[x]===y[x]||Object.defineProperty(t,x,{enumerable:!0,get:function(){return y[x]}})});var S=NT;Object.keys(S).forEach(function(x){x==="default"||x==="__esModule"||x in t&&t[x]===S[x]||Object.defineProperty(t,x,{enumerable:!0,get:function(){return S[x]}})});var A=ES;Object.keys(A).forEach(function(x){x==="default"||x==="__esModule"||x in t&&t[x]===A[x]||Object.defineProperty(t,x,{enumerable:!0,get:function(){return A[x]}})});var _=UT;Object.keys(_).forEach(function(x){x==="default"||x==="__esModule"||x in t&&t[x]===_[x]||Object.defineProperty(t,x,{enumerable:!0,get:function(){return _[x]}})});var w=wS;Object.keys(w).forEach(function(x){x==="default"||x==="__esModule"||x in t&&t[x]===w[x]||Object.defineProperty(t,x,{enumerable:!0,get:function(){return w[x]}})})})(lU);(function(t){function e(m){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},e(m)}Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=void 0;var r=o(lU),i=Mi;Object.keys(i).forEach(function(m){m==="default"||m==="__esModule"||Object.prototype.hasOwnProperty.call(n,m)||m in t&&t[m]===i[m]||Object.defineProperty(t,m,{enumerable:!0,get:function(){return i[m]}})});function s(m){if(typeof WeakMap!="function")return null;var v=new WeakMap,y=new WeakMap;return(s=function(A){return A?y:v})(m)}function o(m,v){if(!v&&m&&m.__esModule)return m;if(m===null||e(m)!=="object"&&typeof m!="function")return{default:m};var y=s(v);if(y&&y.has(m))return y.get(m);var S={},A=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var _ in m)if(_!=="default"&&Object.prototype.hasOwnProperty.call(m,_)){var w=A?Object.getOwnPropertyDescriptor(m,_):null;w&&(w.get||w.set)?Object.defineProperty(S,_,w):S[_]=m[_]}return S.default=m,y&&y.set(m,S),S}function a(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")}function l(m,v){for(var y=0;y<v.length;y++){var S=v[y];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}function u(m,v,y){return v&&l(m.prototype,v),y&&l(m,y),Object.defineProperty(m,"prototype",{writable:!1}),m}function h(m,v,y){return v in m?Object.defineProperty(m,v,{value:y,enumerable:!0,configurable:!0,writable:!0}):m[v]=y,m}var p=function(){function m(v){a(this,m),h(this,"state",void 0),h(this,"props",void 0),this.state=r.getInitialState(),this.props=r.getInitialProps(v),this.handleSwipeStart=this.handleSwipeStart.bind(this),this.handleSwipeMove=this.handleSwipeMove.bind(this),this.handleSwipeEnd=this.handleSwipeEnd.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this)}return u(m,[{key:"init",value:function(){this.setupTouchListeners(),this.setupMouseListeners()}},{key:"update",value:function(y){var S=this.props,A=Object.assign({},S,y);if(S.element!==A.element||S.target!==A.target){this.destroy(),this.props=A,this.init();return}this.props=A,(S.mouseTrackingEnabled!==A.mouseTrackingEnabled||S.preventTrackingOnMouseleave!==A.preventTrackingOnMouseleave)&&(this.cleanupMouseListeners(),A.mouseTrackingEnabled?this.setupMouseListeners():this.cleanupMouseListeners()),S.touchTrackingEnabled!==A.touchTrackingEnabled&&(this.cleanupTouchListeners(),A.touchTrackingEnabled?this.setupTouchListeners():this.cleanupTouchListeners())}},{key:"destroy",value:function(){this.cleanupMouseListeners(),this.cleanupTouchListeners(),this.state=r.getInitialState(),this.props=r.getInitialProps()}},{key:"setupTouchListeners",value:function(){var y=this.props,S=y.element,A=y.target,_=y.touchTrackingEnabled;if(S&&_){var w=A||S,x=r.checkIsPassiveSupported(),M=r.getOptions(x);w.addEventListener("touchstart",this.handleSwipeStart,M),w.addEventListener("touchmove",this.handleSwipeMove,M),w.addEventListener("touchend",this.handleSwipeEnd,M)}}},{key:"cleanupTouchListeners",value:function(){var y=this.props,S=y.element,A=y.target,_=A||S;_&&(_.removeEventListener("touchstart",this.handleSwipeStart),_.removeEventListener("touchmove",this.handleSwipeMove),_.removeEventListener("touchend",this.handleSwipeEnd))}},{key:"setupMouseListeners",value:function(){var y=this.props,S=y.element,A=y.mouseTrackingEnabled,_=y.preventTrackingOnMouseleave;A&&S&&(S.addEventListener("mousedown",this.handleMouseDown),S.addEventListener("mousemove",this.handleMouseMove),S.addEventListener("mouseup",this.handleMouseUp),_&&S.addEventListener("mouseleave",this.handleMouseLeave))}},{key:"cleanupMouseListeners",value:function(){var y=this.props.element;y&&(y.removeEventListener("mousedown",this.handleMouseDown),y.removeEventListener("mousemove",this.handleMouseMove),y.removeEventListener("mouseup",this.handleMouseUp),y.removeEventListener("mouseleave",this.handleMouseLeave))}},{key:"getEventData",value:function(y){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{directionDelta:0},A=this.props.rotationAngle,_=S.directionDelta,w=r.calculateMovingPosition(y),x=r.rotateByAngle(w,A);return r.calculatePosition(this.state,{rotatePosition:x,directionDelta:_})}},{key:"handleSwipeStart",value:function(y){if(!r.checkIsMoreThanSingleTouches(y)){var S=this.props.rotationAngle,A=r.calculateMovingPosition(y),_=r.rotateByAngle(A,S),w=_.x,x=_.y;this.state=r.getInitialState({isSwiping:!1,start:Date.now(),x:w,y:x})}}},{key:"handleSwipeMove",value:function(y){var S=this.state,A=S.x,_=S.y,w=S.isSwiping;if(!(!A||!_||r.checkIsMoreThanSingleTouches(y))){var x=this.props.directionDelta||0,M=this.getEventData(y,{directionDelta:x}),R=M.absX,T=M.absY,I=M.deltaX,F=M.deltaY,B=M.directionX,O=M.directionY,V=M.duration,H=M.velocity,ne=this.props,j=ne.delta,q=ne.preventDefaultTouchmoveEvent,re=ne.onSwipeStart,he=ne.onSwiping;y.cancelable&&q&&y.preventDefault(),!(R<Number(j)&&T<Number(j)&&!w)&&(re&&!w&&re(y,{deltaX:I,deltaY:F,absX:R,absY:T,directionX:B,directionY:O,duration:V,velocity:H}),this.state.isSwiping=!0,he&&he(y,{deltaX:I,deltaY:F,absX:R,absY:T,directionX:B,directionY:O,duration:V,velocity:H}))}}},{key:"handleSwipeEnd",value:function(y){var S=this.props,A=S.onSwiped,_=S.onTap;if(this.state.isSwiping){var w=this.props.directionDelta||0,x=this.getEventData(y,{directionDelta:w});A&&A(y,x)}else{var M=this.getEventData(y);_&&_(y,M)}this.state=r.getInitialState()}},{key:"handleMouseDown",value:function(y){var S=this.props.target;S?S===y.target&&this.handleSwipeStart(y):this.handleSwipeStart(y)}},{key:"handleMouseMove",value:function(y){this.handleSwipeMove(y)}},{key:"handleMouseUp",value:function(y){var S=this.state.isSwiping,A=this.props.target;A?(A===y.target||S)&&this.handleSwipeEnd(y):this.handleSwipeEnd(y)}},{key:"handleMouseLeave",value:function(y){var S=this.state.isSwiping;S&&this.handleSwipeEnd(y)}}],[{key:"isTouchEventsSupported",value:function(){return r.checkIsTouchEventsSupported()}}]),m}();t.default=p})(aU);var uU={},Xa={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Modifiers=t.Classnames=t.AutoplayDirection=t.ControlsStrategy=t.AutoPlayStrategy=t.AnimationType=t.EventType=void 0,function(e){e.ACTION="action",e.INIT="init",e.RESIZE="resize",e.UPDATE="update"}(t.EventType||(t.EventType={})),function(e){e.FADEOUT="fadeout",e.SLIDE="slide"}(t.AnimationType||(t.AnimationType={})),function(e){e.DEFAULT="default",e.ALL="all",e.ACTION="action",e.NONE="none"}(t.AutoPlayStrategy||(t.AutoPlayStrategy={})),function(e){e.DEFAULT="default",e.ALTERNATE="alternate",e.RESPONSIVE="responsive"}(t.ControlsStrategy||(t.ControlsStrategy={})),function(e){e.RTL="rtl",e.LTR="ltr"}(t.AutoplayDirection||(t.AutoplayDirection={})),function(e){e.ANIMATED="animated animated-out fadeOut",e.ROOT="alice-carousel",e.WRAPPER="alice-carousel__wrapper",e.STAGE="alice-carousel__stage",e.STAGE_ITEM="alice-carousel__stage-item",e.DOTS="alice-carousel__dots",e.DOTS_ITEM="alice-carousel__dots-item",e.PLAY_BTN="alice-carousel__play-btn",e.PLAY_BTN_ITEM="alice-carousel__play-btn-item",e.PLAY_BTN_WRAPPER="alice-carousel__play-btn-wrapper",e.SLIDE_INFO="alice-carousel__slide-info",e.SLIDE_INFO_ITEM="alice-carousel__slide-info-item",e.BUTTON_PREV="alice-carousel__prev-btn",e.BUTTON_PREV_WRAPPER="alice-carousel__prev-btn-wrapper",e.BUTTON_PREV_ITEM="alice-carousel__prev-btn-item",e.BUTTON_NEXT="alice-carousel__next-btn",e.BUTTON_NEXT_WRAPPER="alice-carousel__next-btn-wrapper",e.BUTTON_NEXT_ITEM="alice-carousel__next-btn-item"}(t.Classnames||(t.Classnames={})),function(e){e.ACTIVE="__active",e.INACTIVE="__inactive",e.CLONED="__cloned",e.CUSTOM="__custom",e.PAUSE="__pause",e.SEPARATOR="__separator",e.SSR="__ssr",e.TARGET="__target"}(t.Modifiers||(t.Modifiers={}))})(Xa);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultProps=void 0;var e=Xa;t.defaultProps={activeIndex:0,animationDuration:400,animationEasingFunction:"ease",animationType:e.AnimationType.SLIDE,autoHeight:!1,autoWidth:!1,autoPlay:!1,autoPlayControls:!1,autoPlayDirection:e.AutoplayDirection.LTR,autoPlayInterval:400,autoPlayStrategy:e.AutoPlayStrategy.DEFAULT,children:void 0,controlsStrategy:e.ControlsStrategy.DEFAULT,disableButtonsControls:!1,disableDotsControls:!1,disableSlideInfo:!0,infinite:!1,innerWidth:void 0,items:void 0,keyboardNavigation:!1,mouseTracking:!1,syncStateOnPropsUpdate:!0,name:"",paddingLeft:0,paddingRight:0,responsive:void 0,swipeDelta:20,swipeExtraPadding:200,ssrSilentMode:!0,touchTracking:!0,touchMoveDefaultEvents:!0,onInitialized:function(){},onResized:function(){},onUpdated:function(){},onResizeEvent:void 0,onSlideChange:function(){},onSlideChanged:function(){}}})(uU);var cU={};(function(t){var e=function(){return(e=Object.assign||function(s){for(var o,a=1,l=arguments.length;a<l;a++)for(var u in o=arguments[a])Object.prototype.hasOwnProperty.call(o,u)&&(s[u]=o[u]);return s}).apply(this,arguments)},n=function(s){return s&&s.__esModule?s:{default:s}},r=(Object.defineProperty(t,"__esModule",{value:!0}),n(oe));function i(s){var o={xDown:null,xUp:null};return r.default.createElement("a",e({onClick:function(a){o.xDown!==o.xUp&&a.preventDefault()},onMouseDown:function(a){a.preventDefault(),o.xUp=null,o.xDown=a.clientX},onMouseUp:function(a){a.preventDefault(),o.xUp=a.clientX}},s),s.children)}t.default=i})(cU);var fU={},hU={},om={},kT={},HT={},zT={};(function(t){var e=function(){return(e=Object.assign||function(i){for(var s,o=1,a=arguments.length;o<a;o++)for(var l in s=arguments[o])Object.prototype.hasOwnProperty.call(s,l)&&(i[l]=s[l]);return i}).apply(this,arguments)},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.mapPositionCoords=t.mapPartialCoords=void 0,function(i){return i.map(function(s){return{width:s.width,position:0}})}),r=(t.mapPartialCoords=n,function(i,s){return s===void 0&&(s=0),i.map(function(o){return o.position>s?e(e({},o),{position:s}):o})});t.mapPositionCoords=r})(zT);var lv={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isVerticalTouchmoveDetected=t.getFadeoutAnimationPosition=t.getFadeoutAnimationIndex=t.getSwipeTouchendIndex=t.getSwipeTouchendPosition=t.getSwipeTransformationCursor=t.getTransformationItemIndex=t.getSwipeShiftValue=t.getItemCoords=t.getIsLeftDirection=t.shouldRecalculateSwipePosition=t.getSwipeLimitMax=t.getSwipeLimitMin=t.shouldCancelSlideAnimation=t.shouldRecalculateSlideIndex=t.getUpdateSlidePositionIndex=t.getActiveIndex=t.getStartIndex=t.getShiftIndex=void 0;var e=function(M,R){return(M=M===void 0?0:M)+(R=R===void 0?0:R)},n=(t.getShiftIndex=e,function(M,R){if(M===void 0&&(M=0),R=R===void 0?0:R){if(R<=M)return R-1;if(0<M)return M}return 0}),r=(t.getStartIndex=n,function(I){var R=I.startIndex,R=R===void 0?0:R,T=I.itemsCount,I=I.infinite;return I!==void 0&&I?R:(0,t.getStartIndex)(R,T===void 0?0:T)}),i=(t.getActiveIndex=r,function(M,R){return M<0?R-1:R<=M?0:M}),s=(t.getUpdateSlidePositionIndex=i,function(M,R){return M<0||R<=M}),o=(t.shouldRecalculateSlideIndex=s,function(M,R){return M<0||R<=M}),a=(t.shouldCancelSlideAnimation=o,function(I,B){var T=I.itemsOffset,I=I.transformationSet,I=I===void 0?[]:I,F=B.infinite,B=B.swipeExtraPadding;return F?(I[T===void 0?0:T]||{}).position:(F=(I[0]||{}).width,Math.min(B===void 0?0:B,F===void 0?0:F))}),l=(t.getSwipeLimitMin=a,function(V,I){var T=I.infinite,I=I.swipeExtraPadding,I=I===void 0?0:I,F=V.itemsCount,B=V.itemsOffset,O=V.itemsInSlide,O=O===void 0?1:O,V=V.transformationSet,V=V===void 0?[]:V;return T?(V[(F===void 0?1:F)+(0,t.getShiftIndex)(O,B===void 0?0:B)]||{}).position||0:(0,t.getItemCoords)(-O,V).position+I}),u=(t.getSwipeLimitMax=l,function(M,R,T){return-R<=M||Math.abs(M)>=T}),h=(t.shouldRecalculateSwipePosition=u,function(M){return(M=M===void 0?0:M)<0}),p=(t.getIsLeftDirection=h,function(M,R){return(R=R===void 0?[]:R).slice(M=M===void 0?0:M)[0]||{position:0,width:0}}),m=(t.getItemCoords=p,function(M,R){return M===void 0&&(M=0),R===void 0&&(R=[]),(0,t.getItemCoords)(M,R).position}),v=(t.getSwipeShiftValue=m,function(M,R){return R===void 0&&(R=0),(M=M===void 0?[]:M).findIndex(function(T){return T.position>=Math.abs(R)})}),y=(t.getTransformationItemIndex=v,function(M,R,T){return M===void 0&&(M=[]),R===void 0&&(R=0),T===void 0&&(T=0),M=(0,t.getTransformationItemIndex)(M,R),(0,t.getIsLeftDirection)(T)?M:M-1}),S=(t.getSwipeTransformationCursor=y,function(V,ne,H){H===void 0&&(H=0);var I=V.infinite,F=V.autoWidth,B=V.isStageContentPartial,O=V.swipeAllowedPositionMax,V=V.transformationSet,H=(0,t.getSwipeTransformationCursor)(V,H,ne),ne=(0,t.getItemCoords)(H,V).position;if(!I){if(F&&B)return 0;if(O<ne)return-O}return-ne}),A=(t.getSwipeTouchendPosition=S,function(M,ne){var T=ne.transformationSet,I=ne.itemsInSlide,F=ne.itemsOffset,B=ne.itemsCount,O=ne.infinite,V=ne.isStageContentPartial,H=ne.activeIndex,ne=ne.translate3d;return O||!V&&ne!==Math.abs(M)?(V=(0,t.getTransformationItemIndex)(T,M),O?V<(ne=(0,t.getShiftIndex)(I,F))?B-I-F+V:ne+B<=V?V-(ne+B):V-ne:V):H}),_=(t.getSwipeTouchendIndex=A,function(I){var R=I.infinite,T=I.activeIndex,I=I.itemsInSlide;return R?T+I:T}),w=(t.getFadeoutAnimationIndex=_,function(M,I){var T=I.activeIndex,I=I.stageWidth;return M<T?(T-M)*-I||0:(M-T)*I||0}),x=(t.getFadeoutAnimationPosition=w,function(M,R,T){return M<(T=T===void 0?0:T)||M<.1*R});t.isVerticalTouchmoveDetected=x})(lv);(function(t){var e=function(){return(e=Object.assign||function(H){for(var ne,j=1,q=arguments.length;j<q;j++)for(var re in ne=arguments[j])Object.prototype.hasOwnProperty.call(ne,re)&&(H[re]=ne[re]);return H}).apply(this,arguments)},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.getItemsInSlide=t.canUseDOM=t.getTransformMatrix=t.getTranslateXProperty=t.getTouchmoveTranslatePosition=t.getTranslate3dProperty=t.getRenderStageItemStyles=t.getRenderStageStyles=t.getTransitionProperty=t.getRenderWrapperStyles=t.animate=t.shouldHandleResizeEvent=t.getElementFirstChild=t.getElementCursor=t.getAutoheightProperty=t.getElementDimensions=t.getItemWidth=t.createDefaultTransformationSet=t.createAutowidthTransformationSet=t.isElement=t.createClones=t.getItemsOffset=t.getItemsCount=t.getSlides=void 0,zT),r=lv,i=function(j){var ne=j.children,j=j.items;return ne?ne.length?ne:[ne]:j===void 0?[]:j},s=(t.getSlides=i,function(H){return(0,t.getSlides)(H).length}),o=(t.getItemsCount=s,function(q){var ne=q.infinite,j=q.paddingRight,q=q.paddingLeft;return ne&&(q||j)?1:0}),a=(t.getItemsOffset=o,function(H){var ne,j,q,re,he=(0,t.getSlides)(H);return H.infinite?(ne=(0,t.getItemsCount)(H),re=(0,t.getItemsOffset)(H),H=(0,t.getItemsInSlide)(ne,H),q=Math.min(H,ne)+re,j=he.slice(0,q),q=he.slice(-q),re&&H===ne&&(re=he[0],H=he.slice(-1)[0],q.unshift(H),j.push(re)),q.concat(he,j)):he}),l=(t.createClones=a,function(H){try{return H instanceof Element||H instanceof HTMLDocument}catch{return!1}}),u=(t.isElement=l,function(H,ne,j){ne===void 0&&(ne=0),j===void 0&&(j=!1);var q=0,re=!0,he=[];return(0,t.isElement)(H)&&(he=Array.from((H==null?void 0:H.children)||[]).reduce(function(z,_e,ye){var fe=0,ye=ye-1,ue=z[ye],_e=m(_e==null?void 0:_e.firstChild).width,_e=_e===void 0?0:_e;return re=(q+=_e)<=ne,ue&&(fe=ye==0?ue.width:ue.width+ue.position),z.push({position:fe,width:_e}),z},[]),j||(he=re?(0,n.mapPartialCoords)(he):(H=q-ne,(0,n.mapPositionCoords)(he,H)))),{coords:he,content:q,partial:re}}),h=(t.createAutowidthTransformationSet=u,function(H,ne,j,q){q===void 0&&(q=!1);var re=0,he=!0,z=[],ee=(0,t.getItemWidth)(ne,j);return z=H.reduce(function(te,fe,_e){var ue=0,_e=te[_e-1];return he=(re+=ee)<=ne,_e&&(ue=ee+_e.position||0),te.push({width:ee,position:ue}),te},[]),{coords:z=q?z:he?(0,n.mapPartialCoords)(z):(j=re-ne,(0,n.mapPositionCoords)(z,j)),content:re,partial:he}}),p=(t.createDefaultTransformationSet=h,function(H,ne){return 0<ne?H/ne:H});function m(H){return H&&H.getBoundingClientRect?{width:(H=H.getBoundingClientRect()).width,height:H.height}:{width:0,height:0}}t.getItemWidth=p,t.getElementDimensions=m;var v=function(H,q,re){var q=(0,t.getElementCursor)(q,re),re=(0,t.getElementFirstChild)(H,q);if((0,t.isElement)(re))return H=window.getComputedStyle(re),q=parseFloat(H.marginTop),H=parseFloat(H.marginBottom),Math.ceil(re.offsetHeight+q+H)},y=(t.getAutoheightProperty=v,function(H,q){var j=q.activeIndex,q=q.itemsInSlide;return H.infinite?j+q+(0,t.getItemsOffset)(H):j}),S=(t.getElementCursor=y,function(H,ne){return H=H&&H.children||[],H[ne]&&H[ne].firstChild||null});function A(H,ne,j){return(ne=ne===void 0?{}:ne).width!==(j=j===void 0?{}:j).width}function _(H,re){var re=re||{},j=re.position,j=j===void 0?0:j,q=re.animationDuration,q=q===void 0?0:q,re=re.animationEasingFunction,re=re===void 0?"ease":re;return H&&(0,t.isElement)(H)&&(H.style.transition="transform ".concat(q,"ms ").concat(re," 0ms"),H.style.transform="translate3d(".concat(j,"px, 0, 0)")),H}t.getElementFirstChild=S,t.shouldHandleResizeEvent=A,t.animate=_;var w=function(H,ne,j){var he=H||{},q=he.paddingLeft,re=he.paddingRight,z=he.autoHeight,he=he.animationDuration,z=z?(0,t.getAutoheightProperty)(j,H,ne):void 0;return{height:z,transition:z?"height ".concat(he,"ms"):void 0,paddingLeft:"".concat(q,"px"),paddingRight:"".concat(re,"px")}},x=(t.getRenderWrapperStyles=w,function(j){var j=j||{},ne=j.animationDuration,j=j.animationEasingFunction,j=j===void 0?"ease":j;return"transform ".concat(ne===void 0?0:ne,"ms ").concat(j," 0ms")}),M=(t.getTransitionProperty=x,function(H,ne){return H=(H||{}).translate3d,H="translate3d(".concat(-(H===void 0?0:H),"px, 0, 0)"),e(e({},ne),{transform:H})}),R=(t.getRenderStageStyles=M,function(H,he){var z=he.transformationSet,j=he.fadeoutAnimationIndex,q=he.fadeoutAnimationPosition,re=he.fadeoutAnimationProcessing,he=he.animationDuration,z=(z[H]||{}).width;return re&&j===H?{transform:"translateX(".concat(q,"px)"),animationDuration:"".concat(he,"ms"),width:"".concat(z,"px")}:{width:z}}),T=(t.getRenderStageItemStyles=R,function(H,z){var j=H,q=z.infinite,re=z.itemsOffset,he=z.itemsInSlide,z=z.transformationSet;return((z===void 0?[]:z)[j=q?H+(0,r.getShiftIndex)(he===void 0?0:he,re===void 0?0:re):j]||{}).position||0}),I=(t.getTranslate3dProperty=T,function(H,ne){return-(ne-Math.floor(H))});function F(H){return H=B(H),H=H&&H[4]||"",Number(H)}function B(H){return H&&(0,t.isElement)(H)&&window.getComputedStyle(H).transform.match(/(-?[0-9.]+)/g)||[]}t.getTouchmoveTranslatePosition=I,t.getTranslateXProperty=F,t.getTransformMatrix=B;var O=function(){var H;try{return!!((H=window==null?void 0:window.document)!=null&&H.createElement)}catch{return!1}},V=(t.canUseDOM=O,function(H,ee){var j,q=1,re=ee.responsive,he=ee.autoWidth,z=ee.infinite,ee=ee.innerWidth;return he!==void 0&&he?z!==void 0&&z?H:q:(re&&(he=Object.keys(re)).length&&(ee||(0,t.canUseDOM)())&&(j=ee===void 0?window.innerWidth:ee,he.forEach(function(te){var fe;Number(te)<=j&&(fe=(te=re[te]).items,te=te.itemsFit,q=(te===void 0?"fill":te)==="contain"?fe:Math.min(fe,H))})),q||1)});t.getItemsInSlide=V})(HT);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateInitialState=t.getIsStageContentPartial=t.concatClassnames=void 0;var e=HT,n=lv,r=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return o.filter(Boolean).join(" ")},i=(t.concatClassnames=r,function(o,a,l){return a===void 0&&(a=0),l===void 0&&(l=0),!(o=o!==void 0&&o)&&l<=a}),s=(t.getIsStageContentPartial=i,function(F,a,l){l===void 0&&(l=(0,e.canUseDOM)());var u,h,p=F.animationDuration,p=p===void 0?0:p,m=F.infinite,m=m!==void 0&&m,v=F.autoPlay,v=v!==void 0&&v,y=F.autoWidth,y=y!==void 0&&y,S=(0,e.createClones)(F),A=(0,e.getTransitionProperty)(),_=(0,e.getItemsCount)(F),w=(0,e.getItemsOffset)(F),x=(0,e.getItemsInSlide)(_,F),M=(0,n.getStartIndex)(F.activeIndex,_),M=(0,n.getActiveIndex)({startIndex:M,itemsCount:_,infinite:m}),R=(0,e.getElementDimensions)(a).width,T=(h=(a=(y?(u=(a=(0,e.createAutowidthTransformationSet)(a,R,m)).coords,h=a.content,a):(u=(a=(0,e.createDefaultTransformationSet)(S,R,x,m)).coords,h=a.content,a)).partial,h),(0,n.getItemCoords)(-x,u=u).position),I=(0,n.getSwipeLimitMin)({itemsOffset:w,transformationSet:u},F),F=(0,n.getSwipeLimitMax)({itemsCount:_,itemsOffset:w,itemsInSlide:x,transformationSet:u},F),B=(0,n.getSwipeShiftValue)(_,u);return{activeIndex:M,autoWidth:y,animationDuration:p,clones:S,infinite:m,itemsCount:_,itemsInSlide:x,itemsOffset:w,translate3d:(0,e.getTranslate3dProperty)(M,{itemsInSlide:x,itemsOffset:w,transformationSet:u,autoWidth:y,infinite:m}),stageWidth:R,stageContentWidth:h,initialStageHeight:0,isStageContentPartial:a,isAutoPlaying:v,isAutoPlayCanceledOnAction:!1,transformationSet:u,transition:A,fadeoutAnimationIndex:null,fadeoutAnimationPosition:null,fadeoutAnimationProcessing:!1,swipeLimitMin:I,swipeLimitMax:F,swipeAllowedPositionMax:T,swipeShiftValue:B,canUseDom:l}});t.calculateInitialState=s})(kT);var dU={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isClonedItem=t.isTargetItem=t.isActiveItem=t.getRenderStageItemClasses=void 0;var e=Xa,n=kT,r=lv,i=function(y,v){y===void 0&&(y=0);var h=v.fadeoutAnimationIndex,p=(0,t.isActiveItem)(y,v)?e.Modifiers.ACTIVE:"",m=(0,t.isClonedItem)(y,v)?e.Modifiers.CLONED:"",v=(0,t.isTargetItem)(y,v)?e.Modifiers.TARGET:"",y=y===h?e.Classnames.ANIMATED:"";return(0,n.concatClassnames)(e.Classnames.STAGE_ITEM,p,m,v,y)},s=(t.getRenderStageItemClasses=i,function(l,y){l===void 0&&(l=0);var h=y.activeIndex,p=y.itemsInSlide,m=y.itemsOffset,v=y.infinite,y=y.autoWidth,S=(0,r.getShiftIndex)(p,m);return y&&v?l-S===h+m:(y=h+S,v?y<=l&&l<y+p:h<=l&&l<y)}),o=(t.isActiveItem=s,function(l,v){l===void 0&&(l=0);var h=v.activeIndex,y=v.itemsInSlide,p=v.itemsOffset,m=v.infinite,v=v.autoWidth,y=(0,r.getShiftIndex)(y,p);return m?v&&m?l-y===h+p:l===h+y:l===h}),a=(t.isTargetItem=o,function(l,y){l===void 0&&(l=0);var h=y.itemsInSlide,p=y.itemsOffset,m=y.itemsCount,v=y.infinite,y=y.autoWidth;return!!v&&(y&&v?l<h||m-1+h<l:l<(y=(0,r.getShiftIndex)(h,p))||m-1+y<l)});t.isClonedItem=a})(dU);var pU={};(function(t){function e(n,r){r===void 0&&(r=0);function i(){s&&(clearTimeout(s),s=void 0)}var s=void 0;return[function(){for(var o=this,a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];i(),s=window.setTimeout(function(){n.apply(o,a),s=void 0},r)},i]}Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=void 0,t.debounce=e})(pU);var mU={};(function(t){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r]}Object.defineProperty(t,"__esModule",{value:!0}),t.debug=void 0,t.debug=e})(mU);var gU={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getSlideItemInfo=t.getSlideInfo=t.getSlideIndexForMultipleItems=t.getSlideIndexForNonMultipleItems=t.getActiveSlideDotsLength=t.getActiveSlideIndex=void 0;var e=function(a,h){var h=h||{},p=h.activeIndex,u=h.itemsInSlide,h=h.itemsCount,p=p+u;return u===1?(0,t.getSlideIndexForNonMultipleItems)(p,u,h):(0,t.getSlideIndexForMultipleItems)(p,u,h,a)},n=(t.getActiveSlideIndex=e,function(a,l){var u;return l===void 0&&(l=1),(a=a===void 0?0:a)&&l?(u=Math.floor(a/l),a%l==0?u-1:u):0}),r=(t.getActiveSlideDotsLength=n,function(a,l,u){return a<l?u-l:u<a?0:a-1}),i=(t.getSlideIndexForNonMultipleItems=r,function(a,l,u,h){var p=(0,t.getActiveSlideDotsLength)(u,l);return a===u+l?0:h||a<l&&a!==0?p:a===0?u%l==0?p:p-1:0<l?Math.floor(a/l)-1:0}),s=(t.getSlideIndexForMultipleItems=i,function(a,l){return l===void 0&&(l=0),a=(a=a===void 0?0:a)+1,a<1?a=l:l<a&&(a=1),{item:a,itemsCount:l}}),o=(t.getSlideInfo=s,function(l){var l=l||{},u=l.itemsInSlide,h=l.activeIndex,p=l.infinite,m=l.itemsCount;return l.isStageContentPartial?{isPrevSlideDisabled:!0,isNextSlideDisabled:!0}:{isPrevSlideDisabled:p===!1&&h===0,isNextSlideDisabled:p===!1&&m-u<=h}});t.getSlideItemInfo=o})(gU);var vU={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.shouldCancelAutoPlayOnHover=t.shouldCancelAutoPlayOnAction=t.getItemIndexForDotNavigation=t.checkIsTheLastDotIndex=t.getDotsNavigationLength=t.hasDotForEachSlide=t.isStrategy=t.shouldDisableButtons=t.shouldDisableDots=t.shouldDisableControls=void 0;var e=Xa;function n(y,_){var y=(y||{}).controlsStrategy,_=_||{},S=_.itemsInSlide,A=_.itemsCount,_=_.autoWidth;if((0,t.isStrategy)(y,e.ControlsStrategy.RESPONSIVE))return!_&&S===A}function r(m,v){return m.disableDotsControls||n(m,v)}function i(m,v){return m.disableButtonsControls||!m.infinite&&n(m,v)}t.shouldDisableControls=n,t.shouldDisableDots=r,t.shouldDisableButtons=i;var s=function(m,v){return m===void 0&&(m=""),v===void 0&&(v=""),!!(m&&m.includes(v))},o=(t.isStrategy=s,function(m,v){return m||(0,t.isStrategy)(v,e.ControlsStrategy.ALTERNATE)}),a=(t.hasDotForEachSlide=o,function(m,v,y){return m===void 0&&(m=0),v===void 0&&(v=1),(y=y!==void 0&&y)?m:Number(v)!==0&&Math.ceil(m/v)||0}),l=(t.getDotsNavigationLength=a,function(m,v,y){return!v&&m===y-1}),u=(t.checkIsTheLastDotIndex=l,function(m,v,y,S){return(v?y-S:m*S)||0}),h=(t.getItemIndexForDotNavigation=u,function(m){return(m=m===void 0?"":m)===e.AutoPlayStrategy.ACTION||m===e.AutoPlayStrategy.ALL}),p=(t.shouldCancelAutoPlayOnAction=h,function(m){return(m=m===void 0?"":m)===e.AutoPlayStrategy.DEFAULT||m===e.AutoPlayStrategy.ALL});t.shouldCancelAutoPlayOnHover=p})(vU);(function(t){var e=Object.create?function(r,i,s,o){o===void 0&&(o=s);var a=Object.getOwnPropertyDescriptor(i,s);a&&("get"in a?i.__esModule:!a.writable&&!a.configurable)||(a={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(r,o,a)}:function(r,i,s,o){r[o=o===void 0?s:o]=i[s]},n=function(r,i){for(var s in r)s==="default"||Object.prototype.hasOwnProperty.call(i,s)||e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(kT,t),n(HT,t),n(dU,t),n(pU,t),n(lv,t),n(mU,t),n(gU,t),n(vU,t),n(zT,t)})(om);(function(t){var e=function(o){return o&&o.__esModule?o:{default:o}},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.SlideInfo=void 0,e(oe)),r=Xa,i=om,s=function(l){var u=l.activeIndex,a=l.itemsCount,l=l.renderSlideInfo,u=(0,i.getSlideInfo)(u,a).item;return typeof l=="function"?n.default.createElement("div",{className:r.Classnames.SLIDE_INFO},l({item:u,itemsCount:a})):(l=(0,i.concatClassnames)(r.Classnames.SLIDE_INFO_ITEM,r.Modifiers.SEPARATOR),n.default.createElement("div",{className:r.Classnames.SLIDE_INFO},n.default.createElement("span",{className:r.Classnames.SLIDE_INFO_ITEM},u),n.default.createElement("span",{className:l},"/"),n.default.createElement("span",{className:r.Classnames.SLIDE_INFO_ITEM},a)))};t.SlideInfo=s})(hU);var yU={};(function(t){var e=function(i){return i&&i.__esModule?i:{default:i}},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.StageItem=void 0,e(oe)),r=function(a){var s=a.item,o=a.className,a=a.styles;return n.default.createElement("li",{style:a,className:o},s)};t.StageItem=r})(yU);var _U={};(function(t){var e=function(o){return o&&o.__esModule?o:{default:o}},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.DotsNavigation=void 0,e(oe)),r=Xa,i=om,s=function(A){var a=A.state,l=A.onClick,u=A.onMouseEnter,h=A.onMouseLeave,p=A.controlsStrategy,m=A.renderDotsItem,v=a.itemsCount,y=a.itemsInSlide,S=a.infinite,A=a.autoWidth,_=a.activeIndex,w=(0,i.getSlideItemInfo)(a).isNextSlideDisabled,x=(0,i.hasDotForEachSlide)(A,p),M=(0,i.getDotsNavigationLength)(v,y,x);return n.default.createElement("ul",{className:r.Classnames.DOTS},Array.from({length:v}).map(function(R,T){var I,F,B;if(T<M)return F=(0,i.checkIsTheLastDotIndex)(T,!!S,M),I=(0,i.getItemIndexForDotNavigation)(T,F,v,y),F=(0,i.getActiveSlideIndex)(w,a),x&&((F=_)<0?F=v-1:v<=_&&(F=0),I=T),F=F===T?r.Modifiers.ACTIVE:"",B=m?r.Modifiers.CUSTOM:"",B=(0,i.concatClassnames)(r.Classnames.DOTS_ITEM,F,B),n.default.createElement("li",{key:"dot-item-".concat(T),onMouseEnter:u,onMouseLeave:h,onClick:function(){return l(I)},className:B},m&&m({isActive:!!F,activeIndex:T}))}))};t.DotsNavigation=s})(_U);var xU={};(function(t){var e=function(o){return o&&o.__esModule?o:{default:o}},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.PlayPauseButton=void 0,e(oe)),r=Xa,i=om,s=function(u){var a=u.isPlaying,l=u.onClick,u=u.renderPlayPauseButton;return typeof u=="function"?n.default.createElement("div",{className:r.Classnames.PLAY_BTN,onClick:l},u({isPlaying:a})):(u=a?r.Modifiers.PAUSE:"",a=(0,i.concatClassnames)(r.Classnames.PLAY_BTN_ITEM,u),n.default.createElement("div",{className:r.Classnames.PLAY_BTN},n.default.createElement("div",{className:r.Classnames.PLAY_BTN_WRAPPER},n.default.createElement("div",{onClick:l,className:a}))))};t.PlayPauseButton=s})(xU);var SU={};(function(t){var e=function(o){return o&&o.__esModule?o:{default:o}},n=(Object.defineProperty(t,"__esModule",{value:!0}),t.PrevNextButton=void 0,e(oe)),r=Xa,i=om,s=function(m){var a,l=m.name,u=m.isDisabled,h=m.onClick,p=m.renderPrevButton,m=m.renderNextButton;return typeof p=="function"?n.default.createElement("div",{className:r.Classnames.BUTTON_PREV,onClick:h},p({isDisabled:u})):typeof m=="function"?n.default.createElement("div",{className:r.Classnames.BUTTON_NEXT,onClick:h},m({isDisabled:u})):(m=(p=l==="prev")?"<":">",l=p?r.Classnames.BUTTON_PREV:r.Classnames.BUTTON_NEXT,a=p?r.Classnames.BUTTON_PREV_WRAPPER:r.Classnames.BUTTON_NEXT_WRAPPER,p=p?r.Classnames.BUTTON_PREV_ITEM:r.Classnames.BUTTON_NEXT_ITEM,u=u?r.Modifiers.INACTIVE:"",p=(0,i.concatClassnames)(p,u),n.default.createElement("div",{className:l},n.default.createElement("div",{className:a},n.default.createElement("p",{className:p,onClick:function(v){return h(v)}},n.default.createElement("span",{"data-area":m})))))};t.PrevNextButton=s})(SU);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.PrevNextButton=t.PlayPauseButton=t.DotsNavigation=t.StageItem=t.SlideInfo=void 0;var e=hU,n=(Object.defineProperty(t,"SlideInfo",{enumerable:!0,get:function(){return e.SlideInfo}}),yU),r=(Object.defineProperty(t,"StageItem",{enumerable:!0,get:function(){return n.StageItem}}),_U),i=(Object.defineProperty(t,"DotsNavigation",{enumerable:!0,get:function(){return r.DotsNavigation}}),xU),s=(Object.defineProperty(t,"PlayPauseButton",{enumerable:!0,get:function(){return i.PlayPauseButton}}),SU);Object.defineProperty(t,"PrevNextButton",{enumerable:!0,get:function(){return s.PrevNextButton}})})(fU);(function(t){var e=function(){var w=function(x,M){return(w=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(R,T){R.__proto__=T}:function(R,T){for(var I in T)Object.prototype.hasOwnProperty.call(T,I)&&(R[I]=T[I])}))(x,M)};return function(x,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");function R(){this.constructor=x}w(x,M),x.prototype=M===null?Object.create(M):(R.prototype=M.prototype,new R)}}(),n=function(){return(n=Object.assign||function(w){for(var x,M=1,R=arguments.length;M<R;M++)for(var T in x=arguments[M])Object.prototype.hasOwnProperty.call(x,T)&&(w[T]=x[T]);return w}).apply(this,arguments)},r=Object.create?function(w,x,M,R){R===void 0&&(R=M);var T=Object.getOwnPropertyDescriptor(x,M);T&&("get"in T?x.__esModule:!T.writable&&!T.configurable)||(T={enumerable:!0,get:function(){return x[M]}}),Object.defineProperty(w,R,T)}:function(w,x,M,R){w[R=R===void 0?M:R]=x[M]},i=Object.create?function(w,x){Object.defineProperty(w,"default",{enumerable:!0,value:x})}:function(w,x){w.default=x},s=function(w){if(w&&w.__esModule)return w;var x={};if(w!=null)for(var M in w)M!=="default"&&Object.prototype.hasOwnProperty.call(w,M)&&r(x,w,M);return i(x,w),x},o=function(w,x){for(var M in w)M==="default"||Object.prototype.hasOwnProperty.call(x,M)||r(x,w,M)},a=function(w,x,M,R){return new(M=M||Promise)(function(T,I){function F(V){try{O(R.next(V))}catch(H){I(H)}}function B(V){try{O(R.throw(V))}catch(H){I(H)}}function O(V){var H;V.done?T(V.value):((H=V.value)instanceof M?H:new M(function(ne){ne(H)})).then(F,B)}O((R=R.apply(w,x||[])).next())})},l=function(w,x){var M,R,T,I={label:0,sent:function(){if(1&T[0])throw T[1];return T[1]},trys:[],ops:[]},F={next:B(0),throw:B(1),return:B(2)};return typeof Symbol=="function"&&(F[Symbol.iterator]=function(){return this}),F;function B(O){return function(V){var H=[O,V];if(M)throw new TypeError("Generator is already executing.");for(;I;)try{if(M=1,R&&(T=2&H[0]?R.return:H[0]?R.throw||((T=R.return)&&T.call(R),0):R.next)&&!(T=T.call(R,H[1])).done)return T;switch(R=0,(H=T?[2&H[0],T.value]:H)[0]){case 0:case 1:T=H;break;case 4:return I.label++,{value:H[1],done:!1};case 5:I.label++,R=H[1],H=[0];continue;case 7:H=I.ops.pop(),I.trys.pop();continue;default:if(!(T=0<(T=I.trys).length&&T[T.length-1])&&(H[0]===6||H[0]===2)){I=0;continue}if(H[0]===3&&(!T||H[1]>T[0]&&H[1]<T[3]))I.label=H[1];else if(H[0]===6&&I.label<T[1])I.label=T[1],T=H;else{if(!(T&&I.label<T[2])){T[2]&&I.ops.pop(),I.trys.pop();continue}I.label=T[2],I.ops.push(H)}}H=x.call(w,I)}catch(ne){H=[6,ne],R=0}finally{M=T=0}if(5&H[0])throw H[1];return{value:H[0]?H[1]:void 0,done:!0}}}},u=function(w){return w&&w.__esModule?w:{default:w}},h=(Object.defineProperty(t,"__esModule",{value:!0}),t.Link=void 0,u(oe)),p=u(aU),m=uU,v=u(cU),y=(t.Link=v.default,s(fU)),S=s(om),A=Xa,_=(o(Xa,t),function(w){function x(M){var R=w.call(this,M)||this;return R.swipeListener=null,R._handleKeyboardEvents=function(T){switch(T.code){case"Space":return R.props.autoPlay&&R._handlePlayPauseToggle();case"ArrowLeft":return R.slidePrev(T);case"ArrowRight":return R.slideNext(T)}},R._handleBeforeSlideEnd=function(T){return a(R,void 0,void 0,function(){var I,F,B;return l(this,function(O){switch(O.label){case 0:return F=this.state,B=F.activeIndex,I=F.itemsCount,F=F.fadeoutAnimationProcessing,S.shouldRecalculateSlideIndex(B,I)?(B=S.getUpdateSlidePositionIndex(B,I),[4,this._handleUpdateSlidePosition(B)]):[3,2];case 1:return O.sent(),[3,4];case 2:return F?[4,this.setState({fadeoutAnimationIndex:null,fadeoutAnimationPosition:null,fadeoutAnimationProcessing:!1})]:[3,4];case 3:O.sent(),O.label=4;case 4:return this._handleSlideChanged(T),[2]}})})},R._handleMouseEnter=function(){var T=R.props.autoPlayStrategy;S.shouldCancelAutoPlayOnHover(T)&&R.state.isAutoPlaying&&(R.isHovered=!0,R._handlePause())},R._handleMouseLeave=function(){R.state.isAutoPlaying&&(R.isHovered=!1,R._handlePlay())},R._handlePause=function(){R._clearAutoPlayTimeout()},R._handlePlayPauseToggle=function(){return a(R,void 0,void 0,function(){var T;return l(this,function(I){switch(I.label){case 0:return T=this.state.isAutoPlaying,this.hasUserAction=!0,[4,this.setState({isAutoPlaying:!T,isAutoPlayCanceledOnAction:!0})];case 1:return I.sent(),T?this._handlePause():this._handlePlay(),[2]}})})},R._setRootComponentRef=function(T){return R.rootElement=T},R._setStageComponentRef=function(T){return R.stageComponent=T},R._renderStageItem=function(T,I){var F=S.getRenderStageItemStyles(I,R.state),B=S.getRenderStageItemClasses(I,R.state);return h.default.createElement(y.StageItem,{styles:F,className:B,key:"stage-item-".concat(I),item:T})},R._renderSlideInfo=function(){var T=R.props.renderSlideInfo,F=R.state,I=F.activeIndex,F=F.itemsCount;return h.default.createElement(y.SlideInfo,{itemsCount:F,activeIndex:I,renderSlideInfo:T})},R.state=S.calculateInitialState(M,null),R.isHovered=!1,R.isAnimationDisabled=!1,R.isTouchMoveProcessStarted=!1,R.cancelTouchAnimations=!1,R.hasUserAction=!1,R.rootElement=null,R.rootComponentDimensions={},R.stageComponent=null,R.startTouchmovePosition=void 0,R.slideTo=R.slideTo.bind(R),R.slidePrev=R.slidePrev.bind(R),R.slideNext=R.slideNext.bind(R),R._handleTouchmove=R._handleTouchmove.bind(R),R._handleTouchend=R._handleTouchend.bind(R),R._handleDotClick=R._handleDotClick.bind(R),R._handleResize=R._handleResize.bind(R),M=S.debounce(R._handleResize,100),R._handleResizeDebounced=M[0],R._cancelResizeDebounced=M[1],R}return e(x,w),x.prototype.componentDidMount=function(){return a(this,void 0,void 0,function(){return l(this,function(M){switch(M.label){case 0:return[4,this._setInitialState()];case 1:return M.sent(),this._addEventListeners(),this._setupSwipeHandlers(),this.props.autoPlay&&this._handlePlay(),[2]}})})},x.prototype.componentDidUpdate=function(M){var z=this.props,R=z.activeIndex,T=z.animationDuration,I=z.autoWidth,F=z.children,B=z.infinite,O=z.items,V=z.paddingLeft,H=z.paddingRight,ne=z.responsive,j=z.swipeExtraPadding,q=z.mouseTracking,re=z.swipeDelta,he=z.touchTracking,z=z.touchMoveDefaultEvents;F&&M.children!==F||M.autoWidth!==I||M.infinite!==B||M.items!==O||M.paddingLeft!==V||M.paddingRight!==H||M.responsive!==ne||M.swipeExtraPadding!==j?this._updateComponent():(M.animationDuration!==T&&this.setState({animationDuration:T}),M.activeIndex!==R&&this.slideTo(R,A.EventType.UPDATE)),M.swipeDelta===re&&M.mouseTracking===q&&M.touchTracking===he&&M.touchMoveDefaultEvents===z||this._updateSwipeProps(),this.props.keyboardNavigation!==M.keyboardNavigation&&this._updateEventListeners()},x.prototype.componentWillUnmount=function(){this._cancelResizeDebounced(),this._cancelTimeoutAnimations(),this._removeEventListeners()},Object.defineProperty(x.prototype,"eventObject",{get:function(){var R=this.state,M=R.itemsInSlide,R=R.activeIndex,I=S.getSlideItemInfo(this.state),T=I.isNextSlideDisabled,I=I.isPrevSlideDisabled;return{item:R,slide:S.getActiveSlideIndex(T,this.state),itemsInSlide:M,isNextSlideDisabled:T,isPrevSlideDisabled:I,type:A.EventType.ACTION}},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"isFadeoutAnimationAllowed",{get:function(){var M=this.state.itemsInSlide,F=this.props,R=F.animationType,T=F.paddingLeft,I=F.paddingRight,F=F.autoWidth;return M===1&&R===A.AnimationType.FADEOUT&&!(T||I||F)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"touchmovePosition",{get:function(){return this.startTouchmovePosition!==void 0?this.startTouchmovePosition:this.state.translate3d},enumerable:!1,configurable:!0}),x.prototype.slideTo=function(M,R){var T,I,F;M===void 0&&(M=0),this._handlePause(),this.isFadeoutAnimationAllowed?(T=S.getUpdateSlidePositionIndex(M,this.state.itemsCount),I=S.getFadeoutAnimationPosition(T,this.state),F=S.getFadeoutAnimationIndex(this.state),this._handleSlideTo({activeIndex:T,fadeoutAnimationIndex:F,fadeoutAnimationPosition:I,eventType:R})):this._handleSlideTo({activeIndex:M,eventType:R})},x.prototype.slidePrev=function(I){this._handlePause(),I&&I.isTrusted&&(this.hasUserAction=!0);var R,T,I=this.state.activeIndex-1;this.isFadeoutAnimationAllowed?(R=-this.state.stageWidth,T=S.getFadeoutAnimationIndex(this.state),this._handleSlideTo({activeIndex:I,fadeoutAnimationIndex:T,fadeoutAnimationPosition:R})):this._handleSlideTo({activeIndex:I})},x.prototype.slideNext=function(I){this._handlePause(),I&&I.isTrusted&&(this.hasUserAction=!0);var R,T,I=this.state.activeIndex+1;this.isFadeoutAnimationAllowed?(R=this.state.stageWidth,T=S.getFadeoutAnimationIndex(this.state),this._handleSlideTo({activeIndex:I,fadeoutAnimationIndex:T,fadeoutAnimationPosition:R})):this._handleSlideTo({activeIndex:I})},x.prototype._addEventListeners=function(){window.addEventListener("resize",this._handleResizeDebounced),this.props.keyboardNavigation&&window.addEventListener("keyup",this._handleKeyboardEvents)},x.prototype._removeEventListeners=function(){this.swipeListener&&this.swipeListener.destroy(),window.removeEventListener("resize",this._handleResizeDebounced),window.removeEventListener("keyup",this._handleKeyboardEvents)},x.prototype._updateEventListeners=function(){this.props.keyboardNavigation?window.addEventListener("keyup",this._handleKeyboardEvents):window.removeEventListener("keyup",this._handleKeyboardEvents)},x.prototype._handleResize=function(M){return a(this,void 0,void 0,function(){var R,T,I,F;return l(this,function(B){switch(B.label){case 0:return I=this.props.onResizeEvent,T=S.getElementDimensions(this.rootElement),(I||S.shouldHandleResizeEvent)(M,this.rootComponentDimensions,T)?(this._cancelTimeoutAnimations(),this.rootComponentDimensions=T,I=this.state,T=I.itemsCount,R=I.isAutoPlaying,I=S.getUpdateSlidePositionIndex(this.state.activeIndex,T),T=S.calculateInitialState(n(n({},this.props),{activeIndex:I}),this.stageComponent),I=S.getTranslate3dProperty(T.activeIndex,T),F=n(n({},T),{translate3d:I,isAutoPlaying:R}),S.animate(this.stageComponent,{position:-I}),[4,this.setState(F)]):[3,2];case 1:B.sent(),this._handleResized({itemsInSlide:F.itemsInSlide}),this.isAnimationDisabled=!1,R&&this._handlePlay(),B.label=2;case 2:return[2]}})})},x.prototype._handleTouchmove=function(M,B){var T=B.absY,I=B.absX,F=B.deltaX,B=this.props.swipeDelta,j=this.state,O=j.swipeShiftValue,V=j.swipeLimitMin,H=j.swipeLimitMax,ne=j.infinite,j=j.fadeoutAnimationProcessing;if(this.hasUserAction=!0,!(j||!this.isTouchMoveProcessStarted&&S.isVerticalTouchmoveDetected(I,T,B))){this.isTouchMoveProcessStarted||(this._cancelTimeoutAnimations(),this._setTouchmovePosition(),this.isAnimationDisabled=!0,this.isTouchMoveProcessStarted=!0,this._handleSlideChange());var q=S.getTouchmoveTranslatePosition(F,this.touchmovePosition);if(ne===!1)return V<q||q<-H?void 0:void S.animate(this.stageComponent,{position:q});if(S.shouldRecalculateSwipePosition(q,V,H))try{(function re(){S.getIsLeftDirection(F)?q+=O:q+=-O,S.shouldRecalculateSwipePosition(q,V,H)&&re()})()}catch(re){S.debug(re)}S.animate(this.stageComponent,{position:q})}},x.prototype._handleTouchend=function(M,B){var T,I,F,B=B.deltaX;this._clearTouchmovePosition(),this.isTouchMoveProcessStarted&&(this.isTouchMoveProcessStarted=!1,T=this.state.animationDuration,I=this.props.animationEasingFunction,F=S.getTranslateXProperty(this.stageComponent),B=S.getSwipeTouchendPosition(this.state,B,F),S.animate(this.stageComponent,{position:B,animationDuration:T,animationEasingFunction:I}),this._handleBeforeTouchEnd(B))},x.prototype._handleBeforeTouchEnd=function(M){var R=this,T=this.state.animationDuration;this.touchEndTimeoutId=window.setTimeout(function(){return a(R,void 0,void 0,function(){var I,F,B,O=this;return l(this,function(V){switch(V.label){case 0:return I=S.getSwipeTouchendIndex(M,this.state),F=S.getTranslate3dProperty(I,this.state),S.animate(this.stageComponent,{position:-F}),B=S.getTransitionProperty(),[4,this.setState({activeIndex:I,translate3d:F,transition:B})];case 1:return V.sent(),requestAnimationFrame(function(){return O._handleSlideChanged()}),[2]}})})},T)},x.prototype._handleSlideTo=function(M){var I=M.activeIndex,R=I===void 0?0:I,I=M.fadeoutAnimationIndex,T=I===void 0?null:I,I=M.fadeoutAnimationPosition,F=I===void 0?null:I,B=M.eventType;return a(this,void 0,void 0,function(){var O,V,H,ne,j=this;return l(this,function(q){switch(q.label){case 0:return V=this.props,H=V.infinite,V=V.animationEasingFunction,O=this.state,ne=O.itemsCount,O=O.animationDuration,this.isAnimationDisabled||this.state.activeIndex===R||!H&&S.shouldCancelSlideAnimation(R,ne)?[2]:(this.isAnimationDisabled=!0,this._cancelTimeoutAnimations(),this._handleSlideChange(B),H=!1,ne=S.getTranslate3dProperty(R,this.state),V=T!==null&&F!==null?(H=!0,S.getTransitionProperty()):S.getTransitionProperty({animationDuration:O,animationEasingFunction:V}),[4,this.setState({activeIndex:R,transition:V,translate3d:ne,animationDuration:O,fadeoutAnimationIndex:T,fadeoutAnimationPosition:F,fadeoutAnimationProcessing:H})]);case 1:return q.sent(),this.slideEndTimeoutId=window.setTimeout(function(){return j._handleBeforeSlideEnd(B)},O),[2]}})})},x.prototype._handleUpdateSlidePosition=function(M){return a(this,void 0,void 0,function(){var R,T,I;return l(this,function(F){switch(F.label){case 0:return R=this.state.animationDuration,T=S.getTranslate3dProperty(M,this.state),I=S.getTransitionProperty({animationDuration:0}),[4,this.setState({activeIndex:M,translate3d:T,transition:I,animationDuration:R,fadeoutAnimationIndex:null,fadeoutAnimationPosition:null,fadeoutAnimationProcessing:!1})];case 1:return F.sent(),[2]}})})},x.prototype._handleUpdated=function(){this.props.onUpdated&&this.props.onUpdated(n(n({},this.eventObject),{type:A.EventType.UPDATE}))},x.prototype._handleResized=function(M){M===void 0&&(M={}),this.props.onResized&&this.props.onResized(n(n(n({},this.eventObject),M),{type:A.EventType.RESIZE}))},x.prototype._handleSlideChange=function(M){this.props.onSlideChange&&(M=M?n(n({},this.eventObject),{type:M}):this.eventObject,this.props.onSlideChange(M))},x.prototype._handleSlideChanged=function(M){return a(this,void 0,void 0,function(){var R,T,I,F;return l(this,function(B){switch(B.label){case 0:return T=this.state,R=T.isAutoPlaying,T=T.isAutoPlayCanceledOnAction,I=this.props,F=I.autoPlayStrategy,I=I.onSlideChanged,S.shouldCancelAutoPlayOnAction(F)&&this.hasUserAction&&!T?[4,this.setState({isAutoPlayCanceledOnAction:!0,isAutoPlaying:!1})]:[3,2];case 1:return B.sent(),[3,3];case 2:R&&this._handlePlay(),B.label=3;case 3:return this.isAnimationDisabled=!1,I&&(F=M?n(n({},this.eventObject),{type:M}):this.eventObject,I(F)),M===A.EventType.UPDATE&&this._handleUpdated(),[2]}})})},x.prototype._handleDotClick=function(M){this.hasUserAction=!0,this.slideTo(M)},x.prototype._handlePlay=function(){this._setAutoPlayInterval()},x.prototype._cancelTimeoutAnimations=function(){this._clearAutoPlayTimeout(),this._clearSlideEndTimeout(),this.clearTouchendTimeout()},x.prototype._clearAutoPlayTimeout=function(){window.clearTimeout(this.autoPlayTimeoutId),this.autoPlayTimeoutId=void 0},x.prototype._clearSlideEndTimeout=function(){clearTimeout(this.slideEndTimeoutId),this.slideEndTimeoutId=void 0},x.prototype.clearTouchendTimeout=function(){clearTimeout(this.touchEndTimeoutId),this.touchEndTimeoutId=void 0},x.prototype._clearTouchmovePosition=function(){this.startTouchmovePosition=void 0},x.prototype._setTouchmovePosition=function(){var M=S.getTranslateXProperty(this.stageComponent);this.startTouchmovePosition=-M},x.prototype._setInitialState=function(){return a(this,void 0,void 0,function(){var M;return l(this,function(R){switch(R.label){case 0:return M=S.calculateInitialState(this.props,this.stageComponent),this.rootComponentDimensions=S.getElementDimensions(this.rootElement),[4,this.setState(M)];case 1:return R.sent(),this.props.onInitialized&&this.props.onInitialized(n(n({},this.eventObject),{type:A.EventType.INIT})),[2]}})})},x.prototype._setAutoPlayInterval=function(){var M=this,T=this.props,R=T.autoPlayDirection,T=T.autoPlayInterval;this.autoPlayTimeoutId=window.setTimeout(function(){M.isHovered||(R===A.AutoplayDirection.RTL?M.slidePrev():M.slideNext())},T)},x.prototype._setupSwipeHandlers=function(){this.swipeListener=new p.default({element:this.rootElement,delta:this.props.swipeDelta,onSwiping:this._handleTouchmove,onSwiped:this._handleTouchend,rotationAngle:5,mouseTrackingEnabled:this.props.mouseTracking,touchTrackingEnabled:this.props.touchTracking,preventDefaultTouchmoveEvent:!this.props.touchMoveDefaultEvents,preventTrackingOnMouseleave:!0}),this.swipeListener.init()},x.prototype._updateComponent=function(){var M=this,R=(this.props.syncStateOnPropsUpdate?this.state:this.props).activeIndex,T=n(n({},this.props),{activeIndex:R});this._cancelTimeoutAnimations(),this.isAnimationDisabled=!1,this.state.isAutoPlaying&&this._handlePlay(),this.setState({clones:S.createClones(T)}),requestAnimationFrame(function(){M.setState(S.calculateInitialState(T,M.stageComponent),function(){return M._handleUpdated()})})},x.prototype._updateSwipeProps=function(){this.swipeListener&&this.swipeListener.update({delta:this.props.swipeDelta,mouseTrackingEnabled:this.props.mouseTracking,touchTrackingEnabled:this.props.touchTracking,preventDefaultTouchmoveEvent:!this.props.touchMoveDefaultEvents})},x.prototype._renderDotsNavigation=function(){var R=this.props,M=R.renderDotsItem,R=R.controlsStrategy;return h.default.createElement(y.DotsNavigation,{state:this.state,onClick:this._handleDotClick,renderDotsItem:M,controlsStrategy:R})},x.prototype._renderPrevButton=function(){var M=this.props.renderPrevButton,R=S.getSlideItemInfo(this.state).isPrevSlideDisabled;return h.default.createElement(y.PrevNextButton,{name:"prev",onClick:this.slidePrev,isDisabled:R,renderPrevButton:M})},x.prototype._renderNextButton=function(){var M=this.props.renderNextButton,R=S.getSlideItemInfo(this.state).isNextSlideDisabled;return h.default.createElement(y.PrevNextButton,{name:"next",onClick:this.slideNext,isDisabled:R,renderNextButton:M})},x.prototype._renderPlayPauseButton=function(){var M=this.props.renderPlayPauseButton,R=this.state.isAutoPlaying;return h.default.createElement(y.PlayPauseButton,{isPlaying:R,onClick:this._handlePlayPauseToggle,renderPlayPauseButton:M})},x.prototype.render=function(){var O=this.state,F=O.translate3d,M=O.clones,B=O.transition,O=O.canUseDom,R=S.shouldDisableDots(this.props,this.state),T=S.shouldDisableButtons(this.props,this.state),I=S.getRenderWrapperStyles(this.props,this.state,this.stageComponent),F=S.getRenderStageStyles({translate3d:F},{transition:B}),B=this.props.ssrSilentMode||O?"":A.Modifiers.SSR,O=S.concatClassnames(A.Classnames.ROOT,B);return h.default.createElement("div",{className:O},h.default.createElement("div",{ref:this._setRootComponentRef},h.default.createElement("div",{style:I,className:A.Classnames.WRAPPER,onMouseEnter:this._handleMouseEnter,onMouseLeave:this._handleMouseLeave},h.default.createElement("ul",{style:F,className:A.Classnames.STAGE,ref:this._setStageComponentRef},M.map(this._renderStageItem)))),R?null:this._renderDotsNavigation(),T?null:this._renderPrevButton(),T?null:this._renderNextButton(),this.props.disableSlideInfo?null:this._renderSlideInfo(),this.props.autoPlayControls?this._renderPlayPauseButton():null)},x.defaultProps=m.defaultProps,x}(h.default.PureComponent));t.default=_})(oU);const Y7=eS(oU),M1=async(t,e)=>{const n=await fetch(t,{method:e}),r=n.headers.get("content-type");return r&&r.includes("application/json")?n.json():n},v_=async(t,e,n)=>(await fetch(t,{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json();var Es=function(){return Es=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Es.apply(this,arguments)};function C1(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Kn="-ms-",l0="-moz-",Tn="-webkit-",AU="comm",LS="rule",GT="decl",q7="@import",wU="@keyframes",Q7="@layer",EU=Math.abs,$T=String.fromCharCode,_M=Object.assign;function Z7(t,e){return gi(t,0)^45?(((e<<2^gi(t,0))<<2^gi(t,1))<<2^gi(t,2))<<2^gi(t,3):0}function bU(t){return t.trim()}function Ml(t,e){return(t=e.exec(t))?t[0]:t}function cn(t,e,n){return t.replace(e,n)}function Nx(t,e,n){return t.indexOf(e,n)}function gi(t,e){return t.charCodeAt(e)|0}function Gp(t,e,n){return t.slice(e,n)}function ka(t){return t.length}function MU(t){return t.length}function Jg(t,e){return e.push(t),t}function ej(t,e){return t.map(e).join("")}function c3(t,e){return t.filter(function(n){return!Ml(n,e)})}var BS=1,$p=1,CU=0,Oo=0,Gr=0,am="";function DS(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:BS,column:$p,length:o,return:"",siblings:a}}function Gu(t,e){return _M(DS("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function gd(t){for(;t.root;)t=Gu(t.root,{children:[t]});Jg(t,t.siblings)}function tj(){return Gr}function nj(){return Gr=Oo>0?gi(am,--Oo):0,$p--,Gr===10&&($p=1,BS--),Gr}function fa(){return Gr=Oo<CU?gi(am,Oo++):0,$p++,Gr===10&&($p=1,BS++),Gr}function Jf(){return gi(am,Oo)}function Ux(){return Oo}function OS(t,e){return Gp(am,t,e)}function xM(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function rj(t){return BS=$p=1,CU=ka(am=t),Oo=0,[]}function ij(t){return am="",t}function Zw(t){return bU(OS(Oo-1,SM(t===91?t+2:t===40?t+1:t)))}function sj(t){for(;(Gr=Jf())&&Gr<33;)fa();return xM(t)>2||xM(Gr)>3?"":" "}function oj(t,e){for(;--e&&fa()&&!(Gr<48||Gr>102||Gr>57&&Gr<65||Gr>70&&Gr<97););return OS(t,Ux()+(e<6&&Jf()==32&&fa()==32))}function SM(t){for(;fa();)switch(Gr){case t:return Oo;case 34:case 39:t!==34&&t!==39&&SM(Gr);break;case 40:t===41&&SM(t);break;case 92:fa();break}return Oo}function aj(t,e){for(;fa()&&t+Gr!==47+10;)if(t+Gr===42+42&&Jf()===47)break;return"/*"+OS(e,Oo-1)+"*"+$T(t===47?t:fa())}function lj(t){for(;!xM(Jf());)fa();return OS(t,Oo)}function uj(t){return ij(kx("",null,null,null,[""],t=rj(t),0,[0],t))}function kx(t,e,n,r,i,s,o,a,l){for(var u=0,h=0,p=o,m=0,v=0,y=0,S=1,A=1,_=1,w=0,x="",M=i,R=s,T=r,I=x;A;)switch(y=w,w=fa()){case 40:if(y!=108&&gi(I,p-1)==58){Nx(I+=cn(Zw(w),"&","&\f"),"&\f",EU(u?a[u-1]:0))!=-1&&(_=-1);break}case 34:case 39:case 91:I+=Zw(w);break;case 9:case 10:case 13:case 32:I+=sj(y);break;case 92:I+=oj(Ux()-1,7);continue;case 47:switch(Jf()){case 42:case 47:Jg(cj(aj(fa(),Ux()),e,n,l),l);break;default:I+="/"}break;case 123*S:a[u++]=ka(I)*_;case 125*S:case 59:case 0:switch(w){case 0:case 125:A=0;case 59+h:_==-1&&(I=cn(I,/\f/g,"")),v>0&&ka(I)-p&&Jg(v>32?h3(I+";",r,n,p-1,l):h3(cn(I," ","")+";",r,n,p-2,l),l);break;case 59:I+=";";default:if(Jg(T=f3(I,e,n,u,h,i,a,x,M=[],R=[],p,s),s),w===123)if(h===0)kx(I,e,T,T,M,s,p,a,R);else switch(m===99&&gi(I,3)===110?100:m){case 100:case 108:case 109:case 115:kx(t,T,T,r&&Jg(f3(t,T,T,0,0,i,a,x,i,M=[],p,R),R),i,R,p,a,r?M:R);break;default:kx(I,T,T,T,[""],R,0,a,R)}}u=h=v=0,S=_=1,x=I="",p=o;break;case 58:p=1+ka(I),v=y;default:if(S<1){if(w==123)--S;else if(w==125&&S++==0&&nj()==125)continue}switch(I+=$T(w),w*S){case 38:_=h>0?1:(I+="\f",-1);break;case 44:a[u++]=(ka(I)-1)*_,_=1;break;case 64:Jf()===45&&(I+=Zw(fa())),m=Jf(),h=p=ka(x=I+=lj(Ux())),w++;break;case 45:y===45&&ka(I)==2&&(S=0)}}return s}function f3(t,e,n,r,i,s,o,a,l,u,h,p){for(var m=i-1,v=i===0?s:[""],y=MU(v),S=0,A=0,_=0;S<r;++S)for(var w=0,x=Gp(t,m+1,m=EU(A=o[S])),M=t;w<y;++w)(M=bU(A>0?v[w]+" "+x:cn(x,/&\f/g,v[w])))&&(l[_++]=M);return DS(t,e,n,i===0?LS:a,l,u,h,p)}function cj(t,e,n,r){return DS(t,e,n,AU,$T(tj()),Gp(t,2,-2),0,r)}function h3(t,e,n,r,i){return DS(t,e,n,GT,Gp(t,0,r),Gp(t,r+1,-1),r,i)}function TU(t,e,n){switch(Z7(t,e)){case 5103:return Tn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Tn+t+t;case 4789:return l0+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Tn+t+l0+t+Kn+t+t;case 5936:switch(gi(t,e+11)){case 114:return Tn+t+Kn+cn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Tn+t+Kn+cn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Tn+t+Kn+cn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Tn+t+Kn+t+t;case 6165:return Tn+t+Kn+"flex-"+t+t;case 5187:return Tn+t+cn(t,/(\w+).+(:[^]+)/,Tn+"box-$1$2"+Kn+"flex-$1$2")+t;case 5443:return Tn+t+Kn+"flex-item-"+cn(t,/flex-|-self/g,"")+(Ml(t,/flex-|baseline/)?"":Kn+"grid-row-"+cn(t,/flex-|-self/g,""))+t;case 4675:return Tn+t+Kn+"flex-line-pack"+cn(t,/align-content|flex-|-self/g,"")+t;case 5548:return Tn+t+Kn+cn(t,"shrink","negative")+t;case 5292:return Tn+t+Kn+cn(t,"basis","preferred-size")+t;case 6060:return Tn+"box-"+cn(t,"-grow","")+Tn+t+Kn+cn(t,"grow","positive")+t;case 4554:return Tn+cn(t,/([^-])(transform)/g,"$1"+Tn+"$2")+t;case 6187:return cn(cn(cn(t,/(zoom-|grab)/,Tn+"$1"),/(image-set)/,Tn+"$1"),t,"")+t;case 5495:case 3959:return cn(t,/(image-set\([^]*)/,Tn+"$1$`$1");case 4968:return cn(cn(t,/(.+:)(flex-)?(.*)/,Tn+"box-pack:$3"+Kn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Tn+t+t;case 4200:if(!Ml(t,/flex-|baseline/))return Kn+"grid-column-align"+Gp(t,e)+t;break;case 2592:case 3360:return Kn+cn(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,Ml(r.props,/grid-\w+-end/)})?~Nx(t+(n=n[e].value),"span",0)?t:Kn+cn(t,"-start","")+t+Kn+"grid-row-span:"+(~Nx(n,"span",0)?Ml(n,/\d+/):+Ml(n,/\d+/)-+Ml(t,/\d+/))+";":Kn+cn(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return Ml(r.props,/grid-\w+-start/)})?t:Kn+cn(cn(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return cn(t,/(.+)-inline(.+)/,Tn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ka(t)-1-e>6)switch(gi(t,e+1)){case 109:if(gi(t,e+4)!==45)break;case 102:return cn(t,/(.+:)(.+)-([^]+)/,"$1"+Tn+"$2-$3$1"+l0+(gi(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Nx(t,"stretch",0)?TU(cn(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return cn(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,u){return Kn+i+":"+s+u+(o?Kn+i+"-span:"+(a?l:+l-+s)+u:"")+t});case 4949:if(gi(t,e+6)===121)return cn(t,":",":"+Tn)+t;break;case 6444:switch(gi(t,gi(t,14)===45?18:11)){case 120:return cn(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Tn+(gi(t,14)===45?"inline-":"")+"box$3$1"+Tn+"$2$3$1"+Kn+"$2box$3")+t;case 100:return cn(t,":",":"+Kn)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return cn(t,"scroll-","scroll-snap-")+t}return t}function T1(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function fj(t,e,n,r){switch(t.type){case Q7:if(t.children.length)break;case q7:case GT:return t.return=t.return||t.value;case AU:return"";case wU:return t.return=t.value+"{"+T1(t.children,r)+"}";case LS:if(!ka(t.value=t.props.join(",")))return""}return ka(n=T1(t.children,r))?t.return=t.value+"{"+n+"}":""}function hj(t){var e=MU(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function dj(t){return function(e){e.root||(e=e.return)&&t(e)}}function pj(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case GT:t.return=TU(t.value,t.length,n);return;case wU:return T1([Gu(t,{value:cn(t.value,"@","@"+Tn)})],r);case LS:if(t.length)return ej(n=t.props,function(i){switch(Ml(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":gd(Gu(t,{props:[cn(i,/:(read-\w+)/,":"+l0+"$1")]})),gd(Gu(t,{props:[i]})),_M(t,{props:c3(n,r)});break;case"::placeholder":gd(Gu(t,{props:[cn(i,/:(plac\w+)/,":"+Tn+"input-$1")]})),gd(Gu(t,{props:[cn(i,/:(plac\w+)/,":"+l0+"$1")]})),gd(Gu(t,{props:[cn(i,/:(plac\w+)/,Kn+"input-$1")]})),gd(Gu(t,{props:[i]})),_M(t,{props:c3(n,r)});break}return""})}}var mj={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Wp=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",RU="active",PU="data-styled-version",FS="6.1.15",WT=`/*!sc*/
`,R1=typeof window<"u"&&"HTMLElement"in window,gj=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),NS=Object.freeze([]),Vp=Object.freeze({});function vj(t,e,n){return n===void 0&&(n=Vp),t.theme!==n.theme&&t.theme||e||n.theme}var IU=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),yj=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,_j=/(^-|-$)/g;function d3(t){return t.replace(yj,"-").replace(_j,"")}var xj=/(a)(d)/gi,y_=52,p3=function(t){return String.fromCharCode(t+(t>25?39:97))};function AM(t){var e,n="";for(e=Math.abs(t);e>y_;e=e/y_|0)n=p3(e%y_)+n;return(p3(e%y_)+n).replace(xj,"$1-$2")}var eE,LU=5381,xp=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},BU=function(t){return xp(LU,t)};function Sj(t){return AM(BU(t)>>>0)}function Aj(t){return t.displayName||t.name||"Component"}function tE(t){return typeof t=="string"&&!0}var DU=typeof Symbol=="function"&&Symbol.for,OU=DU?Symbol.for("react.memo"):60115,wj=DU?Symbol.for("react.forward_ref"):60112,Ej={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},bj={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},FU={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Mj=((eE={})[wj]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},eE[OU]=FU,eE);function m3(t){return("type"in(e=t)&&e.type.$$typeof)===OU?FU:"$$typeof"in t?Mj[t.$$typeof]:Ej;var e}var Cj=Object.defineProperty,Tj=Object.getOwnPropertyNames,g3=Object.getOwnPropertySymbols,Rj=Object.getOwnPropertyDescriptor,Pj=Object.getPrototypeOf,v3=Object.prototype;function NU(t,e,n){if(typeof e!="string"){if(v3){var r=Pj(e);r&&r!==v3&&NU(t,r,n)}var i=Tj(e);g3&&(i=i.concat(g3(e)));for(var s=m3(t),o=m3(e),a=0;a<i.length;++a){var l=i[a];if(!(l in bj||n&&n[l]||o&&l in o||s&&l in s)){var u=Rj(e,l);try{Cj(t,l,u)}catch{}}}}return t}function jp(t){return typeof t=="function"}function VT(t){return typeof t=="object"&&"styledComponentId"in t}function Nf(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function y3(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=e?e+t[r]:t[r];return n}function D0(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function wM(t,e,n){if(n===void 0&&(n=!1),!n&&!D0(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=wM(t[r],e[r]);else if(D0(e))for(var r in e)t[r]=wM(t[r],e[r]);return t}function jT(t,e){Object.defineProperty(t,"toString",{value:e})}function uv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var Ij=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw uv(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(WT);return n},t}(),Hx=new Map,P1=new Map,zx=1,__=function(t){if(Hx.has(t))return Hx.get(t);for(;P1.has(zx);)zx++;var e=zx++;return Hx.set(t,e),P1.set(e,t),e},Lj=function(t,e){zx=e+1,Hx.set(t,e),P1.set(e,t)},Bj="style[".concat(Wp,"][").concat(PU,'="').concat(FS,'"]'),Dj=new RegExp("^".concat(Wp,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Oj=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},Fj=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(WT),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(Dj);if(l){var u=0|parseInt(l[1],10),h=l[2];u!==0&&(Lj(h,u),Oj(t,h,l[3]),t.getTag().insertRules(u,i)),i.length=0}else i.push(a)}}},_3=function(t){for(var e=document.querySelectorAll(Bj),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(Wp)!==RU&&(Fj(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function Nj(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var UU=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(Wp,"]")));return l[l.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Wp,RU),r.setAttribute(PU,FS);var o=Nj();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},Uj=function(){function t(e){this.element=UU(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw uv(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),kj=function(){function t(e){this.element=UU(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),Hj=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),x3=R1,zj={isServer:!R1,useCSSOMInjection:!gj},kU=function(){function t(e,n,r){e===void 0&&(e=Vp),n===void 0&&(n={});var i=this;this.options=Es(Es({},zj),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&R1&&x3&&(x3=!1,_3(this)),jT(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",u=function(p){var m=function(_){return P1.get(_)}(p);if(m===void 0)return"continue";var v=s.names.get(m),y=o.getGroup(p);if(v===void 0||!v.size||y.length===0)return"continue";var S="".concat(Wp,".g").concat(p,'[id="').concat(m,'"]'),A="";v!==void 0&&v.forEach(function(_){_.length>0&&(A+="".concat(_,","))}),l+="".concat(y).concat(S,'{content:"').concat(A,'"}').concat(WT)},h=0;h<a;h++)u(h);return l}(i)})}return t.registerId=function(e){return __(e)},t.prototype.rehydrate=function(){!this.server&&R1&&_3(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Es(Es({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new Hj(i):r?new Uj(i):new kj(i)}(this.options),new Ij(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(__(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(__(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(__(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),Gj=/&/g,$j=/^\s*\/\/.*$/gm;function HU(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=HU(n.children,e)),n})}function Wj(t){var e,n,r,i=t===void 0?Vp:t,s=i.options,o=s===void 0?Vp:s,a=i.plugins,l=a===void 0?NS:a,u=function(m,v,y){return y.startsWith(n)&&y.endsWith(n)&&y.replaceAll(n,"").length>0?".".concat(e):m},h=l.slice();h.push(function(m){m.type===LS&&m.value.includes("&")&&(m.props[0]=m.props[0].replace(Gj,n).replace(r,u))}),o.prefix&&h.push(pj),h.push(fj);var p=function(m,v,y,S){v===void 0&&(v=""),y===void 0&&(y=""),S===void 0&&(S="&"),e=S,n=v,r=new RegExp("\\".concat(n,"\\b"),"g");var A=m.replace($j,""),_=uj(y||v?"".concat(y," ").concat(v," { ").concat(A," }"):A);o.namespace&&(_=HU(_,o.namespace));var w=[];return T1(_,hj(h.concat(dj(function(x){return w.push(x)})))),w};return p.hash=l.length?l.reduce(function(m,v){return v.name||uv(15),xp(m,v.name)},LU).toString():"",p}var Vj=new kU,EM=Wj(),zU=K.createContext({shouldForwardProp:void 0,styleSheet:Vj,stylis:EM});zU.Consumer;K.createContext(void 0);function S3(){return oe.useContext(zU)}var jj=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=EM);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,jT(this,function(){throw uv(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=EM),this.name+e.hash},t}(),Xj=function(t){return t>="A"&&t<="Z"};function A3(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;Xj(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var GU=function(t){return t==null||t===!1||t===""},$U=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!GU(s)&&(Array.isArray(s)&&s.isCss||jp(s)?r.push("".concat(A3(i),":"),s,";"):D0(s)?r.push.apply(r,C1(C1(["".concat(i," {")],$U(s),!1),["}"],!1)):r.push("".concat(A3(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in mj||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Kf(t,e,n,r){if(GU(t))return[];if(VT(t))return[".".concat(t.styledComponentId)];if(jp(t)){if(!jp(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Kf(i,e,n,r)}var s;return t instanceof jj?n?(t.inject(n,r),[t.getName(r)]):[t]:D0(t)?$U(t):Array.isArray(t)?Array.prototype.concat.apply(NS,t.map(function(o){return Kf(o,e,n,r)})):[t.toString()]}function Jj(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(jp(n)&&!VT(n))return!1}return!0}var Kj=BU(FS),Yj=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&Jj(e),this.componentId=n,this.baseHash=xp(Kj,n),this.baseStyle=r,kU.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Nf(i,this.staticRulesId);else{var s=y3(Kf(this.rules,e,n,r)),o=AM(xp(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=Nf(i,o),this.staticRulesId=o}else{for(var l=xp(this.baseHash,r.hash),u="",h=0;h<this.rules.length;h++){var p=this.rules[h];if(typeof p=="string")u+=p;else if(p){var m=y3(Kf(p,e,n,r));l=xp(l,m+h),u+=m}}if(u){var v=AM(l>>>0);n.hasNameForId(this.componentId,v)||n.insertRules(this.componentId,v,r(u,".".concat(v),void 0,this.componentId)),i=Nf(i,v)}}return i},t}(),WU=K.createContext(void 0);WU.Consumer;var nE={};function qj(t,e,n){var r=VT(t),i=t,s=!tE(t),o=e.attrs,a=o===void 0?NS:o,l=e.componentId,u=l===void 0?function(M,R){var T=typeof M!="string"?"sc":d3(M);nE[T]=(nE[T]||0)+1;var I="".concat(T,"-").concat(Sj(FS+T+nE[T]));return R?"".concat(R,"-").concat(I):I}(e.displayName,e.parentComponentId):l,h=e.displayName,p=h===void 0?function(M){return tE(M)?"styled.".concat(M):"Styled(".concat(Aj(M),")")}(t):h,m=e.displayName&&e.componentId?"".concat(d3(e.displayName),"-").concat(e.componentId):e.componentId||u,v=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,y=e.shouldForwardProp;if(r&&i.shouldForwardProp){var S=i.shouldForwardProp;if(e.shouldForwardProp){var A=e.shouldForwardProp;y=function(M,R){return S(M,R)&&A(M,R)}}else y=S}var _=new Yj(n,m,r?i.componentStyle:void 0);function w(M,R){return function(T,I,F){var B=T.attrs,O=T.componentStyle,V=T.defaultProps,H=T.foldedComponentIds,ne=T.styledComponentId,j=T.target,q=K.useContext(WU),re=S3(),he=T.shouldForwardProp||re.shouldForwardProp,z=vj(I,q,V)||Vp,ee=function(Ne,Ve,Xe){for(var vt,yt=Es(Es({},Ve),{className:void 0,theme:Xe}),ut=0;ut<Ne.length;ut+=1){var ht=jp(vt=Ne[ut])?vt(yt):vt;for(var Z in ht)yt[Z]=Z==="className"?Nf(yt[Z],ht[Z]):Z==="style"?Es(Es({},yt[Z]),ht[Z]):ht[Z]}return Ve.className&&(yt.className=Nf(yt.className,Ve.className)),yt}(B,I,z),te=ee.as||j,fe={};for(var ye in ee)ee[ye]===void 0||ye[0]==="$"||ye==="as"||ye==="theme"&&ee.theme===z||(ye==="forwardedAs"?fe.as=ee.forwardedAs:he&&!he(ye,te)||(fe[ye]=ee[ye]));var ue=function(Ne,Ve){var Xe=S3(),vt=Ne.generateAndInjectStyles(Ve,Xe.styleSheet,Xe.stylis);return vt}(O,ee),_e=Nf(H,ne);return ue&&(_e+=" "+ue),ee.className&&(_e+=" "+ee.className),fe[tE(te)&&!IU.has(te)?"class":"className"]=_e,F&&(fe.ref=F),oe.createElement(te,fe)}(x,M,R)}w.displayName=p;var x=K.forwardRef(w);return x.attrs=v,x.componentStyle=_,x.displayName=p,x.shouldForwardProp=y,x.foldedComponentIds=r?Nf(i.foldedComponentIds,i.styledComponentId):"",x.styledComponentId=m,x.target=r?i.target:t,Object.defineProperty(x,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(M){this._foldedDefaultProps=r?function(R){for(var T=[],I=1;I<arguments.length;I++)T[I-1]=arguments[I];for(var F=0,B=T;F<B.length;F++)wM(R,B[F],!0);return R}({},i.defaultProps,M):M}}),jT(x,function(){return".".concat(x.styledComponentId)}),s&&NU(x,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),x}function w3(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var E3=function(t){return Object.assign(t,{isCss:!0})};function Qj(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(jp(t)||D0(t))return E3(Kf(w3(NS,C1([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Kf(r):E3(Kf(w3(r,e)))}function bM(t,e,n){if(n===void 0&&(n=Vp),!e)throw uv(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,Qj.apply(void 0,C1([i],s,!1)))};return r.attrs=function(i){return bM(t,e,Es(Es({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return bM(t,e,Es(Es({},n),i))},r}var VU=function(t){return bM(qj,t)},ze=VU;IU.forEach(function(t){ze[t]=VU(t)});const b3={tablet:601,desktop:992},cv={tablet:`@media (min-width: ${b3.tablet}px)`,desktop:`@media (min-width: ${b3.desktop}px)`},{desktop:Zj}=cv,eX=ze.div`
  font-family: 'Roboto';
  height: 100%;
`,tX=ze.div`
  z-index: 1;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 46px;
  color: #f9f9f9;
  background-color: #000000;
  display: flex;
  flex-direction: row;
  justify-content: space-between;

  a {
    color: #ffffff;
    text-decoration: none;
    margin: auto 15px;
  }
`,nX=ze.p`
  margin: auto 15px;
`,rX=ze.div`
  width: 100%;
  height: 45px;
`;ze.div`
  width: 100%;
  height: 46px;
`;const iX=ze.div`
  width: 100%;
  max-width: 700px;
  margin: auto;
  margin-top: 16px;

  ${Zj} {
    margin-bottom: 0;
  }
`,sX=ze.div`
  margin-bottom: 32px;
  width: 100%;
`,M3=ze.p`
  font-family: 'Poppins', 'Roboto', 'Ariel';
  margin: 0px;
  margin-left: 16px;
  margin-bottom: 8px;
  font-size: 24px;
  font-weight: bold;
`,oX=ze.div`
  margin-bottom: 60px;
  text-align: center;
`,aX="#ffffff",jU="#000000",lX="#4285f4",XT=ze.button`
  box-shadow: none;
  margin: 0;
  color: ${aX};
  background-color: ${jU};
  border: none;
  border-radius: 5px;
  width: 100%;

  &:active {
    box-shadow: none;
  }

  &:hover {
    cursor: pointer;
  }

  &:focus {
    outline: none;
  }
`,O0=ze(XT)`
  height: 40px;
  background-color: ${t=>t.google?lX:jU};
  padding: 8px;
  font-size: 16px;
  text-transform: capitalize;
  margin-top: 15px;
`,uX=ze(XT)`
  height: 40px;
  padding: 8px;
  font-size: 16px;
  text-transform: capitalize;
  padding-left: 23px;
  padding-right: 23px;
  width: unset;
`,cX=ze(XT)`
  width: calc(100% - 32px);
  background-color: #000000;
  height: 50px;
  font-size: 16px;
  margin-bottom: 40px;
  padding: 0;
  margin-left: 16px;
  margin-right: 16px;
`;function fX(){const t=_S(),e=()=>{t("/designer")};return G.jsx(cX,{onClick:()=>e(),children:"N E W  D E S I G N"})}const hX=ze.button`
  border: none;
  color: #ffffff;
  border-radius: 5px;
  background-color: #000000;
  height: 44px;
  font-size: 16px;
  width: unset;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 25px;
  padding-right: 25px;
`;function dX(){const t=_S(),e=()=>{t("/designer")};return G.jsx(hX,{onClick:()=>e(),children:"S T A R T  D E S I G N I N G"})}const pX=ze.div`
  margin-left: 8px;
  margin-right: 8px;
  margin-top: 0px;
  flex: 0 0 auto;
`,mX=ze.div`
  width: 100%;
  background-color: #f0f0f0;
  border-radius: 8px;

  img {
    width: 100%;
  }
`,gX=ze.p`
  color: #000000;
  font-size: 22px;
  margin-top: 9px;
  margin-bottom: 0px;
  margin-left: 5px;
`,vX=ze.p`
  color: #000000;
  font-size: 14px;
  margin-top: 6px;
  margin-bottom: 0px;
  margin-left: 5px;
`,yX=ze.p`
  color: #777;
  font-size: 14px;
  margin-top: 6px;
  margin-bottom: 0px;
  margin-left: 5px;
`;function _X({props:t}){const{_id:e,title:n,configId:r,author:i,screenshot:s}=t,o=_S(),a=()=>{o(`/designer/${e}`)};return G.jsxs(pX,{onClick:()=>a(),children:[G.jsx(mX,{children:G.jsx("img",{src:`api/assets/images/${s}`,alt:"feature-design"})}),G.jsx(gX,{children:n}),G.jsx(vX,{children:r.modelName}),G.jsx(yX,{children:i.firstName})]})}const{desktop:US}=cv,xX=ze.div`
  display: flex;
  flex-direction: column-reverse;
  height: unset;
  margin-bottom: 35px;

  ${US} {
    height: 65vh;
    margin-top: 12vh;
    flex-direction: unset;
    max-width: 1100px;
    margin-left: auto;
    margin-right: auto;
  }
`,SX=ze.div`
  margin-top: 0px;
  margin-bottom: 30px;
  padding-right: 0px;
  text-align: center;
  margin-left: 5%;
  margin-right: 5%;
  width: 90%;
  height: 100%;

  ${US} {
    margin-top: unset;
    margin-bottom: unset;
    padding-right: unset;
    text-align: unset;
    width: 100%;
  }
`,AX=ze.p`
  font-size: 30px;
  margin-top: 30px;
  font-weight: bold;
  margin: 0;
  margin-bottom: 25px;

  ${US} {
    font-size: 40px;
    margin-top: 70px;
  }
`,wX=ze.p`
  font-size: 17px;
  line-height: 150%;
  margin: 0;
  margin-bottom: 30px;
`,EX=ze.div`
  width: 80%;
  margin-left: 10%;
  margin-right: 10%;
  margin-top: 70px;
  margin-bottom: 60px;
  padding-left: 1px;
  height: 100%;

  ${US} {
    width: 100%;
    margin: unset;
    margin-right: 5%;
  }
`,bX=ze.img`
  max-width: 100%;
  max-height: 100%;
`,MX="/assets/sole-cover-e0bc0dad.png";function CX(){return G.jsxs(xX,{children:[G.jsxs(SX,{children:[G.jsx(AX,{children:"Create Something New"}),G.jsx(wX,{children:"Sole Composer gives you the ability to design and visualize oneofakind sneakers."}),G.jsx(dX,{})]}),G.jsx(EX,{children:G.jsx(bX,{src:MX})})]})}const{desktop:TX}=cv,RX=ze.div`
  width: 100%;
  margin-bottom: 24px;
`,PX=ze.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 3px;
  margin: 3px;

  ${TX} {
    grid-template-columns: 1fr 1fr 1fr;
    margin: 16px;
  }
`,IX=ze.div`
  width: 100%;
  background-color: #f0f0f0;

  img {
    width: 100%;
  }
`;function LX({myDesigns:t}){return G.jsx(RX,{children:G.jsx(PX,{children:t.map((e,n)=>G.jsx(lc,{to:`/designer/${e._id}`,className:"link-to-designer",children:G.jsx(IX,{children:G.jsx("img",{src:`/api/assets/images/${e.screenshot}`,alt:"my-design-preview"})})},n))})})}function BX(){const t=oe.useContext(ov.context),[e,n]=oe.useState(),[r,i]=oe.useState();oe.useEffect(()=>{M1("/api/featured","GET").then(a=>n(a)),t&&M1("/api/outlines/mydesigns","GET").then(a=>i(a))},[t]);let s=e?e.featured.map((a,l)=>G.jsx(_X,{props:a,userData:t},l)):null;const o={0:{items:1.7},700:{items:3}};return G.jsxs(eX,{children:[G.jsxs(tX,{children:[G.jsxs(nX,{children:[G.jsx("strong",{children:"Sole"})," Composer"]}),t?G.jsx(lc,{to:"/profile",children:t.firstName}):G.jsx(lc,{to:"/login",children:"Login"})]}),G.jsx(rX,{}),!t&&G.jsx(CX,{}),G.jsxs(iX,{children:[e&&G.jsxs(sX,{children:[G.jsx(M3,{children:"FEATURED"}),G.jsx(Y7,{responsive:o,items:s})]}),t&&G.jsx(fX,{}),!t&&G.jsx(oX,{children:G.jsx(lc,{to:"/login",children:G.jsx(uX,{children:"sign up"})})}),r&&G.jsx(M3,{children:"MY DESIGNS"}),r&&G.jsx(LX,{myDesigns:r})]})]})}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const fv="160",Cf={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Tf={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},XU=0,MM=1,JU=2,DX=3,KU=0,kS=1,u0=2,ta=3,Ja=0,ss=1,sa=2,OX=2,Ul=0,Yf=1,CM=2,TM=3,RM=4,YU=5,Ju=100,qU=101,QU=102,PM=103,IM=104,ZU=200,e4=201,t4=202,n4=203,I1=204,L1=205,r4=206,i4=207,s4=208,o4=209,a4=210,l4=211,u4=212,c4=213,f4=214,h4=0,d4=1,p4=2,F0=3,m4=4,g4=5,v4=6,y4=7,hv=0,_4=1,x4=2,$a=0,S4=1,A4=2,w4=3,JT=4,E4=5,b4=6,LM="attached",M4="detached",HS=300,Vl=301,mc=302,N0=303,U0=304,lm=306,gc=1e3,Ei=1001,Xp=1002,xr=1003,k0=1004,FX=1004,Lp=1005,NX=1005,lr=1006,zS=1007,UX=1007,Ka=1008,kX=1008,Wa=1009,C4=1010,T4=1011,GS=1012,KT=1013,Dl=1014,oa=1015,Jp=1016,YT=1017,qT=1018,uc=1020,R4=1021,rs=1023,P4=1024,I4=1025,cc=1026,oh=1027,L4=1028,QT=1029,B4=1030,ZT=1031,e2=1033,Gx=33776,$x=33777,Wx=33778,Vx=33779,BM=35840,DM=35841,OM=35842,FM=35843,t2=36196,NM=37492,UM=37496,kM=37808,HM=37809,zM=37810,GM=37811,$M=37812,WM=37813,VM=37814,jM=37815,XM=37816,JM=37817,KM=37818,YM=37819,qM=37820,QM=37821,jx=36492,ZM=36494,eC=36495,D4=36283,tC=36284,nC=36285,rC=36286,O4=2200,F4=2201,N4=2202,Kp=2300,ah=2301,Xx=2302,Uf=2400,kf=2401,H0=2402,$S=2500,n2=2501,U4=0,r2=1,B1=2,i2=3e3,fc=3001,k4=3200,H4=3201,bc=0,z4=1,Ys="",zr="srgb",da="srgb-linear",WS="display-p3",dv="display-p3-linear",z0="linear",Wn="srgb",G0="rec709",$0="p3",HX=0,Rf=7680,zX=7681,GX=7682,$X=7683,WX=34055,VX=34056,jX=5386,XX=512,JX=513,KX=514,YX=515,qX=516,QX=517,ZX=518,iC=519,G4=512,$4=513,W4=514,s2=515,V4=516,j4=517,X4=518,J4=519,W0=35044,eJ=35048,tJ=35040,nJ=35045,rJ=35049,iJ=35041,sJ=35046,oJ=35050,aJ=35042,lJ="100",sC="300 es",D1=1035,aa=2e3,Yp=2001;let Jl=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}};const Fi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let C3=1234567;const qf=Math.PI/180,qp=180/Math.PI;function no(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Fi[t&255]+Fi[t>>8&255]+Fi[t>>16&255]+Fi[t>>24&255]+"-"+Fi[e&255]+Fi[e>>8&255]+"-"+Fi[e>>16&15|64]+Fi[e>>24&255]+"-"+Fi[n&63|128]+Fi[n>>8&255]+"-"+Fi[n>>16&255]+Fi[n>>24&255]+Fi[r&255]+Fi[r>>8&255]+Fi[r>>16&255]+Fi[r>>24&255]).toLowerCase()}function Sr(t,e,n){return Math.max(e,Math.min(n,t))}function o2(t,e){return(t%e+e)%e}function uJ(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function cJ(t,e,n){return t!==e?(n-t)/(e-t):0}function c0(t,e,n){return(1-n)*t+n*e}function fJ(t,e,n,r){return c0(t,e,1-Math.exp(-n*r))}function hJ(t,e=1){return e-Math.abs(o2(t,e*2)-e)}function dJ(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function pJ(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function mJ(t,e){return t+Math.floor(Math.random()*(e-t+1))}function gJ(t,e){return t+Math.random()*(e-t)}function vJ(t){return t*(.5-Math.random())}function yJ(t){t!==void 0&&(C3=t);let e=C3+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function _J(t){return t*qf}function xJ(t){return t*qp}function oC(t){return(t&t-1)===0&&t!==0}function SJ(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function O1(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function AJ(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),u=s((e+r)/2),h=o((e+r)/2),p=s((e-r)/2),m=o((e-r)/2),v=s((r-e)/2),y=o((r-e)/2);switch(i){case"XYX":t.set(a*h,l*p,l*m,a*u);break;case"YZY":t.set(l*m,a*h,l*p,a*u);break;case"ZXZ":t.set(l*p,l*m,a*h,a*u);break;case"XZX":t.set(a*h,l*y,l*v,a*u);break;case"YXY":t.set(l*v,a*h,l*y,a*u);break;case"ZYZ":t.set(l*y,l*v,a*h,a*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function As(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function on(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const K4={DEG2RAD:qf,RAD2DEG:qp,generateUUID:no,clamp:Sr,euclideanModulo:o2,mapLinear:uJ,inverseLerp:cJ,lerp:c0,damp:fJ,pingpong:hJ,smoothstep:dJ,smootherstep:pJ,randInt:mJ,randFloat:gJ,randFloatSpread:vJ,seededRandom:yJ,degToRad:_J,radToDeg:xJ,isPowerOfTwo:oC,ceilPowerOfTwo:SJ,floorPowerOfTwo:O1,setQuaternionFromProperEuler:AJ,normalize:on,denormalize:As};class Te{constructor(e=0,n=0){Te.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Sr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class fn{constructor(e,n,r,i,s,o,a,l,u){fn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,u)}set(e,n,r,i,s,o,a,l,u){const h=this.elements;return h[0]=e,h[1]=i,h[2]=a,h[3]=n,h[4]=s,h[5]=l,h[6]=r,h[7]=o,h[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],u=r[1],h=r[4],p=r[7],m=r[2],v=r[5],y=r[8],S=i[0],A=i[3],_=i[6],w=i[1],x=i[4],M=i[7],R=i[2],T=i[5],I=i[8];return s[0]=o*S+a*w+l*R,s[3]=o*A+a*x+l*T,s[6]=o*_+a*M+l*I,s[1]=u*S+h*w+p*R,s[4]=u*A+h*x+p*T,s[7]=u*_+h*M+p*I,s[2]=m*S+v*w+y*R,s[5]=m*A+v*x+y*T,s[8]=m*_+v*M+y*I,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],h=e[8];return n*o*h-n*a*u-r*s*h+r*a*l+i*s*u-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],h=e[8],p=h*o-a*u,m=a*l-h*s,v=u*s-o*l,y=n*p+r*m+i*v;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/y;return e[0]=p*S,e[1]=(i*u-h*r)*S,e[2]=(a*r-i*o)*S,e[3]=m*S,e[4]=(h*n-i*l)*S,e[5]=(i*s-a*n)*S,e[6]=v*S,e[7]=(r*l-u*n)*S,e[8]=(o*n-r*s)*S,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),u=Math.sin(s);return this.set(r*l,r*u,-r*(l*o+u*a)+o+e,-i*u,i*l,-i*(-u*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(rE.makeScale(e,n)),this}rotate(e){return this.premultiply(rE.makeRotation(-e)),this}translate(e,n){return this.premultiply(rE.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const rE=new fn;function Y4(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const wJ={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Sp(t,e){return new wJ[t](e)}function V0(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function q4(){const t=V0("canvas");return t.style.display="block",t}const T3={};function f0(t){t in T3||(T3[t]=!0,console.warn(t))}const R3=new fn().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),P3=new fn().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),x_={[da]:{transfer:z0,primaries:G0,toReference:t=>t,fromReference:t=>t},[zr]:{transfer:Wn,primaries:G0,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[dv]:{transfer:z0,primaries:$0,toReference:t=>t.applyMatrix3(P3),fromReference:t=>t.applyMatrix3(R3)},[WS]:{transfer:Wn,primaries:$0,toReference:t=>t.convertSRGBToLinear().applyMatrix3(P3),fromReference:t=>t.applyMatrix3(R3).convertLinearToSRGB()}},EJ=new Set([da,dv]),Pn={enabled:!0,_workingColorSpace:da,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!EJ.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=x_[e].toReference,i=x_[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return x_[t].primaries},getTransfer:function(t){return t===Ys?z0:x_[t].transfer}};function Bp(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function iE(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let vd;class a2{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{vd===void 0&&(vd=V0("canvas")),vd.width=e.width,vd.height=e.height;const r=vd.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=vd}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=V0("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Bp(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Bp(n[r]/255)*255):n[r]=Bp(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let bJ=0;class Hf{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:bJ++}),this.uuid=no(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(sE(i[o].image)):s.push(sE(i[o]))}else s=sE(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function sE(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?a2.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let MJ=0;class fr extends Jl{constructor(e=fr.DEFAULT_IMAGE,n=fr.DEFAULT_MAPPING,r=Ei,i=Ei,s=lr,o=Ka,a=rs,l=Wa,u=fr.DEFAULT_ANISOTROPY,h=Ys){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:MJ++}),this.uuid=no(),this.name="",this.source=new Hf(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Te(0,0),this.repeat=new Te(1,1),this.center=new Te(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new fn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof h=="string"?this.colorSpace=h:(f0("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=h===fc?zr:Ys),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==HS)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case gc:e.x=e.x-Math.floor(e.x);break;case Ei:e.x=e.x<0?0:1;break;case Xp:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case gc:e.y=e.y-Math.floor(e.y);break;case Ei:e.y=e.y<0?0:1;break;case Xp:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return f0("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===zr?fc:i2}set encoding(e){f0("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===fc?zr:Ys}}fr.DEFAULT_IMAGE=null;fr.DEFAULT_MAPPING=HS;fr.DEFAULT_ANISOTROPY=1;class In{constructor(e=0,n=0,r=0,i=1){In.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,u=l[0],h=l[4],p=l[8],m=l[1],v=l[5],y=l[9],S=l[2],A=l[6],_=l[10];if(Math.abs(h-m)<.01&&Math.abs(p-S)<.01&&Math.abs(y-A)<.01){if(Math.abs(h+m)<.1&&Math.abs(p+S)<.1&&Math.abs(y+A)<.1&&Math.abs(u+v+_-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const x=(u+1)/2,M=(v+1)/2,R=(_+1)/2,T=(h+m)/4,I=(p+S)/4,F=(y+A)/4;return x>M&&x>R?x<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(x),i=T/r,s=I/r):M>R?M<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(M),r=T/i,s=F/i):R<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(R),r=I/s,i=F/s),this.set(r,i,s,n),this}let w=Math.sqrt((A-y)*(A-y)+(p-S)*(p-S)+(m-h)*(m-h));return Math.abs(w)<.001&&(w=1),this.x=(A-y)/w,this.y=(p-S)/w,this.z=(m-h)/w,this.w=Math.acos((u+v+_-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Q4 extends Jl{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new In(0,0,e,n),this.scissorTest=!1,this.viewport=new In(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(f0("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===fc?zr:Ys),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:lr,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},r),this.texture=new fr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps,this.texture.internalFormat=r.internalFormat,this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Hf(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class pa extends Q4{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class VS extends fr{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=xr,this.minFilter=xr,this.wrapR=Ei,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class CJ extends pa{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new VS(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class l2 extends fr{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=xr,this.minFilter=xr,this.wrapR=Ei,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class TJ extends pa{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new l2(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class RJ extends pa{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class _i{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],u=r[i+1],h=r[i+2],p=r[i+3];const m=s[o+0],v=s[o+1],y=s[o+2],S=s[o+3];if(a===0){e[n+0]=l,e[n+1]=u,e[n+2]=h,e[n+3]=p;return}if(a===1){e[n+0]=m,e[n+1]=v,e[n+2]=y,e[n+3]=S;return}if(p!==S||l!==m||u!==v||h!==y){let A=1-a;const _=l*m+u*v+h*y+p*S,w=_>=0?1:-1,x=1-_*_;if(x>Number.EPSILON){const R=Math.sqrt(x),T=Math.atan2(R,_*w);A=Math.sin(A*T)/R,a=Math.sin(a*T)/R}const M=a*w;if(l=l*A+m*M,u=u*A+v*M,h=h*A+y*M,p=p*A+S*M,A===1-a){const R=1/Math.sqrt(l*l+u*u+h*h+p*p);l*=R,u*=R,h*=R,p*=R}}e[n]=l,e[n+1]=u,e[n+2]=h,e[n+3]=p}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],u=r[i+2],h=r[i+3],p=s[o],m=s[o+1],v=s[o+2],y=s[o+3];return e[n]=a*y+h*p+l*v-u*m,e[n+1]=l*y+h*m+u*p-a*v,e[n+2]=u*y+h*v+a*m-l*p,e[n+3]=h*y-a*p-l*m-u*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,u=a(r/2),h=a(i/2),p=a(s/2),m=l(r/2),v=l(i/2),y=l(s/2);switch(o){case"XYZ":this._x=m*h*p+u*v*y,this._y=u*v*p-m*h*y,this._z=u*h*y+m*v*p,this._w=u*h*p-m*v*y;break;case"YXZ":this._x=m*h*p+u*v*y,this._y=u*v*p-m*h*y,this._z=u*h*y-m*v*p,this._w=u*h*p+m*v*y;break;case"ZXY":this._x=m*h*p-u*v*y,this._y=u*v*p+m*h*y,this._z=u*h*y+m*v*p,this._w=u*h*p-m*v*y;break;case"ZYX":this._x=m*h*p-u*v*y,this._y=u*v*p+m*h*y,this._z=u*h*y-m*v*p,this._w=u*h*p+m*v*y;break;case"YZX":this._x=m*h*p+u*v*y,this._y=u*v*p+m*h*y,this._z=u*h*y-m*v*p,this._w=u*h*p-m*v*y;break;case"XZY":this._x=m*h*p-u*v*y,this._y=u*v*p-m*h*y,this._z=u*h*y+m*v*p,this._w=u*h*p+m*v*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],u=n[2],h=n[6],p=n[10],m=r+a+p;if(m>0){const v=.5/Math.sqrt(m+1);this._w=.25/v,this._x=(h-l)*v,this._y=(s-u)*v,this._z=(o-i)*v}else if(r>a&&r>p){const v=2*Math.sqrt(1+r-a-p);this._w=(h-l)/v,this._x=.25*v,this._y=(i+o)/v,this._z=(s+u)/v}else if(a>p){const v=2*Math.sqrt(1+a-r-p);this._w=(s-u)/v,this._x=(i+o)/v,this._y=.25*v,this._z=(l+h)/v}else{const v=2*Math.sqrt(1+p-r-a);this._w=(o-i)/v,this._x=(s+u)/v,this._y=(l+h)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Sr(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,u=n._z,h=n._w;return this._x=r*h+o*a+i*u-s*l,this._y=i*h+o*l+s*a-r*u,this._z=s*h+o*u+r*l-i*a,this._w=o*h-r*a-i*l-s*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const v=1-n;return this._w=v*o+n*this._w,this._x=v*r+n*this._x,this._y=v*i+n*this._y,this._z=v*s+n*this._z,this.normalize(),this}const u=Math.sqrt(l),h=Math.atan2(u,a),p=Math.sin((1-n)*h)/u,m=Math.sin(n*h)/u;return this._w=o*p+this._w*m,this._x=r*p+this._x*m,this._y=i*p+this._y*m,this._z=s*p+this._z*m,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(s),r*Math.cos(s),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class J{constructor(e=0,n=0,r=0){J.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(I3.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(I3.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,u=2*(o*i-a*r),h=2*(a*n-s*i),p=2*(s*r-o*n);return this.x=n+l*u+o*p-a*h,this.y=r+l*h+a*u-s*p,this.z=i+l*p+s*h-o*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return oE.copy(this).projectOnVector(e),this.sub(oE)}reflect(e){return this.sub(oE.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Sr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const oE=new J,I3=new _i;class Hi{constructor(e=new J(1/0,1/0,1/0),n=new J(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Yo.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Yo.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Yo.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Yo):Yo.fromBufferAttribute(s,o),Yo.applyMatrix4(e.matrixWorld),this.expandByPoint(Yo);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),S_.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),S_.copy(r.boundingBox)),S_.applyMatrix4(e.matrixWorld),this.union(S_)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Yo),Yo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(bg),A_.subVectors(this.max,bg),yd.subVectors(e.a,bg),_d.subVectors(e.b,bg),xd.subVectors(e.c,bg),Lu.subVectors(_d,yd),Bu.subVectors(xd,_d),hf.subVectors(yd,xd);let n=[0,-Lu.z,Lu.y,0,-Bu.z,Bu.y,0,-hf.z,hf.y,Lu.z,0,-Lu.x,Bu.z,0,-Bu.x,hf.z,0,-hf.x,-Lu.y,Lu.x,0,-Bu.y,Bu.x,0,-hf.y,hf.x,0];return!aE(n,yd,_d,xd,A_)||(n=[1,0,0,0,1,0,0,0,1],!aE(n,yd,_d,xd,A_))?!1:(w_.crossVectors(Lu,Bu),n=[w_.x,w_.y,w_.z],aE(n,yd,_d,xd,A_))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Yo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Yo).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(vl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),vl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),vl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),vl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),vl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),vl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),vl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),vl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(vl),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const vl=[new J,new J,new J,new J,new J,new J,new J,new J],Yo=new J,S_=new Hi,yd=new J,_d=new J,xd=new J,Lu=new J,Bu=new J,hf=new J,bg=new J,A_=new J,w_=new J,df=new J;function aE(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){df.fromArray(t,s);const a=i.x*Math.abs(df.x)+i.y*Math.abs(df.y)+i.z*Math.abs(df.z),l=e.dot(df),u=n.dot(df),h=r.dot(df);if(Math.max(-Math.max(l,u,h),Math.min(l,u,h))>a)return!1}return!0}const PJ=new Hi,Mg=new J,lE=new J;class Ci{constructor(e=new J,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):PJ.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Mg.subVectors(e,this.center);const n=Mg.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Mg,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(lE.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Mg.copy(e.center).add(lE)),this.expandByPoint(Mg.copy(e.center).sub(lE))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const yl=new J,uE=new J,E_=new J,Du=new J,cE=new J,b_=new J,fE=new J;class gh{constructor(e=new J,n=new J(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,yl)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=yl.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(yl.copy(this.origin).addScaledVector(this.direction,n),yl.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){uE.copy(e).add(n).multiplyScalar(.5),E_.copy(n).sub(e).normalize(),Du.copy(this.origin).sub(uE);const s=e.distanceTo(n)*.5,o=-this.direction.dot(E_),a=Du.dot(this.direction),l=-Du.dot(E_),u=Du.lengthSq(),h=Math.abs(1-o*o);let p,m,v,y;if(h>0)if(p=o*l-a,m=o*a-l,y=s*h,p>=0)if(m>=-y)if(m<=y){const S=1/h;p*=S,m*=S,v=p*(p+o*m+2*a)+m*(o*p+m+2*l)+u}else m=s,p=Math.max(0,-(o*m+a)),v=-p*p+m*(m+2*l)+u;else m=-s,p=Math.max(0,-(o*m+a)),v=-p*p+m*(m+2*l)+u;else m<=-y?(p=Math.max(0,-(-o*s+a)),m=p>0?-s:Math.min(Math.max(-s,-l),s),v=-p*p+m*(m+2*l)+u):m<=y?(p=0,m=Math.min(Math.max(-s,-l),s),v=m*(m+2*l)+u):(p=Math.max(0,-(o*s+a)),m=p>0?s:Math.min(Math.max(-s,-l),s),v=-p*p+m*(m+2*l)+u);else m=o>0?-s:s,p=Math.max(0,-(o*m+a)),v=-p*p+m*(m+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,p),i&&i.copy(uE).addScaledVector(E_,m),v}intersectSphere(e,n){yl.subVectors(e.center,this.origin);const r=yl.dot(this.direction),i=yl.dot(yl)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const u=1/this.direction.x,h=1/this.direction.y,p=1/this.direction.z,m=this.origin;return u>=0?(r=(e.min.x-m.x)*u,i=(e.max.x-m.x)*u):(r=(e.max.x-m.x)*u,i=(e.min.x-m.x)*u),h>=0?(s=(e.min.y-m.y)*h,o=(e.max.y-m.y)*h):(s=(e.max.y-m.y)*h,o=(e.min.y-m.y)*h),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),p>=0?(a=(e.min.z-m.z)*p,l=(e.max.z-m.z)*p):(a=(e.max.z-m.z)*p,l=(e.min.z-m.z)*p),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,yl)!==null}intersectTriangle(e,n,r,i,s){cE.subVectors(n,e),b_.subVectors(r,e),fE.crossVectors(cE,b_);let o=this.direction.dot(fE),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Du.subVectors(this.origin,e);const l=a*this.direction.dot(b_.crossVectors(Du,b_));if(l<0)return null;const u=a*this.direction.dot(cE.cross(Du));if(u<0||l+u>o)return null;const h=-a*Du.dot(fE);return h<0?null:this.at(h/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Nt{constructor(e,n,r,i,s,o,a,l,u,h,p,m,v,y,S,A){Nt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,u,h,p,m,v,y,S,A)}set(e,n,r,i,s,o,a,l,u,h,p,m,v,y,S,A){const _=this.elements;return _[0]=e,_[4]=n,_[8]=r,_[12]=i,_[1]=s,_[5]=o,_[9]=a,_[13]=l,_[2]=u,_[6]=h,_[10]=p,_[14]=m,_[3]=v,_[7]=y,_[11]=S,_[15]=A,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Nt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Sd.setFromMatrixColumn(e,0).length(),s=1/Sd.setFromMatrixColumn(e,1).length(),o=1/Sd.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),u=Math.sin(i),h=Math.cos(s),p=Math.sin(s);if(e.order==="XYZ"){const m=o*h,v=o*p,y=a*h,S=a*p;n[0]=l*h,n[4]=-l*p,n[8]=u,n[1]=v+y*u,n[5]=m-S*u,n[9]=-a*l,n[2]=S-m*u,n[6]=y+v*u,n[10]=o*l}else if(e.order==="YXZ"){const m=l*h,v=l*p,y=u*h,S=u*p;n[0]=m+S*a,n[4]=y*a-v,n[8]=o*u,n[1]=o*p,n[5]=o*h,n[9]=-a,n[2]=v*a-y,n[6]=S+m*a,n[10]=o*l}else if(e.order==="ZXY"){const m=l*h,v=l*p,y=u*h,S=u*p;n[0]=m-S*a,n[4]=-o*p,n[8]=y+v*a,n[1]=v+y*a,n[5]=o*h,n[9]=S-m*a,n[2]=-o*u,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const m=o*h,v=o*p,y=a*h,S=a*p;n[0]=l*h,n[4]=y*u-v,n[8]=m*u+S,n[1]=l*p,n[5]=S*u+m,n[9]=v*u-y,n[2]=-u,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const m=o*l,v=o*u,y=a*l,S=a*u;n[0]=l*h,n[4]=S-m*p,n[8]=y*p+v,n[1]=p,n[5]=o*h,n[9]=-a*h,n[2]=-u*h,n[6]=v*p+y,n[10]=m-S*p}else if(e.order==="XZY"){const m=o*l,v=o*u,y=a*l,S=a*u;n[0]=l*h,n[4]=-p,n[8]=u*h,n[1]=m*p+S,n[5]=o*h,n[9]=v*p-y,n[2]=y*p-v,n[6]=a*h,n[10]=S*p+m}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(IJ,e,LJ)}lookAt(e,n,r){const i=this.elements;return Vs.subVectors(e,n),Vs.lengthSq()===0&&(Vs.z=1),Vs.normalize(),Ou.crossVectors(r,Vs),Ou.lengthSq()===0&&(Math.abs(r.z)===1?Vs.x+=1e-4:Vs.z+=1e-4,Vs.normalize(),Ou.crossVectors(r,Vs)),Ou.normalize(),M_.crossVectors(Vs,Ou),i[0]=Ou.x,i[4]=M_.x,i[8]=Vs.x,i[1]=Ou.y,i[5]=M_.y,i[9]=Vs.y,i[2]=Ou.z,i[6]=M_.z,i[10]=Vs.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],u=r[12],h=r[1],p=r[5],m=r[9],v=r[13],y=r[2],S=r[6],A=r[10],_=r[14],w=r[3],x=r[7],M=r[11],R=r[15],T=i[0],I=i[4],F=i[8],B=i[12],O=i[1],V=i[5],H=i[9],ne=i[13],j=i[2],q=i[6],re=i[10],he=i[14],z=i[3],ee=i[7],te=i[11],fe=i[15];return s[0]=o*T+a*O+l*j+u*z,s[4]=o*I+a*V+l*q+u*ee,s[8]=o*F+a*H+l*re+u*te,s[12]=o*B+a*ne+l*he+u*fe,s[1]=h*T+p*O+m*j+v*z,s[5]=h*I+p*V+m*q+v*ee,s[9]=h*F+p*H+m*re+v*te,s[13]=h*B+p*ne+m*he+v*fe,s[2]=y*T+S*O+A*j+_*z,s[6]=y*I+S*V+A*q+_*ee,s[10]=y*F+S*H+A*re+_*te,s[14]=y*B+S*ne+A*he+_*fe,s[3]=w*T+x*O+M*j+R*z,s[7]=w*I+x*V+M*q+R*ee,s[11]=w*F+x*H+M*re+R*te,s[15]=w*B+x*ne+M*he+R*fe,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],u=e[13],h=e[2],p=e[6],m=e[10],v=e[14],y=e[3],S=e[7],A=e[11],_=e[15];return y*(+s*l*p-i*u*p-s*a*m+r*u*m+i*a*v-r*l*v)+S*(+n*l*v-n*u*m+s*o*m-i*o*v+i*u*h-s*l*h)+A*(+n*u*p-n*a*v-s*o*p+r*o*v+s*a*h-r*u*h)+_*(-i*a*h-n*l*p+n*a*m+i*o*p-r*o*m+r*l*h)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],u=e[7],h=e[8],p=e[9],m=e[10],v=e[11],y=e[12],S=e[13],A=e[14],_=e[15],w=p*A*u-S*m*u+S*l*v-a*A*v-p*l*_+a*m*_,x=y*m*u-h*A*u-y*l*v+o*A*v+h*l*_-o*m*_,M=h*S*u-y*p*u+y*a*v-o*S*v-h*a*_+o*p*_,R=y*p*l-h*S*l-y*a*m+o*S*m+h*a*A-o*p*A,T=n*w+r*x+i*M+s*R;if(T===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/T;return e[0]=w*I,e[1]=(S*m*s-p*A*s-S*i*v+r*A*v+p*i*_-r*m*_)*I,e[2]=(a*A*s-S*l*s+S*i*u-r*A*u-a*i*_+r*l*_)*I,e[3]=(p*l*s-a*m*s-p*i*u+r*m*u+a*i*v-r*l*v)*I,e[4]=x*I,e[5]=(h*A*s-y*m*s+y*i*v-n*A*v-h*i*_+n*m*_)*I,e[6]=(y*l*s-o*A*s-y*i*u+n*A*u+o*i*_-n*l*_)*I,e[7]=(o*m*s-h*l*s+h*i*u-n*m*u-o*i*v+n*l*v)*I,e[8]=M*I,e[9]=(y*p*s-h*S*s-y*r*v+n*S*v+h*r*_-n*p*_)*I,e[10]=(o*S*s-y*a*s+y*r*u-n*S*u-o*r*_+n*a*_)*I,e[11]=(h*a*s-o*p*s-h*r*u+n*p*u+o*r*v-n*a*v)*I,e[12]=R*I,e[13]=(h*S*i-y*p*i+y*r*m-n*S*m-h*r*A+n*p*A)*I,e[14]=(y*a*i-o*S*i-y*r*l+n*S*l+o*r*A-n*a*A)*I,e[15]=(o*p*i-h*a*i+h*r*l-n*p*l-o*r*m+n*a*m)*I,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,u=s*o,h=s*a;return this.set(u*o+r,u*a-i*l,u*l+i*a,0,u*a+i*l,h*a+r,h*l-i*o,0,u*l-i*a,h*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,u=s+s,h=o+o,p=a+a,m=s*u,v=s*h,y=s*p,S=o*h,A=o*p,_=a*p,w=l*u,x=l*h,M=l*p,R=r.x,T=r.y,I=r.z;return i[0]=(1-(S+_))*R,i[1]=(v+M)*R,i[2]=(y-x)*R,i[3]=0,i[4]=(v-M)*T,i[5]=(1-(m+_))*T,i[6]=(A+w)*T,i[7]=0,i[8]=(y+x)*I,i[9]=(A-w)*I,i[10]=(1-(m+S))*I,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=Sd.set(i[0],i[1],i[2]).length();const o=Sd.set(i[4],i[5],i[6]).length(),a=Sd.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],qo.copy(this);const u=1/s,h=1/o,p=1/a;return qo.elements[0]*=u,qo.elements[1]*=u,qo.elements[2]*=u,qo.elements[4]*=h,qo.elements[5]*=h,qo.elements[6]*=h,qo.elements[8]*=p,qo.elements[9]*=p,qo.elements[10]*=p,n.setFromRotationMatrix(qo),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o,a=aa){const l=this.elements,u=2*s/(n-e),h=2*s/(r-i),p=(n+e)/(n-e),m=(r+i)/(r-i);let v,y;if(a===aa)v=-(o+s)/(o-s),y=-2*o*s/(o-s);else if(a===Yp)v=-o/(o-s),y=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=u,l[4]=0,l[8]=p,l[12]=0,l[1]=0,l[5]=h,l[9]=m,l[13]=0,l[2]=0,l[6]=0,l[10]=v,l[14]=y,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,s,o,a=aa){const l=this.elements,u=1/(n-e),h=1/(r-i),p=1/(o-s),m=(n+e)*u,v=(r+i)*h;let y,S;if(a===aa)y=(o+s)*p,S=-2*p;else if(a===Yp)y=s*p,S=-1*p;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-m,l[1]=0,l[5]=2*h,l[9]=0,l[13]=-v,l[2]=0,l[6]=0,l[10]=S,l[14]=-y,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Sd=new J,qo=new Nt,IJ=new J(0,0,0),LJ=new J(1,1,1),Ou=new J,M_=new J,Vs=new J,L3=new Nt,B3=new _i;class pv{constructor(e=0,n=0,r=0,i=pv.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],u=i[5],h=i[9],p=i[2],m=i[6],v=i[10];switch(n){case"XYZ":this._y=Math.asin(Sr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-h,v),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(m,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Sr(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(a,v),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-p,s),this._z=0);break;case"ZXY":this._x=Math.asin(Sr(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(-p,v),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Sr(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(m,v),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(Sr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,u),this._y=Math.atan2(-p,s)):(this._x=0,this._y=Math.atan2(a,v));break;case"XZY":this._z=Math.asin(-Sr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(m,u),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-h,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return L3.makeRotationFromQuaternion(e),this.setFromRotationMatrix(L3,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return B3.setFromEuler(this),this.setFromQuaternion(B3,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}pv.DEFAULT_ORDER="XYZ";class Qf{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let BJ=0;const D3=new J,Ad=new _i,_l=new Nt,C_=new J,Cg=new J,DJ=new J,OJ=new _i,O3=new J(1,0,0),F3=new J(0,1,0),N3=new J(0,0,1),FJ={type:"added"},NJ={type:"removed"};class An extends Jl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:BJ++}),this.uuid=no(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=An.DEFAULT_UP.clone();const e=new J,n=new pv,r=new _i,i=new J(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Nt},normalMatrix:{value:new fn}}),this.matrix=new Nt,this.matrixWorld=new Nt,this.matrixAutoUpdate=An.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=An.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Qf,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Ad.setFromAxisAngle(e,n),this.quaternion.multiply(Ad),this}rotateOnWorldAxis(e,n){return Ad.setFromAxisAngle(e,n),this.quaternion.premultiply(Ad),this}rotateX(e){return this.rotateOnAxis(O3,e)}rotateY(e){return this.rotateOnAxis(F3,e)}rotateZ(e){return this.rotateOnAxis(N3,e)}translateOnAxis(e,n){return D3.copy(e).applyQuaternion(this.quaternion),this.position.add(D3.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(O3,e)}translateY(e){return this.translateOnAxis(F3,e)}translateZ(e){return this.translateOnAxis(N3,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(_l.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?C_.copy(e):C_.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Cg.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_l.lookAt(Cg,C_,this.up):_l.lookAt(C_,Cg,this.up),this.quaternion.setFromRotationMatrix(_l),i&&(_l.extractRotation(i.matrixWorld),Ad.setFromRotationMatrix(_l),this.quaternion.premultiply(Ad.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(FJ)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(NJ)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),_l.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),_l.multiply(e.parent.matrixWorld)),e.applyMatrix4(_l),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Cg,e,DJ),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Cg,OJ,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let u=0,h=l.length;u<h;u++){const p=l[u];s(e.shapes,p)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,u=this.material.length;l<u;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),u=o(e.textures),h=o(e.images),p=o(e.shapes),m=o(e.skeletons),v=o(e.animations),y=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),h.length>0&&(r.images=h),p.length>0&&(r.shapes=p),m.length>0&&(r.skeletons=m),v.length>0&&(r.animations=v),y.length>0&&(r.nodes=y)}return r.object=i,r;function o(a){const l=[];for(const u in a){const h=a[u];delete h.metadata,l.push(h)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}An.DEFAULT_UP=new J(0,1,0);An.DEFAULT_MATRIX_AUTO_UPDATE=!0;An.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Qo=new J,xl=new J,hE=new J,Sl=new J,wd=new J,Ed=new J,U3=new J,dE=new J,pE=new J,mE=new J;let T_=!1;class xs{constructor(e=new J,n=new J,r=new J){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Qo.subVectors(e,n),i.cross(Qo);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){Qo.subVectors(i,n),xl.subVectors(r,n),hE.subVectors(e,n);const o=Qo.dot(Qo),a=Qo.dot(xl),l=Qo.dot(hE),u=xl.dot(xl),h=xl.dot(hE),p=o*u-a*a;if(p===0)return s.set(0,0,0),null;const m=1/p,v=(u*l-a*h)*m,y=(o*h-a*l)*m;return s.set(1-v-y,y,v)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Sl)===null?!1:Sl.x>=0&&Sl.y>=0&&Sl.x+Sl.y<=1}static getUV(e,n,r,i,s,o,a,l){return T_===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),T_=!0),this.getInterpolation(e,n,r,i,s,o,a,l)}static getInterpolation(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,Sl)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Sl.x),l.addScaledVector(o,Sl.y),l.addScaledVector(a,Sl.z),l)}static isFrontFacing(e,n,r,i){return Qo.subVectors(r,n),xl.subVectors(e,n),Qo.cross(xl).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Qo.subVectors(this.c,this.b),xl.subVectors(this.a,this.b),Qo.cross(xl).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return xs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return xs.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,s){return T_===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),T_=!0),xs.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}getInterpolation(e,n,r,i,s){return xs.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return xs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return xs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;wd.subVectors(i,r),Ed.subVectors(s,r),dE.subVectors(e,r);const l=wd.dot(dE),u=Ed.dot(dE);if(l<=0&&u<=0)return n.copy(r);pE.subVectors(e,i);const h=wd.dot(pE),p=Ed.dot(pE);if(h>=0&&p<=h)return n.copy(i);const m=l*p-h*u;if(m<=0&&l>=0&&h<=0)return o=l/(l-h),n.copy(r).addScaledVector(wd,o);mE.subVectors(e,s);const v=wd.dot(mE),y=Ed.dot(mE);if(y>=0&&v<=y)return n.copy(s);const S=v*u-l*y;if(S<=0&&u>=0&&y<=0)return a=u/(u-y),n.copy(r).addScaledVector(Ed,a);const A=h*y-v*p;if(A<=0&&p-h>=0&&v-y>=0)return U3.subVectors(s,i),a=(p-h)/(p-h+(v-y)),n.copy(i).addScaledVector(U3,a);const _=1/(A+S+m);return o=S*_,a=m*_,n.copy(r).addScaledVector(wd,o).addScaledVector(Ed,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Z4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Fu={h:0,s:0,l:0},R_={h:0,s:0,l:0};function gE(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class nt{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=zr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Pn.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Pn.workingColorSpace){return this.r=e,this.g=n,this.b=r,Pn.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Pn.workingColorSpace){if(e=o2(e,1),n=Sr(n,0,1),r=Sr(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=gE(o,s,e+1/3),this.g=gE(o,s,e),this.b=gE(o,s,e-1/3)}return Pn.toWorkingColorSpace(this,i),this}setStyle(e,n=zr){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=zr){const r=Z4[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Bp(e.r),this.g=Bp(e.g),this.b=Bp(e.b),this}copyLinearToSRGB(e){return this.r=iE(e.r),this.g=iE(e.g),this.b=iE(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=zr){return Pn.fromWorkingColorSpace(Ni.copy(this),e),Math.round(Sr(Ni.r*255,0,255))*65536+Math.round(Sr(Ni.g*255,0,255))*256+Math.round(Sr(Ni.b*255,0,255))}getHexString(e=zr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Pn.workingColorSpace){Pn.fromWorkingColorSpace(Ni.copy(this),n);const r=Ni.r,i=Ni.g,s=Ni.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,u;const h=(a+o)/2;if(a===o)l=0,u=0;else{const p=o-a;switch(u=h<=.5?p/(o+a):p/(2-o-a),o){case r:l=(i-s)/p+(i<s?6:0);break;case i:l=(s-r)/p+2;break;case s:l=(r-i)/p+4;break}l/=6}return e.h=l,e.s=u,e.l=h,e}getRGB(e,n=Pn.workingColorSpace){return Pn.fromWorkingColorSpace(Ni.copy(this),n),e.r=Ni.r,e.g=Ni.g,e.b=Ni.b,e}getStyle(e=zr){Pn.fromWorkingColorSpace(Ni.copy(this),e);const n=Ni.r,r=Ni.g,i=Ni.b;return e!==zr?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Fu),this.setHSL(Fu.h+e,Fu.s+n,Fu.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Fu),e.getHSL(R_);const r=c0(Fu.h,R_.h,n),i=c0(Fu.s,R_.s,n),s=c0(Fu.l,R_.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ni=new nt;nt.NAMES=Z4;let UJ=0,ti=class extends Jl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:UJ++}),this.uuid=no(),this.name="",this.type="Material",this.blending=Yf,this.side=Ja,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=I1,this.blendDst=L1,this.blendEquation=Ju,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new nt(0,0,0),this.blendAlpha=0,this.depthFunc=F0,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=iC,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Rf,this.stencilZFail=Rf,this.stencilZPass=Rf,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Yf&&(r.blending=this.blending),this.side!==Ja&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==I1&&(r.blendSrc=this.blendSrc),this.blendDst!==L1&&(r.blendDst=this.blendDst),this.blendEquation!==Ju&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==F0&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==iC&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Rf&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Rf&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Rf&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}};class Qs extends ti{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new nt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=hv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Il=kJ();function kJ(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,h=0;for(;!(u&8388608);)u<<=1,h-=8388608;u&=-8388609,h+=947912704,s[l]=u|h}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function ys(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Sr(t,-65504,65504),Il.floatView[0]=t;const e=Il.uint32View[0],n=e>>23&511;return Il.baseTable[n]+((e&8388607)>>Il.shiftTable[n])}function Kg(t){const e=t>>10;return Il.uint32View[0]=Il.mantissaTable[Il.offsetTable[e]+(t&1023)]+Il.exponentTable[e],Il.floatView[0]}const HJ={toHalfFloat:ys,fromHalfFloat:Kg},Hr=new J,P_=new Te;class wn{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=W0,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=oa,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)P_.fromBufferAttribute(this,n),P_.applyMatrix3(e),this.setXY(n,P_.x,P_.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Hr.fromBufferAttribute(this,n),Hr.applyMatrix3(e),this.setXYZ(n,Hr.x,Hr.y,Hr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Hr.fromBufferAttribute(this,n),Hr.applyMatrix4(e),this.setXYZ(n,Hr.x,Hr.y,Hr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Hr.fromBufferAttribute(this,n),Hr.applyNormalMatrix(e),this.setXYZ(n,Hr.x,Hr.y,Hr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Hr.fromBufferAttribute(this,n),Hr.transformDirection(e),this.setXYZ(n,Hr.x,Hr.y,Hr.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=As(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=on(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=As(n,this.array)),n}setX(e,n){return this.normalized&&(n=on(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=As(n,this.array)),n}setY(e,n){return this.normalized&&(n=on(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=As(n,this.array)),n}setZ(e,n){return this.normalized&&(n=on(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=As(n,this.array)),n}setW(e,n){return this.normalized&&(n=on(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=on(n,this.array),r=on(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=on(n,this.array),r=on(r,this.array),i=on(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=on(n,this.array),r=on(r,this.array),i=on(i,this.array),s=on(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==W0&&(e.usage=this.usage),e}}class zJ extends wn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class GJ extends wn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class $J extends wn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class WJ extends wn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class u2 extends wn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class VJ extends wn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class c2 extends wn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class jJ extends wn{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=Kg(this.array[e*this.itemSize]);return this.normalized&&(n=As(n,this.array)),n}setX(e,n){return this.normalized&&(n=on(n,this.array)),this.array[e*this.itemSize]=ys(n),this}getY(e){let n=Kg(this.array[e*this.itemSize+1]);return this.normalized&&(n=As(n,this.array)),n}setY(e,n){return this.normalized&&(n=on(n,this.array)),this.array[e*this.itemSize+1]=ys(n),this}getZ(e){let n=Kg(this.array[e*this.itemSize+2]);return this.normalized&&(n=As(n,this.array)),n}setZ(e,n){return this.normalized&&(n=on(n,this.array)),this.array[e*this.itemSize+2]=ys(n),this}getW(e){let n=Kg(this.array[e*this.itemSize+3]);return this.normalized&&(n=As(n,this.array)),n}setW(e,n){return this.normalized&&(n=on(n,this.array)),this.array[e*this.itemSize+3]=ys(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=on(n,this.array),r=on(r,this.array)),this.array[e+0]=ys(n),this.array[e+1]=ys(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=on(n,this.array),r=on(r,this.array),i=on(i,this.array)),this.array[e+0]=ys(n),this.array[e+1]=ys(r),this.array[e+2]=ys(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=on(n,this.array),r=on(r,this.array),i=on(i,this.array),s=on(s,this.array)),this.array[e+0]=ys(n),this.array[e+1]=ys(r),this.array[e+2]=ys(i),this.array[e+3]=ys(s),this}}class Et extends wn{constructor(e,n,r){super(new Float32Array(e),n,r)}}class XJ extends wn{constructor(e,n,r){super(new Float64Array(e),n,r)}}let JJ=0;const Mo=new Nt,vE=new An,bd=new J,js=new Hi,Tg=new Hi,pi=new J;class nn extends Jl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:JJ++}),this.uuid=no(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Y4(e)?c2:u2)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new fn().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Mo.makeRotationFromQuaternion(e),this.applyMatrix4(Mo),this}rotateX(e){return Mo.makeRotationX(e),this.applyMatrix4(Mo),this}rotateY(e){return Mo.makeRotationY(e),this.applyMatrix4(Mo),this}rotateZ(e){return Mo.makeRotationZ(e),this.applyMatrix4(Mo),this}translate(e,n,r){return Mo.makeTranslation(e,n,r),this.applyMatrix4(Mo),this}scale(e,n,r){return Mo.makeScale(e,n,r),this.applyMatrix4(Mo),this}lookAt(e){return vE.lookAt(e),vE.updateMatrix(),this.applyMatrix4(vE.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(bd).negate(),this.translate(bd.x,bd.y,bd.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Et(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Hi);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new J(-1/0,-1/0,-1/0),new J(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];js.setFromBufferAttribute(s),this.morphTargetsRelative?(pi.addVectors(this.boundingBox.min,js.min),this.boundingBox.expandByPoint(pi),pi.addVectors(this.boundingBox.max,js.max),this.boundingBox.expandByPoint(pi)):(this.boundingBox.expandByPoint(js.min),this.boundingBox.expandByPoint(js.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ci);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new J,1/0);return}if(e){const r=this.boundingSphere.center;if(js.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];Tg.setFromBufferAttribute(a),this.morphTargetsRelative?(pi.addVectors(js.min,Tg.min),js.expandByPoint(pi),pi.addVectors(js.max,Tg.max),js.expandByPoint(pi)):(js.expandByPoint(Tg.min),js.expandByPoint(Tg.max))}js.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)pi.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(pi));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let u=0,h=a.count;u<h;u++)pi.fromBufferAttribute(a,u),l&&(bd.fromBufferAttribute(e,u),pi.add(bd)),i=Math.max(i,r.distanceToSquared(pi))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,s=n.normal.array,o=n.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new wn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,u=[],h=[];for(let O=0;O<a;O++)u[O]=new J,h[O]=new J;const p=new J,m=new J,v=new J,y=new Te,S=new Te,A=new Te,_=new J,w=new J;function x(O,V,H){p.fromArray(i,O*3),m.fromArray(i,V*3),v.fromArray(i,H*3),y.fromArray(o,O*2),S.fromArray(o,V*2),A.fromArray(o,H*2),m.sub(p),v.sub(p),S.sub(y),A.sub(y);const ne=1/(S.x*A.y-A.x*S.y);isFinite(ne)&&(_.copy(m).multiplyScalar(A.y).addScaledVector(v,-S.y).multiplyScalar(ne),w.copy(v).multiplyScalar(S.x).addScaledVector(m,-A.x).multiplyScalar(ne),u[O].add(_),u[V].add(_),u[H].add(_),h[O].add(w),h[V].add(w),h[H].add(w))}let M=this.groups;M.length===0&&(M=[{start:0,count:r.length}]);for(let O=0,V=M.length;O<V;++O){const H=M[O],ne=H.start,j=H.count;for(let q=ne,re=ne+j;q<re;q+=3)x(r[q+0],r[q+1],r[q+2])}const R=new J,T=new J,I=new J,F=new J;function B(O){I.fromArray(s,O*3),F.copy(I);const V=u[O];R.copy(V),R.sub(I.multiplyScalar(I.dot(V))).normalize(),T.crossVectors(F,V);const ne=T.dot(h[O])<0?-1:1;l[O*4]=R.x,l[O*4+1]=R.y,l[O*4+2]=R.z,l[O*4+3]=ne}for(let O=0,V=M.length;O<V;++O){const H=M[O],ne=H.start,j=H.count;for(let q=ne,re=ne+j;q<re;q+=3)B(r[q+0]),B(r[q+1]),B(r[q+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new wn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let m=0,v=r.count;m<v;m++)r.setXYZ(m,0,0,0);const i=new J,s=new J,o=new J,a=new J,l=new J,u=new J,h=new J,p=new J;if(e)for(let m=0,v=e.count;m<v;m+=3){const y=e.getX(m+0),S=e.getX(m+1),A=e.getX(m+2);i.fromBufferAttribute(n,y),s.fromBufferAttribute(n,S),o.fromBufferAttribute(n,A),h.subVectors(o,s),p.subVectors(i,s),h.cross(p),a.fromBufferAttribute(r,y),l.fromBufferAttribute(r,S),u.fromBufferAttribute(r,A),a.add(h),l.add(h),u.add(h),r.setXYZ(y,a.x,a.y,a.z),r.setXYZ(S,l.x,l.y,l.z),r.setXYZ(A,u.x,u.y,u.z)}else for(let m=0,v=n.count;m<v;m+=3)i.fromBufferAttribute(n,m+0),s.fromBufferAttribute(n,m+1),o.fromBufferAttribute(n,m+2),h.subVectors(o,s),p.subVectors(i,s),h.cross(p),r.setXYZ(m+0,h.x,h.y,h.z),r.setXYZ(m+1,h.x,h.y,h.z),r.setXYZ(m+2,h.x,h.y,h.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)pi.fromBufferAttribute(e,n),pi.normalize(),e.setXYZ(n,pi.x,pi.y,pi.z)}toNonIndexed(){function e(a,l){const u=a.array,h=a.itemSize,p=a.normalized,m=new u.constructor(l.length*h);let v=0,y=0;for(let S=0,A=l.length;S<A;S++){a.isInterleavedBufferAttribute?v=l[S]*a.data.stride+a.offset:v=l[S]*h;for(let _=0;_<h;_++)m[y++]=u[v++]}return new wn(m,h,p)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new nn,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],u=e(l,r);n.setAttribute(a,u)}const s=this.morphAttributes;for(const a in s){const l=[],u=s[a];for(let h=0,p=u.length;h<p;h++){const m=u[h],v=e(m,r);l.push(v)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const u=o[a];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],h=[];for(let p=0,m=u.length;p<m;p++){const v=u[p];h.push(v.toJSON(e.data))}h.length>0&&(i[l]=h,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const h=i[u];this.setAttribute(u,h.clone(n))}const s=e.morphAttributes;for(const u in s){const h=[],p=s[u];for(let m=0,v=p.length;m<v;m++)h.push(p[m].clone(n));this.morphAttributes[u]=h}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,h=o.length;u<h;u++){const p=o[u];this.addGroup(p.start,p.count,p.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const k3=new Nt,pf=new gh,I_=new Ci,H3=new J,Md=new J,Cd=new J,Td=new J,yE=new J,L_=new J,B_=new Te,D_=new Te,O_=new Te,z3=new J,G3=new J,$3=new J,F_=new J,N_=new J;class Wr extends An{constructor(e=new nn,n=new Qs){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){L_.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const h=a[l],p=s[l];h!==0&&(yE.fromBufferAttribute(p,e),o?L_.addScaledVector(yE,h):L_.addScaledVector(yE.sub(n),h))}n.add(L_)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),I_.copy(r.boundingSphere),I_.applyMatrix4(s),pf.copy(e.ray).recast(e.near),!(I_.containsPoint(pf.origin)===!1&&(pf.intersectSphere(I_,H3)===null||pf.origin.distanceToSquared(H3)>(e.far-e.near)**2))&&(k3.copy(s).invert(),pf.copy(e.ray).applyMatrix4(k3),!(r.boundingBox!==null&&pf.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,pf)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,u=s.attributes.uv,h=s.attributes.uv1,p=s.attributes.normal,m=s.groups,v=s.drawRange;if(a!==null)if(Array.isArray(o))for(let y=0,S=m.length;y<S;y++){const A=m[y],_=o[A.materialIndex],w=Math.max(A.start,v.start),x=Math.min(a.count,Math.min(A.start+A.count,v.start+v.count));for(let M=w,R=x;M<R;M+=3){const T=a.getX(M),I=a.getX(M+1),F=a.getX(M+2);i=U_(this,_,e,r,u,h,p,T,I,F),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=A.materialIndex,n.push(i))}}else{const y=Math.max(0,v.start),S=Math.min(a.count,v.start+v.count);for(let A=y,_=S;A<_;A+=3){const w=a.getX(A),x=a.getX(A+1),M=a.getX(A+2);i=U_(this,o,e,r,u,h,p,w,x,M),i&&(i.faceIndex=Math.floor(A/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let y=0,S=m.length;y<S;y++){const A=m[y],_=o[A.materialIndex],w=Math.max(A.start,v.start),x=Math.min(l.count,Math.min(A.start+A.count,v.start+v.count));for(let M=w,R=x;M<R;M+=3){const T=M,I=M+1,F=M+2;i=U_(this,_,e,r,u,h,p,T,I,F),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=A.materialIndex,n.push(i))}}else{const y=Math.max(0,v.start),S=Math.min(l.count,v.start+v.count);for(let A=y,_=S;A<_;A+=3){const w=A,x=A+1,M=A+2;i=U_(this,o,e,r,u,h,p,w,x,M),i&&(i.faceIndex=Math.floor(A/3),n.push(i))}}}}function KJ(t,e,n,r,i,s,o,a){let l;if(e.side===ss?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Ja,a),l===null)return null;N_.copy(a),N_.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(N_);return u<n.near||u>n.far?null:{distance:u,point:N_.clone(),object:t}}function U_(t,e,n,r,i,s,o,a,l,u){t.getVertexPosition(a,Md),t.getVertexPosition(l,Cd),t.getVertexPosition(u,Td);const h=KJ(t,e,n,r,Md,Cd,Td,F_);if(h){i&&(B_.fromBufferAttribute(i,a),D_.fromBufferAttribute(i,l),O_.fromBufferAttribute(i,u),h.uv=xs.getInterpolation(F_,Md,Cd,Td,B_,D_,O_,new Te)),s&&(B_.fromBufferAttribute(s,a),D_.fromBufferAttribute(s,l),O_.fromBufferAttribute(s,u),h.uv1=xs.getInterpolation(F_,Md,Cd,Td,B_,D_,O_,new Te),h.uv2=h.uv1),o&&(z3.fromBufferAttribute(o,a),G3.fromBufferAttribute(o,l),$3.fromBufferAttribute(o,u),h.normal=xs.getInterpolation(F_,Md,Cd,Td,z3,G3,$3,new J),h.normal.dot(r.direction)>0&&h.normal.multiplyScalar(-1));const p={a,b:l,c:u,normal:new J,materialIndex:0};xs.getNormal(Md,Cd,Td,p.normal),h.face=p}return h}class vh extends nn{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],u=[],h=[],p=[];let m=0,v=0;y("z","y","x",-1,-1,r,n,e,o,s,0),y("z","y","x",1,-1,r,n,-e,o,s,1),y("x","z","y",1,1,e,r,n,i,o,2),y("x","z","y",1,-1,e,r,-n,i,o,3),y("x","y","z",1,-1,e,n,r,i,s,4),y("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Et(u,3)),this.setAttribute("normal",new Et(h,3)),this.setAttribute("uv",new Et(p,2));function y(S,A,_,w,x,M,R,T,I,F,B){const O=M/I,V=R/F,H=M/2,ne=R/2,j=T/2,q=I+1,re=F+1;let he=0,z=0;const ee=new J;for(let te=0;te<re;te++){const fe=te*V-ne;for(let ye=0;ye<q;ye++){const ue=ye*O-H;ee[S]=ue*w,ee[A]=fe*x,ee[_]=j,u.push(ee.x,ee.y,ee.z),ee[S]=0,ee[A]=0,ee[_]=T>0?1:-1,h.push(ee.x,ee.y,ee.z),p.push(ye/I),p.push(1-te/F),he+=1}}for(let te=0;te<F;te++)for(let fe=0;fe<I;fe++){const ye=m+fe+q*te,ue=m+fe+q*(te+1),_e=m+(fe+1)+q*(te+1),Ne=m+(fe+1)+q*te;l.push(ye,ue,Ne),l.push(ue,_e,Ne),z+=6}a.addGroup(v,z,B),v+=z,m+=he}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vh(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Qp(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function ts(t){const e={};for(let n=0;n<t.length;n++){const r=Qp(t[n]);for(const i in r)e[i]=r[i]}return e}function YJ(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function ek(t){return t.getRenderTarget()===null?t.outputColorSpace:Pn.workingColorSpace}const tk={clone:Qp,merge:ts};var qJ=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,QJ=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ya extends ti{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=qJ,this.fragmentShader=QJ,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Qp(e.uniforms),this.uniformsGroups=YJ(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class mv extends An{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Nt,this.projectionMatrix=new Nt,this.projectionMatrixInverse=new Nt,this.coordinateSystem=aa}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Ar extends mv{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=qp*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(qf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return qp*2*Math.atan(Math.tan(qf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(qf*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Rd=-90,Pd=1;class nk extends An{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Ar(Rd,Pd,e,n);i.layers=this.layers,this.add(i);const s=new Ar(Rd,Pd,e,n);s.layers=this.layers,this.add(s);const o=new Ar(Rd,Pd,e,n);o.layers=this.layers,this.add(o);const a=new Ar(Rd,Pd,e,n);a.layers=this.layers,this.add(a);const l=new Ar(Rd,Pd,e,n);l.layers=this.layers,this.add(l);const u=new Ar(Rd,Pd,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,a,l]=n;for(const u of n)this.remove(u);if(e===aa)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Yp)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,u,h]=this.children,p=e.getRenderTarget(),m=e.getActiveCubeFace(),v=e.getActiveMipmapLevel(),y=e.xr.enabled;e.xr.enabled=!1;const S=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,o),e.setRenderTarget(r,2,i),e.render(n,a),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,u),r.texture.generateMipmaps=S,e.setRenderTarget(r,5,i),e.render(n,h),e.setRenderTarget(p,m,v),e.xr.enabled=y,r.texture.needsPMREMUpdate=!0}}class gv extends fr{constructor(e,n,r,i,s,o,a,l,u,h){e=e!==void 0?e:[],n=n!==void 0?n:Vl,super(e,n,r,i,s,o,a,l,u,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class rk extends pa{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(f0("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===fc?zr:Ys),this.texture=new gv(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:lr}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new vh(5,5,5),s=new Ya({name:"CubemapFromEquirect",uniforms:Qp(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ss,blending:Ul});s.uniforms.tEquirect.value=n;const o=new Wr(i,s),a=n.minFilter;return n.minFilter===Ka&&(n.minFilter=lr),new nk(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const _E=new J,ZJ=new J,eK=new fn;class Rl{constructor(e=new J(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=_E.subVectors(r,n).cross(ZJ.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(_E),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||eK.getNormalMatrix(e),i=this.coplanarPoint(_E).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const mf=new Ci,k_=new J;class vv{constructor(e=new Rl,n=new Rl,r=new Rl,i=new Rl,s=new Rl,o=new Rl){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=aa){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],u=i[4],h=i[5],p=i[6],m=i[7],v=i[8],y=i[9],S=i[10],A=i[11],_=i[12],w=i[13],x=i[14],M=i[15];if(r[0].setComponents(l-s,m-u,A-v,M-_).normalize(),r[1].setComponents(l+s,m+u,A+v,M+_).normalize(),r[2].setComponents(l+o,m+h,A+y,M+w).normalize(),r[3].setComponents(l-o,m-h,A-y,M-w).normalize(),r[4].setComponents(l-a,m-p,A-S,M-x).normalize(),n===aa)r[5].setComponents(l+a,m+p,A+S,M+x).normalize();else if(n===Yp)r[5].setComponents(a,p,S,x).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),mf.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),mf.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(mf)}intersectsSprite(e){return mf.center.set(0,0,0),mf.radius=.7071067811865476,mf.applyMatrix4(e.matrixWorld),this.intersectsSphere(mf)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(k_.x=i.normal.x>0?e.max.x:e.min.x,k_.y=i.normal.y>0?e.max.y:e.min.y,k_.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(k_)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function ik(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function tK(t,e){const n=e.isWebGL2,r=new WeakMap;function i(u,h){const p=u.array,m=u.usage,v=p.byteLength,y=t.createBuffer();t.bindBuffer(h,y),t.bufferData(h,p,m),u.onUploadCallback();let S;if(p instanceof Float32Array)S=t.FLOAT;else if(p instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(n)S=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else S=t.UNSIGNED_SHORT;else if(p instanceof Int16Array)S=t.SHORT;else if(p instanceof Uint32Array)S=t.UNSIGNED_INT;else if(p instanceof Int32Array)S=t.INT;else if(p instanceof Int8Array)S=t.BYTE;else if(p instanceof Uint8Array)S=t.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)S=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:y,type:S,bytesPerElement:p.BYTES_PER_ELEMENT,version:u.version,size:v}}function s(u,h,p){const m=h.array,v=h._updateRange,y=h.updateRanges;if(t.bindBuffer(p,u),v.count===-1&&y.length===0&&t.bufferSubData(p,0,m),y.length!==0){for(let S=0,A=y.length;S<A;S++){const _=y[S];n?t.bufferSubData(p,_.start*m.BYTES_PER_ELEMENT,m,_.start,_.count):t.bufferSubData(p,_.start*m.BYTES_PER_ELEMENT,m.subarray(_.start,_.start+_.count))}h.clearUpdateRanges()}v.count!==-1&&(n?t.bufferSubData(p,v.offset*m.BYTES_PER_ELEMENT,m,v.offset,v.count):t.bufferSubData(p,v.offset*m.BYTES_PER_ELEMENT,m.subarray(v.offset,v.offset+v.count)),v.count=-1),h.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function a(u){u.isInterleavedBufferAttribute&&(u=u.data);const h=r.get(u);h&&(t.deleteBuffer(h.buffer),r.delete(u))}function l(u,h){if(u.isGLBufferAttribute){const m=r.get(u);(!m||m.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const p=r.get(u);if(p===void 0)r.set(u,i(u,h));else if(p.version<u.version){if(p.size!==u.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");s(p.buffer,u,h),p.version=u.version}}return{get:o,remove:a,update:l}}class yv extends nn{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),u=a+1,h=l+1,p=e/a,m=n/l,v=[],y=[],S=[],A=[];for(let _=0;_<h;_++){const w=_*m-o;for(let x=0;x<u;x++){const M=x*p-s;y.push(M,-w,0),S.push(0,0,1),A.push(x/a),A.push(1-_/l)}}for(let _=0;_<l;_++)for(let w=0;w<a;w++){const x=w+u*_,M=w+u*(_+1),R=w+1+u*(_+1),T=w+1+u*_;v.push(x,M,T),v.push(M,R,T)}this.setIndex(v),this.setAttribute("position",new Et(y,3)),this.setAttribute("normal",new Et(S,3)),this.setAttribute("uv",new Et(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yv(e.width,e.height,e.widthSegments,e.heightSegments)}}var nK=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,rK=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,iK=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,sK=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,oK=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,aK=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,lK=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,uK=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,cK=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,fK=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,hK=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,dK=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,pK=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,mK=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,gK=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,vK=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,yK=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,_K=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,xK=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,SK=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,AK=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,wK=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,EK=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,bK=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,MK=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,CK=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,TK=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,RK=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,PK=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,IK=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,LK="gl_FragColor = linearToOutputTexel( gl_FragColor );",BK=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,DK=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,OK=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,FK=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,NK=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,UK=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,kK=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,HK=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,zK=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,GK=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,$K=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,WK=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,VK=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,jK=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,XK=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,JK=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,KK=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,YK=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,qK=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,QK=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,ZK=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,eY=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,tY=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,nY=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,rY=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,iY=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,sY=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,oY=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,aY=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,lY=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,uY=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,cY=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,fY=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,hY=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,dY=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,pY=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,mY=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,gY=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,vY=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,yY=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,_Y=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,xY=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,SY=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,AY=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,wY=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,EY=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,bY=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,MY=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,CY=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,TY=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,RY=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,PY=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,IY=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,LY=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,BY=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,DY=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,OY=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,FY=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,NY=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,UY=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,kY=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,HY=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,zY=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,GY=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,$Y=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,WY=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,VY=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,jY=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,XY=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,JY=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color *= toneMappingExposure;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,KY=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,YY=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,qY=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,QY=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,ZY=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,eq=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const tq=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,nq=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,rq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,iq=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,sq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,oq=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,aq=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,lq=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,uq=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,cq=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,fq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,hq=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,dq=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,pq=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,mq=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,gq=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vq=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,yq=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_q=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,xq=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Sq=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Aq=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,wq=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Eq=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bq=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Mq=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Cq=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Tq=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Rq=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Pq=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Iq=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Lq=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Bq=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Dq=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,sn={alphahash_fragment:nK,alphahash_pars_fragment:rK,alphamap_fragment:iK,alphamap_pars_fragment:sK,alphatest_fragment:oK,alphatest_pars_fragment:aK,aomap_fragment:lK,aomap_pars_fragment:uK,batching_pars_vertex:cK,batching_vertex:fK,begin_vertex:hK,beginnormal_vertex:dK,bsdfs:pK,iridescence_fragment:mK,bumpmap_pars_fragment:gK,clipping_planes_fragment:vK,clipping_planes_pars_fragment:yK,clipping_planes_pars_vertex:_K,clipping_planes_vertex:xK,color_fragment:SK,color_pars_fragment:AK,color_pars_vertex:wK,color_vertex:EK,common:bK,cube_uv_reflection_fragment:MK,defaultnormal_vertex:CK,displacementmap_pars_vertex:TK,displacementmap_vertex:RK,emissivemap_fragment:PK,emissivemap_pars_fragment:IK,colorspace_fragment:LK,colorspace_pars_fragment:BK,envmap_fragment:DK,envmap_common_pars_fragment:OK,envmap_pars_fragment:FK,envmap_pars_vertex:NK,envmap_physical_pars_fragment:KK,envmap_vertex:UK,fog_vertex:kK,fog_pars_vertex:HK,fog_fragment:zK,fog_pars_fragment:GK,gradientmap_pars_fragment:$K,lightmap_fragment:WK,lightmap_pars_fragment:VK,lights_lambert_fragment:jK,lights_lambert_pars_fragment:XK,lights_pars_begin:JK,lights_toon_fragment:YK,lights_toon_pars_fragment:qK,lights_phong_fragment:QK,lights_phong_pars_fragment:ZK,lights_physical_fragment:eY,lights_physical_pars_fragment:tY,lights_fragment_begin:nY,lights_fragment_maps:rY,lights_fragment_end:iY,logdepthbuf_fragment:sY,logdepthbuf_pars_fragment:oY,logdepthbuf_pars_vertex:aY,logdepthbuf_vertex:lY,map_fragment:uY,map_pars_fragment:cY,map_particle_fragment:fY,map_particle_pars_fragment:hY,metalnessmap_fragment:dY,metalnessmap_pars_fragment:pY,morphcolor_vertex:mY,morphnormal_vertex:gY,morphtarget_pars_vertex:vY,morphtarget_vertex:yY,normal_fragment_begin:_Y,normal_fragment_maps:xY,normal_pars_fragment:SY,normal_pars_vertex:AY,normal_vertex:wY,normalmap_pars_fragment:EY,clearcoat_normal_fragment_begin:bY,clearcoat_normal_fragment_maps:MY,clearcoat_pars_fragment:CY,iridescence_pars_fragment:TY,opaque_fragment:RY,packing:PY,premultiplied_alpha_fragment:IY,project_vertex:LY,dithering_fragment:BY,dithering_pars_fragment:DY,roughnessmap_fragment:OY,roughnessmap_pars_fragment:FY,shadowmap_pars_fragment:NY,shadowmap_pars_vertex:UY,shadowmap_vertex:kY,shadowmask_pars_fragment:HY,skinbase_vertex:zY,skinning_pars_vertex:GY,skinning_vertex:$Y,skinnormal_vertex:WY,specularmap_fragment:VY,specularmap_pars_fragment:jY,tonemapping_fragment:XY,tonemapping_pars_fragment:JY,transmission_fragment:KY,transmission_pars_fragment:YY,uv_pars_fragment:qY,uv_pars_vertex:QY,uv_vertex:ZY,worldpos_vertex:eq,background_vert:tq,background_frag:nq,backgroundCube_vert:rq,backgroundCube_frag:iq,cube_vert:sq,cube_frag:oq,depth_vert:aq,depth_frag:lq,distanceRGBA_vert:uq,distanceRGBA_frag:cq,equirect_vert:fq,equirect_frag:hq,linedashed_vert:dq,linedashed_frag:pq,meshbasic_vert:mq,meshbasic_frag:gq,meshlambert_vert:vq,meshlambert_frag:yq,meshmatcap_vert:_q,meshmatcap_frag:xq,meshnormal_vert:Sq,meshnormal_frag:Aq,meshphong_vert:wq,meshphong_frag:Eq,meshphysical_vert:bq,meshphysical_frag:Mq,meshtoon_vert:Cq,meshtoon_frag:Tq,points_vert:Rq,points_frag:Pq,shadow_vert:Iq,shadow_frag:Lq,sprite_vert:Bq,sprite_frag:Dq},Ke={common:{diffuse:{value:new nt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new fn},alphaMap:{value:null},alphaMapTransform:{value:new fn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new fn}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new fn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new fn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new fn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new fn},normalScale:{value:new Te(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new fn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new fn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new fn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new fn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new nt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new nt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new fn},alphaTest:{value:0},uvTransform:{value:new fn}},sprite:{diffuse:{value:new nt(16777215)},opacity:{value:1},center:{value:new Te(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new fn},alphaMap:{value:null},alphaMapTransform:{value:new fn},alphaTest:{value:0}}},ia={basic:{uniforms:ts([Ke.common,Ke.specularmap,Ke.envmap,Ke.aomap,Ke.lightmap,Ke.fog]),vertexShader:sn.meshbasic_vert,fragmentShader:sn.meshbasic_frag},lambert:{uniforms:ts([Ke.common,Ke.specularmap,Ke.envmap,Ke.aomap,Ke.lightmap,Ke.emissivemap,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.fog,Ke.lights,{emissive:{value:new nt(0)}}]),vertexShader:sn.meshlambert_vert,fragmentShader:sn.meshlambert_frag},phong:{uniforms:ts([Ke.common,Ke.specularmap,Ke.envmap,Ke.aomap,Ke.lightmap,Ke.emissivemap,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.fog,Ke.lights,{emissive:{value:new nt(0)},specular:{value:new nt(1118481)},shininess:{value:30}}]),vertexShader:sn.meshphong_vert,fragmentShader:sn.meshphong_frag},standard:{uniforms:ts([Ke.common,Ke.envmap,Ke.aomap,Ke.lightmap,Ke.emissivemap,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.roughnessmap,Ke.metalnessmap,Ke.fog,Ke.lights,{emissive:{value:new nt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:sn.meshphysical_vert,fragmentShader:sn.meshphysical_frag},toon:{uniforms:ts([Ke.common,Ke.aomap,Ke.lightmap,Ke.emissivemap,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.gradientmap,Ke.fog,Ke.lights,{emissive:{value:new nt(0)}}]),vertexShader:sn.meshtoon_vert,fragmentShader:sn.meshtoon_frag},matcap:{uniforms:ts([Ke.common,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.fog,{matcap:{value:null}}]),vertexShader:sn.meshmatcap_vert,fragmentShader:sn.meshmatcap_frag},points:{uniforms:ts([Ke.points,Ke.fog]),vertexShader:sn.points_vert,fragmentShader:sn.points_frag},dashed:{uniforms:ts([Ke.common,Ke.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:sn.linedashed_vert,fragmentShader:sn.linedashed_frag},depth:{uniforms:ts([Ke.common,Ke.displacementmap]),vertexShader:sn.depth_vert,fragmentShader:sn.depth_frag},normal:{uniforms:ts([Ke.common,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,{opacity:{value:1}}]),vertexShader:sn.meshnormal_vert,fragmentShader:sn.meshnormal_frag},sprite:{uniforms:ts([Ke.sprite,Ke.fog]),vertexShader:sn.sprite_vert,fragmentShader:sn.sprite_frag},background:{uniforms:{uvTransform:{value:new fn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:sn.background_vert,fragmentShader:sn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:sn.backgroundCube_vert,fragmentShader:sn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:sn.cube_vert,fragmentShader:sn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:sn.equirect_vert,fragmentShader:sn.equirect_frag},distanceRGBA:{uniforms:ts([Ke.common,Ke.displacementmap,{referencePosition:{value:new J},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:sn.distanceRGBA_vert,fragmentShader:sn.distanceRGBA_frag},shadow:{uniforms:ts([Ke.lights,Ke.fog,{color:{value:new nt(0)},opacity:{value:1}}]),vertexShader:sn.shadow_vert,fragmentShader:sn.shadow_frag}};ia.physical={uniforms:ts([ia.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new fn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new fn},clearcoatNormalScale:{value:new Te(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new fn},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new fn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new fn},sheen:{value:0},sheenColor:{value:new nt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new fn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new fn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new fn},transmissionSamplerSize:{value:new Te},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new fn},attenuationDistance:{value:0},attenuationColor:{value:new nt(0)},specularColor:{value:new nt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new fn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new fn},anisotropyVector:{value:new Te},anisotropyMap:{value:null},anisotropyMapTransform:{value:new fn}}]),vertexShader:sn.meshphysical_vert,fragmentShader:sn.meshphysical_frag};const H_={r:0,b:0,g:0};function Oq(t,e,n,r,i,s,o){const a=new nt(0);let l=s===!0?0:1,u,h,p=null,m=0,v=null;function y(A,_){let w=!1,x=_.isScene===!0?_.background:null;x&&x.isTexture&&(x=(_.backgroundBlurriness>0?n:e).get(x)),x===null?S(a,l):x&&x.isColor&&(S(x,1),w=!0);const M=t.xr.getEnvironmentBlendMode();M==="additive"?r.buffers.color.setClear(0,0,0,1,o):M==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(t.autoClear||w)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),x&&(x.isCubeTexture||x.mapping===lm)?(h===void 0&&(h=new Wr(new vh(1,1,1),new Ya({name:"BackgroundCubeMaterial",uniforms:Qp(ia.backgroundCube.uniforms),vertexShader:ia.backgroundCube.vertexShader,fragmentShader:ia.backgroundCube.fragmentShader,side:ss,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(R,T,I){this.matrixWorld.copyPosition(I.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(h)),h.material.uniforms.envMap.value=x,h.material.uniforms.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=_.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,h.material.toneMapped=Pn.getTransfer(x.colorSpace)!==Wn,(p!==x||m!==x.version||v!==t.toneMapping)&&(h.material.needsUpdate=!0,p=x,m=x.version,v=t.toneMapping),h.layers.enableAll(),A.unshift(h,h.geometry,h.material,0,0,null)):x&&x.isTexture&&(u===void 0&&(u=new Wr(new yv(2,2),new Ya({name:"BackgroundMaterial",uniforms:Qp(ia.background.uniforms),vertexShader:ia.background.vertexShader,fragmentShader:ia.background.fragmentShader,side:Ja,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=x,u.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,u.material.toneMapped=Pn.getTransfer(x.colorSpace)!==Wn,x.matrixAutoUpdate===!0&&x.updateMatrix(),u.material.uniforms.uvTransform.value.copy(x.matrix),(p!==x||m!==x.version||v!==t.toneMapping)&&(u.material.needsUpdate=!0,p=x,m=x.version,v=t.toneMapping),u.layers.enableAll(),A.unshift(u,u.geometry,u.material,0,0,null))}function S(A,_){A.getRGB(H_,ek(t)),r.buffers.color.setClear(H_.r,H_.g,H_.b,_,o)}return{getClearColor:function(){return a},setClearColor:function(A,_=1){a.set(A),l=_,S(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(A){l=A,S(a,l)},render:y}}function Fq(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=A(null);let u=l,h=!1;function p(j,q,re,he,z){let ee=!1;if(o){const te=S(he,re,q);u!==te&&(u=te,v(u.object)),ee=_(j,he,re,z),ee&&w(j,he,re,z)}else{const te=q.wireframe===!0;(u.geometry!==he.id||u.program!==re.id||u.wireframe!==te)&&(u.geometry=he.id,u.program=re.id,u.wireframe=te,ee=!0)}z!==null&&n.update(z,t.ELEMENT_ARRAY_BUFFER),(ee||h)&&(h=!1,F(j,q,re,he),z!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(z).buffer))}function m(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function v(j){return r.isWebGL2?t.bindVertexArray(j):s.bindVertexArrayOES(j)}function y(j){return r.isWebGL2?t.deleteVertexArray(j):s.deleteVertexArrayOES(j)}function S(j,q,re){const he=re.wireframe===!0;let z=a[j.id];z===void 0&&(z={},a[j.id]=z);let ee=z[q.id];ee===void 0&&(ee={},z[q.id]=ee);let te=ee[he];return te===void 0&&(te=A(m()),ee[he]=te),te}function A(j){const q=[],re=[],he=[];for(let z=0;z<i;z++)q[z]=0,re[z]=0,he[z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:q,enabledAttributes:re,attributeDivisors:he,object:j,attributes:{},index:null}}function _(j,q,re,he){const z=u.attributes,ee=q.attributes;let te=0;const fe=re.getAttributes();for(const ye in fe)if(fe[ye].location>=0){const _e=z[ye];let Ne=ee[ye];if(Ne===void 0&&(ye==="instanceMatrix"&&j.instanceMatrix&&(Ne=j.instanceMatrix),ye==="instanceColor"&&j.instanceColor&&(Ne=j.instanceColor)),_e===void 0||_e.attribute!==Ne||Ne&&_e.data!==Ne.data)return!0;te++}return u.attributesNum!==te||u.index!==he}function w(j,q,re,he){const z={},ee=q.attributes;let te=0;const fe=re.getAttributes();for(const ye in fe)if(fe[ye].location>=0){let _e=ee[ye];_e===void 0&&(ye==="instanceMatrix"&&j.instanceMatrix&&(_e=j.instanceMatrix),ye==="instanceColor"&&j.instanceColor&&(_e=j.instanceColor));const Ne={};Ne.attribute=_e,_e&&_e.data&&(Ne.data=_e.data),z[ye]=Ne,te++}u.attributes=z,u.attributesNum=te,u.index=he}function x(){const j=u.newAttributes;for(let q=0,re=j.length;q<re;q++)j[q]=0}function M(j){R(j,0)}function R(j,q){const re=u.newAttributes,he=u.enabledAttributes,z=u.attributeDivisors;re[j]=1,he[j]===0&&(t.enableVertexAttribArray(j),he[j]=1),z[j]!==q&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](j,q),z[j]=q)}function T(){const j=u.newAttributes,q=u.enabledAttributes;for(let re=0,he=q.length;re<he;re++)q[re]!==j[re]&&(t.disableVertexAttribArray(re),q[re]=0)}function I(j,q,re,he,z,ee,te){te===!0?t.vertexAttribIPointer(j,q,re,z,ee):t.vertexAttribPointer(j,q,re,he,z,ee)}function F(j,q,re,he){if(r.isWebGL2===!1&&(j.isInstancedMesh||he.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;x();const z=he.attributes,ee=re.getAttributes(),te=q.defaultAttributeValues;for(const fe in ee){const ye=ee[fe];if(ye.location>=0){let ue=z[fe];if(ue===void 0&&(fe==="instanceMatrix"&&j.instanceMatrix&&(ue=j.instanceMatrix),fe==="instanceColor"&&j.instanceColor&&(ue=j.instanceColor)),ue!==void 0){const _e=ue.normalized,Ne=ue.itemSize,Ve=n.get(ue);if(Ve===void 0)continue;const Xe=Ve.buffer,vt=Ve.type,yt=Ve.bytesPerElement,ut=r.isWebGL2===!0&&(vt===t.INT||vt===t.UNSIGNED_INT||ue.gpuType===KT);if(ue.isInterleavedBufferAttribute){const ht=ue.data,Z=ht.stride,He=ue.offset;if(ht.isInstancedInterleavedBuffer){for(let Me=0;Me<ye.locationSize;Me++)R(ye.location+Me,ht.meshPerAttribute);j.isInstancedMesh!==!0&&he._maxInstanceCount===void 0&&(he._maxInstanceCount=ht.meshPerAttribute*ht.count)}else for(let Me=0;Me<ye.locationSize;Me++)M(ye.location+Me);t.bindBuffer(t.ARRAY_BUFFER,Xe);for(let Me=0;Me<ye.locationSize;Me++)I(ye.location+Me,Ne/ye.locationSize,vt,_e,Z*yt,(He+Ne/ye.locationSize*Me)*yt,ut)}else{if(ue.isInstancedBufferAttribute){for(let ht=0;ht<ye.locationSize;ht++)R(ye.location+ht,ue.meshPerAttribute);j.isInstancedMesh!==!0&&he._maxInstanceCount===void 0&&(he._maxInstanceCount=ue.meshPerAttribute*ue.count)}else for(let ht=0;ht<ye.locationSize;ht++)M(ye.location+ht);t.bindBuffer(t.ARRAY_BUFFER,Xe);for(let ht=0;ht<ye.locationSize;ht++)I(ye.location+ht,Ne/ye.locationSize,vt,_e,Ne*yt,Ne/ye.locationSize*ht*yt,ut)}}else if(te!==void 0){const _e=te[fe];if(_e!==void 0)switch(_e.length){case 2:t.vertexAttrib2fv(ye.location,_e);break;case 3:t.vertexAttrib3fv(ye.location,_e);break;case 4:t.vertexAttrib4fv(ye.location,_e);break;default:t.vertexAttrib1fv(ye.location,_e)}}}}T()}function B(){H();for(const j in a){const q=a[j];for(const re in q){const he=q[re];for(const z in he)y(he[z].object),delete he[z];delete q[re]}delete a[j]}}function O(j){if(a[j.id]===void 0)return;const q=a[j.id];for(const re in q){const he=q[re];for(const z in he)y(he[z].object),delete he[z];delete q[re]}delete a[j.id]}function V(j){for(const q in a){const re=a[q];if(re[j.id]===void 0)continue;const he=re[j.id];for(const z in he)y(he[z].object),delete he[z];delete re[j.id]}}function H(){ne(),h=!0,u!==l&&(u=l,v(u.object))}function ne(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:p,reset:H,resetDefaultState:ne,dispose:B,releaseStatesOfGeometry:O,releaseStatesOfProgram:V,initAttributes:x,enableAttribute:M,disableUnusedAttributes:T}}function Nq(t,e,n,r){const i=r.isWebGL2;let s;function o(h){s=h}function a(h,p){t.drawArrays(s,h,p),n.update(p,s,1)}function l(h,p,m){if(m===0)return;let v,y;if(i)v=t,y="drawArraysInstanced";else if(v=e.get("ANGLE_instanced_arrays"),y="drawArraysInstancedANGLE",v===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[y](s,h,p,m),n.update(p,s,m)}function u(h,p,m){if(m===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let y=0;y<m;y++)this.render(h[y],p[y]);else{v.multiDrawArraysWEBGL(s,h,0,p,0,m);let y=0;for(let S=0;S<m;S++)y+=p[S];n.update(y,s,1)}}this.setMode=o,this.render=a,this.renderInstances=l,this.renderMultiDraw=u}function Uq(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const I=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(I){if(I==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";I="mediump"}return I==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const u=o||e.has("WEBGL_draw_buffers"),h=n.logarithmicDepthBuffer===!0,p=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),S=t.getParameter(t.MAX_VERTEX_ATTRIBS),A=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),_=t.getParameter(t.MAX_VARYING_VECTORS),w=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),x=m>0,M=o||e.has("OES_texture_float"),R=x&&M,T=o?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:h,maxTextures:p,maxVertexTextures:m,maxTextureSize:v,maxCubemapSize:y,maxAttributes:S,maxVertexUniforms:A,maxVaryings:_,maxFragmentUniforms:w,vertexTextures:x,floatFragmentTextures:M,floatVertexTextures:R,maxSamples:T}}function kq(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new Rl,a=new fn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(p,m){const v=p.length!==0||m||r!==0||i;return i=m,r=p.length,v},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(p,m){n=h(p,m,0)},this.setState=function(p,m,v){const y=p.clippingPlanes,S=p.clipIntersection,A=p.clipShadows,_=t.get(p);if(!i||y===null||y.length===0||s&&!A)s?h(null):u();else{const w=s?0:r,x=w*4;let M=_.clippingState||null;l.value=M,M=h(y,m,x,v);for(let R=0;R!==x;++R)M[R]=n[R];_.clippingState=M,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=w}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function h(p,m,v,y){const S=p!==null?p.length:0;let A=null;if(S!==0){if(A=l.value,y!==!0||A===null){const _=v+S*4,w=m.matrixWorldInverse;a.getNormalMatrix(w),(A===null||A.length<_)&&(A=new Float32Array(_));for(let x=0,M=v;x!==S;++x,M+=4)o.copy(p[x]).applyMatrix4(w,a),o.normal.toArray(A,M),A[M+3]=o.constant}l.value=A,l.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,A}}function Hq(t){let e=new WeakMap;function n(o,a){return a===N0?o.mapping=Vl:a===U0&&(o.mapping=mc),o}function r(o){if(o&&o.isTexture){const a=o.mapping;if(a===N0||a===U0)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new rk(l.height/2);return u.fromEquirectangularTexture(t,o),e.set(o,u),o.addEventListener("dispose",i),n(u.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class kl extends mv{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,a-=h*this.view.offsetY,l=a-h*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Ap=4,W3=[.125,.215,.35,.446,.526,.582],Bf=20,xE=new kl,V3=new nt;let SE=null,AE=0,wE=0;const Pf=(1+Math.sqrt(5))/2,Id=1/Pf,j3=[new J(1,1,1),new J(-1,1,1),new J(1,1,-1),new J(-1,1,-1),new J(0,Pf,Id),new J(0,Pf,-Id),new J(Id,0,Pf),new J(-Id,0,Pf),new J(Pf,Id,0),new J(-Pf,Id,0)];class aC{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){SE=this._renderer.getRenderTarget(),AE=this._renderer.getActiveCubeFace(),wE=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=K3(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=J3(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(SE,AE,wE),e.scissorTest=!1,z_(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Vl||e.mapping===mc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),SE=this._renderer.getRenderTarget(),AE=this._renderer.getActiveCubeFace(),wE=this._renderer.getActiveMipmapLevel();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:lr,minFilter:lr,generateMipmaps:!1,type:Jp,format:rs,colorSpace:da,depthBuffer:!1},i=X3(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=X3(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=zq(s)),this._blurMaterial=Gq(s,e,n)}return i}_compileMaterial(e){const n=new Wr(this._lodPlanes[0],e);this._renderer.compile(n,xE)}_sceneToCubeUV(e,n,r,i){const a=new Ar(90,1,n,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],h=this._renderer,p=h.autoClear,m=h.toneMapping;h.getClearColor(V3),h.toneMapping=$a,h.autoClear=!1;const v=new Qs({name:"PMREM.Background",side:ss,depthWrite:!1,depthTest:!1}),y=new Wr(new vh,v);let S=!1;const A=e.background;A?A.isColor&&(v.color.copy(A),e.background=null,S=!0):(v.color.copy(V3),S=!0);for(let _=0;_<6;_++){const w=_%3;w===0?(a.up.set(0,l[_],0),a.lookAt(u[_],0,0)):w===1?(a.up.set(0,0,l[_]),a.lookAt(0,u[_],0)):(a.up.set(0,l[_],0),a.lookAt(0,0,u[_]));const x=this._cubeSize;z_(i,w*x,_>2?x:0,x,x),h.setRenderTarget(i),S&&h.render(y,a),h.render(e,a)}y.geometry.dispose(),y.material.dispose(),h.toneMapping=m,h.autoClear=p,e.background=A}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Vl||e.mapping===mc;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=K3()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=J3());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Wr(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;z_(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,xE)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=j3[(i-1)%j3.length];this._blur(e,i-1,i,s,o)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,p=new Wr(this._lodPlanes[i],u),m=u.uniforms,v=this._sizeLods[r]-1,y=isFinite(s)?Math.PI/(2*v):2*Math.PI/(2*Bf-1),S=s/y,A=isFinite(s)?1+Math.floor(h*S):Bf;A>Bf&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${A} samples when the maximum is set to ${Bf}`);const _=[];let w=0;for(let I=0;I<Bf;++I){const F=I/S,B=Math.exp(-F*F/2);_.push(B),I===0?w+=B:I<A&&(w+=2*B)}for(let I=0;I<_.length;I++)_[I]=_[I]/w;m.envMap.value=e.texture,m.samples.value=A,m.weights.value=_,m.latitudinal.value=o==="latitudinal",a&&(m.poleAxis.value=a);const{_lodMax:x}=this;m.dTheta.value=y,m.mipInt.value=x-r;const M=this._sizeLods[i],R=3*M*(i>x-Ap?i-x+Ap:0),T=4*(this._cubeSize-M);z_(n,R,T,3*M,2*M),l.setRenderTarget(n),l.render(p,xE)}}function zq(t){const e=[],n=[],r=[];let i=t;const s=t-Ap+1+W3.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-Ap?l=W3[o-t+Ap-1]:o===0&&(l=0),r.push(l);const u=1/(a-2),h=-u,p=1+u,m=[h,h,p,h,p,p,h,h,p,p,h,p],v=6,y=6,S=3,A=2,_=1,w=new Float32Array(S*y*v),x=new Float32Array(A*y*v),M=new Float32Array(_*y*v);for(let T=0;T<v;T++){const I=T%3*2/3-1,F=T>2?0:-1,B=[I,F,0,I+2/3,F,0,I+2/3,F+1,0,I,F,0,I+2/3,F+1,0,I,F+1,0];w.set(B,S*y*T),x.set(m,A*y*T);const O=[T,T,T,T,T,T];M.set(O,_*y*T)}const R=new nn;R.setAttribute("position",new wn(w,S)),R.setAttribute("uv",new wn(x,A)),R.setAttribute("faceIndex",new wn(M,_)),e.push(R),i>Ap&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function X3(t,e,n){const r=new pa(t,e,n);return r.texture.mapping=lm,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function z_(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Gq(t,e,n){const r=new Float32Array(Bf),i=new J(0,1,0);return new Ya({name:"SphericalGaussianBlur",defines:{n:Bf,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:f2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ul,depthTest:!1,depthWrite:!1})}function J3(){return new Ya({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:f2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ul,depthTest:!1,depthWrite:!1})}function K3(){return new Ya({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:f2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ul,depthTest:!1,depthWrite:!1})}function f2(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function $q(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,u=l===N0||l===U0,h=l===Vl||l===mc;if(u||h)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let p=e.get(a);return n===null&&(n=new aC(t)),p=u?n.fromEquirectangular(a,p):n.fromCubemap(a,p),e.set(a,p),p.texture}else{if(e.has(a))return e.get(a).texture;{const p=a.image;if(u&&p&&p.height>0||h&&p&&i(p)){n===null&&(n=new aC(t));const m=u?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,m),a.addEventListener("dispose",s),m.texture}else return null}}}return a}function i(a){let l=0;const u=6;for(let h=0;h<u;h++)a[h]!==void 0&&l++;return l===u}function s(a){const l=a.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function Wq(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Vq(t,e,n,r){const i={},s=new WeakMap;function o(p){const m=p.target;m.index!==null&&e.remove(m.index);for(const y in m.attributes)e.remove(m.attributes[y]);for(const y in m.morphAttributes){const S=m.morphAttributes[y];for(let A=0,_=S.length;A<_;A++)e.remove(S[A])}m.removeEventListener("dispose",o),delete i[m.id];const v=s.get(m);v&&(e.remove(v),s.delete(m)),r.releaseStatesOfGeometry(m),m.isInstancedBufferGeometry===!0&&delete m._maxInstanceCount,n.memory.geometries--}function a(p,m){return i[m.id]===!0||(m.addEventListener("dispose",o),i[m.id]=!0,n.memory.geometries++),m}function l(p){const m=p.attributes;for(const y in m)e.update(m[y],t.ARRAY_BUFFER);const v=p.morphAttributes;for(const y in v){const S=v[y];for(let A=0,_=S.length;A<_;A++)e.update(S[A],t.ARRAY_BUFFER)}}function u(p){const m=[],v=p.index,y=p.attributes.position;let S=0;if(v!==null){const w=v.array;S=v.version;for(let x=0,M=w.length;x<M;x+=3){const R=w[x+0],T=w[x+1],I=w[x+2];m.push(R,T,T,I,I,R)}}else if(y!==void 0){const w=y.array;S=y.version;for(let x=0,M=w.length/3-1;x<M;x+=3){const R=x+0,T=x+1,I=x+2;m.push(R,T,T,I,I,R)}}else return;const A=new(Y4(m)?c2:u2)(m,1);A.version=S;const _=s.get(p);_&&e.remove(_),s.set(p,A)}function h(p){const m=s.get(p);if(m){const v=p.index;v!==null&&m.version<v.version&&u(p)}else u(p);return s.get(p)}return{get:a,update:l,getWireframeAttribute:h}}function jq(t,e,n,r){const i=r.isWebGL2;let s;function o(v){s=v}let a,l;function u(v){a=v.type,l=v.bytesPerElement}function h(v,y){t.drawElements(s,y,a,v*l),n.update(y,s,1)}function p(v,y,S){if(S===0)return;let A,_;if(i)A=t,_="drawElementsInstanced";else if(A=e.get("ANGLE_instanced_arrays"),_="drawElementsInstancedANGLE",A===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}A[_](s,y,a,v*l,S),n.update(y,s,S)}function m(v,y,S){if(S===0)return;const A=e.get("WEBGL_multi_draw");if(A===null)for(let _=0;_<S;_++)this.render(v[_]/l,y[_]);else{A.multiDrawElementsWEBGL(s,y,0,a,v,0,S);let _=0;for(let w=0;w<S;w++)_+=y[w];n.update(_,s,1)}}this.setMode=o,this.setIndex=u,this.render=h,this.renderInstances=p,this.renderMultiDraw=m}function Xq(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function Jq(t,e){return t[0]-e[0]}function Kq(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Yq(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,o=new In,a=[];for(let u=0;u<8;u++)a[u]=[u,0];function l(u,h,p){const m=u.morphTargetInfluences;if(e.isWebGL2===!0){const y=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,S=y!==void 0?y.length:0;let A=s.get(h);if(A===void 0||A.count!==S){let q=function(){ne.dispose(),s.delete(h),h.removeEventListener("dispose",q)};var v=q;A!==void 0&&A.texture.dispose();const x=h.morphAttributes.position!==void 0,M=h.morphAttributes.normal!==void 0,R=h.morphAttributes.color!==void 0,T=h.morphAttributes.position||[],I=h.morphAttributes.normal||[],F=h.morphAttributes.color||[];let B=0;x===!0&&(B=1),M===!0&&(B=2),R===!0&&(B=3);let O=h.attributes.position.count*B,V=1;O>e.maxTextureSize&&(V=Math.ceil(O/e.maxTextureSize),O=e.maxTextureSize);const H=new Float32Array(O*V*4*S),ne=new VS(H,O,V,S);ne.type=oa,ne.needsUpdate=!0;const j=B*4;for(let re=0;re<S;re++){const he=T[re],z=I[re],ee=F[re],te=O*V*4*re;for(let fe=0;fe<he.count;fe++){const ye=fe*j;x===!0&&(o.fromBufferAttribute(he,fe),H[te+ye+0]=o.x,H[te+ye+1]=o.y,H[te+ye+2]=o.z,H[te+ye+3]=0),M===!0&&(o.fromBufferAttribute(z,fe),H[te+ye+4]=o.x,H[te+ye+5]=o.y,H[te+ye+6]=o.z,H[te+ye+7]=0),R===!0&&(o.fromBufferAttribute(ee,fe),H[te+ye+8]=o.x,H[te+ye+9]=o.y,H[te+ye+10]=o.z,H[te+ye+11]=ee.itemSize===4?o.w:1)}}A={count:S,texture:ne,size:new Te(O,V)},s.set(h,A),h.addEventListener("dispose",q)}let _=0;for(let x=0;x<m.length;x++)_+=m[x];const w=h.morphTargetsRelative?1:1-_;p.getUniforms().setValue(t,"morphTargetBaseInfluence",w),p.getUniforms().setValue(t,"morphTargetInfluences",m),p.getUniforms().setValue(t,"morphTargetsTexture",A.texture,n),p.getUniforms().setValue(t,"morphTargetsTextureSize",A.size)}else{const y=m===void 0?0:m.length;let S=r[h.id];if(S===void 0||S.length!==y){S=[];for(let M=0;M<y;M++)S[M]=[M,0];r[h.id]=S}for(let M=0;M<y;M++){const R=S[M];R[0]=M,R[1]=m[M]}S.sort(Kq);for(let M=0;M<8;M++)M<y&&S[M][1]?(a[M][0]=S[M][0],a[M][1]=S[M][1]):(a[M][0]=Number.MAX_SAFE_INTEGER,a[M][1]=0);a.sort(Jq);const A=h.morphAttributes.position,_=h.morphAttributes.normal;let w=0;for(let M=0;M<8;M++){const R=a[M],T=R[0],I=R[1];T!==Number.MAX_SAFE_INTEGER&&I?(A&&h.getAttribute("morphTarget"+M)!==A[T]&&h.setAttribute("morphTarget"+M,A[T]),_&&h.getAttribute("morphNormal"+M)!==_[T]&&h.setAttribute("morphNormal"+M,_[T]),i[M]=I,w+=I):(A&&h.hasAttribute("morphTarget"+M)===!0&&h.deleteAttribute("morphTarget"+M),_&&h.hasAttribute("morphNormal"+M)===!0&&h.deleteAttribute("morphNormal"+M),i[M]=0)}const x=h.morphTargetsRelative?1:1-w;p.getUniforms().setValue(t,"morphTargetBaseInfluence",x),p.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function qq(t,e,n,r){let i=new WeakMap;function s(l){const u=r.render.frame,h=l.geometry,p=e.get(l,h);if(i.get(p)!==u&&(e.update(p),i.set(p,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==u&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,u))),l.isSkinnedMesh){const m=l.skeleton;i.get(m)!==u&&(m.update(),i.set(m,u))}return p}function o(){i=new WeakMap}function a(l){const u=l.target;u.removeEventListener("dispose",a),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:o}}class h2 extends fr{constructor(e,n,r,i,s,o,a,l,u,h){if(h=h!==void 0?h:cc,h!==cc&&h!==oh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&h===cc&&(r=Dl),r===void 0&&h===oh&&(r=uc),super(null,i,s,o,a,l,h,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:xr,this.minFilter=l!==void 0?l:xr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const sk=new fr,ok=new h2(1,1);ok.compareFunction=s2;const ak=new VS,lk=new l2,uk=new gv,Y3=[],q3=[],Q3=new Float32Array(16),Z3=new Float32Array(9),eL=new Float32Array(4);function um(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=Y3[i];if(s===void 0&&(s=new Float32Array(i),Y3[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function ni(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function ri(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function jS(t,e){let n=q3[e];n===void 0&&(n=new Int32Array(e),q3[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Qq(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Zq(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ni(n,e))return;t.uniform2fv(this.addr,e),ri(n,e)}}function eQ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(ni(n,e))return;t.uniform3fv(this.addr,e),ri(n,e)}}function tQ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ni(n,e))return;t.uniform4fv(this.addr,e),ri(n,e)}}function nQ(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ni(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),ri(n,e)}else{if(ni(n,r))return;eL.set(r),t.uniformMatrix2fv(this.addr,!1,eL),ri(n,r)}}function rQ(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ni(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),ri(n,e)}else{if(ni(n,r))return;Z3.set(r),t.uniformMatrix3fv(this.addr,!1,Z3),ri(n,r)}}function iQ(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ni(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),ri(n,e)}else{if(ni(n,r))return;Q3.set(r),t.uniformMatrix4fv(this.addr,!1,Q3),ri(n,r)}}function sQ(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function oQ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ni(n,e))return;t.uniform2iv(this.addr,e),ri(n,e)}}function aQ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ni(n,e))return;t.uniform3iv(this.addr,e),ri(n,e)}}function lQ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ni(n,e))return;t.uniform4iv(this.addr,e),ri(n,e)}}function uQ(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function cQ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ni(n,e))return;t.uniform2uiv(this.addr,e),ri(n,e)}}function fQ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ni(n,e))return;t.uniform3uiv(this.addr,e),ri(n,e)}}function hQ(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ni(n,e))return;t.uniform4uiv(this.addr,e),ri(n,e)}}function dQ(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);const s=this.type===t.SAMPLER_2D_SHADOW?ok:sk;n.setTexture2D(e||s,i)}function pQ(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||lk,i)}function mQ(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||uk,i)}function gQ(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||ak,i)}function vQ(t){switch(t){case 5126:return Qq;case 35664:return Zq;case 35665:return eQ;case 35666:return tQ;case 35674:return nQ;case 35675:return rQ;case 35676:return iQ;case 5124:case 35670:return sQ;case 35667:case 35671:return oQ;case 35668:case 35672:return aQ;case 35669:case 35673:return lQ;case 5125:return uQ;case 36294:return cQ;case 36295:return fQ;case 36296:return hQ;case 35678:case 36198:case 36298:case 36306:case 35682:return dQ;case 35679:case 36299:case 36307:return pQ;case 35680:case 36300:case 36308:case 36293:return mQ;case 36289:case 36303:case 36311:case 36292:return gQ}}function yQ(t,e){t.uniform1fv(this.addr,e)}function _Q(t,e){const n=um(e,this.size,2);t.uniform2fv(this.addr,n)}function xQ(t,e){const n=um(e,this.size,3);t.uniform3fv(this.addr,n)}function SQ(t,e){const n=um(e,this.size,4);t.uniform4fv(this.addr,n)}function AQ(t,e){const n=um(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function wQ(t,e){const n=um(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function EQ(t,e){const n=um(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function bQ(t,e){t.uniform1iv(this.addr,e)}function MQ(t,e){t.uniform2iv(this.addr,e)}function CQ(t,e){t.uniform3iv(this.addr,e)}function TQ(t,e){t.uniform4iv(this.addr,e)}function RQ(t,e){t.uniform1uiv(this.addr,e)}function PQ(t,e){t.uniform2uiv(this.addr,e)}function IQ(t,e){t.uniform3uiv(this.addr,e)}function LQ(t,e){t.uniform4uiv(this.addr,e)}function BQ(t,e,n){const r=this.cache,i=e.length,s=jS(n,i);ni(r,s)||(t.uniform1iv(this.addr,s),ri(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||sk,s[o])}function DQ(t,e,n){const r=this.cache,i=e.length,s=jS(n,i);ni(r,s)||(t.uniform1iv(this.addr,s),ri(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||lk,s[o])}function OQ(t,e,n){const r=this.cache,i=e.length,s=jS(n,i);ni(r,s)||(t.uniform1iv(this.addr,s),ri(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||uk,s[o])}function FQ(t,e,n){const r=this.cache,i=e.length,s=jS(n,i);ni(r,s)||(t.uniform1iv(this.addr,s),ri(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||ak,s[o])}function NQ(t){switch(t){case 5126:return yQ;case 35664:return _Q;case 35665:return xQ;case 35666:return SQ;case 35674:return AQ;case 35675:return wQ;case 35676:return EQ;case 5124:case 35670:return bQ;case 35667:case 35671:return MQ;case 35668:case 35672:return CQ;case 35669:case 35673:return TQ;case 5125:return RQ;case 36294:return PQ;case 36295:return IQ;case 36296:return LQ;case 35678:case 36198:case 36298:case 36306:case 35682:return BQ;case 35679:case 36299:case 36307:return DQ;case 35680:case 36300:case 36308:case 36293:return OQ;case 36289:case 36303:case 36311:case 36292:return FQ}}class UQ{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=vQ(n.type)}}class kQ{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=NQ(n.type)}}class HQ{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const EE=/(\w+)(\])?(\[|\.)?/g;function tL(t,e){t.seq.push(e),t.map[e.id]=e}function zQ(t,e,n){const r=t.name,i=r.length;for(EE.lastIndex=0;;){const s=EE.exec(r),o=EE.lastIndex;let a=s[1];const l=s[2]==="]",u=s[3];if(l&&(a=a|0),u===void 0||u==="["&&o+2===i){tL(n,u===void 0?new UQ(a,t,e):new kQ(a,t,e));break}else{let p=n.map[a];p===void 0&&(p=new HQ(a),tL(n,p)),n=p}}}class Jx{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);zQ(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function nL(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const GQ=37297;let $Q=0;function WQ(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}function VQ(t){const e=Pn.getPrimaries(Pn.workingColorSpace),n=Pn.getPrimaries(t);let r;switch(e===n?r="":e===$0&&n===G0?r="LinearDisplayP3ToLinearSRGB":e===G0&&n===$0&&(r="LinearSRGBToLinearDisplayP3"),t){case da:case dv:return[r,"LinearTransferOETF"];case zr:case WS:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function rL(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+WQ(t.getShaderSource(e),o)}else return i}function jQ(t,e){const n=VQ(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function XQ(t,e){let n;switch(e){case S4:n="Linear";break;case A4:n="Reinhard";break;case w4:n="OptimizedCineon";break;case JT:n="ACESFilmic";break;case b4:n="AgX";break;case E4:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function JQ(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(wp).join(`
`)}function KQ(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":""].filter(wp).join(`
`)}function YQ(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function qQ(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function wp(t){return t!==""}function iL(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function sL(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const QQ=/^[ \t]*#include +<([\w\d./]+)>/gm;function lC(t){return t.replace(QQ,eZ)}const ZQ=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function eZ(t,e){let n=sn[e];if(n===void 0){const r=ZQ.get(e);if(r!==void 0)n=sn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return lC(n)}const tZ=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function oL(t){return t.replace(tZ,nZ)}function nZ(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function aL(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function rZ(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===kS?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===u0?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===ta&&(e="SHADOWMAP_TYPE_VSM"),e}function iZ(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Vl:case mc:e="ENVMAP_TYPE_CUBE";break;case lm:e="ENVMAP_TYPE_CUBE_UV";break}return e}function sZ(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case mc:e="ENVMAP_MODE_REFRACTION";break}return e}function oZ(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case hv:e="ENVMAP_BLENDING_MULTIPLY";break;case _4:e="ENVMAP_BLENDING_MIX";break;case x4:e="ENVMAP_BLENDING_ADD";break}return e}function aZ(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function lZ(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=rZ(n),u=iZ(n),h=sZ(n),p=oZ(n),m=aZ(n),v=n.isWebGL2?"":JQ(n),y=KQ(n),S=YQ(s),A=i.createProgram();let _,w,x=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(_=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,S].filter(wp).join(`
`),_.length>0&&(_+=`
`),w=[v,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,S].filter(wp).join(`
`),w.length>0&&(w+=`
`)):(_=[aL(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,S,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(wp).join(`
`),w=[v,aL(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,S,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+h:"",n.envMap?"#define "+p:"",m?"#define CUBEUV_TEXEL_WIDTH "+m.texelWidth:"",m?"#define CUBEUV_TEXEL_HEIGHT "+m.texelHeight:"",m?"#define CUBEUV_MAX_MIP "+m.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==$a?"#define TONE_MAPPING":"",n.toneMapping!==$a?sn.tonemapping_pars_fragment:"",n.toneMapping!==$a?XQ("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",sn.colorspace_pars_fragment,jQ("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(wp).join(`
`)),o=lC(o),o=iL(o,n),o=sL(o,n),a=lC(a),a=iL(a,n),a=sL(a,n),o=oL(o),a=oL(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,_=[y,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,w=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===sC?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===sC?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const M=x+_+o,R=x+w+a,T=nL(i,i.VERTEX_SHADER,M),I=nL(i,i.FRAGMENT_SHADER,R);i.attachShader(A,T),i.attachShader(A,I),n.index0AttributeName!==void 0?i.bindAttribLocation(A,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(A,0,"position"),i.linkProgram(A);function F(H){if(t.debug.checkShaderErrors){const ne=i.getProgramInfoLog(A).trim(),j=i.getShaderInfoLog(T).trim(),q=i.getShaderInfoLog(I).trim();let re=!0,he=!0;if(i.getProgramParameter(A,i.LINK_STATUS)===!1)if(re=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,A,T,I);else{const z=rL(i,T,"vertex"),ee=rL(i,I,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(A,i.VALIDATE_STATUS)+`

Program Info Log: `+ne+`
`+z+`
`+ee)}else ne!==""?console.warn("THREE.WebGLProgram: Program Info Log:",ne):(j===""||q==="")&&(he=!1);he&&(H.diagnostics={runnable:re,programLog:ne,vertexShader:{log:j,prefix:_},fragmentShader:{log:q,prefix:w}})}i.deleteShader(T),i.deleteShader(I),B=new Jx(i,A),O=qQ(i,A)}let B;this.getUniforms=function(){return B===void 0&&F(this),B};let O;this.getAttributes=function(){return O===void 0&&F(this),O};let V=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return V===!1&&(V=i.getProgramParameter(A,GQ)),V},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(A),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=$Q++,this.cacheKey=e,this.usedTimes=1,this.program=A,this.vertexShader=T,this.fragmentShader=I,this}let uZ=0;class cZ{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new fZ(e),n.set(e,r)),r}}class fZ{constructor(e){this.id=uZ++,this.code=e,this.usedTimes=0}}function hZ(t,e,n,r,i,s,o){const a=new Qf,l=new cZ,u=[],h=i.isWebGL2,p=i.logarithmicDepthBuffer,m=i.vertexTextures;let v=i.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(B){return B===0?"uv":`uv${B}`}function A(B,O,V,H,ne){const j=H.fog,q=ne.geometry,re=B.isMeshStandardMaterial?H.environment:null,he=(B.isMeshStandardMaterial?n:e).get(B.envMap||re),z=he&&he.mapping===lm?he.image.height:null,ee=y[B.type];B.precision!==null&&(v=i.getMaxPrecision(B.precision),v!==B.precision&&console.warn("THREE.WebGLProgram.getParameters:",B.precision,"not supported, using",v,"instead."));const te=q.morphAttributes.position||q.morphAttributes.normal||q.morphAttributes.color,fe=te!==void 0?te.length:0;let ye=0;q.morphAttributes.position!==void 0&&(ye=1),q.morphAttributes.normal!==void 0&&(ye=2),q.morphAttributes.color!==void 0&&(ye=3);let ue,_e,Ne,Ve;if(ee){const kn=ia[ee];ue=kn.vertexShader,_e=kn.fragmentShader}else ue=B.vertexShader,_e=B.fragmentShader,l.update(B),Ne=l.getVertexShaderID(B),Ve=l.getFragmentShaderID(B);const Xe=t.getRenderTarget(),vt=ne.isInstancedMesh===!0,yt=ne.isBatchedMesh===!0,ut=!!B.map,ht=!!B.matcap,Z=!!he,He=!!B.aoMap,Me=!!B.lightMap,Ge=!!B.bumpMap,Re=!!B.normalMap,ct=!!B.displacementMap,Qe=!!B.emissiveMap,W=!!B.metalnessMap,U=!!B.roughnessMap,me=B.anisotropy>0,Oe=B.clearcoat>0,De=B.iridescence>0,Be=B.sheen>0,ft=B.transmission>0,Je=me&&!!B.anisotropyMap,et=Oe&&!!B.clearcoatMap,_t=Oe&&!!B.clearcoatNormalMap,zt=Oe&&!!B.clearcoatRoughnessMap,Fe=De&&!!B.iridescenceMap,an=De&&!!B.iridescenceThicknessMap,Jt=Be&&!!B.sheenColorMap,Dt=Be&&!!B.sheenRoughnessMap,bt=!!B.specularMap,ot=!!B.specularColorMap,ie=!!B.specularIntensityMap,Pe=ft&&!!B.transmissionMap,st=ft&&!!B.thicknessMap,rt=!!B.gradientMap,ke=!!B.alphaMap,se=B.alphaTest>0,je=!!B.alphaHash,qe=!!B.extensions,Tt=!!q.attributes.uv1,gt=!!q.attributes.uv2,ln=!!q.attributes.uv3;let hn=$a;return B.toneMapped&&(Xe===null||Xe.isXRRenderTarget===!0)&&(hn=t.toneMapping),{isWebGL2:h,shaderID:ee,shaderType:B.type,shaderName:B.name,vertexShader:ue,fragmentShader:_e,defines:B.defines,customVertexShaderID:Ne,customFragmentShaderID:Ve,isRawShaderMaterial:B.isRawShaderMaterial===!0,glslVersion:B.glslVersion,precision:v,batching:yt,instancing:vt,instancingColor:vt&&ne.instanceColor!==null,supportsVertexTextures:m,outputColorSpace:Xe===null?t.outputColorSpace:Xe.isXRRenderTarget===!0?Xe.texture.colorSpace:da,map:ut,matcap:ht,envMap:Z,envMapMode:Z&&he.mapping,envMapCubeUVHeight:z,aoMap:He,lightMap:Me,bumpMap:Ge,normalMap:Re,displacementMap:m&&ct,emissiveMap:Qe,normalMapObjectSpace:Re&&B.normalMapType===z4,normalMapTangentSpace:Re&&B.normalMapType===bc,metalnessMap:W,roughnessMap:U,anisotropy:me,anisotropyMap:Je,clearcoat:Oe,clearcoatMap:et,clearcoatNormalMap:_t,clearcoatRoughnessMap:zt,iridescence:De,iridescenceMap:Fe,iridescenceThicknessMap:an,sheen:Be,sheenColorMap:Jt,sheenRoughnessMap:Dt,specularMap:bt,specularColorMap:ot,specularIntensityMap:ie,transmission:ft,transmissionMap:Pe,thicknessMap:st,gradientMap:rt,opaque:B.transparent===!1&&B.blending===Yf,alphaMap:ke,alphaTest:se,alphaHash:je,combine:B.combine,mapUv:ut&&S(B.map.channel),aoMapUv:He&&S(B.aoMap.channel),lightMapUv:Me&&S(B.lightMap.channel),bumpMapUv:Ge&&S(B.bumpMap.channel),normalMapUv:Re&&S(B.normalMap.channel),displacementMapUv:ct&&S(B.displacementMap.channel),emissiveMapUv:Qe&&S(B.emissiveMap.channel),metalnessMapUv:W&&S(B.metalnessMap.channel),roughnessMapUv:U&&S(B.roughnessMap.channel),anisotropyMapUv:Je&&S(B.anisotropyMap.channel),clearcoatMapUv:et&&S(B.clearcoatMap.channel),clearcoatNormalMapUv:_t&&S(B.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:zt&&S(B.clearcoatRoughnessMap.channel),iridescenceMapUv:Fe&&S(B.iridescenceMap.channel),iridescenceThicknessMapUv:an&&S(B.iridescenceThicknessMap.channel),sheenColorMapUv:Jt&&S(B.sheenColorMap.channel),sheenRoughnessMapUv:Dt&&S(B.sheenRoughnessMap.channel),specularMapUv:bt&&S(B.specularMap.channel),specularColorMapUv:ot&&S(B.specularColorMap.channel),specularIntensityMapUv:ie&&S(B.specularIntensityMap.channel),transmissionMapUv:Pe&&S(B.transmissionMap.channel),thicknessMapUv:st&&S(B.thicknessMap.channel),alphaMapUv:ke&&S(B.alphaMap.channel),vertexTangents:!!q.attributes.tangent&&(Re||me),vertexColors:B.vertexColors,vertexAlphas:B.vertexColors===!0&&!!q.attributes.color&&q.attributes.color.itemSize===4,vertexUv1s:Tt,vertexUv2s:gt,vertexUv3s:ln,pointsUvs:ne.isPoints===!0&&!!q.attributes.uv&&(ut||ke),fog:!!j,useFog:B.fog===!0,fogExp2:j&&j.isFogExp2,flatShading:B.flatShading===!0,sizeAttenuation:B.sizeAttenuation===!0,logarithmicDepthBuffer:p,skinning:ne.isSkinnedMesh===!0,morphTargets:q.morphAttributes.position!==void 0,morphNormals:q.morphAttributes.normal!==void 0,morphColors:q.morphAttributes.color!==void 0,morphTargetsCount:fe,morphTextureStride:ye,numDirLights:O.directional.length,numPointLights:O.point.length,numSpotLights:O.spot.length,numSpotLightMaps:O.spotLightMap.length,numRectAreaLights:O.rectArea.length,numHemiLights:O.hemi.length,numDirLightShadows:O.directionalShadowMap.length,numPointLightShadows:O.pointShadowMap.length,numSpotLightShadows:O.spotShadowMap.length,numSpotLightShadowsWithMaps:O.numSpotLightShadowsWithMaps,numLightProbes:O.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:B.dithering,shadowMapEnabled:t.shadowMap.enabled&&V.length>0,shadowMapType:t.shadowMap.type,toneMapping:hn,useLegacyLights:t._useLegacyLights,decodeVideoTexture:ut&&B.map.isVideoTexture===!0&&Pn.getTransfer(B.map.colorSpace)===Wn,premultipliedAlpha:B.premultipliedAlpha,doubleSided:B.side===sa,flipSided:B.side===ss,useDepthPacking:B.depthPacking>=0,depthPacking:B.depthPacking||0,index0AttributeName:B.index0AttributeName,extensionDerivatives:qe&&B.extensions.derivatives===!0,extensionFragDepth:qe&&B.extensions.fragDepth===!0,extensionDrawBuffers:qe&&B.extensions.drawBuffers===!0,extensionShaderTextureLOD:qe&&B.extensions.shaderTextureLOD===!0,extensionClipCullDistance:qe&&B.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),rendererExtensionFragDepth:h||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:B.customProgramCacheKey()}}function _(B){const O=[];if(B.shaderID?O.push(B.shaderID):(O.push(B.customVertexShaderID),O.push(B.customFragmentShaderID)),B.defines!==void 0)for(const V in B.defines)O.push(V),O.push(B.defines[V]);return B.isRawShaderMaterial===!1&&(w(O,B),x(O,B),O.push(t.outputColorSpace)),O.push(B.customProgramCacheKey),O.join()}function w(B,O){B.push(O.precision),B.push(O.outputColorSpace),B.push(O.envMapMode),B.push(O.envMapCubeUVHeight),B.push(O.mapUv),B.push(O.alphaMapUv),B.push(O.lightMapUv),B.push(O.aoMapUv),B.push(O.bumpMapUv),B.push(O.normalMapUv),B.push(O.displacementMapUv),B.push(O.emissiveMapUv),B.push(O.metalnessMapUv),B.push(O.roughnessMapUv),B.push(O.anisotropyMapUv),B.push(O.clearcoatMapUv),B.push(O.clearcoatNormalMapUv),B.push(O.clearcoatRoughnessMapUv),B.push(O.iridescenceMapUv),B.push(O.iridescenceThicknessMapUv),B.push(O.sheenColorMapUv),B.push(O.sheenRoughnessMapUv),B.push(O.specularMapUv),B.push(O.specularColorMapUv),B.push(O.specularIntensityMapUv),B.push(O.transmissionMapUv),B.push(O.thicknessMapUv),B.push(O.combine),B.push(O.fogExp2),B.push(O.sizeAttenuation),B.push(O.morphTargetsCount),B.push(O.morphAttributeCount),B.push(O.numDirLights),B.push(O.numPointLights),B.push(O.numSpotLights),B.push(O.numSpotLightMaps),B.push(O.numHemiLights),B.push(O.numRectAreaLights),B.push(O.numDirLightShadows),B.push(O.numPointLightShadows),B.push(O.numSpotLightShadows),B.push(O.numSpotLightShadowsWithMaps),B.push(O.numLightProbes),B.push(O.shadowMapType),B.push(O.toneMapping),B.push(O.numClippingPlanes),B.push(O.numClipIntersection),B.push(O.depthPacking)}function x(B,O){a.disableAll(),O.isWebGL2&&a.enable(0),O.supportsVertexTextures&&a.enable(1),O.instancing&&a.enable(2),O.instancingColor&&a.enable(3),O.matcap&&a.enable(4),O.envMap&&a.enable(5),O.normalMapObjectSpace&&a.enable(6),O.normalMapTangentSpace&&a.enable(7),O.clearcoat&&a.enable(8),O.iridescence&&a.enable(9),O.alphaTest&&a.enable(10),O.vertexColors&&a.enable(11),O.vertexAlphas&&a.enable(12),O.vertexUv1s&&a.enable(13),O.vertexUv2s&&a.enable(14),O.vertexUv3s&&a.enable(15),O.vertexTangents&&a.enable(16),O.anisotropy&&a.enable(17),O.alphaHash&&a.enable(18),O.batching&&a.enable(19),B.push(a.mask),a.disableAll(),O.fog&&a.enable(0),O.useFog&&a.enable(1),O.flatShading&&a.enable(2),O.logarithmicDepthBuffer&&a.enable(3),O.skinning&&a.enable(4),O.morphTargets&&a.enable(5),O.morphNormals&&a.enable(6),O.morphColors&&a.enable(7),O.premultipliedAlpha&&a.enable(8),O.shadowMapEnabled&&a.enable(9),O.useLegacyLights&&a.enable(10),O.doubleSided&&a.enable(11),O.flipSided&&a.enable(12),O.useDepthPacking&&a.enable(13),O.dithering&&a.enable(14),O.transmission&&a.enable(15),O.sheen&&a.enable(16),O.opaque&&a.enable(17),O.pointsUvs&&a.enable(18),O.decodeVideoTexture&&a.enable(19),B.push(a.mask)}function M(B){const O=y[B.type];let V;if(O){const H=ia[O];V=tk.clone(H.uniforms)}else V=B.uniforms;return V}function R(B,O){let V;for(let H=0,ne=u.length;H<ne;H++){const j=u[H];if(j.cacheKey===O){V=j,++V.usedTimes;break}}return V===void 0&&(V=new lZ(t,O,B,s),u.push(V)),V}function T(B){if(--B.usedTimes===0){const O=u.indexOf(B);u[O]=u[u.length-1],u.pop(),B.destroy()}}function I(B){l.remove(B)}function F(){l.dispose()}return{getParameters:A,getProgramCacheKey:_,getUniforms:M,acquireProgram:R,releaseProgram:T,releaseShaderCache:I,programs:u,dispose:F}}function dZ(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function r(s,o,a){t.get(s)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function pZ(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function lL(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function uL(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(p,m,v,y,S,A){let _=t[e];return _===void 0?(_={id:p.id,object:p,geometry:m,material:v,groupOrder:y,renderOrder:p.renderOrder,z:S,group:A},t[e]=_):(_.id=p.id,_.object=p,_.geometry=m,_.material=v,_.groupOrder=y,_.renderOrder=p.renderOrder,_.z=S,_.group=A),e++,_}function a(p,m,v,y,S,A){const _=o(p,m,v,y,S,A);v.transmission>0?r.push(_):v.transparent===!0?i.push(_):n.push(_)}function l(p,m,v,y,S,A){const _=o(p,m,v,y,S,A);v.transmission>0?r.unshift(_):v.transparent===!0?i.unshift(_):n.unshift(_)}function u(p,m){n.length>1&&n.sort(p||pZ),r.length>1&&r.sort(m||lL),i.length>1&&i.sort(m||lL)}function h(){for(let p=e,m=t.length;p<m;p++){const v=t[p];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:h,sort:u}}function mZ(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new uL,t.set(r,[o])):i>=s.length?(o=new uL,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function gZ(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new J,color:new nt};break;case"SpotLight":n={position:new J,direction:new J,color:new nt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new J,color:new nt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new J,skyColor:new nt,groundColor:new nt};break;case"RectAreaLight":n={color:new nt,position:new J,halfWidth:new J,halfHeight:new J};break}return t[e.id]=n,n}}}function vZ(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Te};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Te};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Te,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let yZ=0;function _Z(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function xZ(t,e){const n=new gZ,r=vZ(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let h=0;h<9;h++)i.probe.push(new J);const s=new J,o=new Nt,a=new Nt;function l(h,p){let m=0,v=0,y=0;for(let H=0;H<9;H++)i.probe[H].set(0,0,0);let S=0,A=0,_=0,w=0,x=0,M=0,R=0,T=0,I=0,F=0,B=0;h.sort(_Z);const O=p===!0?Math.PI:1;for(let H=0,ne=h.length;H<ne;H++){const j=h[H],q=j.color,re=j.intensity,he=j.distance,z=j.shadow&&j.shadow.map?j.shadow.map.texture:null;if(j.isAmbientLight)m+=q.r*re*O,v+=q.g*re*O,y+=q.b*re*O;else if(j.isLightProbe){for(let ee=0;ee<9;ee++)i.probe[ee].addScaledVector(j.sh.coefficients[ee],re);B++}else if(j.isDirectionalLight){const ee=n.get(j);if(ee.color.copy(j.color).multiplyScalar(j.intensity*O),j.castShadow){const te=j.shadow,fe=r.get(j);fe.shadowBias=te.bias,fe.shadowNormalBias=te.normalBias,fe.shadowRadius=te.radius,fe.shadowMapSize=te.mapSize,i.directionalShadow[S]=fe,i.directionalShadowMap[S]=z,i.directionalShadowMatrix[S]=j.shadow.matrix,M++}i.directional[S]=ee,S++}else if(j.isSpotLight){const ee=n.get(j);ee.position.setFromMatrixPosition(j.matrixWorld),ee.color.copy(q).multiplyScalar(re*O),ee.distance=he,ee.coneCos=Math.cos(j.angle),ee.penumbraCos=Math.cos(j.angle*(1-j.penumbra)),ee.decay=j.decay,i.spot[_]=ee;const te=j.shadow;if(j.map&&(i.spotLightMap[I]=j.map,I++,te.updateMatrices(j),j.castShadow&&F++),i.spotLightMatrix[_]=te.matrix,j.castShadow){const fe=r.get(j);fe.shadowBias=te.bias,fe.shadowNormalBias=te.normalBias,fe.shadowRadius=te.radius,fe.shadowMapSize=te.mapSize,i.spotShadow[_]=fe,i.spotShadowMap[_]=z,T++}_++}else if(j.isRectAreaLight){const ee=n.get(j);ee.color.copy(q).multiplyScalar(re),ee.halfWidth.set(j.width*.5,0,0),ee.halfHeight.set(0,j.height*.5,0),i.rectArea[w]=ee,w++}else if(j.isPointLight){const ee=n.get(j);if(ee.color.copy(j.color).multiplyScalar(j.intensity*O),ee.distance=j.distance,ee.decay=j.decay,j.castShadow){const te=j.shadow,fe=r.get(j);fe.shadowBias=te.bias,fe.shadowNormalBias=te.normalBias,fe.shadowRadius=te.radius,fe.shadowMapSize=te.mapSize,fe.shadowCameraNear=te.camera.near,fe.shadowCameraFar=te.camera.far,i.pointShadow[A]=fe,i.pointShadowMap[A]=z,i.pointShadowMatrix[A]=j.shadow.matrix,R++}i.point[A]=ee,A++}else if(j.isHemisphereLight){const ee=n.get(j);ee.skyColor.copy(j.color).multiplyScalar(re*O),ee.groundColor.copy(j.groundColor).multiplyScalar(re*O),i.hemi[x]=ee,x++}}w>0&&(e.isWebGL2?t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ke.LTC_FLOAT_1,i.rectAreaLTC2=Ke.LTC_FLOAT_2):(i.rectAreaLTC1=Ke.LTC_HALF_1,i.rectAreaLTC2=Ke.LTC_HALF_2):t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ke.LTC_FLOAT_1,i.rectAreaLTC2=Ke.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Ke.LTC_HALF_1,i.rectAreaLTC2=Ke.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=m,i.ambient[1]=v,i.ambient[2]=y;const V=i.hash;(V.directionalLength!==S||V.pointLength!==A||V.spotLength!==_||V.rectAreaLength!==w||V.hemiLength!==x||V.numDirectionalShadows!==M||V.numPointShadows!==R||V.numSpotShadows!==T||V.numSpotMaps!==I||V.numLightProbes!==B)&&(i.directional.length=S,i.spot.length=_,i.rectArea.length=w,i.point.length=A,i.hemi.length=x,i.directionalShadow.length=M,i.directionalShadowMap.length=M,i.pointShadow.length=R,i.pointShadowMap.length=R,i.spotShadow.length=T,i.spotShadowMap.length=T,i.directionalShadowMatrix.length=M,i.pointShadowMatrix.length=R,i.spotLightMatrix.length=T+I-F,i.spotLightMap.length=I,i.numSpotLightShadowsWithMaps=F,i.numLightProbes=B,V.directionalLength=S,V.pointLength=A,V.spotLength=_,V.rectAreaLength=w,V.hemiLength=x,V.numDirectionalShadows=M,V.numPointShadows=R,V.numSpotShadows=T,V.numSpotMaps=I,V.numLightProbes=B,i.version=yZ++)}function u(h,p){let m=0,v=0,y=0,S=0,A=0;const _=p.matrixWorldInverse;for(let w=0,x=h.length;w<x;w++){const M=h[w];if(M.isDirectionalLight){const R=i.directional[m];R.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),R.direction.sub(s),R.direction.transformDirection(_),m++}else if(M.isSpotLight){const R=i.spot[y];R.position.setFromMatrixPosition(M.matrixWorld),R.position.applyMatrix4(_),R.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),R.direction.sub(s),R.direction.transformDirection(_),y++}else if(M.isRectAreaLight){const R=i.rectArea[S];R.position.setFromMatrixPosition(M.matrixWorld),R.position.applyMatrix4(_),a.identity(),o.copy(M.matrixWorld),o.premultiply(_),a.extractRotation(o),R.halfWidth.set(M.width*.5,0,0),R.halfHeight.set(0,M.height*.5,0),R.halfWidth.applyMatrix4(a),R.halfHeight.applyMatrix4(a),S++}else if(M.isPointLight){const R=i.point[v];R.position.setFromMatrixPosition(M.matrixWorld),R.position.applyMatrix4(_),v++}else if(M.isHemisphereLight){const R=i.hemi[A];R.direction.setFromMatrixPosition(M.matrixWorld),R.direction.transformDirection(_),A++}}}return{setup:l,setupView:u,state:i}}function cL(t,e){const n=new xZ(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(p){r.push(p)}function a(p){i.push(p)}function l(p){n.setup(r,p)}function u(p){n.setupView(r,p)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:u,pushLight:o,pushShadow:a}}function SZ(t,e){let n=new WeakMap;function r(s,o=0){const a=n.get(s);let l;return a===void 0?(l=new cL(t,e),n.set(s,[l])):o>=a.length?(l=new cL(t,e),a.push(l)):l=a[o],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class d2 extends ti{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=k4,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class p2 extends ti{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const AZ=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,wZ=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function EZ(t,e,n){let r=new vv;const i=new Te,s=new Te,o=new In,a=new d2({depthPacking:H4}),l=new p2,u={},h=n.maxTextureSize,p={[Ja]:ss,[ss]:Ja,[sa]:sa},m=new Ya({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Te},radius:{value:4}},vertexShader:AZ,fragmentShader:wZ}),v=m.clone();v.defines.HORIZONTAL_PASS=1;const y=new nn;y.setAttribute("position",new wn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new Wr(y,m),A=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=kS;let _=this.type;this.render=function(T,I,F){if(A.enabled===!1||A.autoUpdate===!1&&A.needsUpdate===!1||T.length===0)return;const B=t.getRenderTarget(),O=t.getActiveCubeFace(),V=t.getActiveMipmapLevel(),H=t.state;H.setBlending(Ul),H.buffers.color.setClear(1,1,1,1),H.buffers.depth.setTest(!0),H.setScissorTest(!1);const ne=_!==ta&&this.type===ta,j=_===ta&&this.type!==ta;for(let q=0,re=T.length;q<re;q++){const he=T[q],z=he.shadow;if(z===void 0){console.warn("THREE.WebGLShadowMap:",he,"has no shadow.");continue}if(z.autoUpdate===!1&&z.needsUpdate===!1)continue;i.copy(z.mapSize);const ee=z.getFrameExtents();if(i.multiply(ee),s.copy(z.mapSize),(i.x>h||i.y>h)&&(i.x>h&&(s.x=Math.floor(h/ee.x),i.x=s.x*ee.x,z.mapSize.x=s.x),i.y>h&&(s.y=Math.floor(h/ee.y),i.y=s.y*ee.y,z.mapSize.y=s.y)),z.map===null||ne===!0||j===!0){const fe=this.type!==ta?{minFilter:xr,magFilter:xr}:{};z.map!==null&&z.map.dispose(),z.map=new pa(i.x,i.y,fe),z.map.texture.name=he.name+".shadowMap",z.camera.updateProjectionMatrix()}t.setRenderTarget(z.map),t.clear();const te=z.getViewportCount();for(let fe=0;fe<te;fe++){const ye=z.getViewport(fe);o.set(s.x*ye.x,s.y*ye.y,s.x*ye.z,s.y*ye.w),H.viewport(o),z.updateMatrices(he,fe),r=z.getFrustum(),M(I,F,z.camera,he,this.type)}z.isPointLightShadow!==!0&&this.type===ta&&w(z,F),z.needsUpdate=!1}_=this.type,A.needsUpdate=!1,t.setRenderTarget(B,O,V)};function w(T,I){const F=e.update(S);m.defines.VSM_SAMPLES!==T.blurSamples&&(m.defines.VSM_SAMPLES=T.blurSamples,v.defines.VSM_SAMPLES=T.blurSamples,m.needsUpdate=!0,v.needsUpdate=!0),T.mapPass===null&&(T.mapPass=new pa(i.x,i.y)),m.uniforms.shadow_pass.value=T.map.texture,m.uniforms.resolution.value=T.mapSize,m.uniforms.radius.value=T.radius,t.setRenderTarget(T.mapPass),t.clear(),t.renderBufferDirect(I,null,F,m,S,null),v.uniforms.shadow_pass.value=T.mapPass.texture,v.uniforms.resolution.value=T.mapSize,v.uniforms.radius.value=T.radius,t.setRenderTarget(T.map),t.clear(),t.renderBufferDirect(I,null,F,v,S,null)}function x(T,I,F,B){let O=null;const V=F.isPointLight===!0?T.customDistanceMaterial:T.customDepthMaterial;if(V!==void 0)O=V;else if(O=F.isPointLight===!0?l:a,t.localClippingEnabled&&I.clipShadows===!0&&Array.isArray(I.clippingPlanes)&&I.clippingPlanes.length!==0||I.displacementMap&&I.displacementScale!==0||I.alphaMap&&I.alphaTest>0||I.map&&I.alphaTest>0){const H=O.uuid,ne=I.uuid;let j=u[H];j===void 0&&(j={},u[H]=j);let q=j[ne];q===void 0&&(q=O.clone(),j[ne]=q,I.addEventListener("dispose",R)),O=q}if(O.visible=I.visible,O.wireframe=I.wireframe,B===ta?O.side=I.shadowSide!==null?I.shadowSide:I.side:O.side=I.shadowSide!==null?I.shadowSide:p[I.side],O.alphaMap=I.alphaMap,O.alphaTest=I.alphaTest,O.map=I.map,O.clipShadows=I.clipShadows,O.clippingPlanes=I.clippingPlanes,O.clipIntersection=I.clipIntersection,O.displacementMap=I.displacementMap,O.displacementScale=I.displacementScale,O.displacementBias=I.displacementBias,O.wireframeLinewidth=I.wireframeLinewidth,O.linewidth=I.linewidth,F.isPointLight===!0&&O.isMeshDistanceMaterial===!0){const H=t.properties.get(O);H.light=F}return O}function M(T,I,F,B,O){if(T.visible===!1)return;if(T.layers.test(I.layers)&&(T.isMesh||T.isLine||T.isPoints)&&(T.castShadow||T.receiveShadow&&O===ta)&&(!T.frustumCulled||r.intersectsObject(T))){T.modelViewMatrix.multiplyMatrices(F.matrixWorldInverse,T.matrixWorld);const ne=e.update(T),j=T.material;if(Array.isArray(j)){const q=ne.groups;for(let re=0,he=q.length;re<he;re++){const z=q[re],ee=j[z.materialIndex];if(ee&&ee.visible){const te=x(T,ee,B,O);T.onBeforeShadow(t,T,I,F,ne,te,z),t.renderBufferDirect(F,null,ne,te,T,z),T.onAfterShadow(t,T,I,F,ne,te,z)}}}else if(j.visible){const q=x(T,j,B,O);T.onBeforeShadow(t,T,I,F,ne,q,null),t.renderBufferDirect(F,null,ne,q,T,null),T.onAfterShadow(t,T,I,F,ne,q,null)}}const H=T.children;for(let ne=0,j=H.length;ne<j;ne++)M(H[ne],I,F,B,O)}function R(T){T.target.removeEventListener("dispose",R);for(const F in u){const B=u[F],O=T.target.uuid;O in B&&(B[O].dispose(),delete B[O])}}}function bZ(t,e,n){const r=n.isWebGL2;function i(){let se=!1;const je=new In;let qe=null;const Tt=new In(0,0,0,0);return{setMask:function(gt){qe!==gt&&!se&&(t.colorMask(gt,gt,gt,gt),qe=gt)},setLocked:function(gt){se=gt},setClear:function(gt,ln,hn,Rn,kn){kn===!0&&(gt*=Rn,ln*=Rn,hn*=Rn),je.set(gt,ln,hn,Rn),Tt.equals(je)===!1&&(t.clearColor(gt,ln,hn,Rn),Tt.copy(je))},reset:function(){se=!1,qe=null,Tt.set(-1,0,0,0)}}}function s(){let se=!1,je=null,qe=null,Tt=null;return{setTest:function(gt){gt?yt(t.DEPTH_TEST):ut(t.DEPTH_TEST)},setMask:function(gt){je!==gt&&!se&&(t.depthMask(gt),je=gt)},setFunc:function(gt){if(qe!==gt){switch(gt){case h4:t.depthFunc(t.NEVER);break;case d4:t.depthFunc(t.ALWAYS);break;case p4:t.depthFunc(t.LESS);break;case F0:t.depthFunc(t.LEQUAL);break;case m4:t.depthFunc(t.EQUAL);break;case g4:t.depthFunc(t.GEQUAL);break;case v4:t.depthFunc(t.GREATER);break;case y4:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}qe=gt}},setLocked:function(gt){se=gt},setClear:function(gt){Tt!==gt&&(t.clearDepth(gt),Tt=gt)},reset:function(){se=!1,je=null,qe=null,Tt=null}}}function o(){let se=!1,je=null,qe=null,Tt=null,gt=null,ln=null,hn=null,Rn=null,kn=null;return{setTest:function(vn){se||(vn?yt(t.STENCIL_TEST):ut(t.STENCIL_TEST))},setMask:function(vn){je!==vn&&!se&&(t.stencilMask(vn),je=vn)},setFunc:function(vn,wr,us){(qe!==vn||Tt!==wr||gt!==us)&&(t.stencilFunc(vn,wr,us),qe=vn,Tt=wr,gt=us)},setOp:function(vn,wr,us){(ln!==vn||hn!==wr||Rn!==us)&&(t.stencilOp(vn,wr,us),ln=vn,hn=wr,Rn=us)},setLocked:function(vn){se=vn},setClear:function(vn){kn!==vn&&(t.clearStencil(vn),kn=vn)},reset:function(){se=!1,je=null,qe=null,Tt=null,gt=null,ln=null,hn=null,Rn=null,kn=null}}}const a=new i,l=new s,u=new o,h=new WeakMap,p=new WeakMap;let m={},v={},y=new WeakMap,S=[],A=null,_=!1,w=null,x=null,M=null,R=null,T=null,I=null,F=null,B=new nt(0,0,0),O=0,V=!1,H=null,ne=null,j=null,q=null,re=null;const he=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let z=!1,ee=0;const te=t.getParameter(t.VERSION);te.indexOf("WebGL")!==-1?(ee=parseFloat(/^WebGL (\d)/.exec(te)[1]),z=ee>=1):te.indexOf("OpenGL ES")!==-1&&(ee=parseFloat(/^OpenGL ES (\d)/.exec(te)[1]),z=ee>=2);let fe=null,ye={};const ue=t.getParameter(t.SCISSOR_BOX),_e=t.getParameter(t.VIEWPORT),Ne=new In().fromArray(ue),Ve=new In().fromArray(_e);function Xe(se,je,qe,Tt){const gt=new Uint8Array(4),ln=t.createTexture();t.bindTexture(se,ln),t.texParameteri(se,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(se,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let hn=0;hn<qe;hn++)r&&(se===t.TEXTURE_3D||se===t.TEXTURE_2D_ARRAY)?t.texImage3D(je,0,t.RGBA,1,1,Tt,0,t.RGBA,t.UNSIGNED_BYTE,gt):t.texImage2D(je+hn,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,gt);return ln}const vt={};vt[t.TEXTURE_2D]=Xe(t.TEXTURE_2D,t.TEXTURE_2D,1),vt[t.TEXTURE_CUBE_MAP]=Xe(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(vt[t.TEXTURE_2D_ARRAY]=Xe(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),vt[t.TEXTURE_3D]=Xe(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),u.setClear(0),yt(t.DEPTH_TEST),l.setFunc(F0),Qe(!1),W(MM),yt(t.CULL_FACE),Re(Ul);function yt(se){m[se]!==!0&&(t.enable(se),m[se]=!0)}function ut(se){m[se]!==!1&&(t.disable(se),m[se]=!1)}function ht(se,je){return v[se]!==je?(t.bindFramebuffer(se,je),v[se]=je,r&&(se===t.DRAW_FRAMEBUFFER&&(v[t.FRAMEBUFFER]=je),se===t.FRAMEBUFFER&&(v[t.DRAW_FRAMEBUFFER]=je)),!0):!1}function Z(se,je){let qe=S,Tt=!1;if(se)if(qe=y.get(je),qe===void 0&&(qe=[],y.set(je,qe)),se.isWebGLMultipleRenderTargets){const gt=se.texture;if(qe.length!==gt.length||qe[0]!==t.COLOR_ATTACHMENT0){for(let ln=0,hn=gt.length;ln<hn;ln++)qe[ln]=t.COLOR_ATTACHMENT0+ln;qe.length=gt.length,Tt=!0}}else qe[0]!==t.COLOR_ATTACHMENT0&&(qe[0]=t.COLOR_ATTACHMENT0,Tt=!0);else qe[0]!==t.BACK&&(qe[0]=t.BACK,Tt=!0);Tt&&(n.isWebGL2?t.drawBuffers(qe):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(qe))}function He(se){return A!==se?(t.useProgram(se),A=se,!0):!1}const Me={[Ju]:t.FUNC_ADD,[qU]:t.FUNC_SUBTRACT,[QU]:t.FUNC_REVERSE_SUBTRACT};if(r)Me[PM]=t.MIN,Me[IM]=t.MAX;else{const se=e.get("EXT_blend_minmax");se!==null&&(Me[PM]=se.MIN_EXT,Me[IM]=se.MAX_EXT)}const Ge={[ZU]:t.ZERO,[e4]:t.ONE,[t4]:t.SRC_COLOR,[I1]:t.SRC_ALPHA,[a4]:t.SRC_ALPHA_SATURATE,[s4]:t.DST_COLOR,[r4]:t.DST_ALPHA,[n4]:t.ONE_MINUS_SRC_COLOR,[L1]:t.ONE_MINUS_SRC_ALPHA,[o4]:t.ONE_MINUS_DST_COLOR,[i4]:t.ONE_MINUS_DST_ALPHA,[l4]:t.CONSTANT_COLOR,[u4]:t.ONE_MINUS_CONSTANT_COLOR,[c4]:t.CONSTANT_ALPHA,[f4]:t.ONE_MINUS_CONSTANT_ALPHA};function Re(se,je,qe,Tt,gt,ln,hn,Rn,kn,vn){if(se===Ul){_===!0&&(ut(t.BLEND),_=!1);return}if(_===!1&&(yt(t.BLEND),_=!0),se!==YU){if(se!==w||vn!==V){if((x!==Ju||T!==Ju)&&(t.blendEquation(t.FUNC_ADD),x=Ju,T=Ju),vn)switch(se){case Yf:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case CM:t.blendFunc(t.ONE,t.ONE);break;case TM:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case RM:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",se);break}else switch(se){case Yf:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case CM:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case TM:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case RM:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",se);break}M=null,R=null,I=null,F=null,B.set(0,0,0),O=0,w=se,V=vn}return}gt=gt||je,ln=ln||qe,hn=hn||Tt,(je!==x||gt!==T)&&(t.blendEquationSeparate(Me[je],Me[gt]),x=je,T=gt),(qe!==M||Tt!==R||ln!==I||hn!==F)&&(t.blendFuncSeparate(Ge[qe],Ge[Tt],Ge[ln],Ge[hn]),M=qe,R=Tt,I=ln,F=hn),(Rn.equals(B)===!1||kn!==O)&&(t.blendColor(Rn.r,Rn.g,Rn.b,kn),B.copy(Rn),O=kn),w=se,V=!1}function ct(se,je){se.side===sa?ut(t.CULL_FACE):yt(t.CULL_FACE);let qe=se.side===ss;je&&(qe=!qe),Qe(qe),se.blending===Yf&&se.transparent===!1?Re(Ul):Re(se.blending,se.blendEquation,se.blendSrc,se.blendDst,se.blendEquationAlpha,se.blendSrcAlpha,se.blendDstAlpha,se.blendColor,se.blendAlpha,se.premultipliedAlpha),l.setFunc(se.depthFunc),l.setTest(se.depthTest),l.setMask(se.depthWrite),a.setMask(se.colorWrite);const Tt=se.stencilWrite;u.setTest(Tt),Tt&&(u.setMask(se.stencilWriteMask),u.setFunc(se.stencilFunc,se.stencilRef,se.stencilFuncMask),u.setOp(se.stencilFail,se.stencilZFail,se.stencilZPass)),me(se.polygonOffset,se.polygonOffsetFactor,se.polygonOffsetUnits),se.alphaToCoverage===!0?yt(t.SAMPLE_ALPHA_TO_COVERAGE):ut(t.SAMPLE_ALPHA_TO_COVERAGE)}function Qe(se){H!==se&&(se?t.frontFace(t.CW):t.frontFace(t.CCW),H=se)}function W(se){se!==XU?(yt(t.CULL_FACE),se!==ne&&(se===MM?t.cullFace(t.BACK):se===JU?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):ut(t.CULL_FACE),ne=se}function U(se){se!==j&&(z&&t.lineWidth(se),j=se)}function me(se,je,qe){se?(yt(t.POLYGON_OFFSET_FILL),(q!==je||re!==qe)&&(t.polygonOffset(je,qe),q=je,re=qe)):ut(t.POLYGON_OFFSET_FILL)}function Oe(se){se?yt(t.SCISSOR_TEST):ut(t.SCISSOR_TEST)}function De(se){se===void 0&&(se=t.TEXTURE0+he-1),fe!==se&&(t.activeTexture(se),fe=se)}function Be(se,je,qe){qe===void 0&&(fe===null?qe=t.TEXTURE0+he-1:qe=fe);let Tt=ye[qe];Tt===void 0&&(Tt={type:void 0,texture:void 0},ye[qe]=Tt),(Tt.type!==se||Tt.texture!==je)&&(fe!==qe&&(t.activeTexture(qe),fe=qe),t.bindTexture(se,je||vt[se]),Tt.type=se,Tt.texture=je)}function ft(){const se=ye[fe];se!==void 0&&se.type!==void 0&&(t.bindTexture(se.type,null),se.type=void 0,se.texture=void 0)}function Je(){try{t.compressedTexImage2D.apply(t,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function et(){try{t.compressedTexImage3D.apply(t,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function _t(){try{t.texSubImage2D.apply(t,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function zt(){try{t.texSubImage3D.apply(t,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Fe(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function an(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Jt(){try{t.texStorage2D.apply(t,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function Dt(){try{t.texStorage3D.apply(t,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function bt(){try{t.texImage2D.apply(t,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function ot(){try{t.texImage3D.apply(t,arguments)}catch(se){console.error("THREE.WebGLState:",se)}}function ie(se){Ne.equals(se)===!1&&(t.scissor(se.x,se.y,se.z,se.w),Ne.copy(se))}function Pe(se){Ve.equals(se)===!1&&(t.viewport(se.x,se.y,se.z,se.w),Ve.copy(se))}function st(se,je){let qe=p.get(je);qe===void 0&&(qe=new WeakMap,p.set(je,qe));let Tt=qe.get(se);Tt===void 0&&(Tt=t.getUniformBlockIndex(je,se.name),qe.set(se,Tt))}function rt(se,je){const Tt=p.get(je).get(se);h.get(je)!==Tt&&(t.uniformBlockBinding(je,Tt,se.__bindingPointIndex),h.set(je,Tt))}function ke(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),m={},fe=null,ye={},v={},y=new WeakMap,S=[],A=null,_=!1,w=null,x=null,M=null,R=null,T=null,I=null,F=null,B=new nt(0,0,0),O=0,V=!1,H=null,ne=null,j=null,q=null,re=null,Ne.set(0,0,t.canvas.width,t.canvas.height),Ve.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),u.reset()}return{buffers:{color:a,depth:l,stencil:u},enable:yt,disable:ut,bindFramebuffer:ht,drawBuffers:Z,useProgram:He,setBlending:Re,setMaterial:ct,setFlipSided:Qe,setCullFace:W,setLineWidth:U,setPolygonOffset:me,setScissorTest:Oe,activeTexture:De,bindTexture:Be,unbindTexture:ft,compressedTexImage2D:Je,compressedTexImage3D:et,texImage2D:bt,texImage3D:ot,updateUBOMapping:st,uniformBlockBinding:rt,texStorage2D:Jt,texStorage3D:Dt,texSubImage2D:_t,texSubImage3D:zt,compressedTexSubImage2D:Fe,compressedTexSubImage3D:an,scissor:ie,viewport:Pe,reset:ke}}function MZ(t,e,n,r,i,s,o){const a=i.isWebGL2,l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),h=new WeakMap;let p;const m=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(W,U){return v?new OffscreenCanvas(W,U):V0("canvas")}function S(W,U,me,Oe){let De=1;if((W.width>Oe||W.height>Oe)&&(De=Oe/Math.max(W.width,W.height)),De<1||U===!0)if(typeof HTMLImageElement<"u"&&W instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&W instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&W instanceof ImageBitmap){const Be=U?O1:Math.floor,ft=Be(De*W.width),Je=Be(De*W.height);p===void 0&&(p=y(ft,Je));const et=me?y(ft,Je):p;return et.width=ft,et.height=Je,et.getContext("2d").drawImage(W,0,0,ft,Je),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+W.width+"x"+W.height+") to ("+ft+"x"+Je+")."),et}else return"data"in W&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+W.width+"x"+W.height+")."),W;return W}function A(W){return oC(W.width)&&oC(W.height)}function _(W){return a?!1:W.wrapS!==Ei||W.wrapT!==Ei||W.minFilter!==xr&&W.minFilter!==lr}function w(W,U){return W.generateMipmaps&&U&&W.minFilter!==xr&&W.minFilter!==lr}function x(W){t.generateMipmap(W)}function M(W,U,me,Oe,De=!1){if(a===!1)return U;if(W!==null){if(t[W]!==void 0)return t[W];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+W+"'")}let Be=U;if(U===t.RED&&(me===t.FLOAT&&(Be=t.R32F),me===t.HALF_FLOAT&&(Be=t.R16F),me===t.UNSIGNED_BYTE&&(Be=t.R8)),U===t.RED_INTEGER&&(me===t.UNSIGNED_BYTE&&(Be=t.R8UI),me===t.UNSIGNED_SHORT&&(Be=t.R16UI),me===t.UNSIGNED_INT&&(Be=t.R32UI),me===t.BYTE&&(Be=t.R8I),me===t.SHORT&&(Be=t.R16I),me===t.INT&&(Be=t.R32I)),U===t.RG&&(me===t.FLOAT&&(Be=t.RG32F),me===t.HALF_FLOAT&&(Be=t.RG16F),me===t.UNSIGNED_BYTE&&(Be=t.RG8)),U===t.RGBA){const ft=De?z0:Pn.getTransfer(Oe);me===t.FLOAT&&(Be=t.RGBA32F),me===t.HALF_FLOAT&&(Be=t.RGBA16F),me===t.UNSIGNED_BYTE&&(Be=ft===Wn?t.SRGB8_ALPHA8:t.RGBA8),me===t.UNSIGNED_SHORT_4_4_4_4&&(Be=t.RGBA4),me===t.UNSIGNED_SHORT_5_5_5_1&&(Be=t.RGB5_A1)}return(Be===t.R16F||Be===t.R32F||Be===t.RG16F||Be===t.RG32F||Be===t.RGBA16F||Be===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Be}function R(W,U,me){return w(W,me)===!0||W.isFramebufferTexture&&W.minFilter!==xr&&W.minFilter!==lr?Math.log2(Math.max(U.width,U.height))+1:W.mipmaps!==void 0&&W.mipmaps.length>0?W.mipmaps.length:W.isCompressedTexture&&Array.isArray(W.image)?U.mipmaps.length:1}function T(W){return W===xr||W===k0||W===Lp?t.NEAREST:t.LINEAR}function I(W){const U=W.target;U.removeEventListener("dispose",I),B(U),U.isVideoTexture&&h.delete(U)}function F(W){const U=W.target;U.removeEventListener("dispose",F),V(U)}function B(W){const U=r.get(W);if(U.__webglInit===void 0)return;const me=W.source,Oe=m.get(me);if(Oe){const De=Oe[U.__cacheKey];De.usedTimes--,De.usedTimes===0&&O(W),Object.keys(Oe).length===0&&m.delete(me)}r.remove(W)}function O(W){const U=r.get(W);t.deleteTexture(U.__webglTexture);const me=W.source,Oe=m.get(me);delete Oe[U.__cacheKey],o.memory.textures--}function V(W){const U=W.texture,me=r.get(W),Oe=r.get(U);if(Oe.__webglTexture!==void 0&&(t.deleteTexture(Oe.__webglTexture),o.memory.textures--),W.depthTexture&&W.depthTexture.dispose(),W.isWebGLCubeRenderTarget)for(let De=0;De<6;De++){if(Array.isArray(me.__webglFramebuffer[De]))for(let Be=0;Be<me.__webglFramebuffer[De].length;Be++)t.deleteFramebuffer(me.__webglFramebuffer[De][Be]);else t.deleteFramebuffer(me.__webglFramebuffer[De]);me.__webglDepthbuffer&&t.deleteRenderbuffer(me.__webglDepthbuffer[De])}else{if(Array.isArray(me.__webglFramebuffer))for(let De=0;De<me.__webglFramebuffer.length;De++)t.deleteFramebuffer(me.__webglFramebuffer[De]);else t.deleteFramebuffer(me.__webglFramebuffer);if(me.__webglDepthbuffer&&t.deleteRenderbuffer(me.__webglDepthbuffer),me.__webglMultisampledFramebuffer&&t.deleteFramebuffer(me.__webglMultisampledFramebuffer),me.__webglColorRenderbuffer)for(let De=0;De<me.__webglColorRenderbuffer.length;De++)me.__webglColorRenderbuffer[De]&&t.deleteRenderbuffer(me.__webglColorRenderbuffer[De]);me.__webglDepthRenderbuffer&&t.deleteRenderbuffer(me.__webglDepthRenderbuffer)}if(W.isWebGLMultipleRenderTargets)for(let De=0,Be=U.length;De<Be;De++){const ft=r.get(U[De]);ft.__webglTexture&&(t.deleteTexture(ft.__webglTexture),o.memory.textures--),r.remove(U[De])}r.remove(U),r.remove(W)}let H=0;function ne(){H=0}function j(){const W=H;return W>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+W+" texture units while this GPU supports only "+i.maxTextures),H+=1,W}function q(W){const U=[];return U.push(W.wrapS),U.push(W.wrapT),U.push(W.wrapR||0),U.push(W.magFilter),U.push(W.minFilter),U.push(W.anisotropy),U.push(W.internalFormat),U.push(W.format),U.push(W.type),U.push(W.generateMipmaps),U.push(W.premultiplyAlpha),U.push(W.flipY),U.push(W.unpackAlignment),U.push(W.colorSpace),U.join()}function re(W,U){const me=r.get(W);if(W.isVideoTexture&&ct(W),W.isRenderTargetTexture===!1&&W.version>0&&me.__version!==W.version){const Oe=W.image;if(Oe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Oe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ne(me,W,U);return}}n.bindTexture(t.TEXTURE_2D,me.__webglTexture,t.TEXTURE0+U)}function he(W,U){const me=r.get(W);if(W.version>0&&me.__version!==W.version){Ne(me,W,U);return}n.bindTexture(t.TEXTURE_2D_ARRAY,me.__webglTexture,t.TEXTURE0+U)}function z(W,U){const me=r.get(W);if(W.version>0&&me.__version!==W.version){Ne(me,W,U);return}n.bindTexture(t.TEXTURE_3D,me.__webglTexture,t.TEXTURE0+U)}function ee(W,U){const me=r.get(W);if(W.version>0&&me.__version!==W.version){Ve(me,W,U);return}n.bindTexture(t.TEXTURE_CUBE_MAP,me.__webglTexture,t.TEXTURE0+U)}const te={[gc]:t.REPEAT,[Ei]:t.CLAMP_TO_EDGE,[Xp]:t.MIRRORED_REPEAT},fe={[xr]:t.NEAREST,[k0]:t.NEAREST_MIPMAP_NEAREST,[Lp]:t.NEAREST_MIPMAP_LINEAR,[lr]:t.LINEAR,[zS]:t.LINEAR_MIPMAP_NEAREST,[Ka]:t.LINEAR_MIPMAP_LINEAR},ye={[G4]:t.NEVER,[J4]:t.ALWAYS,[$4]:t.LESS,[s2]:t.LEQUAL,[W4]:t.EQUAL,[X4]:t.GEQUAL,[V4]:t.GREATER,[j4]:t.NOTEQUAL};function ue(W,U,me){if(me?(t.texParameteri(W,t.TEXTURE_WRAP_S,te[U.wrapS]),t.texParameteri(W,t.TEXTURE_WRAP_T,te[U.wrapT]),(W===t.TEXTURE_3D||W===t.TEXTURE_2D_ARRAY)&&t.texParameteri(W,t.TEXTURE_WRAP_R,te[U.wrapR]),t.texParameteri(W,t.TEXTURE_MAG_FILTER,fe[U.magFilter]),t.texParameteri(W,t.TEXTURE_MIN_FILTER,fe[U.minFilter])):(t.texParameteri(W,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(W,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(W===t.TEXTURE_3D||W===t.TEXTURE_2D_ARRAY)&&t.texParameteri(W,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(U.wrapS!==Ei||U.wrapT!==Ei)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(W,t.TEXTURE_MAG_FILTER,T(U.magFilter)),t.texParameteri(W,t.TEXTURE_MIN_FILTER,T(U.minFilter)),U.minFilter!==xr&&U.minFilter!==lr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),U.compareFunction&&(t.texParameteri(W,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(W,t.TEXTURE_COMPARE_FUNC,ye[U.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Oe=e.get("EXT_texture_filter_anisotropic");if(U.magFilter===xr||U.minFilter!==Lp&&U.minFilter!==Ka||U.type===oa&&e.has("OES_texture_float_linear")===!1||a===!1&&U.type===Jp&&e.has("OES_texture_half_float_linear")===!1)return;(U.anisotropy>1||r.get(U).__currentAnisotropy)&&(t.texParameterf(W,Oe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(U.anisotropy,i.getMaxAnisotropy())),r.get(U).__currentAnisotropy=U.anisotropy)}}function _e(W,U){let me=!1;W.__webglInit===void 0&&(W.__webglInit=!0,U.addEventListener("dispose",I));const Oe=U.source;let De=m.get(Oe);De===void 0&&(De={},m.set(Oe,De));const Be=q(U);if(Be!==W.__cacheKey){De[Be]===void 0&&(De[Be]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,me=!0),De[Be].usedTimes++;const ft=De[W.__cacheKey];ft!==void 0&&(De[W.__cacheKey].usedTimes--,ft.usedTimes===0&&O(U)),W.__cacheKey=Be,W.__webglTexture=De[Be].texture}return me}function Ne(W,U,me){let Oe=t.TEXTURE_2D;(U.isDataArrayTexture||U.isCompressedArrayTexture)&&(Oe=t.TEXTURE_2D_ARRAY),U.isData3DTexture&&(Oe=t.TEXTURE_3D);const De=_e(W,U),Be=U.source;n.bindTexture(Oe,W.__webglTexture,t.TEXTURE0+me);const ft=r.get(Be);if(Be.version!==ft.__version||De===!0){n.activeTexture(t.TEXTURE0+me);const Je=Pn.getPrimaries(Pn.workingColorSpace),et=U.colorSpace===Ys?null:Pn.getPrimaries(U.colorSpace),_t=U.colorSpace===Ys||Je===et?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,U.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,U.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,U.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,_t);const zt=_(U)&&A(U.image)===!1;let Fe=S(U.image,zt,!1,i.maxTextureSize);Fe=Qe(U,Fe);const an=A(Fe)||a,Jt=s.convert(U.format,U.colorSpace);let Dt=s.convert(U.type),bt=M(U.internalFormat,Jt,Dt,U.colorSpace,U.isVideoTexture);ue(Oe,U,an);let ot;const ie=U.mipmaps,Pe=a&&U.isVideoTexture!==!0&&bt!==t2,st=ft.__version===void 0||De===!0,rt=R(U,Fe,an);if(U.isDepthTexture)bt=t.DEPTH_COMPONENT,a?U.type===oa?bt=t.DEPTH_COMPONENT32F:U.type===Dl?bt=t.DEPTH_COMPONENT24:U.type===uc?bt=t.DEPTH24_STENCIL8:bt=t.DEPTH_COMPONENT16:U.type===oa&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),U.format===cc&&bt===t.DEPTH_COMPONENT&&U.type!==GS&&U.type!==Dl&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),U.type=Dl,Dt=s.convert(U.type)),U.format===oh&&bt===t.DEPTH_COMPONENT&&(bt=t.DEPTH_STENCIL,U.type!==uc&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),U.type=uc,Dt=s.convert(U.type))),st&&(Pe?n.texStorage2D(t.TEXTURE_2D,1,bt,Fe.width,Fe.height):n.texImage2D(t.TEXTURE_2D,0,bt,Fe.width,Fe.height,0,Jt,Dt,null));else if(U.isDataTexture)if(ie.length>0&&an){Pe&&st&&n.texStorage2D(t.TEXTURE_2D,rt,bt,ie[0].width,ie[0].height);for(let ke=0,se=ie.length;ke<se;ke++)ot=ie[ke],Pe?n.texSubImage2D(t.TEXTURE_2D,ke,0,0,ot.width,ot.height,Jt,Dt,ot.data):n.texImage2D(t.TEXTURE_2D,ke,bt,ot.width,ot.height,0,Jt,Dt,ot.data);U.generateMipmaps=!1}else Pe?(st&&n.texStorage2D(t.TEXTURE_2D,rt,bt,Fe.width,Fe.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Fe.width,Fe.height,Jt,Dt,Fe.data)):n.texImage2D(t.TEXTURE_2D,0,bt,Fe.width,Fe.height,0,Jt,Dt,Fe.data);else if(U.isCompressedTexture)if(U.isCompressedArrayTexture){Pe&&st&&n.texStorage3D(t.TEXTURE_2D_ARRAY,rt,bt,ie[0].width,ie[0].height,Fe.depth);for(let ke=0,se=ie.length;ke<se;ke++)ot=ie[ke],U.format!==rs?Jt!==null?Pe?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ke,0,0,0,ot.width,ot.height,Fe.depth,Jt,ot.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,ke,bt,ot.width,ot.height,Fe.depth,0,ot.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Pe?n.texSubImage3D(t.TEXTURE_2D_ARRAY,ke,0,0,0,ot.width,ot.height,Fe.depth,Jt,Dt,ot.data):n.texImage3D(t.TEXTURE_2D_ARRAY,ke,bt,ot.width,ot.height,Fe.depth,0,Jt,Dt,ot.data)}else{Pe&&st&&n.texStorage2D(t.TEXTURE_2D,rt,bt,ie[0].width,ie[0].height);for(let ke=0,se=ie.length;ke<se;ke++)ot=ie[ke],U.format!==rs?Jt!==null?Pe?n.compressedTexSubImage2D(t.TEXTURE_2D,ke,0,0,ot.width,ot.height,Jt,ot.data):n.compressedTexImage2D(t.TEXTURE_2D,ke,bt,ot.width,ot.height,0,ot.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Pe?n.texSubImage2D(t.TEXTURE_2D,ke,0,0,ot.width,ot.height,Jt,Dt,ot.data):n.texImage2D(t.TEXTURE_2D,ke,bt,ot.width,ot.height,0,Jt,Dt,ot.data)}else if(U.isDataArrayTexture)Pe?(st&&n.texStorage3D(t.TEXTURE_2D_ARRAY,rt,bt,Fe.width,Fe.height,Fe.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Fe.width,Fe.height,Fe.depth,Jt,Dt,Fe.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,bt,Fe.width,Fe.height,Fe.depth,0,Jt,Dt,Fe.data);else if(U.isData3DTexture)Pe?(st&&n.texStorage3D(t.TEXTURE_3D,rt,bt,Fe.width,Fe.height,Fe.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Fe.width,Fe.height,Fe.depth,Jt,Dt,Fe.data)):n.texImage3D(t.TEXTURE_3D,0,bt,Fe.width,Fe.height,Fe.depth,0,Jt,Dt,Fe.data);else if(U.isFramebufferTexture){if(st)if(Pe)n.texStorage2D(t.TEXTURE_2D,rt,bt,Fe.width,Fe.height);else{let ke=Fe.width,se=Fe.height;for(let je=0;je<rt;je++)n.texImage2D(t.TEXTURE_2D,je,bt,ke,se,0,Jt,Dt,null),ke>>=1,se>>=1}}else if(ie.length>0&&an){Pe&&st&&n.texStorage2D(t.TEXTURE_2D,rt,bt,ie[0].width,ie[0].height);for(let ke=0,se=ie.length;ke<se;ke++)ot=ie[ke],Pe?n.texSubImage2D(t.TEXTURE_2D,ke,0,0,Jt,Dt,ot):n.texImage2D(t.TEXTURE_2D,ke,bt,Jt,Dt,ot);U.generateMipmaps=!1}else Pe?(st&&n.texStorage2D(t.TEXTURE_2D,rt,bt,Fe.width,Fe.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Jt,Dt,Fe)):n.texImage2D(t.TEXTURE_2D,0,bt,Jt,Dt,Fe);w(U,an)&&x(Oe),ft.__version=Be.version,U.onUpdate&&U.onUpdate(U)}W.__version=U.version}function Ve(W,U,me){if(U.image.length!==6)return;const Oe=_e(W,U),De=U.source;n.bindTexture(t.TEXTURE_CUBE_MAP,W.__webglTexture,t.TEXTURE0+me);const Be=r.get(De);if(De.version!==Be.__version||Oe===!0){n.activeTexture(t.TEXTURE0+me);const ft=Pn.getPrimaries(Pn.workingColorSpace),Je=U.colorSpace===Ys?null:Pn.getPrimaries(U.colorSpace),et=U.colorSpace===Ys||ft===Je?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,U.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,U.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,U.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,et);const _t=U.isCompressedTexture||U.image[0].isCompressedTexture,zt=U.image[0]&&U.image[0].isDataTexture,Fe=[];for(let ke=0;ke<6;ke++)!_t&&!zt?Fe[ke]=S(U.image[ke],!1,!0,i.maxCubemapSize):Fe[ke]=zt?U.image[ke].image:U.image[ke],Fe[ke]=Qe(U,Fe[ke]);const an=Fe[0],Jt=A(an)||a,Dt=s.convert(U.format,U.colorSpace),bt=s.convert(U.type),ot=M(U.internalFormat,Dt,bt,U.colorSpace),ie=a&&U.isVideoTexture!==!0,Pe=Be.__version===void 0||Oe===!0;let st=R(U,an,Jt);ue(t.TEXTURE_CUBE_MAP,U,Jt);let rt;if(_t){ie&&Pe&&n.texStorage2D(t.TEXTURE_CUBE_MAP,st,ot,an.width,an.height);for(let ke=0;ke<6;ke++){rt=Fe[ke].mipmaps;for(let se=0;se<rt.length;se++){const je=rt[se];U.format!==rs?Dt!==null?ie?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ke,se,0,0,je.width,je.height,Dt,je.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ke,se,ot,je.width,je.height,0,je.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ie?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ke,se,0,0,je.width,je.height,Dt,bt,je.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ke,se,ot,je.width,je.height,0,Dt,bt,je.data)}}}else{rt=U.mipmaps,ie&&Pe&&(rt.length>0&&st++,n.texStorage2D(t.TEXTURE_CUBE_MAP,st,ot,Fe[0].width,Fe[0].height));for(let ke=0;ke<6;ke++)if(zt){ie?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ke,0,0,0,Fe[ke].width,Fe[ke].height,Dt,bt,Fe[ke].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ke,0,ot,Fe[ke].width,Fe[ke].height,0,Dt,bt,Fe[ke].data);for(let se=0;se<rt.length;se++){const qe=rt[se].image[ke].image;ie?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ke,se+1,0,0,qe.width,qe.height,Dt,bt,qe.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ke,se+1,ot,qe.width,qe.height,0,Dt,bt,qe.data)}}else{ie?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ke,0,0,0,Dt,bt,Fe[ke]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ke,0,ot,Dt,bt,Fe[ke]);for(let se=0;se<rt.length;se++){const je=rt[se];ie?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ke,se+1,0,0,Dt,bt,je.image[ke]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ke,se+1,ot,Dt,bt,je.image[ke])}}}w(U,Jt)&&x(t.TEXTURE_CUBE_MAP),Be.__version=De.version,U.onUpdate&&U.onUpdate(U)}W.__version=U.version}function Xe(W,U,me,Oe,De,Be){const ft=s.convert(me.format,me.colorSpace),Je=s.convert(me.type),et=M(me.internalFormat,ft,Je,me.colorSpace);if(!r.get(U).__hasExternalTextures){const zt=Math.max(1,U.width>>Be),Fe=Math.max(1,U.height>>Be);De===t.TEXTURE_3D||De===t.TEXTURE_2D_ARRAY?n.texImage3D(De,Be,et,zt,Fe,U.depth,0,ft,Je,null):n.texImage2D(De,Be,et,zt,Fe,0,ft,Je,null)}n.bindFramebuffer(t.FRAMEBUFFER,W),Re(U)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Oe,De,r.get(me).__webglTexture,0,Ge(U)):(De===t.TEXTURE_2D||De>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&De<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Oe,De,r.get(me).__webglTexture,Be),n.bindFramebuffer(t.FRAMEBUFFER,null)}function vt(W,U,me){if(t.bindRenderbuffer(t.RENDERBUFFER,W),U.depthBuffer&&!U.stencilBuffer){let Oe=a===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(me||Re(U)){const De=U.depthTexture;De&&De.isDepthTexture&&(De.type===oa?Oe=t.DEPTH_COMPONENT32F:De.type===Dl&&(Oe=t.DEPTH_COMPONENT24));const Be=Ge(U);Re(U)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Be,Oe,U.width,U.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,Be,Oe,U.width,U.height)}else t.renderbufferStorage(t.RENDERBUFFER,Oe,U.width,U.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,W)}else if(U.depthBuffer&&U.stencilBuffer){const Oe=Ge(U);me&&Re(U)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Oe,t.DEPTH24_STENCIL8,U.width,U.height):Re(U)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Oe,t.DEPTH24_STENCIL8,U.width,U.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,U.width,U.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,W)}else{const Oe=U.isWebGLMultipleRenderTargets===!0?U.texture:[U.texture];for(let De=0;De<Oe.length;De++){const Be=Oe[De],ft=s.convert(Be.format,Be.colorSpace),Je=s.convert(Be.type),et=M(Be.internalFormat,ft,Je,Be.colorSpace),_t=Ge(U);me&&Re(U)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,_t,et,U.width,U.height):Re(U)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,_t,et,U.width,U.height):t.renderbufferStorage(t.RENDERBUFFER,et,U.width,U.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function yt(W,U){if(U&&U.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,W),!(U.depthTexture&&U.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(U.depthTexture).__webglTexture||U.depthTexture.image.width!==U.width||U.depthTexture.image.height!==U.height)&&(U.depthTexture.image.width=U.width,U.depthTexture.image.height=U.height,U.depthTexture.needsUpdate=!0),re(U.depthTexture,0);const Oe=r.get(U.depthTexture).__webglTexture,De=Ge(U);if(U.depthTexture.format===cc)Re(U)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Oe,0,De):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Oe,0);else if(U.depthTexture.format===oh)Re(U)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Oe,0,De):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Oe,0);else throw new Error("Unknown depthTexture format")}function ut(W){const U=r.get(W),me=W.isWebGLCubeRenderTarget===!0;if(W.depthTexture&&!U.__autoAllocateDepthBuffer){if(me)throw new Error("target.depthTexture not supported in Cube render targets");yt(U.__webglFramebuffer,W)}else if(me){U.__webglDepthbuffer=[];for(let Oe=0;Oe<6;Oe++)n.bindFramebuffer(t.FRAMEBUFFER,U.__webglFramebuffer[Oe]),U.__webglDepthbuffer[Oe]=t.createRenderbuffer(),vt(U.__webglDepthbuffer[Oe],W,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,U.__webglFramebuffer),U.__webglDepthbuffer=t.createRenderbuffer(),vt(U.__webglDepthbuffer,W,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function ht(W,U,me){const Oe=r.get(W);U!==void 0&&Xe(Oe.__webglFramebuffer,W,W.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),me!==void 0&&ut(W)}function Z(W){const U=W.texture,me=r.get(W),Oe=r.get(U);W.addEventListener("dispose",F),W.isWebGLMultipleRenderTargets!==!0&&(Oe.__webglTexture===void 0&&(Oe.__webglTexture=t.createTexture()),Oe.__version=U.version,o.memory.textures++);const De=W.isWebGLCubeRenderTarget===!0,Be=W.isWebGLMultipleRenderTargets===!0,ft=A(W)||a;if(De){me.__webglFramebuffer=[];for(let Je=0;Je<6;Je++)if(a&&U.mipmaps&&U.mipmaps.length>0){me.__webglFramebuffer[Je]=[];for(let et=0;et<U.mipmaps.length;et++)me.__webglFramebuffer[Je][et]=t.createFramebuffer()}else me.__webglFramebuffer[Je]=t.createFramebuffer()}else{if(a&&U.mipmaps&&U.mipmaps.length>0){me.__webglFramebuffer=[];for(let Je=0;Je<U.mipmaps.length;Je++)me.__webglFramebuffer[Je]=t.createFramebuffer()}else me.__webglFramebuffer=t.createFramebuffer();if(Be)if(i.drawBuffers){const Je=W.texture;for(let et=0,_t=Je.length;et<_t;et++){const zt=r.get(Je[et]);zt.__webglTexture===void 0&&(zt.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&W.samples>0&&Re(W)===!1){const Je=Be?U:[U];me.__webglMultisampledFramebuffer=t.createFramebuffer(),me.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,me.__webglMultisampledFramebuffer);for(let et=0;et<Je.length;et++){const _t=Je[et];me.__webglColorRenderbuffer[et]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,me.__webglColorRenderbuffer[et]);const zt=s.convert(_t.format,_t.colorSpace),Fe=s.convert(_t.type),an=M(_t.internalFormat,zt,Fe,_t.colorSpace,W.isXRRenderTarget===!0),Jt=Ge(W);t.renderbufferStorageMultisample(t.RENDERBUFFER,Jt,an,W.width,W.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+et,t.RENDERBUFFER,me.__webglColorRenderbuffer[et])}t.bindRenderbuffer(t.RENDERBUFFER,null),W.depthBuffer&&(me.__webglDepthRenderbuffer=t.createRenderbuffer(),vt(me.__webglDepthRenderbuffer,W,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(De){n.bindTexture(t.TEXTURE_CUBE_MAP,Oe.__webglTexture),ue(t.TEXTURE_CUBE_MAP,U,ft);for(let Je=0;Je<6;Je++)if(a&&U.mipmaps&&U.mipmaps.length>0)for(let et=0;et<U.mipmaps.length;et++)Xe(me.__webglFramebuffer[Je][et],W,U,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,et);else Xe(me.__webglFramebuffer[Je],W,U,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,0);w(U,ft)&&x(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Be){const Je=W.texture;for(let et=0,_t=Je.length;et<_t;et++){const zt=Je[et],Fe=r.get(zt);n.bindTexture(t.TEXTURE_2D,Fe.__webglTexture),ue(t.TEXTURE_2D,zt,ft),Xe(me.__webglFramebuffer,W,zt,t.COLOR_ATTACHMENT0+et,t.TEXTURE_2D,0),w(zt,ft)&&x(t.TEXTURE_2D)}n.unbindTexture()}else{let Je=t.TEXTURE_2D;if((W.isWebGL3DRenderTarget||W.isWebGLArrayRenderTarget)&&(a?Je=W.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Je,Oe.__webglTexture),ue(Je,U,ft),a&&U.mipmaps&&U.mipmaps.length>0)for(let et=0;et<U.mipmaps.length;et++)Xe(me.__webglFramebuffer[et],W,U,t.COLOR_ATTACHMENT0,Je,et);else Xe(me.__webglFramebuffer,W,U,t.COLOR_ATTACHMENT0,Je,0);w(U,ft)&&x(Je),n.unbindTexture()}W.depthBuffer&&ut(W)}function He(W){const U=A(W)||a,me=W.isWebGLMultipleRenderTargets===!0?W.texture:[W.texture];for(let Oe=0,De=me.length;Oe<De;Oe++){const Be=me[Oe];if(w(Be,U)){const ft=W.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Je=r.get(Be).__webglTexture;n.bindTexture(ft,Je),x(ft),n.unbindTexture()}}}function Me(W){if(a&&W.samples>0&&Re(W)===!1){const U=W.isWebGLMultipleRenderTargets?W.texture:[W.texture],me=W.width,Oe=W.height;let De=t.COLOR_BUFFER_BIT;const Be=[],ft=W.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Je=r.get(W),et=W.isWebGLMultipleRenderTargets===!0;if(et)for(let _t=0;_t<U.length;_t++)n.bindFramebuffer(t.FRAMEBUFFER,Je.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+_t,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Je.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+_t,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Je.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Je.__webglFramebuffer);for(let _t=0;_t<U.length;_t++){Be.push(t.COLOR_ATTACHMENT0+_t),W.depthBuffer&&Be.push(ft);const zt=Je.__ignoreDepthValues!==void 0?Je.__ignoreDepthValues:!1;if(zt===!1&&(W.depthBuffer&&(De|=t.DEPTH_BUFFER_BIT),W.stencilBuffer&&(De|=t.STENCIL_BUFFER_BIT)),et&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Je.__webglColorRenderbuffer[_t]),zt===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[ft]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[ft])),et){const Fe=r.get(U[_t]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Fe,0)}t.blitFramebuffer(0,0,me,Oe,0,0,me,Oe,De,t.NEAREST),u&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Be)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),et)for(let _t=0;_t<U.length;_t++){n.bindFramebuffer(t.FRAMEBUFFER,Je.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+_t,t.RENDERBUFFER,Je.__webglColorRenderbuffer[_t]);const zt=r.get(U[_t]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Je.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+_t,t.TEXTURE_2D,zt,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Je.__webglMultisampledFramebuffer)}}function Ge(W){return Math.min(i.maxSamples,W.samples)}function Re(W){const U=r.get(W);return a&&W.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&U.__useRenderToTexture!==!1}function ct(W){const U=o.render.frame;h.get(W)!==U&&(h.set(W,U),W.update())}function Qe(W,U){const me=W.colorSpace,Oe=W.format,De=W.type;return W.isCompressedTexture===!0||W.isVideoTexture===!0||W.format===D1||me!==da&&me!==Ys&&(Pn.getTransfer(me)===Wn?a===!1?e.has("EXT_sRGB")===!0&&Oe===rs?(W.format=D1,W.minFilter=lr,W.generateMipmaps=!1):U=a2.sRGBToLinear(U):(Oe!==rs||De!==Wa)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",me)),U}this.allocateTextureUnit=j,this.resetTextureUnits=ne,this.setTexture2D=re,this.setTexture2DArray=he,this.setTexture3D=z,this.setTextureCube=ee,this.rebindTextures=ht,this.setupRenderTarget=Z,this.updateRenderTargetMipmap=He,this.updateMultisampleRenderTarget=Me,this.setupDepthRenderbuffer=ut,this.setupFrameBufferTexture=Xe,this.useMultisampledRTT=Re}function ck(t,e,n){const r=n.isWebGL2;function i(s,o=Ys){let a;const l=Pn.getTransfer(o);if(s===Wa)return t.UNSIGNED_BYTE;if(s===YT)return t.UNSIGNED_SHORT_4_4_4_4;if(s===qT)return t.UNSIGNED_SHORT_5_5_5_1;if(s===C4)return t.BYTE;if(s===T4)return t.SHORT;if(s===GS)return t.UNSIGNED_SHORT;if(s===KT)return t.INT;if(s===Dl)return t.UNSIGNED_INT;if(s===oa)return t.FLOAT;if(s===Jp)return r?t.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===R4)return t.ALPHA;if(s===rs)return t.RGBA;if(s===P4)return t.LUMINANCE;if(s===I4)return t.LUMINANCE_ALPHA;if(s===cc)return t.DEPTH_COMPONENT;if(s===oh)return t.DEPTH_STENCIL;if(s===D1)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===L4)return t.RED;if(s===QT)return t.RED_INTEGER;if(s===B4)return t.RG;if(s===ZT)return t.RG_INTEGER;if(s===e2)return t.RGBA_INTEGER;if(s===Gx||s===$x||s===Wx||s===Vx)if(l===Wn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===Gx)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===$x)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Wx)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Vx)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===Gx)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===$x)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Wx)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Vx)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===BM||s===DM||s===OM||s===FM)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===BM)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===DM)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===OM)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===FM)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===t2)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===NM||s===UM)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===NM)return l===Wn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===UM)return l===Wn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===kM||s===HM||s===zM||s===GM||s===$M||s===WM||s===VM||s===jM||s===XM||s===JM||s===KM||s===YM||s===qM||s===QM)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===kM)return l===Wn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===HM)return l===Wn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===zM)return l===Wn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===GM)return l===Wn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===$M)return l===Wn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===WM)return l===Wn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===VM)return l===Wn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===jM)return l===Wn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===XM)return l===Wn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===JM)return l===Wn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===KM)return l===Wn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===YM)return l===Wn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===qM)return l===Wn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===QM)return l===Wn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===jx||s===ZM||s===eC)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===jx)return l===Wn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===ZM)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===eC)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===D4||s===tC||s===nC||s===rC)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===jx)return a.COMPRESSED_RED_RGTC1_EXT;if(s===tC)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===nC)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===rC)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===uc?r?t.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class fk extends Ar{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Ol extends An{constructor(){super(),this.isGroup=!0,this.type="Group"}}const CZ={type:"move"};class bE{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ol,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ol,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new J,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new J),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ol,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new J,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new J),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const S of e.hand.values()){const A=n.getJointPose(S,r),_=this._getHandJoint(u,S);A!==null&&(_.matrix.fromArray(A.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.matrixWorldNeedsUpdate=!0,_.jointRadius=A.radius),_.visible=A!==null}const h=u.joints["index-finger-tip"],p=u.joints["thumb-tip"],m=h.position.distanceTo(p.position),v=.02,y=.005;u.inputState.pinching&&m>v+y?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&m<=v-y&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(CZ)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Ol;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class TZ extends Jl{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,u=null,h=null,p=null,m=null,v=null,y=null;const S=n.getContextAttributes();let A=null,_=null;const w=[],x=[],M=new Te;let R=null;const T=new Ar;T.layers.enable(1),T.viewport=new In;const I=new Ar;I.layers.enable(2),I.viewport=new In;const F=[T,I],B=new fk;B.layers.enable(1),B.layers.enable(2);let O=null,V=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ue){let _e=w[ue];return _e===void 0&&(_e=new bE,w[ue]=_e),_e.getTargetRaySpace()},this.getControllerGrip=function(ue){let _e=w[ue];return _e===void 0&&(_e=new bE,w[ue]=_e),_e.getGripSpace()},this.getHand=function(ue){let _e=w[ue];return _e===void 0&&(_e=new bE,w[ue]=_e),_e.getHandSpace()};function H(ue){const _e=x.indexOf(ue.inputSource);if(_e===-1)return;const Ne=w[_e];Ne!==void 0&&(Ne.update(ue.inputSource,ue.frame,u||o),Ne.dispatchEvent({type:ue.type,data:ue.inputSource}))}function ne(){i.removeEventListener("select",H),i.removeEventListener("selectstart",H),i.removeEventListener("selectend",H),i.removeEventListener("squeeze",H),i.removeEventListener("squeezestart",H),i.removeEventListener("squeezeend",H),i.removeEventListener("end",ne),i.removeEventListener("inputsourceschange",j);for(let ue=0;ue<w.length;ue++){const _e=x[ue];_e!==null&&(x[ue]=null,w[ue].disconnect(_e))}O=null,V=null,e.setRenderTarget(A),v=null,m=null,p=null,i=null,_=null,ye.stop(),r.isPresenting=!1,e.setPixelRatio(R),e.setSize(M.width,M.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ue){s=ue,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ue){a=ue,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(ue){u=ue},this.getBaseLayer=function(){return m!==null?m:v},this.getBinding=function(){return p},this.getFrame=function(){return y},this.getSession=function(){return i},this.setSession=async function(ue){if(i=ue,i!==null){if(A=e.getRenderTarget(),i.addEventListener("select",H),i.addEventListener("selectstart",H),i.addEventListener("selectend",H),i.addEventListener("squeeze",H),i.addEventListener("squeezestart",H),i.addEventListener("squeezeend",H),i.addEventListener("end",ne),i.addEventListener("inputsourceschange",j),S.xrCompatible!==!0&&await n.makeXRCompatible(),R=e.getPixelRatio(),e.getSize(M),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const _e={antialias:i.renderState.layers===void 0?S.antialias:!0,alpha:!0,depth:S.depth,stencil:S.stencil,framebufferScaleFactor:s};v=new XRWebGLLayer(i,n,_e),i.updateRenderState({baseLayer:v}),e.setPixelRatio(1),e.setSize(v.framebufferWidth,v.framebufferHeight,!1),_=new pa(v.framebufferWidth,v.framebufferHeight,{format:rs,type:Wa,colorSpace:e.outputColorSpace,stencilBuffer:S.stencil})}else{let _e=null,Ne=null,Ve=null;S.depth&&(Ve=S.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,_e=S.stencil?oh:cc,Ne=S.stencil?uc:Dl);const Xe={colorFormat:n.RGBA8,depthFormat:Ve,scaleFactor:s};p=new XRWebGLBinding(i,n),m=p.createProjectionLayer(Xe),i.updateRenderState({layers:[m]}),e.setPixelRatio(1),e.setSize(m.textureWidth,m.textureHeight,!1),_=new pa(m.textureWidth,m.textureHeight,{format:rs,type:Wa,depthTexture:new h2(m.textureWidth,m.textureHeight,Ne,void 0,void 0,void 0,void 0,void 0,void 0,_e),stencilBuffer:S.stencil,colorSpace:e.outputColorSpace,samples:S.antialias?4:0});const vt=e.properties.get(_);vt.__ignoreDepthValues=m.ignoreDepthValues}_.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(a),ye.setContext(i),ye.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function j(ue){for(let _e=0;_e<ue.removed.length;_e++){const Ne=ue.removed[_e],Ve=x.indexOf(Ne);Ve>=0&&(x[Ve]=null,w[Ve].disconnect(Ne))}for(let _e=0;_e<ue.added.length;_e++){const Ne=ue.added[_e];let Ve=x.indexOf(Ne);if(Ve===-1){for(let vt=0;vt<w.length;vt++)if(vt>=x.length){x.push(Ne),Ve=vt;break}else if(x[vt]===null){x[vt]=Ne,Ve=vt;break}if(Ve===-1)break}const Xe=w[Ve];Xe&&Xe.connect(Ne)}}const q=new J,re=new J;function he(ue,_e,Ne){q.setFromMatrixPosition(_e.matrixWorld),re.setFromMatrixPosition(Ne.matrixWorld);const Ve=q.distanceTo(re),Xe=_e.projectionMatrix.elements,vt=Ne.projectionMatrix.elements,yt=Xe[14]/(Xe[10]-1),ut=Xe[14]/(Xe[10]+1),ht=(Xe[9]+1)/Xe[5],Z=(Xe[9]-1)/Xe[5],He=(Xe[8]-1)/Xe[0],Me=(vt[8]+1)/vt[0],Ge=yt*He,Re=yt*Me,ct=Ve/(-He+Me),Qe=ct*-He;_e.matrixWorld.decompose(ue.position,ue.quaternion,ue.scale),ue.translateX(Qe),ue.translateZ(ct),ue.matrixWorld.compose(ue.position,ue.quaternion,ue.scale),ue.matrixWorldInverse.copy(ue.matrixWorld).invert();const W=yt+ct,U=ut+ct,me=Ge-Qe,Oe=Re+(Ve-Qe),De=ht*ut/U*W,Be=Z*ut/U*W;ue.projectionMatrix.makePerspective(me,Oe,De,Be,W,U),ue.projectionMatrixInverse.copy(ue.projectionMatrix).invert()}function z(ue,_e){_e===null?ue.matrixWorld.copy(ue.matrix):ue.matrixWorld.multiplyMatrices(_e.matrixWorld,ue.matrix),ue.matrixWorldInverse.copy(ue.matrixWorld).invert()}this.updateCamera=function(ue){if(i===null)return;B.near=I.near=T.near=ue.near,B.far=I.far=T.far=ue.far,(O!==B.near||V!==B.far)&&(i.updateRenderState({depthNear:B.near,depthFar:B.far}),O=B.near,V=B.far);const _e=ue.parent,Ne=B.cameras;z(B,_e);for(let Ve=0;Ve<Ne.length;Ve++)z(Ne[Ve],_e);Ne.length===2?he(B,T,I):B.projectionMatrix.copy(T.projectionMatrix),ee(ue,B,_e)};function ee(ue,_e,Ne){Ne===null?ue.matrix.copy(_e.matrixWorld):(ue.matrix.copy(Ne.matrixWorld),ue.matrix.invert(),ue.matrix.multiply(_e.matrixWorld)),ue.matrix.decompose(ue.position,ue.quaternion,ue.scale),ue.updateMatrixWorld(!0),ue.projectionMatrix.copy(_e.projectionMatrix),ue.projectionMatrixInverse.copy(_e.projectionMatrixInverse),ue.isPerspectiveCamera&&(ue.fov=qp*2*Math.atan(1/ue.projectionMatrix.elements[5]),ue.zoom=1)}this.getCamera=function(){return B},this.getFoveation=function(){if(!(m===null&&v===null))return l},this.setFoveation=function(ue){l=ue,m!==null&&(m.fixedFoveation=ue),v!==null&&v.fixedFoveation!==void 0&&(v.fixedFoveation=ue)};let te=null;function fe(ue,_e){if(h=_e.getViewerPose(u||o),y=_e,h!==null){const Ne=h.views;v!==null&&(e.setRenderTargetFramebuffer(_,v.framebuffer),e.setRenderTarget(_));let Ve=!1;Ne.length!==B.cameras.length&&(B.cameras.length=0,Ve=!0);for(let Xe=0;Xe<Ne.length;Xe++){const vt=Ne[Xe];let yt=null;if(v!==null)yt=v.getViewport(vt);else{const ht=p.getViewSubImage(m,vt);yt=ht.viewport,Xe===0&&(e.setRenderTargetTextures(_,ht.colorTexture,m.ignoreDepthValues?void 0:ht.depthStencilTexture),e.setRenderTarget(_))}let ut=F[Xe];ut===void 0&&(ut=new Ar,ut.layers.enable(Xe),ut.viewport=new In,F[Xe]=ut),ut.matrix.fromArray(vt.transform.matrix),ut.matrix.decompose(ut.position,ut.quaternion,ut.scale),ut.projectionMatrix.fromArray(vt.projectionMatrix),ut.projectionMatrixInverse.copy(ut.projectionMatrix).invert(),ut.viewport.set(yt.x,yt.y,yt.width,yt.height),Xe===0&&(B.matrix.copy(ut.matrix),B.matrix.decompose(B.position,B.quaternion,B.scale)),Ve===!0&&B.cameras.push(ut)}}for(let Ne=0;Ne<w.length;Ne++){const Ve=x[Ne],Xe=w[Ne];Ve!==null&&Xe!==void 0&&Xe.update(Ve,_e,u||o)}te&&te(ue,_e),_e.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:_e}),y=null}const ye=new ik;ye.setAnimationLoop(fe),this.setAnimationLoop=function(ue){te=ue},this.dispose=function(){}}}function RZ(t,e){function n(A,_){A.matrixAutoUpdate===!0&&A.updateMatrix(),_.value.copy(A.matrix)}function r(A,_){_.color.getRGB(A.fogColor.value,ek(t)),_.isFog?(A.fogNear.value=_.near,A.fogFar.value=_.far):_.isFogExp2&&(A.fogDensity.value=_.density)}function i(A,_,w,x,M){_.isMeshBasicMaterial||_.isMeshLambertMaterial?s(A,_):_.isMeshToonMaterial?(s(A,_),p(A,_)):_.isMeshPhongMaterial?(s(A,_),h(A,_)):_.isMeshStandardMaterial?(s(A,_),m(A,_),_.isMeshPhysicalMaterial&&v(A,_,M)):_.isMeshMatcapMaterial?(s(A,_),y(A,_)):_.isMeshDepthMaterial?s(A,_):_.isMeshDistanceMaterial?(s(A,_),S(A,_)):_.isMeshNormalMaterial?s(A,_):_.isLineBasicMaterial?(o(A,_),_.isLineDashedMaterial&&a(A,_)):_.isPointsMaterial?l(A,_,w,x):_.isSpriteMaterial?u(A,_):_.isShadowMaterial?(A.color.value.copy(_.color),A.opacity.value=_.opacity):_.isShaderMaterial&&(_.uniformsNeedUpdate=!1)}function s(A,_){A.opacity.value=_.opacity,_.color&&A.diffuse.value.copy(_.color),_.emissive&&A.emissive.value.copy(_.emissive).multiplyScalar(_.emissiveIntensity),_.map&&(A.map.value=_.map,n(_.map,A.mapTransform)),_.alphaMap&&(A.alphaMap.value=_.alphaMap,n(_.alphaMap,A.alphaMapTransform)),_.bumpMap&&(A.bumpMap.value=_.bumpMap,n(_.bumpMap,A.bumpMapTransform),A.bumpScale.value=_.bumpScale,_.side===ss&&(A.bumpScale.value*=-1)),_.normalMap&&(A.normalMap.value=_.normalMap,n(_.normalMap,A.normalMapTransform),A.normalScale.value.copy(_.normalScale),_.side===ss&&A.normalScale.value.negate()),_.displacementMap&&(A.displacementMap.value=_.displacementMap,n(_.displacementMap,A.displacementMapTransform),A.displacementScale.value=_.displacementScale,A.displacementBias.value=_.displacementBias),_.emissiveMap&&(A.emissiveMap.value=_.emissiveMap,n(_.emissiveMap,A.emissiveMapTransform)),_.specularMap&&(A.specularMap.value=_.specularMap,n(_.specularMap,A.specularMapTransform)),_.alphaTest>0&&(A.alphaTest.value=_.alphaTest);const w=e.get(_).envMap;if(w&&(A.envMap.value=w,A.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,A.reflectivity.value=_.reflectivity,A.ior.value=_.ior,A.refractionRatio.value=_.refractionRatio),_.lightMap){A.lightMap.value=_.lightMap;const x=t._useLegacyLights===!0?Math.PI:1;A.lightMapIntensity.value=_.lightMapIntensity*x,n(_.lightMap,A.lightMapTransform)}_.aoMap&&(A.aoMap.value=_.aoMap,A.aoMapIntensity.value=_.aoMapIntensity,n(_.aoMap,A.aoMapTransform))}function o(A,_){A.diffuse.value.copy(_.color),A.opacity.value=_.opacity,_.map&&(A.map.value=_.map,n(_.map,A.mapTransform))}function a(A,_){A.dashSize.value=_.dashSize,A.totalSize.value=_.dashSize+_.gapSize,A.scale.value=_.scale}function l(A,_,w,x){A.diffuse.value.copy(_.color),A.opacity.value=_.opacity,A.size.value=_.size*w,A.scale.value=x*.5,_.map&&(A.map.value=_.map,n(_.map,A.uvTransform)),_.alphaMap&&(A.alphaMap.value=_.alphaMap,n(_.alphaMap,A.alphaMapTransform)),_.alphaTest>0&&(A.alphaTest.value=_.alphaTest)}function u(A,_){A.diffuse.value.copy(_.color),A.opacity.value=_.opacity,A.rotation.value=_.rotation,_.map&&(A.map.value=_.map,n(_.map,A.mapTransform)),_.alphaMap&&(A.alphaMap.value=_.alphaMap,n(_.alphaMap,A.alphaMapTransform)),_.alphaTest>0&&(A.alphaTest.value=_.alphaTest)}function h(A,_){A.specular.value.copy(_.specular),A.shininess.value=Math.max(_.shininess,1e-4)}function p(A,_){_.gradientMap&&(A.gradientMap.value=_.gradientMap)}function m(A,_){A.metalness.value=_.metalness,_.metalnessMap&&(A.metalnessMap.value=_.metalnessMap,n(_.metalnessMap,A.metalnessMapTransform)),A.roughness.value=_.roughness,_.roughnessMap&&(A.roughnessMap.value=_.roughnessMap,n(_.roughnessMap,A.roughnessMapTransform)),e.get(_).envMap&&(A.envMapIntensity.value=_.envMapIntensity)}function v(A,_,w){A.ior.value=_.ior,_.sheen>0&&(A.sheenColor.value.copy(_.sheenColor).multiplyScalar(_.sheen),A.sheenRoughness.value=_.sheenRoughness,_.sheenColorMap&&(A.sheenColorMap.value=_.sheenColorMap,n(_.sheenColorMap,A.sheenColorMapTransform)),_.sheenRoughnessMap&&(A.sheenRoughnessMap.value=_.sheenRoughnessMap,n(_.sheenRoughnessMap,A.sheenRoughnessMapTransform))),_.clearcoat>0&&(A.clearcoat.value=_.clearcoat,A.clearcoatRoughness.value=_.clearcoatRoughness,_.clearcoatMap&&(A.clearcoatMap.value=_.clearcoatMap,n(_.clearcoatMap,A.clearcoatMapTransform)),_.clearcoatRoughnessMap&&(A.clearcoatRoughnessMap.value=_.clearcoatRoughnessMap,n(_.clearcoatRoughnessMap,A.clearcoatRoughnessMapTransform)),_.clearcoatNormalMap&&(A.clearcoatNormalMap.value=_.clearcoatNormalMap,n(_.clearcoatNormalMap,A.clearcoatNormalMapTransform),A.clearcoatNormalScale.value.copy(_.clearcoatNormalScale),_.side===ss&&A.clearcoatNormalScale.value.negate())),_.iridescence>0&&(A.iridescence.value=_.iridescence,A.iridescenceIOR.value=_.iridescenceIOR,A.iridescenceThicknessMinimum.value=_.iridescenceThicknessRange[0],A.iridescenceThicknessMaximum.value=_.iridescenceThicknessRange[1],_.iridescenceMap&&(A.iridescenceMap.value=_.iridescenceMap,n(_.iridescenceMap,A.iridescenceMapTransform)),_.iridescenceThicknessMap&&(A.iridescenceThicknessMap.value=_.iridescenceThicknessMap,n(_.iridescenceThicknessMap,A.iridescenceThicknessMapTransform))),_.transmission>0&&(A.transmission.value=_.transmission,A.transmissionSamplerMap.value=w.texture,A.transmissionSamplerSize.value.set(w.width,w.height),_.transmissionMap&&(A.transmissionMap.value=_.transmissionMap,n(_.transmissionMap,A.transmissionMapTransform)),A.thickness.value=_.thickness,_.thicknessMap&&(A.thicknessMap.value=_.thicknessMap,n(_.thicknessMap,A.thicknessMapTransform)),A.attenuationDistance.value=_.attenuationDistance,A.attenuationColor.value.copy(_.attenuationColor)),_.anisotropy>0&&(A.anisotropyVector.value.set(_.anisotropy*Math.cos(_.anisotropyRotation),_.anisotropy*Math.sin(_.anisotropyRotation)),_.anisotropyMap&&(A.anisotropyMap.value=_.anisotropyMap,n(_.anisotropyMap,A.anisotropyMapTransform))),A.specularIntensity.value=_.specularIntensity,A.specularColor.value.copy(_.specularColor),_.specularColorMap&&(A.specularColorMap.value=_.specularColorMap,n(_.specularColorMap,A.specularColorMapTransform)),_.specularIntensityMap&&(A.specularIntensityMap.value=_.specularIntensityMap,n(_.specularIntensityMap,A.specularIntensityMapTransform))}function y(A,_){_.matcap&&(A.matcap.value=_.matcap)}function S(A,_){const w=e.get(_).light;A.referencePosition.value.setFromMatrixPosition(w.matrixWorld),A.nearDistance.value=w.shadow.camera.near,A.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function PZ(t,e,n,r){let i={},s={},o=[];const a=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(w,x){const M=x.program;r.uniformBlockBinding(w,M)}function u(w,x){let M=i[w.id];M===void 0&&(y(w),M=h(w),i[w.id]=M,w.addEventListener("dispose",A));const R=x.program;r.updateUBOMapping(w,R);const T=e.render.frame;s[w.id]!==T&&(m(w),s[w.id]=T)}function h(w){const x=p();w.__bindingPointIndex=x;const M=t.createBuffer(),R=w.__size,T=w.usage;return t.bindBuffer(t.UNIFORM_BUFFER,M),t.bufferData(t.UNIFORM_BUFFER,R,T),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,x,M),M}function p(){for(let w=0;w<a;w++)if(o.indexOf(w)===-1)return o.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function m(w){const x=i[w.id],M=w.uniforms,R=w.__cache;t.bindBuffer(t.UNIFORM_BUFFER,x);for(let T=0,I=M.length;T<I;T++){const F=Array.isArray(M[T])?M[T]:[M[T]];for(let B=0,O=F.length;B<O;B++){const V=F[B];if(v(V,T,B,R)===!0){const H=V.__offset,ne=Array.isArray(V.value)?V.value:[V.value];let j=0;for(let q=0;q<ne.length;q++){const re=ne[q],he=S(re);typeof re=="number"||typeof re=="boolean"?(V.__data[0]=re,t.bufferSubData(t.UNIFORM_BUFFER,H+j,V.__data)):re.isMatrix3?(V.__data[0]=re.elements[0],V.__data[1]=re.elements[1],V.__data[2]=re.elements[2],V.__data[3]=0,V.__data[4]=re.elements[3],V.__data[5]=re.elements[4],V.__data[6]=re.elements[5],V.__data[7]=0,V.__data[8]=re.elements[6],V.__data[9]=re.elements[7],V.__data[10]=re.elements[8],V.__data[11]=0):(re.toArray(V.__data,j),j+=he.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,H,V.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function v(w,x,M,R){const T=w.value,I=x+"_"+M;if(R[I]===void 0)return typeof T=="number"||typeof T=="boolean"?R[I]=T:R[I]=T.clone(),!0;{const F=R[I];if(typeof T=="number"||typeof T=="boolean"){if(F!==T)return R[I]=T,!0}else if(F.equals(T)===!1)return F.copy(T),!0}return!1}function y(w){const x=w.uniforms;let M=0;const R=16;for(let I=0,F=x.length;I<F;I++){const B=Array.isArray(x[I])?x[I]:[x[I]];for(let O=0,V=B.length;O<V;O++){const H=B[O],ne=Array.isArray(H.value)?H.value:[H.value];for(let j=0,q=ne.length;j<q;j++){const re=ne[j],he=S(re),z=M%R;z!==0&&R-z<he.boundary&&(M+=R-z),H.__data=new Float32Array(he.storage/Float32Array.BYTES_PER_ELEMENT),H.__offset=M,M+=he.storage}}}const T=M%R;return T>0&&(M+=R-T),w.__size=M,w.__cache={},this}function S(w){const x={boundary:0,storage:0};return typeof w=="number"||typeof w=="boolean"?(x.boundary=4,x.storage=4):w.isVector2?(x.boundary=8,x.storage=8):w.isVector3||w.isColor?(x.boundary=16,x.storage=12):w.isVector4?(x.boundary=16,x.storage=16):w.isMatrix3?(x.boundary=48,x.storage=48):w.isMatrix4?(x.boundary=64,x.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),x}function A(w){const x=w.target;x.removeEventListener("dispose",A);const M=o.indexOf(x.__bindingPointIndex);o.splice(M,1),t.deleteBuffer(i[x.id]),delete i[x.id],delete s[x.id]}function _(){for(const w in i)t.deleteBuffer(i[w]);o=[],i={},s={}}return{bind:l,update:u,dispose:_}}class m2{constructor(e={}){const{canvas:n=q4(),context:r=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:p=!1}=e;this.isWebGLRenderer=!0;let m;r!==null?m=r.getContextAttributes().alpha:m=o;const v=new Uint32Array(4),y=new Int32Array(4);let S=null,A=null;const _=[],w=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=zr,this._useLegacyLights=!1,this.toneMapping=$a,this.toneMappingExposure=1;const x=this;let M=!1,R=0,T=0,I=null,F=-1,B=null;const O=new In,V=new In;let H=null;const ne=new nt(0);let j=0,q=n.width,re=n.height,he=1,z=null,ee=null;const te=new In(0,0,q,re),fe=new In(0,0,q,re);let ye=!1;const ue=new vv;let _e=!1,Ne=!1,Ve=null;const Xe=new Nt,vt=new Te,yt=new J,ut={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ht(){return I===null?he:1}let Z=r;function He(X,ge){for(let Ae=0;Ae<X.length;Ae++){const Ee=X[Ae],xe=n.getContext(Ee,ge);if(xe!==null)return xe}return null}try{const X={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:h,failIfMajorPerformanceCaveat:p};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${fv}`),n.addEventListener("webglcontextlost",ke,!1),n.addEventListener("webglcontextrestored",se,!1),n.addEventListener("webglcontextcreationerror",je,!1),Z===null){const ge=["webgl2","webgl","experimental-webgl"];if(x.isWebGL1Renderer===!0&&ge.shift(),Z=He(ge,X),Z===null)throw He(ge)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&Z instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),Z.getShaderPrecisionFormat===void 0&&(Z.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(X){throw console.error("THREE.WebGLRenderer: "+X.message),X}let Me,Ge,Re,ct,Qe,W,U,me,Oe,De,Be,ft,Je,et,_t,zt,Fe,an,Jt,Dt,bt,ot,ie,Pe;function st(){Me=new Wq(Z),Ge=new Uq(Z,Me,e),Me.init(Ge),ot=new ck(Z,Me,Ge),Re=new bZ(Z,Me,Ge),ct=new Xq(Z),Qe=new dZ,W=new MZ(Z,Me,Re,Qe,Ge,ot,ct),U=new Hq(x),me=new $q(x),Oe=new tK(Z,Ge),ie=new Fq(Z,Me,Oe,Ge),De=new Vq(Z,Oe,ct,ie),Be=new qq(Z,De,Oe,ct),Jt=new Yq(Z,Ge,W),zt=new kq(Qe),ft=new hZ(x,U,me,Me,Ge,ie,zt),Je=new RZ(x,Qe),et=new mZ,_t=new SZ(Me,Ge),an=new Oq(x,U,me,Re,Be,m,l),Fe=new EZ(x,Be,Ge),Pe=new PZ(Z,ct,Ge,Re),Dt=new Nq(Z,Me,ct,Ge),bt=new jq(Z,Me,ct,Ge),ct.programs=ft.programs,x.capabilities=Ge,x.extensions=Me,x.properties=Qe,x.renderLists=et,x.shadowMap=Fe,x.state=Re,x.info=ct}st();const rt=new TZ(x,Z);this.xr=rt,this.getContext=function(){return Z},this.getContextAttributes=function(){return Z.getContextAttributes()},this.forceContextLoss=function(){const X=Me.get("WEBGL_lose_context");X&&X.loseContext()},this.forceContextRestore=function(){const X=Me.get("WEBGL_lose_context");X&&X.restoreContext()},this.getPixelRatio=function(){return he},this.setPixelRatio=function(X){X!==void 0&&(he=X,this.setSize(q,re,!1))},this.getSize=function(X){return X.set(q,re)},this.setSize=function(X,ge,Ae=!0){if(rt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}q=X,re=ge,n.width=Math.floor(X*he),n.height=Math.floor(ge*he),Ae===!0&&(n.style.width=X+"px",n.style.height=ge+"px"),this.setViewport(0,0,X,ge)},this.getDrawingBufferSize=function(X){return X.set(q*he,re*he).floor()},this.setDrawingBufferSize=function(X,ge,Ae){q=X,re=ge,he=Ae,n.width=Math.floor(X*Ae),n.height=Math.floor(ge*Ae),this.setViewport(0,0,X,ge)},this.getCurrentViewport=function(X){return X.copy(O)},this.getViewport=function(X){return X.copy(te)},this.setViewport=function(X,ge,Ae,Ee){X.isVector4?te.set(X.x,X.y,X.z,X.w):te.set(X,ge,Ae,Ee),Re.viewport(O.copy(te).multiplyScalar(he).floor())},this.getScissor=function(X){return X.copy(fe)},this.setScissor=function(X,ge,Ae,Ee){X.isVector4?fe.set(X.x,X.y,X.z,X.w):fe.set(X,ge,Ae,Ee),Re.scissor(V.copy(fe).multiplyScalar(he).floor())},this.getScissorTest=function(){return ye},this.setScissorTest=function(X){Re.setScissorTest(ye=X)},this.setOpaqueSort=function(X){z=X},this.setTransparentSort=function(X){ee=X},this.getClearColor=function(X){return X.copy(an.getClearColor())},this.setClearColor=function(){an.setClearColor.apply(an,arguments)},this.getClearAlpha=function(){return an.getClearAlpha()},this.setClearAlpha=function(){an.setClearAlpha.apply(an,arguments)},this.clear=function(X=!0,ge=!0,Ae=!0){let Ee=0;if(X){let xe=!1;if(I!==null){const at=I.texture.format;xe=at===e2||at===ZT||at===QT}if(xe){const at=I.texture.type,xt=at===Wa||at===Dl||at===GS||at===uc||at===YT||at===qT,Lt=an.getClearColor(),Rt=an.getClearAlpha(),Wt=Lt.r,$t=Lt.g,Vt=Lt.b;xt?(v[0]=Wt,v[1]=$t,v[2]=Vt,v[3]=Rt,Z.clearBufferuiv(Z.COLOR,0,v)):(y[0]=Wt,y[1]=$t,y[2]=Vt,y[3]=Rt,Z.clearBufferiv(Z.COLOR,0,y))}else Ee|=Z.COLOR_BUFFER_BIT}ge&&(Ee|=Z.DEPTH_BUFFER_BIT),Ae&&(Ee|=Z.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Z.clear(Ee)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",ke,!1),n.removeEventListener("webglcontextrestored",se,!1),n.removeEventListener("webglcontextcreationerror",je,!1),et.dispose(),_t.dispose(),Qe.dispose(),U.dispose(),me.dispose(),Be.dispose(),ie.dispose(),Pe.dispose(),ft.dispose(),rt.dispose(),rt.removeEventListener("sessionstart",kn),rt.removeEventListener("sessionend",vn),Ve&&(Ve.dispose(),Ve=null),wr.stop()};function ke(X){X.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),M=!0}function se(){console.log("THREE.WebGLRenderer: Context Restored."),M=!1;const X=ct.autoReset,ge=Fe.enabled,Ae=Fe.autoUpdate,Ee=Fe.needsUpdate,xe=Fe.type;st(),ct.autoReset=X,Fe.enabled=ge,Fe.autoUpdate=Ae,Fe.needsUpdate=Ee,Fe.type=xe}function je(X){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",X.statusMessage)}function qe(X){const ge=X.target;ge.removeEventListener("dispose",qe),Tt(ge)}function Tt(X){gt(X),Qe.remove(X)}function gt(X){const ge=Qe.get(X).programs;ge!==void 0&&(ge.forEach(function(Ae){ft.releaseProgram(Ae)}),X.isShaderMaterial&&ft.releaseShaderCache(X))}this.renderBufferDirect=function(X,ge,Ae,Ee,xe,at){ge===null&&(ge=ut);const xt=xe.isMesh&&xe.matrixWorld.determinant()<0,Lt=Em(X,ge,Ae,Ee,xe);Re.setMaterial(Ee,xt);let Rt=Ae.index,Wt=1;if(Ee.wireframe===!0){if(Rt=De.getWireframeAttribute(Ae),Rt===void 0)return;Wt=2}const $t=Ae.drawRange,Vt=Ae.attributes.position;let Hn=$t.start*Wt,Br=($t.start+$t.count)*Wt;at!==null&&(Hn=Math.max(Hn,at.start*Wt),Br=Math.min(Br,(at.start+at.count)*Wt)),Rt!==null?(Hn=Math.max(Hn,0),Br=Math.min(Br,Rt.count)):Vt!=null&&(Hn=Math.max(Hn,0),Br=Math.min(Br,Vt.count));const Bn=Br-Hn;if(Bn<0||Bn===1/0)return;ie.setup(xe,Ee,Lt,Ae,Rt);let Dr,Ot=Dt;if(Rt!==null&&(Dr=Oe.get(Rt),Ot=bt,Ot.setIndex(Dr)),xe.isMesh)Ee.wireframe===!0?(Re.setLineWidth(Ee.wireframeLinewidth*ht()),Ot.setMode(Z.LINES)):Ot.setMode(Z.TRIANGLES);else if(xe.isLine){let dt=Ee.linewidth;dt===void 0&&(dt=1),Re.setLineWidth(dt*ht()),xe.isLineSegments?Ot.setMode(Z.LINES):xe.isLineLoop?Ot.setMode(Z.LINE_LOOP):Ot.setMode(Z.LINE_STRIP)}else xe.isPoints?Ot.setMode(Z.POINTS):xe.isSprite&&Ot.setMode(Z.TRIANGLES);if(xe.isBatchedMesh)Ot.renderMultiDraw(xe._multiDrawStarts,xe._multiDrawCounts,xe._multiDrawCount);else if(xe.isInstancedMesh)Ot.renderInstances(Hn,Bn,xe.count);else if(Ae.isInstancedBufferGeometry){const dt=Ae._maxInstanceCount!==void 0?Ae._maxInstanceCount:1/0,cs=Math.min(Ae.instanceCount,dt);Ot.renderInstances(Hn,Bn,cs)}else Ot.render(Hn,Bn)};function ln(X,ge,Ae){X.transparent===!0&&X.side===sa&&X.forceSinglePass===!1?(X.side=ss,X.needsUpdate=!0,Zl(X,ge,Ae),X.side=Ja,X.needsUpdate=!0,Zl(X,ge,Ae),X.side=sa):Zl(X,ge,Ae)}this.compile=function(X,ge,Ae=null){Ae===null&&(Ae=X),A=_t.get(Ae),A.init(),w.push(A),Ae.traverseVisible(function(xe){xe.isLight&&xe.layers.test(ge.layers)&&(A.pushLight(xe),xe.castShadow&&A.pushShadow(xe))}),X!==Ae&&X.traverseVisible(function(xe){xe.isLight&&xe.layers.test(ge.layers)&&(A.pushLight(xe),xe.castShadow&&A.pushShadow(xe))}),A.setupLights(x._useLegacyLights);const Ee=new Set;return X.traverse(function(xe){const at=xe.material;if(at)if(Array.isArray(at))for(let xt=0;xt<at.length;xt++){const Lt=at[xt];ln(Lt,Ae,xe),Ee.add(Lt)}else ln(at,Ae,xe),Ee.add(at)}),w.pop(),A=null,Ee},this.compileAsync=function(X,ge,Ae=null){const Ee=this.compile(X,ge,Ae);return new Promise(xe=>{function at(){if(Ee.forEach(function(xt){Qe.get(xt).currentProgram.isReady()&&Ee.delete(xt)}),Ee.size===0){xe(X);return}setTimeout(at,10)}Me.get("KHR_parallel_shader_compile")!==null?at():setTimeout(at,10)})};let hn=null;function Rn(X){hn&&hn(X)}function kn(){wr.stop()}function vn(){wr.start()}const wr=new ik;wr.setAnimationLoop(Rn),typeof self<"u"&&wr.setContext(self),this.setAnimationLoop=function(X){hn=X,rt.setAnimationLoop(X),X===null?wr.stop():wr.start()},rt.addEventListener("sessionstart",kn),rt.addEventListener("sessionend",vn),this.render=function(X,ge){if(ge!==void 0&&ge.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(M===!0)return;X.matrixWorldAutoUpdate===!0&&X.updateMatrixWorld(),ge.parent===null&&ge.matrixWorldAutoUpdate===!0&&ge.updateMatrixWorld(),rt.enabled===!0&&rt.isPresenting===!0&&(rt.cameraAutoUpdate===!0&&rt.updateCamera(ge),ge=rt.getCamera()),X.isScene===!0&&X.onBeforeRender(x,X,ge,I),A=_t.get(X,w.length),A.init(),w.push(A),Xe.multiplyMatrices(ge.projectionMatrix,ge.matrixWorldInverse),ue.setFromProjectionMatrix(Xe),Ne=this.localClippingEnabled,_e=zt.init(this.clippingPlanes,Ne),S=et.get(X,_.length),S.init(),_.push(S),us(X,ge,0,x.sortObjects),S.finish(),x.sortObjects===!0&&S.sort(z,ee),this.info.render.frame++,_e===!0&&zt.beginShadows();const Ae=A.state.shadowsArray;if(Fe.render(Ae,X,ge),_e===!0&&zt.endShadows(),this.info.autoReset===!0&&this.info.reset(),an.render(S,X),A.setupLights(x._useLegacyLights),ge.isArrayCamera){const Ee=ge.cameras;for(let xe=0,at=Ee.length;xe<at;xe++){const xt=Ee[xe];Qa(S,X,xt,xt.viewport)}}else Qa(S,X,ge);I!==null&&(W.updateMultisampleRenderTarget(I),W.updateRenderTargetMipmap(I)),X.isScene===!0&&X.onAfterRender(x,X,ge),ie.resetDefaultState(),F=-1,B=null,w.pop(),w.length>0?A=w[w.length-1]:A=null,_.pop(),_.length>0?S=_[_.length-1]:S=null};function us(X,ge,Ae,Ee){if(X.visible===!1)return;if(X.layers.test(ge.layers)){if(X.isGroup)Ae=X.renderOrder;else if(X.isLOD)X.autoUpdate===!0&&X.update(ge);else if(X.isLight)A.pushLight(X),X.castShadow&&A.pushShadow(X);else if(X.isSprite){if(!X.frustumCulled||ue.intersectsSprite(X)){Ee&&yt.setFromMatrixPosition(X.matrixWorld).applyMatrix4(Xe);const xt=Be.update(X),Lt=X.material;Lt.visible&&S.push(X,xt,Lt,Ae,yt.z,null)}}else if((X.isMesh||X.isLine||X.isPoints)&&(!X.frustumCulled||ue.intersectsObject(X))){const xt=Be.update(X),Lt=X.material;if(Ee&&(X.boundingSphere!==void 0?(X.boundingSphere===null&&X.computeBoundingSphere(),yt.copy(X.boundingSphere.center)):(xt.boundingSphere===null&&xt.computeBoundingSphere(),yt.copy(xt.boundingSphere.center)),yt.applyMatrix4(X.matrixWorld).applyMatrix4(Xe)),Array.isArray(Lt)){const Rt=xt.groups;for(let Wt=0,$t=Rt.length;Wt<$t;Wt++){const Vt=Rt[Wt],Hn=Lt[Vt.materialIndex];Hn&&Hn.visible&&S.push(X,xt,Hn,Ae,yt.z,Vt)}}else Lt.visible&&S.push(X,xt,Lt,Ae,yt.z,null)}}const at=X.children;for(let xt=0,Lt=at.length;xt<Lt;xt++)us(at[xt],ge,Ae,Ee)}function Qa(X,ge,Ae,Ee){const xe=X.opaque,at=X.transmissive,xt=X.transparent;A.setupLightsView(Ae),_e===!0&&zt.setGlobalState(x.clippingPlanes,Ae),at.length>0&&Pc(xe,at,ge,Ae),Ee&&Re.viewport(O.copy(Ee)),xe.length>0&&Ql(xe,ge,Ae),at.length>0&&Ql(at,ge,Ae),xt.length>0&&Ql(xt,ge,Ae),Re.buffers.depth.setTest(!0),Re.buffers.depth.setMask(!0),Re.buffers.color.setMask(!0),Re.setPolygonOffset(!1)}function Pc(X,ge,Ae,Ee){if((Ae.isScene===!0?Ae.overrideMaterial:null)!==null)return;const at=Ge.isWebGL2;Ve===null&&(Ve=new pa(1,1,{generateMipmaps:!0,type:Me.has("EXT_color_buffer_half_float")?Jp:Wa,minFilter:Ka,samples:at?4:0})),x.getDrawingBufferSize(vt),at?Ve.setSize(vt.x,vt.y):Ve.setSize(O1(vt.x),O1(vt.y));const xt=x.getRenderTarget();x.setRenderTarget(Ve),x.getClearColor(ne),j=x.getClearAlpha(),j<1&&x.setClearColor(16777215,.5),x.clear();const Lt=x.toneMapping;x.toneMapping=$a,Ql(X,Ae,Ee),W.updateMultisampleRenderTarget(Ve),W.updateRenderTargetMipmap(Ve);let Rt=!1;for(let Wt=0,$t=ge.length;Wt<$t;Wt++){const Vt=ge[Wt],Hn=Vt.object,Br=Vt.geometry,Bn=Vt.material,Dr=Vt.group;if(Bn.side===sa&&Hn.layers.test(Ee.layers)){const Ot=Bn.side;Bn.side=ss,Bn.needsUpdate=!0,xa(Hn,Ae,Ee,Br,Bn,Dr),Bn.side=Ot,Bn.needsUpdate=!0,Rt=!0}}Rt===!0&&(W.updateMultisampleRenderTarget(Ve),W.updateRenderTargetMipmap(Ve)),x.setRenderTarget(xt),x.setClearColor(ne,j),x.toneMapping=Lt}function Ql(X,ge,Ae){const Ee=ge.isScene===!0?ge.overrideMaterial:null;for(let xe=0,at=X.length;xe<at;xe++){const xt=X[xe],Lt=xt.object,Rt=xt.geometry,Wt=Ee===null?xt.material:Ee,$t=xt.group;Lt.layers.test(Ae.layers)&&xa(Lt,ge,Ae,Rt,Wt,$t)}}function xa(X,ge,Ae,Ee,xe,at){X.onBeforeRender(x,ge,Ae,Ee,xe,at),X.modelViewMatrix.multiplyMatrices(Ae.matrixWorldInverse,X.matrixWorld),X.normalMatrix.getNormalMatrix(X.modelViewMatrix),xe.onBeforeRender(x,ge,Ae,Ee,X,at),xe.transparent===!0&&xe.side===sa&&xe.forceSinglePass===!1?(xe.side=ss,xe.needsUpdate=!0,x.renderBufferDirect(Ae,ge,Ee,xe,X,at),xe.side=Ja,xe.needsUpdate=!0,x.renderBufferDirect(Ae,ge,Ee,xe,X,at),xe.side=sa):x.renderBufferDirect(Ae,ge,Ee,xe,X,at),X.onAfterRender(x,ge,Ae,Ee,xe,at)}function Zl(X,ge,Ae){ge.isScene!==!0&&(ge=ut);const Ee=Qe.get(X),xe=A.state.lights,at=A.state.shadowsArray,xt=xe.state.version,Lt=ft.getParameters(X,xe.state,at,ge,Ae),Rt=ft.getProgramCacheKey(Lt);let Wt=Ee.programs;Ee.environment=X.isMeshStandardMaterial?ge.environment:null,Ee.fog=ge.fog,Ee.envMap=(X.isMeshStandardMaterial?me:U).get(X.envMap||Ee.environment),Wt===void 0&&(X.addEventListener("dispose",qe),Wt=new Map,Ee.programs=Wt);let $t=Wt.get(Rt);if($t!==void 0){if(Ee.currentProgram===$t&&Ee.lightsStateVersion===xt)return Ph(X,Lt),$t}else Lt.uniforms=ft.getUniforms(X),X.onBuild(Ae,Lt,x),X.onBeforeCompile(Lt,x),$t=ft.acquireProgram(Lt,Rt),Wt.set(Rt,$t),Ee.uniforms=Lt.uniforms;const Vt=Ee.uniforms;return(!X.isShaderMaterial&&!X.isRawShaderMaterial||X.clipping===!0)&&(Vt.clippingPlanes=zt.uniform),Ph(X,Lt),Ee.needsLights=Ih(X),Ee.lightsStateVersion=xt,Ee.needsLights&&(Vt.ambientLightColor.value=xe.state.ambient,Vt.lightProbe.value=xe.state.probe,Vt.directionalLights.value=xe.state.directional,Vt.directionalLightShadows.value=xe.state.directionalShadow,Vt.spotLights.value=xe.state.spot,Vt.spotLightShadows.value=xe.state.spotShadow,Vt.rectAreaLights.value=xe.state.rectArea,Vt.ltc_1.value=xe.state.rectAreaLTC1,Vt.ltc_2.value=xe.state.rectAreaLTC2,Vt.pointLights.value=xe.state.point,Vt.pointLightShadows.value=xe.state.pointShadow,Vt.hemisphereLights.value=xe.state.hemi,Vt.directionalShadowMap.value=xe.state.directionalShadowMap,Vt.directionalShadowMatrix.value=xe.state.directionalShadowMatrix,Vt.spotShadowMap.value=xe.state.spotShadowMap,Vt.spotLightMatrix.value=xe.state.spotLightMatrix,Vt.spotLightMap.value=xe.state.spotLightMap,Vt.pointShadowMap.value=xe.state.pointShadowMap,Vt.pointShadowMatrix.value=xe.state.pointShadowMatrix),Ee.currentProgram=$t,Ee.uniformsList=null,$t}function Rh(X){if(X.uniformsList===null){const ge=X.currentProgram.getUniforms();X.uniformsList=Jx.seqWithValue(ge.seq,X.uniforms)}return X.uniformsList}function Ph(X,ge){const Ae=Qe.get(X);Ae.outputColorSpace=ge.outputColorSpace,Ae.batching=ge.batching,Ae.instancing=ge.instancing,Ae.instancingColor=ge.instancingColor,Ae.skinning=ge.skinning,Ae.morphTargets=ge.morphTargets,Ae.morphNormals=ge.morphNormals,Ae.morphColors=ge.morphColors,Ae.morphTargetsCount=ge.morphTargetsCount,Ae.numClippingPlanes=ge.numClippingPlanes,Ae.numIntersection=ge.numClipIntersection,Ae.vertexAlphas=ge.vertexAlphas,Ae.vertexTangents=ge.vertexTangents,Ae.toneMapping=ge.toneMapping}function Em(X,ge,Ae,Ee,xe){ge.isScene!==!0&&(ge=ut),W.resetTextureUnits();const at=ge.fog,xt=Ee.isMeshStandardMaterial?ge.environment:null,Lt=I===null?x.outputColorSpace:I.isXRRenderTarget===!0?I.texture.colorSpace:da,Rt=(Ee.isMeshStandardMaterial?me:U).get(Ee.envMap||xt),Wt=Ee.vertexColors===!0&&!!Ae.attributes.color&&Ae.attributes.color.itemSize===4,$t=!!Ae.attributes.tangent&&(!!Ee.normalMap||Ee.anisotropy>0),Vt=!!Ae.morphAttributes.position,Hn=!!Ae.morphAttributes.normal,Br=!!Ae.morphAttributes.color;let Bn=$a;Ee.toneMapped&&(I===null||I.isXRRenderTarget===!0)&&(Bn=x.toneMapping);const Dr=Ae.morphAttributes.position||Ae.morphAttributes.normal||Ae.morphAttributes.color,Ot=Dr!==void 0?Dr.length:0,dt=Qe.get(Ee),cs=A.state.lights;if(_e===!0&&(Ne===!0||X!==B)){const Xr=X===B&&Ee.id===F;zt.setState(Ee,X,Xr)}let Qt=!1;Ee.version===dt.__version?(dt.needsLights&&dt.lightsStateVersion!==cs.state.version||dt.outputColorSpace!==Lt||xe.isBatchedMesh&&dt.batching===!1||!xe.isBatchedMesh&&dt.batching===!0||xe.isInstancedMesh&&dt.instancing===!1||!xe.isInstancedMesh&&dt.instancing===!0||xe.isSkinnedMesh&&dt.skinning===!1||!xe.isSkinnedMesh&&dt.skinning===!0||xe.isInstancedMesh&&dt.instancingColor===!0&&xe.instanceColor===null||xe.isInstancedMesh&&dt.instancingColor===!1&&xe.instanceColor!==null||dt.envMap!==Rt||Ee.fog===!0&&dt.fog!==at||dt.numClippingPlanes!==void 0&&(dt.numClippingPlanes!==zt.numPlanes||dt.numIntersection!==zt.numIntersection)||dt.vertexAlphas!==Wt||dt.vertexTangents!==$t||dt.morphTargets!==Vt||dt.morphNormals!==Hn||dt.morphColors!==Br||dt.toneMapping!==Bn||Ge.isWebGL2===!0&&dt.morphTargetsCount!==Ot)&&(Qt=!0):(Qt=!0,dt.__version=Ee.version);let Xn=dt.currentProgram;Qt===!0&&(Xn=Zl(Ee,ge,xe));let Rs=!1,Ri=!1,Or=!1;const Zn=Xn.getUniforms(),Wi=dt.uniforms;if(Re.useProgram(Xn.program)&&(Rs=!0,Ri=!0,Or=!0),Ee.id!==F&&(F=Ee.id,Ri=!0),Rs||B!==X){Zn.setValue(Z,"projectionMatrix",X.projectionMatrix),Zn.setValue(Z,"viewMatrix",X.matrixWorldInverse);const Xr=Zn.map.cameraPosition;Xr!==void 0&&Xr.setValue(Z,yt.setFromMatrixPosition(X.matrixWorld)),Ge.logarithmicDepthBuffer&&Zn.setValue(Z,"logDepthBufFC",2/(Math.log(X.far+1)/Math.LN2)),(Ee.isMeshPhongMaterial||Ee.isMeshToonMaterial||Ee.isMeshLambertMaterial||Ee.isMeshBasicMaterial||Ee.isMeshStandardMaterial||Ee.isShaderMaterial)&&Zn.setValue(Z,"isOrthographic",X.isOrthographicCamera===!0),B!==X&&(B=X,Ri=!0,Or=!0)}if(xe.isSkinnedMesh){Zn.setOptional(Z,xe,"bindMatrix"),Zn.setOptional(Z,xe,"bindMatrixInverse");const Xr=xe.skeleton;Xr&&(Ge.floatVertexTextures?(Xr.boneTexture===null&&Xr.computeBoneTexture(),Zn.setValue(Z,"boneTexture",Xr.boneTexture,W)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}xe.isBatchedMesh&&(Zn.setOptional(Z,xe,"batchingTexture"),Zn.setValue(Z,"batchingTexture",xe._matricesTexture,W));const Za=Ae.morphAttributes;if((Za.position!==void 0||Za.normal!==void 0||Za.color!==void 0&&Ge.isWebGL2===!0)&&Jt.update(xe,Ae,Xn),(Ri||dt.receiveShadow!==xe.receiveShadow)&&(dt.receiveShadow=xe.receiveShadow,Zn.setValue(Z,"receiveShadow",xe.receiveShadow)),Ee.isMeshGouraudMaterial&&Ee.envMap!==null&&(Wi.envMap.value=Rt,Wi.flipEnvMap.value=Rt.isCubeTexture&&Rt.isRenderTargetTexture===!1?-1:1),Ri&&(Zn.setValue(Z,"toneMappingExposure",x.toneMappingExposure),dt.needsLights&&bm(Wi,Or),at&&Ee.fog===!0&&Je.refreshFogUniforms(Wi,at),Je.refreshMaterialUniforms(Wi,Ee,he,re,Ve),Jx.upload(Z,Rh(dt),Wi,W)),Ee.isShaderMaterial&&Ee.uniformsNeedUpdate===!0&&(Jx.upload(Z,Rh(dt),Wi,W),Ee.uniformsNeedUpdate=!1),Ee.isSpriteMaterial&&Zn.setValue(Z,"center",xe.center),Zn.setValue(Z,"modelViewMatrix",xe.modelViewMatrix),Zn.setValue(Z,"normalMatrix",xe.normalMatrix),Zn.setValue(Z,"modelMatrix",xe.matrixWorld),Ee.isShaderMaterial||Ee.isRawShaderMaterial){const Xr=Ee.uniformsGroups;for(let el=0,Pi=Xr.length;el<Pi;el++)if(Ge.isWebGL2){const eu=Xr[el];Pe.update(eu,Xn),Pe.bind(eu,Xn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Xn}function bm(X,ge){X.ambientLightColor.needsUpdate=ge,X.lightProbe.needsUpdate=ge,X.directionalLights.needsUpdate=ge,X.directionalLightShadows.needsUpdate=ge,X.pointLights.needsUpdate=ge,X.pointLightShadows.needsUpdate=ge,X.spotLights.needsUpdate=ge,X.spotLightShadows.needsUpdate=ge,X.rectAreaLights.needsUpdate=ge,X.hemisphereLights.needsUpdate=ge}function Ih(X){return X.isMeshLambertMaterial||X.isMeshToonMaterial||X.isMeshPhongMaterial||X.isMeshStandardMaterial||X.isShadowMaterial||X.isShaderMaterial&&X.lights===!0}this.getActiveCubeFace=function(){return R},this.getActiveMipmapLevel=function(){return T},this.getRenderTarget=function(){return I},this.setRenderTargetTextures=function(X,ge,Ae){Qe.get(X.texture).__webglTexture=ge,Qe.get(X.depthTexture).__webglTexture=Ae;const Ee=Qe.get(X);Ee.__hasExternalTextures=!0,Ee.__hasExternalTextures&&(Ee.__autoAllocateDepthBuffer=Ae===void 0,Ee.__autoAllocateDepthBuffer||Me.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ee.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(X,ge){const Ae=Qe.get(X);Ae.__webglFramebuffer=ge,Ae.__useDefaultFramebuffer=ge===void 0},this.setRenderTarget=function(X,ge=0,Ae=0){I=X,R=ge,T=Ae;let Ee=!0,xe=null,at=!1,xt=!1;if(X){const Rt=Qe.get(X);Rt.__useDefaultFramebuffer!==void 0?(Re.bindFramebuffer(Z.FRAMEBUFFER,null),Ee=!1):Rt.__webglFramebuffer===void 0?W.setupRenderTarget(X):Rt.__hasExternalTextures&&W.rebindTextures(X,Qe.get(X.texture).__webglTexture,Qe.get(X.depthTexture).__webglTexture);const Wt=X.texture;(Wt.isData3DTexture||Wt.isDataArrayTexture||Wt.isCompressedArrayTexture)&&(xt=!0);const $t=Qe.get(X).__webglFramebuffer;X.isWebGLCubeRenderTarget?(Array.isArray($t[ge])?xe=$t[ge][Ae]:xe=$t[ge],at=!0):Ge.isWebGL2&&X.samples>0&&W.useMultisampledRTT(X)===!1?xe=Qe.get(X).__webglMultisampledFramebuffer:Array.isArray($t)?xe=$t[Ae]:xe=$t,O.copy(X.viewport),V.copy(X.scissor),H=X.scissorTest}else O.copy(te).multiplyScalar(he).floor(),V.copy(fe).multiplyScalar(he).floor(),H=ye;if(Re.bindFramebuffer(Z.FRAMEBUFFER,xe)&&Ge.drawBuffers&&Ee&&Re.drawBuffers(X,xe),Re.viewport(O),Re.scissor(V),Re.setScissorTest(H),at){const Rt=Qe.get(X.texture);Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_CUBE_MAP_POSITIVE_X+ge,Rt.__webglTexture,Ae)}else if(xt){const Rt=Qe.get(X.texture),Wt=ge||0;Z.framebufferTextureLayer(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Rt.__webglTexture,Ae||0,Wt)}F=-1},this.readRenderTargetPixels=function(X,ge,Ae,Ee,xe,at,xt){if(!(X&&X.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Lt=Qe.get(X).__webglFramebuffer;if(X.isWebGLCubeRenderTarget&&xt!==void 0&&(Lt=Lt[xt]),Lt){Re.bindFramebuffer(Z.FRAMEBUFFER,Lt);try{const Rt=X.texture,Wt=Rt.format,$t=Rt.type;if(Wt!==rs&&ot.convert(Wt)!==Z.getParameter(Z.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Vt=$t===Jp&&(Me.has("EXT_color_buffer_half_float")||Ge.isWebGL2&&Me.has("EXT_color_buffer_float"));if($t!==Wa&&ot.convert($t)!==Z.getParameter(Z.IMPLEMENTATION_COLOR_READ_TYPE)&&!($t===oa&&(Ge.isWebGL2||Me.has("OES_texture_float")||Me.has("WEBGL_color_buffer_float")))&&!Vt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ge>=0&&ge<=X.width-Ee&&Ae>=0&&Ae<=X.height-xe&&Z.readPixels(ge,Ae,Ee,xe,ot.convert(Wt),ot.convert($t),at)}finally{const Rt=I!==null?Qe.get(I).__webglFramebuffer:null;Re.bindFramebuffer(Z.FRAMEBUFFER,Rt)}}},this.copyFramebufferToTexture=function(X,ge,Ae=0){const Ee=Math.pow(2,-Ae),xe=Math.floor(ge.image.width*Ee),at=Math.floor(ge.image.height*Ee);W.setTexture2D(ge,0),Z.copyTexSubImage2D(Z.TEXTURE_2D,Ae,0,0,X.x,X.y,xe,at),Re.unbindTexture()},this.copyTextureToTexture=function(X,ge,Ae,Ee=0){const xe=ge.image.width,at=ge.image.height,xt=ot.convert(Ae.format),Lt=ot.convert(Ae.type);W.setTexture2D(Ae,0),Z.pixelStorei(Z.UNPACK_FLIP_Y_WEBGL,Ae.flipY),Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ae.premultiplyAlpha),Z.pixelStorei(Z.UNPACK_ALIGNMENT,Ae.unpackAlignment),ge.isDataTexture?Z.texSubImage2D(Z.TEXTURE_2D,Ee,X.x,X.y,xe,at,xt,Lt,ge.image.data):ge.isCompressedTexture?Z.compressedTexSubImage2D(Z.TEXTURE_2D,Ee,X.x,X.y,ge.mipmaps[0].width,ge.mipmaps[0].height,xt,ge.mipmaps[0].data):Z.texSubImage2D(Z.TEXTURE_2D,Ee,X.x,X.y,xt,Lt,ge.image),Ee===0&&Ae.generateMipmaps&&Z.generateMipmap(Z.TEXTURE_2D),Re.unbindTexture()},this.copyTextureToTexture3D=function(X,ge,Ae,Ee,xe=0){if(x.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const at=X.max.x-X.min.x+1,xt=X.max.y-X.min.y+1,Lt=X.max.z-X.min.z+1,Rt=ot.convert(Ee.format),Wt=ot.convert(Ee.type);let $t;if(Ee.isData3DTexture)W.setTexture3D(Ee,0),$t=Z.TEXTURE_3D;else if(Ee.isDataArrayTexture||Ee.isCompressedArrayTexture)W.setTexture2DArray(Ee,0),$t=Z.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Z.pixelStorei(Z.UNPACK_FLIP_Y_WEBGL,Ee.flipY),Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ee.premultiplyAlpha),Z.pixelStorei(Z.UNPACK_ALIGNMENT,Ee.unpackAlignment);const Vt=Z.getParameter(Z.UNPACK_ROW_LENGTH),Hn=Z.getParameter(Z.UNPACK_IMAGE_HEIGHT),Br=Z.getParameter(Z.UNPACK_SKIP_PIXELS),Bn=Z.getParameter(Z.UNPACK_SKIP_ROWS),Dr=Z.getParameter(Z.UNPACK_SKIP_IMAGES),Ot=Ae.isCompressedTexture?Ae.mipmaps[xe]:Ae.image;Z.pixelStorei(Z.UNPACK_ROW_LENGTH,Ot.width),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,Ot.height),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,X.min.x),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,X.min.y),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,X.min.z),Ae.isDataTexture||Ae.isData3DTexture?Z.texSubImage3D($t,xe,ge.x,ge.y,ge.z,at,xt,Lt,Rt,Wt,Ot.data):Ae.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Z.compressedTexSubImage3D($t,xe,ge.x,ge.y,ge.z,at,xt,Lt,Rt,Ot.data)):Z.texSubImage3D($t,xe,ge.x,ge.y,ge.z,at,xt,Lt,Rt,Wt,Ot),Z.pixelStorei(Z.UNPACK_ROW_LENGTH,Vt),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,Hn),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,Br),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,Bn),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,Dr),xe===0&&Ee.generateMipmaps&&Z.generateMipmap($t),Re.unbindTexture()},this.initTexture=function(X){X.isCubeTexture?W.setTextureCube(X,0):X.isData3DTexture?W.setTexture3D(X,0):X.isDataArrayTexture||X.isCompressedArrayTexture?W.setTexture2DArray(X,0):W.setTexture2D(X,0),Re.unbindTexture()},this.resetState=function(){R=0,T=0,I=null,Re.reset(),ie.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return aa}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===WS?"display-p3":"srgb",n.unpackColorSpace=Pn.workingColorSpace===dv?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===zr?fc:i2}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===fc?zr:da}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class hk extends m2{}hk.prototype.isWebGL1Renderer=!0;class XS{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new nt(e),this.density=n}clone(){return new XS(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class JS{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new nt(e),this.near=n,this.far=r}clone(){return new JS(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}let g2=class extends An{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}};class _v{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=W0,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=no()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=no()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=no()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const es=new J;class vc{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)es.fromBufferAttribute(this,n),es.applyMatrix4(e),this.setXYZ(n,es.x,es.y,es.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)es.fromBufferAttribute(this,n),es.applyNormalMatrix(e),this.setXYZ(n,es.x,es.y,es.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)es.fromBufferAttribute(this,n),es.transformDirection(e),this.setXYZ(n,es.x,es.y,es.z);return this}setX(e,n){return this.normalized&&(n=on(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=on(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=on(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=on(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=As(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=As(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=As(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=As(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=on(n,this.array),r=on(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=on(n,this.array),r=on(r,this.array),i=on(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=on(n,this.array),r=on(r,this.array),i=on(i,this.array),s=on(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new wn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new vc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class v2 extends ti{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new nt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Ld;const Rg=new J,Bd=new J,Dd=new J,Od=new Te,Pg=new Te,dk=new Nt,G_=new J,Ig=new J,$_=new J,fL=new Te,ME=new Te,hL=new Te;class pk extends An{constructor(e=new v2){if(super(),this.isSprite=!0,this.type="Sprite",Ld===void 0){Ld=new nn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new _v(n,5);Ld.setIndex([0,1,2,0,2,3]),Ld.setAttribute("position",new vc(r,3,0,!1)),Ld.setAttribute("uv",new vc(r,2,3,!1))}this.geometry=Ld,this.material=e,this.center=new Te(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Bd.setFromMatrixScale(this.matrixWorld),dk.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Dd.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Bd.multiplyScalar(-Dd.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;W_(G_.set(-.5,-.5,0),Dd,o,Bd,i,s),W_(Ig.set(.5,-.5,0),Dd,o,Bd,i,s),W_($_.set(.5,.5,0),Dd,o,Bd,i,s),fL.set(0,0),ME.set(1,0),hL.set(1,1);let a=e.ray.intersectTriangle(G_,Ig,$_,!1,Rg);if(a===null&&(W_(Ig.set(-.5,.5,0),Dd,o,Bd,i,s),ME.set(0,1),a=e.ray.intersectTriangle(G_,$_,Ig,!1,Rg),a===null))return;const l=e.ray.origin.distanceTo(Rg);l<e.near||l>e.far||n.push({distance:l,point:Rg.clone(),uv:xs.getInterpolation(Rg,G_,Ig,$_,fL,ME,hL,new Te),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function W_(t,e,n,r,i,s){Od.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Pg.x=s*Od.x-i*Od.y,Pg.y=i*Od.x+s*Od.y):Pg.copy(Od),t.copy(e),t.x+=Pg.x,t.y+=Pg.y,t.applyMatrix4(dk)}const V_=new J,dL=new J;class mk extends An{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){V_.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(V_);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){V_.setFromMatrixPosition(e.matrixWorld),dL.setFromMatrixPosition(this.matrixWorld);const r=V_.distanceTo(dL)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const pL=new J,mL=new In,gL=new In,IZ=new J,vL=new Nt,j_=new J,CE=new Ci,yL=new Nt,TE=new gh;class y2 extends Wr{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=LM,this.bindMatrix=new Nt,this.bindMatrixInverse=new Nt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Hi),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,j_),this.boundingBox.expandByPoint(j_)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ci),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,j_),this.boundingSphere.expandByPoint(j_)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),CE.copy(this.boundingSphere),CE.applyMatrix4(i),e.ray.intersectsSphere(CE)!==!1&&(yL.copy(i).invert(),TE.copy(e.ray).applyMatrix4(yL),!(this.boundingBox!==null&&TE.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,TE)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new In,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===LM?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===M4?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;mL.fromBufferAttribute(i.attributes.skinIndex,e),gL.fromBufferAttribute(i.attributes.skinWeight,e),pL.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=gL.getComponent(s);if(o!==0){const a=mL.getComponent(s);vL.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(IZ.copy(pL).applyMatrix4(vL),o)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class KS extends An{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Zf extends fr{constructor(e=null,n=1,r=1,i,s,o,a,l,u=xr,h=xr,p,m){super(null,o,a,l,u,h,i,s,p,m),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _L=new Nt,LZ=new Nt;class xv{constructor(e=[],n=[]){this.uuid=no(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Nt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Nt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:LZ;_L.multiplyMatrices(a,n[s]),_L.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new xv(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Zf(n,e,e,rs,oa);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new KS),this.bones.push(o),this.boneInverses.push(new Nt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class lh extends wn{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Fd=new Nt,xL=new Nt,X_=[],SL=new Hi,BZ=new Nt,Lg=new Wr,Bg=new Ci;class _2 extends Wr{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new lh(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,BZ)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Hi),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Fd),SL.copy(e.boundingBox).applyMatrix4(Fd),this.boundingBox.union(SL)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ci),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Fd),Bg.copy(e.boundingSphere).applyMatrix4(Fd),this.boundingSphere.union(Bg)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Lg.geometry=this.geometry,Lg.material=this.material,Lg.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Bg.copy(this.boundingSphere),Bg.applyMatrix4(r),e.ray.intersectsSphere(Bg)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Fd),xL.multiplyMatrices(r,Fd),Lg.matrixWorld=xL,Lg.raycast(e,X_);for(let o=0,a=X_.length;o<a;o++){const l=X_[o];l.instanceId=s,l.object=this,n.push(l)}X_.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new lh(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function DZ(t,e){return t.z-e.z}function OZ(t,e){return e.z-t.z}class FZ{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const s=r[this.index];i.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=n}reset(){this.list.length=0,this.index=0}}const Nd="batchId",Nu=new Nt,AL=new Nt,NZ=new Nt,wL=new Nt,RE=new vv,J_=new Hi,gf=new Ci,Dg=new J,PE=new FZ,Ui=new Wr,K_=[];function UZ(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let s=0;s<i;s++)for(let o=0;o<r;o++)e.setComponent(s+n,o,t.getComponent(s,o))}else e.array.set(t.array,n*r);e.needsUpdate=!0}class gk extends Wr{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,n,r=n*2,i){super(new nn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new Zf(n,e,e,rs,oa);this._matricesTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const l=e.getAttribute(a),{array:u,itemSize:h,normalized:p}=l,m=new u.constructor(r*h),v=new l.constructor(m,h,p);v.setUsage(l.usage),n.setAttribute(a,v)}if(e.getIndex()!==null){const a=r>65536?new Uint32Array(s):new Uint16Array(s);n.setIndex(new wn(a,1))}const o=i>65536?new Uint32Array(r):new Uint16Array(r);n.setAttribute(Nd,new wn(o,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(Nd))throw new Error(`BatchedMesh: Geometry cannot use attribute "${Nd}"`);const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(r===Nd)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=n.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Hi);const e=this._geometryCount,n=this.boundingBox,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,Nu),this.getBoundingBoxAt(i,J_).applyMatrix4(Nu),n.union(J_))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ci);const e=this._geometryCount,n=this.boundingSphere,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,Nu),this.getBoundingSphereAt(i,gf).applyMatrix4(Nu),n.union(gf))}addGeometry(e,n=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const o=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(s=o[o.length-1]),n===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=n,s===null?i.vertexStart=0:i.vertexStart=s.vertexStart+s.vertexCount;const u=e.getIndex(),h=u!==null;if(h&&(r===-1?i.indexCount=u.count:i.indexCount=r,s===null?i.indexStart=0:i.indexStart=s.indexStart+s.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const p=this._visibility,m=this._active,v=this._matricesTexture,y=this._matricesTexture.image.data;p.push(!0),m.push(!0);const S=this._geometryCount;this._geometryCount++,NZ.toArray(y,S*16),v.needsUpdate=!0,o.push(i),a.push({start:h?i.indexStart:i.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new Hi,sphereInitialized:!1,sphere:new Ci});const A=this.geometry.getAttribute(Nd);for(let _=0;_<i.vertexCount;_++)A.setX(i.vertexStart+_,S);return A.needsUpdate=!0,this.setGeometryAt(S,e),S}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),o=n.getIndex(),a=this._reservedRanges[e];if(i&&o.count>a.indexCount||n.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,u=a.vertexCount;for(const v in r.attributes){if(v===Nd)continue;const y=n.getAttribute(v),S=r.getAttribute(v);UZ(y,S,l);const A=y.itemSize;for(let _=y.count,w=u;_<w;_++){const x=l+_;for(let M=0;M<A;M++)S.setComponent(x,M,0)}S.needsUpdate=!0}if(i){const v=a.indexStart;for(let y=0;y<o.count;y++)s.setX(v+y,l+o.getX(y));for(let y=o.count,S=a.indexCount;y<S;y++)s.setX(v+y,l);s.needsUpdate=!0}const h=this._bounds[e];n.boundingBox!==null?(h.box.copy(n.boundingBox),h.boxInitialized=!0):h.boxInitialized=!1,n.boundingSphere!==null?(h.sphere.copy(n.boundingSphere),h.sphereInitialized=!0):h.sphereInitialized=!1;const p=this._drawRanges[e],m=n.getAttribute("position");return p.count=i?o.count:m.count,this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._active;return e>=n.length||n[e]===!1?this:(n[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,n){if(this._active[e]===!1)return this;const i=this._bounds[e],s=i.box,o=this.geometry;if(i.boxInitialized===!1){s.makeEmpty();const a=o.index,l=o.attributes.position,u=this._drawRanges[e];for(let h=u.start,p=u.start+u.count;h<p;h++){let m=h;a&&(m=a.getX(m)),s.expandByPoint(Dg.fromBufferAttribute(l,m))}i.boxInitialized=!0}return n.copy(s),n}getBoundingSphereAt(e,n){if(this._active[e]===!1)return this;const i=this._bounds[e],s=i.sphere,o=this.geometry;if(i.sphereInitialized===!1){s.makeEmpty(),this.getBoundingBoxAt(e,J_),J_.getCenter(s.center);const a=o.index,l=o.attributes.position,u=this._drawRanges[e];let h=0;for(let p=u.start,m=u.start+u.count;p<m;p++){let v=p;a&&(v=a.getX(v)),Dg.fromBufferAttribute(l,v),h=Math.max(h,s.center.distanceToSquared(Dg))}s.radius=Math.sqrt(h),i.sphereInitialized=!0}return n.copy(s),n}setMatrixAt(e,n){const r=this._active,i=this._matricesTexture,s=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?this:(n.toArray(s,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._active,i=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||r[e]===!1?null:n.fromArray(i,e*16)}setVisibleAt(e,n){const r=this._visibility,i=this._active,s=this._geometryCount;return e>=s||i[e]===!1||r[e]===n?this:(r[e]=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:n[e]}raycast(e,n){const r=this._visibility,i=this._active,s=this._drawRanges,o=this._geometryCount,a=this.matrixWorld,l=this.geometry;Ui.material=this.material,Ui.geometry.index=l.index,Ui.geometry.attributes=l.attributes,Ui.geometry.boundingBox===null&&(Ui.geometry.boundingBox=new Hi),Ui.geometry.boundingSphere===null&&(Ui.geometry.boundingSphere=new Ci);for(let u=0;u<o;u++){if(!r[u]||!i[u])continue;const h=s[u];Ui.geometry.setDrawRange(h.start,h.count),this.getMatrixAt(u,Ui.matrixWorld).premultiply(a),this.getBoundingBoxAt(u,Ui.geometry.boundingBox),this.getBoundingSphereAt(u,Ui.geometry.boundingSphere),Ui.raycast(e,K_);for(let p=0,m=K_.length;p<m;p++){const v=K_[p];v.object=this,v.batchId=u,n.push(v)}K_.length=0}Ui.material=null,Ui.geometry.index=null,Ui.geometry.attributes={},Ui.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,n,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._visibility,u=this._multiDrawStarts,h=this._multiDrawCounts,p=this._drawRanges,m=this.perObjectFrustumCulled;m&&(wL.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),RE.setFromProjectionMatrix(wL,e.isWebGPURenderer?Yp:aa));let v=0;if(this.sortObjects){AL.copy(this.matrixWorld).invert(),Dg.setFromMatrixPosition(r.matrixWorld).applyMatrix4(AL);for(let A=0,_=l.length;A<_;A++)if(l[A]){this.getMatrixAt(A,Nu),this.getBoundingSphereAt(A,gf).applyMatrix4(Nu);let w=!1;if(m&&(w=!RE.intersectsSphere(gf)),!w){const x=Dg.distanceTo(gf.center);PE.push(p[A],x)}}const y=PE.list,S=this.customSort;S===null?y.sort(s.transparent?OZ:DZ):S.call(this,y,r);for(let A=0,_=y.length;A<_;A++){const w=y[A];u[v]=w.start*a,h[v]=w.count,v++}PE.reset()}else for(let y=0,S=l.length;y<S;y++)if(l[y]){let A=!1;if(m&&(this.getMatrixAt(y,Nu),this.getBoundingSphereAt(y,gf).applyMatrix4(Nu),A=!RE.intersectsSphere(gf)),!A){const _=p[y];u[v]=_.start*a,h[v]=_.count,v++}}this._multiDrawCount=v,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,s,o){this.onBeforeRender(e,null,i,s,o)}}class Gi extends ti{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new nt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const EL=new J,bL=new J,ML=new Nt,IE=new gh,Y_=new Ci;class jl extends An{constructor(e=new nn,n=new Gi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)EL.fromBufferAttribute(n,i-1),bL.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=EL.distanceTo(bL);e.setAttribute("lineDistance",new Et(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Y_.copy(r.boundingSphere),Y_.applyMatrix4(i),Y_.radius+=s,e.ray.intersectsSphere(Y_)===!1)return;ML.copy(i).invert(),IE.copy(e.ray).applyMatrix4(ML);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=new J,h=new J,p=new J,m=new J,v=this.isLineSegments?2:1,y=r.index,A=r.attributes.position;if(y!==null){const _=Math.max(0,o.start),w=Math.min(y.count,o.start+o.count);for(let x=_,M=w-1;x<M;x+=v){const R=y.getX(x),T=y.getX(x+1);if(u.fromBufferAttribute(A,R),h.fromBufferAttribute(A,T),IE.distanceSqToSegment(u,h,m,p)>l)continue;m.applyMatrix4(this.matrixWorld);const F=e.ray.origin.distanceTo(m);F<e.near||F>e.far||n.push({distance:F,point:p.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}else{const _=Math.max(0,o.start),w=Math.min(A.count,o.start+o.count);for(let x=_,M=w-1;x<M;x+=v){if(u.fromBufferAttribute(A,x),h.fromBufferAttribute(A,x+1),IE.distanceSqToSegment(u,h,m,p)>l)continue;m.applyMatrix4(this.matrixWorld);const T=e.ray.origin.distanceTo(m);T<e.near||T>e.far||n.push({distance:T,point:p.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const CL=new J,TL=new J;class ma extends jl{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)CL.fromBufferAttribute(n,i),TL.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+CL.distanceTo(TL);e.setAttribute("lineDistance",new Et(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class x2 extends jl{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class YS extends ti{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new nt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const RL=new Nt,uC=new gh,q_=new Ci,Q_=new J;class S2 extends An{constructor(e=new nn,n=new YS){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),q_.copy(r.boundingSphere),q_.applyMatrix4(i),q_.radius+=s,e.ray.intersectsSphere(q_)===!1)return;RL.copy(i).invert(),uC.copy(e.ray).applyMatrix4(RL);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,u=r.index,p=r.attributes.position;if(u!==null){const m=Math.max(0,o.start),v=Math.min(u.count,o.start+o.count);for(let y=m,S=v;y<S;y++){const A=u.getX(y);Q_.fromBufferAttribute(p,A),PL(Q_,A,l,i,e,n,this)}}else{const m=Math.max(0,o.start),v=Math.min(p.count,o.start+o.count);for(let y=m,S=v;y<S;y++)Q_.fromBufferAttribute(p,y),PL(Q_,y,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function PL(t,e,n,r,i,s,o){const a=uC.distanceSqToPoint(t);if(a<n){const l=new J;uC.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class kZ extends fr{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:lr,this.magFilter=s!==void 0?s:lr,this.generateMipmaps=!1;const h=this;function p(){h.needsUpdate=!0,e.requestVideoFrameCallback(p)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(p)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class HZ extends fr{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=xr,this.minFilter=xr,this.generateMipmaps=!1,this.needsUpdate=!0}}class qS extends fr{constructor(e,n,r,i,s,o,a,l,u,h,p,m){super(null,o,a,l,u,h,i,s,p,m),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class zZ extends qS{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Ei}}class GZ extends qS{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,Vl),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class vk extends fr{constructor(e,n,r,i,s,o,a,l,u){super(e,n,r,i,s,o,a,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ga{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,u;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),u=r[i]-o,u<0)a=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const h=r[i],m=r[i+1]-h,v=(o-h)/m;return(i+v)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new Te:new J);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new J,i=[],s=[],o=[],a=new J,l=new Nt;for(let v=0;v<=e;v++){const y=v/e;i[v]=this.getTangentAt(y,new J)}s[0]=new J,o[0]=new J;let u=Number.MAX_VALUE;const h=Math.abs(i[0].x),p=Math.abs(i[0].y),m=Math.abs(i[0].z);h<=u&&(u=h,r.set(1,0,0)),p<=u&&(u=p,r.set(0,1,0)),m<=u&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let v=1;v<=e;v++){if(s[v]=s[v-1].clone(),o[v]=o[v-1].clone(),a.crossVectors(i[v-1],i[v]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(Sr(i[v-1].dot(i[v]),-1,1));s[v].applyMatrix4(l.makeRotationAxis(a,y))}o[v].crossVectors(i[v],s[v])}if(n===!0){let v=Math.acos(Sr(s[0].dot(s[e]),-1,1));v/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(v=-v);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(i[y],v*y)),o[y].crossVectors(i[y],s[y])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class QS extends ga{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const r=n||new Te,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const h=Math.cos(this.aRotation),p=Math.sin(this.aRotation),m=l-this.aX,v=u-this.aY;l=m*h-v*p+this.aX,u=m*p+v*h+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class yk extends QS{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function A2(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,u){i(o,a,u*(a-s),u*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,u,h,p){let m=(o-s)/u-(a-s)/(u+h)+(a-o)/h,v=(a-o)/h-(l-o)/(h+p)+(l-a)/p;m*=h,v*=h,i(o,a,m,v)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const Z_=new J,LE=new A2,BE=new A2,DE=new A2;class _k extends ga{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new J){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let u,h;this.closed||a>0?u=i[(a-1)%s]:(Z_.subVectors(i[0],i[1]).add(i[0]),u=Z_);const p=i[a%s],m=i[(a+1)%s];if(this.closed||a+2<s?h=i[(a+2)%s]:(Z_.subVectors(i[s-1],i[s-2]).add(i[s-1]),h=Z_),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let y=Math.pow(u.distanceToSquared(p),v),S=Math.pow(p.distanceToSquared(m),v),A=Math.pow(m.distanceToSquared(h),v);S<1e-4&&(S=1),y<1e-4&&(y=S),A<1e-4&&(A=S),LE.initNonuniformCatmullRom(u.x,p.x,m.x,h.x,y,S,A),BE.initNonuniformCatmullRom(u.y,p.y,m.y,h.y,y,S,A),DE.initNonuniformCatmullRom(u.z,p.z,m.z,h.z,y,S,A)}else this.curveType==="catmullrom"&&(LE.initCatmullRom(u.x,p.x,m.x,h.x,this.tension),BE.initCatmullRom(u.y,p.y,m.y,h.y,this.tension),DE.initCatmullRom(u.z,p.z,m.z,h.z,this.tension));return r.set(LE.calc(l),BE.calc(l),DE.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new J().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function IL(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function $Z(t,e){const n=1-t;return n*n*e}function WZ(t,e){return 2*(1-t)*t*e}function VZ(t,e){return t*t*e}function h0(t,e,n,r){return $Z(t,e)+WZ(t,n)+VZ(t,r)}function jZ(t,e){const n=1-t;return n*n*n*e}function XZ(t,e){const n=1-t;return 3*n*n*t*e}function JZ(t,e){return 3*(1-t)*t*t*e}function KZ(t,e){return t*t*t*e}function d0(t,e,n,r,i){return jZ(t,e)+XZ(t,n)+JZ(t,r)+KZ(t,i)}class w2 extends ga{constructor(e=new Te,n=new Te,r=new Te,i=new Te){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Te){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(d0(e,i.x,s.x,o.x,a.x),d0(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class xk extends ga{constructor(e=new J,n=new J,r=new J,i=new J){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new J){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(d0(e,i.x,s.x,o.x,a.x),d0(e,i.y,s.y,o.y,a.y),d0(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class E2 extends ga{constructor(e=new Te,n=new Te){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Te){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Te){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Sk extends ga{constructor(e=new J,n=new J){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new J){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new J){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class b2 extends ga{constructor(e=new Te,n=new Te,r=new Te){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Te){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(h0(e,i.x,s.x,o.x),h0(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class M2 extends ga{constructor(e=new J,n=new J,r=new J){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new J){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(h0(e,i.x,s.x,o.x),h0(e,i.y,s.y,o.y),h0(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class C2 extends ga{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Te){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],u=i[o],h=i[o>i.length-2?i.length-1:o+1],p=i[o>i.length-3?i.length-1:o+2];return r.set(IL(a,l.x,u.x,h.x,p.x),IL(a,l.y,u.y,h.y,p.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Te().fromArray(i))}return this}}var F1=Object.freeze({__proto__:null,ArcCurve:yk,CatmullRomCurve3:_k,CubicBezierCurve:w2,CubicBezierCurve3:xk,EllipseCurve:QS,LineCurve:E2,LineCurve3:Sk,QuadraticBezierCurve:b2,QuadraticBezierCurve3:M2,SplineCurve:C2});class Ak extends ga{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new F1[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),u=l===0?0:1-o/l;return a.getPointAt(u,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let u=0;u<l.length;u++){const h=l[u];r&&r.equals(h)||(n.push(h),r=h)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new F1[i.type]().fromJSON(i))}return this}}class j0 extends Ak{constructor(e){super(),this.type="Path",this.currentPoint=new Te,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new E2(this.currentPoint.clone(),new Te(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new b2(this.currentPoint.clone(),new Te(e,n),new Te(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new w2(this.currentPoint.clone(),new Te(e,n),new Te(r,i),new Te(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new C2(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const u=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+u,n+h,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const u=new QS(e,n,r,i,s,o,a,l);if(this.curves.length>0){const p=u.getPoint(0);p.equals(this.currentPoint)||this.lineTo(p.x,p.y)}this.curves.push(u);const h=u.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Sv extends nn{constructor(e=[new Te(0,-.5),new Te(.5,0),new Te(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Sr(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],u=[],h=1/n,p=new J,m=new Te,v=new J,y=new J,S=new J;let A=0,_=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:A=e[w+1].x-e[w].x,_=e[w+1].y-e[w].y,v.x=_*1,v.y=-A,v.z=_*0,S.copy(v),v.normalize(),l.push(v.x,v.y,v.z);break;case e.length-1:l.push(S.x,S.y,S.z);break;default:A=e[w+1].x-e[w].x,_=e[w+1].y-e[w].y,v.x=_*1,v.y=-A,v.z=_*0,y.copy(v),v.x+=S.x,v.y+=S.y,v.z+=S.z,v.normalize(),l.push(v.x,v.y,v.z),S.copy(y)}for(let w=0;w<=n;w++){const x=r+w*h*i,M=Math.sin(x),R=Math.cos(x);for(let T=0;T<=e.length-1;T++){p.x=e[T].x*M,p.y=e[T].y,p.z=e[T].x*R,o.push(p.x,p.y,p.z),m.x=w/n,m.y=T/(e.length-1),a.push(m.x,m.y);const I=l[3*T+0]*M,F=l[3*T+1],B=l[3*T+0]*R;u.push(I,F,B)}}for(let w=0;w<n;w++)for(let x=0;x<e.length-1;x++){const M=x+w*e.length,R=M,T=M+e.length,I=M+e.length+1,F=M+1;s.push(R,T,F),s.push(I,F,T)}this.setIndex(s),this.setAttribute("position",new Et(o,3)),this.setAttribute("uv",new Et(a,2)),this.setAttribute("normal",new Et(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Sv(e.points,e.segments,e.phiStart,e.phiLength)}}class ZS extends Sv{constructor(e=1,n=1,r=4,i=8){const s=new j0;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new ZS(e.radius,e.length,e.capSegments,e.radialSegments)}}class eA extends nn{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],u=new J,h=new Te;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let p=0,m=3;p<=n;p++,m+=3){const v=r+p/n*i;u.x=e*Math.cos(v),u.y=e*Math.sin(v),o.push(u.x,u.y,u.z),a.push(0,0,1),h.x=(o[m]/e+1)/2,h.y=(o[m+1]/e+1)/2,l.push(h.x,h.y)}for(let p=1;p<=n;p++)s.push(p,p+1,0);this.setIndex(s),this.setAttribute("position",new Et(o,3)),this.setAttribute("normal",new Et(a,3)),this.setAttribute("uv",new Et(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new eA(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class cm extends nn{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const u=this;i=Math.floor(i),s=Math.floor(s);const h=[],p=[],m=[],v=[];let y=0;const S=[],A=r/2;let _=0;w(),o===!1&&(e>0&&x(!0),n>0&&x(!1)),this.setIndex(h),this.setAttribute("position",new Et(p,3)),this.setAttribute("normal",new Et(m,3)),this.setAttribute("uv",new Et(v,2));function w(){const M=new J,R=new J;let T=0;const I=(n-e)/r;for(let F=0;F<=s;F++){const B=[],O=F/s,V=O*(n-e)+e;for(let H=0;H<=i;H++){const ne=H/i,j=ne*l+a,q=Math.sin(j),re=Math.cos(j);R.x=V*q,R.y=-O*r+A,R.z=V*re,p.push(R.x,R.y,R.z),M.set(q,I,re).normalize(),m.push(M.x,M.y,M.z),v.push(ne,1-O),B.push(y++)}S.push(B)}for(let F=0;F<i;F++)for(let B=0;B<s;B++){const O=S[B][F],V=S[B+1][F],H=S[B+1][F+1],ne=S[B][F+1];h.push(O,V,ne),h.push(V,H,ne),T+=6}u.addGroup(_,T,0),_+=T}function x(M){const R=y,T=new Te,I=new J;let F=0;const B=M===!0?e:n,O=M===!0?1:-1;for(let H=1;H<=i;H++)p.push(0,A*O,0),m.push(0,O,0),v.push(.5,.5),y++;const V=y;for(let H=0;H<=i;H++){const j=H/i*l+a,q=Math.cos(j),re=Math.sin(j);I.x=B*re,I.y=A*O,I.z=B*q,p.push(I.x,I.y,I.z),m.push(0,O,0),T.x=q*.5+.5,T.y=re*.5*O+.5,v.push(T.x,T.y),y++}for(let H=0;H<i;H++){const ne=R+H,j=V+H;M===!0?h.push(j,j+1,ne):h.push(j+1,j,ne),F+=3}u.addGroup(_,F,M===!0?1:2),_+=F}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cm(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class tA extends cm{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new tA(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Mc extends nn{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),u(r),h(),this.setAttribute("position",new Et(s,3)),this.setAttribute("normal",new Et(s.slice(),3)),this.setAttribute("uv",new Et(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(w){const x=new J,M=new J,R=new J;for(let T=0;T<n.length;T+=3)v(n[T+0],x),v(n[T+1],M),v(n[T+2],R),l(x,M,R,w)}function l(w,x,M,R){const T=R+1,I=[];for(let F=0;F<=T;F++){I[F]=[];const B=w.clone().lerp(M,F/T),O=x.clone().lerp(M,F/T),V=T-F;for(let H=0;H<=V;H++)H===0&&F===T?I[F][H]=B:I[F][H]=B.clone().lerp(O,H/V)}for(let F=0;F<T;F++)for(let B=0;B<2*(T-F)-1;B++){const O=Math.floor(B/2);B%2===0?(m(I[F][O+1]),m(I[F+1][O]),m(I[F][O])):(m(I[F][O+1]),m(I[F+1][O+1]),m(I[F+1][O]))}}function u(w){const x=new J;for(let M=0;M<s.length;M+=3)x.x=s[M+0],x.y=s[M+1],x.z=s[M+2],x.normalize().multiplyScalar(w),s[M+0]=x.x,s[M+1]=x.y,s[M+2]=x.z}function h(){const w=new J;for(let x=0;x<s.length;x+=3){w.x=s[x+0],w.y=s[x+1],w.z=s[x+2];const M=A(w)/2/Math.PI+.5,R=_(w)/Math.PI+.5;o.push(M,1-R)}y(),p()}function p(){for(let w=0;w<o.length;w+=6){const x=o[w+0],M=o[w+2],R=o[w+4],T=Math.max(x,M,R),I=Math.min(x,M,R);T>.9&&I<.1&&(x<.2&&(o[w+0]+=1),M<.2&&(o[w+2]+=1),R<.2&&(o[w+4]+=1))}}function m(w){s.push(w.x,w.y,w.z)}function v(w,x){const M=w*3;x.x=e[M+0],x.y=e[M+1],x.z=e[M+2]}function y(){const w=new J,x=new J,M=new J,R=new J,T=new Te,I=new Te,F=new Te;for(let B=0,O=0;B<s.length;B+=9,O+=6){w.set(s[B+0],s[B+1],s[B+2]),x.set(s[B+3],s[B+4],s[B+5]),M.set(s[B+6],s[B+7],s[B+8]),T.set(o[O+0],o[O+1]),I.set(o[O+2],o[O+3]),F.set(o[O+4],o[O+5]),R.copy(w).add(x).add(M).divideScalar(3);const V=A(R);S(T,O+0,w,V),S(I,O+2,x,V),S(F,O+4,M,V)}}function S(w,x,M,R){R<0&&w.x===1&&(o[x]=w.x-1),M.x===0&&M.z===0&&(o[x]=R/2/Math.PI+.5)}function A(w){return Math.atan2(w.z,-w.x)}function _(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Mc(e.vertices,e.indices,e.radius,e.details)}}class nA extends Mc{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new nA(e.radius,e.detail)}}const ex=new J,tx=new J,OE=new J,nx=new xs;class wk extends nn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(qf*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,u=[0,0,0],h=["a","b","c"],p=new Array(3),m={},v=[];for(let y=0;y<l;y+=3){o?(u[0]=o.getX(y),u[1]=o.getX(y+1),u[2]=o.getX(y+2)):(u[0]=y,u[1]=y+1,u[2]=y+2);const{a:S,b:A,c:_}=nx;if(S.fromBufferAttribute(a,u[0]),A.fromBufferAttribute(a,u[1]),_.fromBufferAttribute(a,u[2]),nx.getNormal(OE),p[0]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,p[1]=`${Math.round(A.x*i)},${Math.round(A.y*i)},${Math.round(A.z*i)}`,p[2]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,!(p[0]===p[1]||p[1]===p[2]||p[2]===p[0]))for(let w=0;w<3;w++){const x=(w+1)%3,M=p[w],R=p[x],T=nx[h[w]],I=nx[h[x]],F=`${M}_${R}`,B=`${R}_${M}`;B in m&&m[B]?(OE.dot(m[B].normal)<=s&&(v.push(T.x,T.y,T.z),v.push(I.x,I.y,I.z)),m[B]=null):F in m||(m[F]={index0:u[w],index1:u[x],normal:OE.clone()})}}for(const y in m)if(m[y]){const{index0:S,index1:A}=m[y];ex.fromBufferAttribute(a,S),tx.fromBufferAttribute(a,A),v.push(ex.x,ex.y,ex.z),v.push(tx.x,tx.y,tx.z)}this.setAttribute("position",new Et(v,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class eh extends j0{constructor(e){super(e),this.uuid=no(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new j0().fromJSON(i))}return this}}const YZ={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=Ek(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u,h,p,m,v;if(r&&(s=tee(t,e,s,n)),t.length>80*n){a=u=t[0],l=h=t[1];for(let y=n;y<i;y+=n)p=t[y],m=t[y+1],p<a&&(a=p),m<l&&(l=m),p>u&&(u=p),m>h&&(h=m);v=Math.max(u-a,h-l),v=v!==0?32767/v:0}return X0(s,o,n,a,l,v,0),o}};function Ek(t,e,n,r,i){let s,o;if(i===hee(t,e,n,r)>0)for(s=e;s<n;s+=r)o=LL(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=LL(s,t[s],t[s+1],o);return o&&rA(o,o.next)&&(K0(o),o=o.next),o}function uh(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(rA(n,n.next)||ur(n.prev,n,n.next)===0)){if(K0(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function X0(t,e,n,r,i,s,o){if(!t)return;!o&&s&&oee(t,r,i,s);let a=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,s?QZ(t,r,i,s):qZ(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),K0(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=ZZ(uh(t),e,n),X0(t,e,n,r,i,s,2)):o===2&&eee(t,e,n,r,i,s):X0(uh(t),e,n,r,i,s,1);break}}}function qZ(t){const e=t.prev,n=t,r=t.next;if(ur(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,u=r.y,h=i<s?i<o?i:o:s<o?s:o,p=a<l?a<u?a:u:l<u?l:u,m=i>s?i>o?i:o:s>o?s:o,v=a>l?a>u?a:u:l>u?l:u;let y=r.next;for(;y!==e;){if(y.x>=h&&y.x<=m&&y.y>=p&&y.y<=v&&Ep(i,a,s,l,o,u,y.x,y.y)&&ur(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function QZ(t,e,n,r){const i=t.prev,s=t,o=t.next;if(ur(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,h=i.y,p=s.y,m=o.y,v=a<l?a<u?a:u:l<u?l:u,y=h<p?h<m?h:m:p<m?p:m,S=a>l?a>u?a:u:l>u?l:u,A=h>p?h>m?h:m:p>m?p:m,_=cC(v,y,e,n,r),w=cC(S,A,e,n,r);let x=t.prevZ,M=t.nextZ;for(;x&&x.z>=_&&M&&M.z<=w;){if(x.x>=v&&x.x<=S&&x.y>=y&&x.y<=A&&x!==i&&x!==o&&Ep(a,h,l,p,u,m,x.x,x.y)&&ur(x.prev,x,x.next)>=0||(x=x.prevZ,M.x>=v&&M.x<=S&&M.y>=y&&M.y<=A&&M!==i&&M!==o&&Ep(a,h,l,p,u,m,M.x,M.y)&&ur(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;x&&x.z>=_;){if(x.x>=v&&x.x<=S&&x.y>=y&&x.y<=A&&x!==i&&x!==o&&Ep(a,h,l,p,u,m,x.x,x.y)&&ur(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;M&&M.z<=w;){if(M.x>=v&&M.x<=S&&M.y>=y&&M.y<=A&&M!==i&&M!==o&&Ep(a,h,l,p,u,m,M.x,M.y)&&ur(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function ZZ(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!rA(i,s)&&bk(i,r,r.next,s)&&J0(i,s)&&J0(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),K0(r),K0(r.next),r=t=s),r=r.next}while(r!==t);return uh(r)}function eee(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&uee(o,a)){let l=Mk(o,a);o=uh(o,o.next),l=uh(l,l.next),X0(o,e,n,r,i,s,0),X0(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function tee(t,e,n,r){const i=[];let s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,u=Ek(t,a,l,r,!1),u===u.next&&(u.steiner=!0),i.push(lee(u));for(i.sort(nee),s=0;s<i.length;s++)n=ree(i[s],n);return n}function nee(t,e){return t.x-e.x}function ree(t,e){const n=iee(t,e);if(!n)return e;const r=Mk(n,t);return uh(r,r.next),uh(n,n.next)}function iee(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const m=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(m<=s&&m>r&&(r=m,i=n.x<n.next.x?n:n.next,m===s))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,u=i.y;let h=1/0,p;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&Ep(o<u?s:r,o,l,u,o<u?r:s,o,n.x,n.y)&&(p=Math.abs(o-n.y)/(s-n.x),J0(n,t)&&(p<h||p===h&&(n.x>i.x||n.x===i.x&&see(i,n)))&&(i=n,h=p)),n=n.next;while(n!==a);return i}function see(t,e){return ur(t.prev,t,e.prev)<0&&ur(e.next,t,t.next)<0}function oee(t,e,n,r){let i=t;do i.z===0&&(i.z=cC(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,aee(i)}function aee(t){let e,n,r,i,s,o,a,l,u=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<u&&(a++,r=r.nextZ,!!r);e++);for(l=u;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(o>1);return t}function cC(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function lee(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Ep(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function uee(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!cee(t,e)&&(J0(t,e)&&J0(e,t)&&fee(t,e)&&(ur(t.prev,t,e.prev)||ur(t,e.prev,e))||rA(t,e)&&ur(t.prev,t,t.next)>0&&ur(e.prev,e,e.next)>0)}function ur(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function rA(t,e){return t.x===e.x&&t.y===e.y}function bk(t,e,n,r){const i=ix(ur(t,e,n)),s=ix(ur(t,e,r)),o=ix(ur(n,r,t)),a=ix(ur(n,r,e));return!!(i!==s&&o!==a||i===0&&rx(t,n,e)||s===0&&rx(t,r,e)||o===0&&rx(n,t,r)||a===0&&rx(n,e,r))}function rx(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function ix(t){return t>0?1:t<0?-1:0}function cee(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&bk(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function J0(t,e){return ur(t.prev,t,t.next)<0?ur(t,e,t.next)>=0&&ur(t,t.prev,e)>=0:ur(t,e,t.prev)<0||ur(t,t.next,e)<0}function fee(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function Mk(t,e){const n=new fC(t.i,t.x,t.y),r=new fC(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function LL(t,e,n,r){const i=new fC(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function K0(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function fC(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function hee(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class Va{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Va.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];BL(e),DL(r,e);let o=e.length;n.forEach(BL);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,DL(r,n[l]);const a=YZ.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function BL(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function DL(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class iA extends nn{constructor(e=new eh([new Te(.5,.5),new Te(-.5,.5),new Te(-.5,-.5),new Te(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const u=e[a];o(u)}this.setAttribute("position",new Et(i,3)),this.setAttribute("uv",new Et(s,2)),this.computeVertexNormals();function o(a){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,h=n.steps!==void 0?n.steps:1,p=n.depth!==void 0?n.depth:1;let m=n.bevelEnabled!==void 0?n.bevelEnabled:!0,v=n.bevelThickness!==void 0?n.bevelThickness:.2,y=n.bevelSize!==void 0?n.bevelSize:v-.1,S=n.bevelOffset!==void 0?n.bevelOffset:0,A=n.bevelSegments!==void 0?n.bevelSegments:3;const _=n.extrudePath,w=n.UVGenerator!==void 0?n.UVGenerator:dee;let x,M=!1,R,T,I,F;_&&(x=_.getSpacedPoints(h),M=!0,m=!1,R=_.computeFrenetFrames(h,!1),T=new J,I=new J,F=new J),m||(A=0,v=0,y=0,S=0);const B=a.extractPoints(u);let O=B.shape;const V=B.holes;if(!Va.isClockWise(O)){O=O.reverse();for(let Z=0,He=V.length;Z<He;Z++){const Me=V[Z];Va.isClockWise(Me)&&(V[Z]=Me.reverse())}}const ne=Va.triangulateShape(O,V),j=O;for(let Z=0,He=V.length;Z<He;Z++){const Me=V[Z];O=O.concat(Me)}function q(Z,He,Me){return He||console.error("THREE.ExtrudeGeometry: vec does not exist"),Z.clone().addScaledVector(He,Me)}const re=O.length,he=ne.length;function z(Z,He,Me){let Ge,Re,ct;const Qe=Z.x-He.x,W=Z.y-He.y,U=Me.x-Z.x,me=Me.y-Z.y,Oe=Qe*Qe+W*W,De=Qe*me-W*U;if(Math.abs(De)>Number.EPSILON){const Be=Math.sqrt(Oe),ft=Math.sqrt(U*U+me*me),Je=He.x-W/Be,et=He.y+Qe/Be,_t=Me.x-me/ft,zt=Me.y+U/ft,Fe=((_t-Je)*me-(zt-et)*U)/(Qe*me-W*U);Ge=Je+Qe*Fe-Z.x,Re=et+W*Fe-Z.y;const an=Ge*Ge+Re*Re;if(an<=2)return new Te(Ge,Re);ct=Math.sqrt(an/2)}else{let Be=!1;Qe>Number.EPSILON?U>Number.EPSILON&&(Be=!0):Qe<-Number.EPSILON?U<-Number.EPSILON&&(Be=!0):Math.sign(W)===Math.sign(me)&&(Be=!0),Be?(Ge=-W,Re=Qe,ct=Math.sqrt(Oe)):(Ge=Qe,Re=W,ct=Math.sqrt(Oe/2))}return new Te(Ge/ct,Re/ct)}const ee=[];for(let Z=0,He=j.length,Me=He-1,Ge=Z+1;Z<He;Z++,Me++,Ge++)Me===He&&(Me=0),Ge===He&&(Ge=0),ee[Z]=z(j[Z],j[Me],j[Ge]);const te=[];let fe,ye=ee.concat();for(let Z=0,He=V.length;Z<He;Z++){const Me=V[Z];fe=[];for(let Ge=0,Re=Me.length,ct=Re-1,Qe=Ge+1;Ge<Re;Ge++,ct++,Qe++)ct===Re&&(ct=0),Qe===Re&&(Qe=0),fe[Ge]=z(Me[Ge],Me[ct],Me[Qe]);te.push(fe),ye=ye.concat(fe)}for(let Z=0;Z<A;Z++){const He=Z/A,Me=v*Math.cos(He*Math.PI/2),Ge=y*Math.sin(He*Math.PI/2)+S;for(let Re=0,ct=j.length;Re<ct;Re++){const Qe=q(j[Re],ee[Re],Ge);Xe(Qe.x,Qe.y,-Me)}for(let Re=0,ct=V.length;Re<ct;Re++){const Qe=V[Re];fe=te[Re];for(let W=0,U=Qe.length;W<U;W++){const me=q(Qe[W],fe[W],Ge);Xe(me.x,me.y,-Me)}}}const ue=y+S;for(let Z=0;Z<re;Z++){const He=m?q(O[Z],ye[Z],ue):O[Z];M?(I.copy(R.normals[0]).multiplyScalar(He.x),T.copy(R.binormals[0]).multiplyScalar(He.y),F.copy(x[0]).add(I).add(T),Xe(F.x,F.y,F.z)):Xe(He.x,He.y,0)}for(let Z=1;Z<=h;Z++)for(let He=0;He<re;He++){const Me=m?q(O[He],ye[He],ue):O[He];M?(I.copy(R.normals[Z]).multiplyScalar(Me.x),T.copy(R.binormals[Z]).multiplyScalar(Me.y),F.copy(x[Z]).add(I).add(T),Xe(F.x,F.y,F.z)):Xe(Me.x,Me.y,p/h*Z)}for(let Z=A-1;Z>=0;Z--){const He=Z/A,Me=v*Math.cos(He*Math.PI/2),Ge=y*Math.sin(He*Math.PI/2)+S;for(let Re=0,ct=j.length;Re<ct;Re++){const Qe=q(j[Re],ee[Re],Ge);Xe(Qe.x,Qe.y,p+Me)}for(let Re=0,ct=V.length;Re<ct;Re++){const Qe=V[Re];fe=te[Re];for(let W=0,U=Qe.length;W<U;W++){const me=q(Qe[W],fe[W],Ge);M?Xe(me.x,me.y+x[h-1].y,x[h-1].x+Me):Xe(me.x,me.y,p+Me)}}}_e(),Ne();function _e(){const Z=i.length/3;if(m){let He=0,Me=re*He;for(let Ge=0;Ge<he;Ge++){const Re=ne[Ge];vt(Re[2]+Me,Re[1]+Me,Re[0]+Me)}He=h+A*2,Me=re*He;for(let Ge=0;Ge<he;Ge++){const Re=ne[Ge];vt(Re[0]+Me,Re[1]+Me,Re[2]+Me)}}else{for(let He=0;He<he;He++){const Me=ne[He];vt(Me[2],Me[1],Me[0])}for(let He=0;He<he;He++){const Me=ne[He];vt(Me[0]+re*h,Me[1]+re*h,Me[2]+re*h)}}r.addGroup(Z,i.length/3-Z,0)}function Ne(){const Z=i.length/3;let He=0;Ve(j,He),He+=j.length;for(let Me=0,Ge=V.length;Me<Ge;Me++){const Re=V[Me];Ve(Re,He),He+=Re.length}r.addGroup(Z,i.length/3-Z,1)}function Ve(Z,He){let Me=Z.length;for(;--Me>=0;){const Ge=Me;let Re=Me-1;Re<0&&(Re=Z.length-1);for(let ct=0,Qe=h+A*2;ct<Qe;ct++){const W=re*ct,U=re*(ct+1),me=He+Ge+W,Oe=He+Re+W,De=He+Re+U,Be=He+Ge+U;yt(me,Oe,De,Be)}}}function Xe(Z,He,Me){l.push(Z),l.push(He),l.push(Me)}function vt(Z,He,Me){ut(Z),ut(He),ut(Me);const Ge=i.length/3,Re=w.generateTopUV(r,i,Ge-3,Ge-2,Ge-1);ht(Re[0]),ht(Re[1]),ht(Re[2])}function yt(Z,He,Me,Ge){ut(Z),ut(He),ut(Ge),ut(He),ut(Me),ut(Ge);const Re=i.length/3,ct=w.generateSideWallUV(r,i,Re-6,Re-3,Re-2,Re-1);ht(ct[0]),ht(ct[1]),ht(ct[3]),ht(ct[1]),ht(ct[2]),ht(ct[3])}function ut(Z){i.push(l[Z*3+0]),i.push(l[Z*3+1]),i.push(l[Z*3+2])}function ht(Z){s.push(Z.x),s.push(Z.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return pee(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new F1[i.type]().fromJSON(i)),new iA(r,e.options)}}const dee={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],u=e[i*3],h=e[i*3+1];return[new Te(s,o),new Te(a,l),new Te(u,h)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],u=e[r*3],h=e[r*3+1],p=e[r*3+2],m=e[i*3],v=e[i*3+1],y=e[i*3+2],S=e[s*3],A=e[s*3+1],_=e[s*3+2];return Math.abs(a-h)<Math.abs(o-u)?[new Te(o,1-l),new Te(u,1-p),new Te(m,1-y),new Te(S,1-_)]:[new Te(a,1-l),new Te(h,1-p),new Te(v,1-y),new Te(A,1-_)]}};function pee(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class sA extends Mc{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new sA(e.radius,e.detail)}}class Av extends Mc{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Av(e.radius,e.detail)}}class oA extends nn{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],u=[],h=[];let p=e;const m=(n-e)/i,v=new J,y=new Te;for(let S=0;S<=i;S++){for(let A=0;A<=r;A++){const _=s+A/r*o;v.x=p*Math.cos(_),v.y=p*Math.sin(_),l.push(v.x,v.y,v.z),u.push(0,0,1),y.x=(v.x/n+1)/2,y.y=(v.y/n+1)/2,h.push(y.x,y.y)}p+=m}for(let S=0;S<i;S++){const A=S*(r+1);for(let _=0;_<r;_++){const w=_+A,x=w,M=w+r+1,R=w+r+2,T=w+1;a.push(x,M,T),a.push(M,R,T)}}this.setIndex(a),this.setAttribute("position",new Et(l,3)),this.setAttribute("normal",new Et(u,3)),this.setAttribute("uv",new Et(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new oA(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class aA extends nn{constructor(e=new eh([new Te(0,.5),new Te(-.5,-.5),new Te(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let h=0;h<e.length;h++)u(e[h]),this.addGroup(a,l,h),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new Et(i,3)),this.setAttribute("normal",new Et(s,3)),this.setAttribute("uv",new Et(o,2));function u(h){const p=i.length/3,m=h.extractPoints(n);let v=m.shape;const y=m.holes;Va.isClockWise(v)===!1&&(v=v.reverse());for(let A=0,_=y.length;A<_;A++){const w=y[A];Va.isClockWise(w)===!0&&(y[A]=w.reverse())}const S=Va.triangulateShape(v,y);for(let A=0,_=y.length;A<_;A++){const w=y[A];v=v.concat(w)}for(let A=0,_=v.length;A<_;A++){const w=v[A];i.push(w.x,w.y,0),s.push(0,0,1),o.push(w.x,w.y)}for(let A=0,_=S.length;A<_;A++){const w=S[A],x=w[0]+p,M=w[1]+p,R=w[2]+p;r.push(x,M,R),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return mee(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new aA(r,e.curveSegments)}}function mee(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class wv extends nn{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let u=0;const h=[],p=new J,m=new J,v=[],y=[],S=[],A=[];for(let _=0;_<=r;_++){const w=[],x=_/r;let M=0;_===0&&o===0?M=.5/n:_===r&&l===Math.PI&&(M=-.5/n);for(let R=0;R<=n;R++){const T=R/n;p.x=-e*Math.cos(i+T*s)*Math.sin(o+x*a),p.y=e*Math.cos(o+x*a),p.z=e*Math.sin(i+T*s)*Math.sin(o+x*a),y.push(p.x,p.y,p.z),m.copy(p).normalize(),S.push(m.x,m.y,m.z),A.push(T+M,1-x),w.push(u++)}h.push(w)}for(let _=0;_<r;_++)for(let w=0;w<n;w++){const x=h[_][w+1],M=h[_][w],R=h[_+1][w],T=h[_+1][w+1];(_!==0||o>0)&&v.push(x,M,T),(_!==r-1||l<Math.PI)&&v.push(M,R,T)}this.setIndex(v),this.setAttribute("position",new Et(y,3)),this.setAttribute("normal",new Et(S,3)),this.setAttribute("uv",new Et(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wv(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class lA extends Mc{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new lA(e.radius,e.detail)}}class uA extends nn{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],u=[],h=new J,p=new J,m=new J;for(let v=0;v<=r;v++)for(let y=0;y<=i;y++){const S=y/i*s,A=v/r*Math.PI*2;p.x=(e+n*Math.cos(A))*Math.cos(S),p.y=(e+n*Math.cos(A))*Math.sin(S),p.z=n*Math.sin(A),a.push(p.x,p.y,p.z),h.x=e*Math.cos(S),h.y=e*Math.sin(S),m.subVectors(p,h).normalize(),l.push(m.x,m.y,m.z),u.push(y/i),u.push(v/r)}for(let v=1;v<=r;v++)for(let y=1;y<=i;y++){const S=(i+1)*v+y-1,A=(i+1)*(v-1)+y-1,_=(i+1)*(v-1)+y,w=(i+1)*v+y;o.push(S,A,w),o.push(A,_,w)}this.setIndex(o),this.setAttribute("position",new Et(a,3)),this.setAttribute("normal",new Et(l,3)),this.setAttribute("uv",new Et(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new uA(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class cA extends nn{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],u=[],h=[],p=new J,m=new J,v=new J,y=new J,S=new J,A=new J,_=new J;for(let x=0;x<=r;++x){const M=x/r*s*Math.PI*2;w(M,s,o,e,v),w(M+.01,s,o,e,y),A.subVectors(y,v),_.addVectors(y,v),S.crossVectors(A,_),_.crossVectors(S,A),S.normalize(),_.normalize();for(let R=0;R<=i;++R){const T=R/i*Math.PI*2,I=-n*Math.cos(T),F=n*Math.sin(T);p.x=v.x+(I*_.x+F*S.x),p.y=v.y+(I*_.y+F*S.y),p.z=v.z+(I*_.z+F*S.z),l.push(p.x,p.y,p.z),m.subVectors(p,v).normalize(),u.push(m.x,m.y,m.z),h.push(x/r),h.push(R/i)}}for(let x=1;x<=r;x++)for(let M=1;M<=i;M++){const R=(i+1)*(x-1)+(M-1),T=(i+1)*x+(M-1),I=(i+1)*x+M,F=(i+1)*(x-1)+M;a.push(R,T,F),a.push(T,I,F)}this.setIndex(a),this.setAttribute("position",new Et(l,3)),this.setAttribute("normal",new Et(u,3)),this.setAttribute("uv",new Et(h,2));function w(x,M,R,T,I){const F=Math.cos(x),B=Math.sin(x),O=R/M*x,V=Math.cos(O);I.x=T*(2+V)*.5*F,I.y=T*(2+V)*B*.5,I.z=T*Math.sin(O)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cA(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class fA extends nn{constructor(e=new M2(new J(-1,-1,0),new J(-1,1,0),new J(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new J,l=new J,u=new Te;let h=new J;const p=[],m=[],v=[],y=[];S(),this.setIndex(y),this.setAttribute("position",new Et(p,3)),this.setAttribute("normal",new Et(m,3)),this.setAttribute("uv",new Et(v,2));function S(){for(let x=0;x<n;x++)A(x);A(s===!1?n:0),w(),_()}function A(x){h=e.getPointAt(x/n,h);const M=o.normals[x],R=o.binormals[x];for(let T=0;T<=i;T++){const I=T/i*Math.PI*2,F=Math.sin(I),B=-Math.cos(I);l.x=B*M.x+F*R.x,l.y=B*M.y+F*R.y,l.z=B*M.z+F*R.z,l.normalize(),m.push(l.x,l.y,l.z),a.x=h.x+r*l.x,a.y=h.y+r*l.y,a.z=h.z+r*l.z,p.push(a.x,a.y,a.z)}}function _(){for(let x=1;x<=n;x++)for(let M=1;M<=i;M++){const R=(i+1)*(x-1)+(M-1),T=(i+1)*x+(M-1),I=(i+1)*x+M,F=(i+1)*(x-1)+M;y.push(R,T,F),y.push(T,I,F)}}function w(){for(let x=0;x<=n;x++)for(let M=0;M<=i;M++)u.x=x/n,u.y=M/i,v.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new fA(new F1[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Ck extends nn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new J,s=new J;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let u=0,h=l.length;u<h;++u){const p=l[u],m=p.start,v=p.count;for(let y=m,S=m+v;y<S;y+=3)for(let A=0;A<3;A++){const _=a.getX(y+A),w=a.getX(y+(A+1)%3);i.fromBufferAttribute(o,_),s.fromBufferAttribute(o,w),OL(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let u=0;u<3;u++){const h=3*a+u,p=3*a+(u+1)%3;i.fromBufferAttribute(o,h),s.fromBufferAttribute(o,p),OL(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new Et(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function OL(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var FL=Object.freeze({__proto__:null,BoxGeometry:vh,CapsuleGeometry:ZS,CircleGeometry:eA,ConeGeometry:tA,CylinderGeometry:cm,DodecahedronGeometry:nA,EdgesGeometry:wk,ExtrudeGeometry:iA,IcosahedronGeometry:sA,LatheGeometry:Sv,OctahedronGeometry:Av,PlaneGeometry:yv,PolyhedronGeometry:Mc,RingGeometry:oA,ShapeGeometry:aA,SphereGeometry:wv,TetrahedronGeometry:lA,TorusGeometry:uA,TorusKnotGeometry:cA,TubeGeometry:fA,WireframeGeometry:Ck});class Tk extends ti{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new nt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Rk extends Ya{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Ev extends ti{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new nt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bc,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class No extends Ev{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Te(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Sr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new nt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new nt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new nt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Pk extends ti{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new nt(16777215),this.specular=new nt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bc,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=hv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ik extends ti{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new nt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bc,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Lk extends ti{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bc,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Bk extends ti{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new nt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bc,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=hv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Dk extends ti{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new nt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bc,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Ok extends Gi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function zf(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function Fk(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Nk(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function hC(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function T2(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function gee(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],h=u.getValueSize(),p=[],m=[];for(let v=0;v<u.times.length;++v){const y=u.times[v]*i;if(!(y<n||y>=r)){p.push(u.times[v]);for(let S=0;S<h;++S)m.push(u.values[v*h+S])}}p.length!==0&&(u.times=zf(p,u.times.constructor),u.values=zf(m,u.values.constructor),o.push(u))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function vee(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(_){return _.name===a.name&&_.ValueTypeName===l});if(u===void 0)continue;let h=0;const p=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=p/3);let m=0;const v=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=v/3);const y=a.times.length-1;let S;if(s<=a.times[0]){const _=h,w=p-h;S=a.values.slice(_,w)}else if(s>=a.times[y]){const _=y*p+h,w=_+p-h;S=a.values.slice(_,w)}else{const _=a.createInterpolant(),w=h,x=p-h;_.evaluate(s),S=_.resultBuffer.slice(w,x)}l==="quaternion"&&new _i().fromArray(S).normalize().conjugate().toArray(S);const A=u.times.length;for(let _=0;_<A;++_){const w=_*v+m;if(l==="quaternion")_i.multiplyQuaternionsFlat(u.values,w,S,0,u.values,w);else{const x=v-m*2;for(let M=0;M<x;++M)u.values[w+M]-=S[M]}}}return t.blendMode=n2,t}const yee={convertArray:zf,isTypedArray:Fk,getKeyframeOrder:Nk,sortedArray:hC,flattenJSON:T2,subclip:gee,makeClipAdditive:vee};class fm{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Uk extends fm{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Uf,endingEnd:Uf}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case kf:s=e,a=2*n-r;break;case H0:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case kf:o=e,l=2*r-n;break;case H0:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const u=(r-n)*.5,h=this.valueSize;this._weightPrev=u/(n-a),this._weightNext=u/(l-r),this._offsetPrev=s*h,this._offsetNext=o*h}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,h=this._offsetPrev,p=this._offsetNext,m=this._weightPrev,v=this._weightNext,y=(r-n)/(i-n),S=y*y,A=S*y,_=-m*A+2*m*S-m*y,w=(1+m)*A+(-1.5-2*m)*S+(-.5+m)*y+1,x=(-1-v)*A+(1.5+v)*S+.5*y,M=v*A-v*S;for(let R=0;R!==a;++R)s[R]=_*o[h+R]+w*o[u+R]+x*o[l+R]+M*o[p+R];return s}}class R2 extends fm{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,u=l-a,h=(r-n)/(i-n),p=1-h;for(let m=0;m!==a;++m)s[m]=o[u+m]*p+o[l+m]*h;return s}}class kk extends fm{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class va{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=zf(n,this.TimeBufferType),this.values=zf(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:zf(e.times,Array),values:zf(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new kk(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new R2(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Uk(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Kp:n=this.InterpolantFactoryMethodDiscrete;break;case ah:n=this.InterpolantFactoryMethodLinear;break;case Xx:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Kp;case this.InterpolantFactoryMethodLinear:return ah;case this.InterpolantFactoryMethodSmooth:return Xx}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&Fk(i))for(let a=0,l=i.length;a!==l;++a){const u=i[a];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===Xx,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const u=e[a],h=e[a+1];if(u!==h&&(a!==1||u!==e[0]))if(i)l=!0;else{const p=a*r,m=p-r,v=p+r;for(let y=0;y!==r;++y){const S=n[p+y];if(S!==n[m+y]||S!==n[v+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const p=a*r,m=o*r;for(let v=0;v!==r;++v)n[m+v]=n[p+v]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,u=0;u!==r;++u)n[l+u]=n[a+u];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}va.prototype.TimeBufferType=Float32Array;va.prototype.ValueBufferType=Float32Array;va.prototype.DefaultInterpolation=ah;class yh extends va{}yh.prototype.ValueTypeName="bool";yh.prototype.ValueBufferType=Array;yh.prototype.DefaultInterpolation=Kp;yh.prototype.InterpolantFactoryMethodLinear=void 0;yh.prototype.InterpolantFactoryMethodSmooth=void 0;class P2 extends va{}P2.prototype.ValueTypeName="color";class ch extends va{}ch.prototype.ValueTypeName="number";class Hk extends fm{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let u=e*a;for(let h=u+a;u!==h;u+=4)_i.slerpFlat(s,0,o,u-a,o,u,l);return s}}class yc extends va{InterpolantFactoryMethodLinear(e){return new Hk(this.times,this.values,this.getValueSize(),e)}}yc.prototype.ValueTypeName="quaternion";yc.prototype.DefaultInterpolation=ah;yc.prototype.InterpolantFactoryMethodSmooth=void 0;class _h extends va{}_h.prototype.ValueTypeName="string";_h.prototype.ValueBufferType=Array;_h.prototype.DefaultInterpolation=Kp;_h.prototype.InterpolantFactoryMethodLinear=void 0;_h.prototype.InterpolantFactoryMethodSmooth=void 0;class fh extends va{}fh.prototype.ValueTypeName="vector";class Zp{constructor(e,n=-1,r,i=$S){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=no(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(xee(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(va.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],u=[];l.push((a+s-1)%s,a,(a+1)%s),u.push(0,1,0);const h=Nk(l);l=hC(l,1,h),u=hC(u,1,h),!i&&l[0]===0&&(l.push(s),u.push(u[0])),o.push(new ch(".morphTargetInfluences["+n[a].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const u=e[a],h=u.name.match(s);if(h&&h.length>1){const p=h[1];let m=i[p];m||(i[p]=m=[]),m.push(u)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(p,m,v,y,S){if(v.length!==0){const A=[],_=[];T2(v,A,_,y),A.length!==0&&S.push(new p(m,A,_))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let p=0;p<u.length;p++){const m=u[p].keys;if(!(!m||m.length===0))if(m[0].morphTargets){const v={};let y;for(y=0;y<m.length;y++)if(m[y].morphTargets)for(let S=0;S<m[y].morphTargets.length;S++)v[m[y].morphTargets[S]]=-1;for(const S in v){const A=[],_=[];for(let w=0;w!==m[y].morphTargets.length;++w){const x=m[y];A.push(x.time),_.push(x.morphTarget===S?1:0)}i.push(new ch(".morphTargetInfluence["+S+"]",A,_))}l=v.length*o}else{const v=".bones["+n[p].name+"]";r(fh,v+".position",m,"pos",i),r(yc,v+".quaternion",m,"rot",i),r(fh,v+".scale",m,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function _ee(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ch;case"vector":case"vector2":case"vector3":case"vector4":return fh;case"color":return P2;case"quaternion":return yc;case"bool":case"boolean":return yh;case"string":return _h}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function xee(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=_ee(t.type);if(t.times===void 0){const n=[],r=[];T2(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Fl={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class I2{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(h){a++,s===!1&&i.onStart!==void 0&&i.onStart(h,o,a),s=!0},this.itemEnd=function(h){o++,i.onProgress!==void 0&&i.onProgress(h,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(h){i.onError!==void 0&&i.onError(h)},this.resolveURL=function(h){return l?l(h):h},this.setURLModifier=function(h){return l=h,this},this.addHandler=function(h,p){return u.push(h,p),this},this.removeHandler=function(h){const p=u.indexOf(h);return p!==-1&&u.splice(p,2),this},this.getHandler=function(h){for(let p=0,m=u.length;p<m;p+=2){const v=u[p],y=u[p+1];if(v.global&&(v.lastIndex=0),v.test(h))return y}return null}}}const zk=new I2;class $i{constructor(e){this.manager=e!==void 0?e:zk,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}$i.DEFAULT_MATERIAL_NAME="__DEFAULT";const Al={};class See extends Error{constructor(e,n){super(e),this.response=n}}class io extends $i{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Fl.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(Al[e]!==void 0){Al[e].push({onLoad:n,onProgress:r,onError:i});return}Al[e]=[],Al[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const h=Al[e],p=u.body.getReader(),m=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),v=m?parseInt(m):0,y=v!==0;let S=0;const A=new ReadableStream({start(_){w();function w(){p.read().then(({done:x,value:M})=>{if(x)_.close();else{S+=M.byteLength;const R=new ProgressEvent("progress",{lengthComputable:y,loaded:S,total:v});for(let T=0,I=h.length;T<I;T++){const F=h[T];F.onProgress&&F.onProgress(R)}_.enqueue(M),w()}})}}});return new Response(A)}else throw new See(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(h=>new DOMParser().parseFromString(h,a));case"json":return u.json();default:if(a===void 0)return u.text();{const p=/charset="?([^;"\s]*)"?/i.exec(a),m=p&&p[1]?p[1].toLowerCase():void 0,v=new TextDecoder(m);return u.arrayBuffer().then(y=>v.decode(y))}}}).then(u=>{Fl.add(e,u);const h=Al[e];delete Al[e];for(let p=0,m=h.length;p<m;p++){const v=h[p];v.onLoad&&v.onLoad(u)}}).catch(u=>{const h=Al[e];if(h===void 0)throw this.manager.itemError(e),u;delete Al[e];for(let p=0,m=h.length;p<m;p++){const v=h[p];v.onError&&v.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Aee extends $i{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new io(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=Zp.parse(e[r]);n.push(i)}return n}}class wee extends $i{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new qS,l=new io(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function h(p){l.load(e[p],function(m){const v=s.parse(m,!0);o[p]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},u+=1,u===6&&(v.mipmapCount===1&&(a.minFilter=lr),a.image=o,a.format=v.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let p=0,m=e.length;p<m;++p)h(p);else l.load(e,function(p){const m=s.parse(p,!0);if(m.isCubemap){const v=m.mipmaps.length/m.mipmapCount;for(let y=0;y<v;y++){o[y]={mipmaps:[]};for(let S=0;S<m.mipmapCount;S++)o[y].mipmaps.push(m.mipmaps[y*m.mipmapCount+S]),o[y].format=m.format,o[y].width=m.width,o[y].height=m.height}a.image=o}else a.image.width=m.width,a.image.height=m.height,a.mipmaps=m.mipmaps;m.mipmapCount===1&&(a.minFilter=lr),a.format=m.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class Y0 extends $i{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Fl.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=V0("img");function l(){h(),Fl.add(e,this),n&&n(this),s.manager.itemEnd(e)}function u(p){h(),i&&i(p),s.manager.itemError(e),s.manager.itemEnd(e)}function h(){a.removeEventListener("load",l,!1),a.removeEventListener("error",u,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class Eee extends $i{constructor(e){super(e)}load(e,n,r,i){const s=new gv;s.colorSpace=zr;const o=new Y0(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(u){o.load(e[u],function(h){s.images[u]=h,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return s}}class bee extends $i{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Zf,a=new io(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let u;try{u=s.parse(l)}catch(h){if(i!==void 0)i(h);else{console.error(h);return}}u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:Ei,o.wrapT=u.wrapT!==void 0?u.wrapT:Ei,o.magFilter=u.magFilter!==void 0?u.magFilter:lr,o.minFilter=u.minFilter!==void 0?u.minFilter:lr,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0?o.colorSpace=u.colorSpace:u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=Ka),u.mipmapCount===1&&(o.minFilter=lr),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,n&&n(o,u)},r,i),o}}class L2 extends $i{constructor(e){super(e)}load(e,n,r,i){const s=new fr,o=new Y0(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class Cc extends An{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new nt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class Gk extends Cc{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(An.DEFAULT_UP),this.updateMatrix(),this.groundColor=new nt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const FE=new Nt,NL=new J,UL=new J;class B2{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Te(512,512),this.map=null,this.mapPass=null,this.matrix=new Nt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new vv,this._frameExtents=new Te(1,1),this._viewportCount=1,this._viewports=[new In(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;NL.setFromMatrixPosition(e.matrixWorld),n.position.copy(NL),UL.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(UL),n.updateMatrixWorld(),FE.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(FE),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(FE)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Mee extends B2{constructor(){super(new Ar(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=qp*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class D2 extends Cc{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(An.DEFAULT_UP),this.updateMatrix(),this.target=new An,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new Mee}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const kL=new Nt,Og=new J,NE=new J;class Cee extends B2{constructor(){super(new Ar(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Te(4,2),this._viewportCount=6,this._viewports=[new In(2,1,1,1),new In(0,1,1,1),new In(3,1,1,1),new In(1,1,1,1),new In(3,0,1,1),new In(1,0,1,1)],this._cubeDirections=[new J(1,0,0),new J(-1,0,0),new J(0,0,1),new J(0,0,-1),new J(0,1,0),new J(0,-1,0)],this._cubeUps=[new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,0,1),new J(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Og.setFromMatrixPosition(e.matrixWorld),r.position.copy(Og),NE.copy(r.position),NE.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(NE),r.updateMatrixWorld(),i.makeTranslation(-Og.x,-Og.y,-Og.z),kL.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(kL)}}class O2 extends Cc{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Cee}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Tee extends B2{constructor(){super(new kl(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class F2 extends Cc{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(An.DEFAULT_UP),this.updateMatrix(),this.target=new An,this.shadow=new Tee}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class $k extends Cc{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class Wk extends Cc{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class Vk{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new J)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class jk extends Cc{constructor(e=new Vk,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class hA extends $i{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new io(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=hA.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new nt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new nt().setHex(o.value);break;case"v2":i.uniforms[s].value=new Te().fromArray(o.value);break;case"v3":i.uniforms[s].value=new J().fromArray(o.value);break;case"v4":i.uniforms[s].value=new In().fromArray(o.value);break;case"m3":i.uniforms[s].value=new fn().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Nt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Te().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Te().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:Tk,SpriteMaterial:v2,RawShaderMaterial:Rk,ShaderMaterial:Ya,PointsMaterial:YS,MeshPhysicalMaterial:No,MeshStandardMaterial:Ev,MeshPhongMaterial:Pk,MeshToonMaterial:Ik,MeshNormalMaterial:Lk,MeshLambertMaterial:Bk,MeshDepthMaterial:d2,MeshDistanceMaterial:p2,MeshBasicMaterial:Qs,MeshMatcapMaterial:Dk,LineDashedMaterial:Ok,LineBasicMaterial:Gi,Material:ti};return new n[e]}}class hc{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class Xk extends nn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Jk extends $i{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new io(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(v,y){if(n[y]!==void 0)return n[y];const A=v.interleavedBuffers[y],_=s(v,A.buffer),w=Sp(A.type,_),x=new _v(w,A.stride);return x.uuid=A.uuid,n[y]=x,x}function s(v,y){if(r[y]!==void 0)return r[y];const A=v.arrayBuffers[y],_=new Uint32Array(A).buffer;return r[y]=_,_}const o=e.isInstancedBufferGeometry?new Xk:new nn,a=e.data.index;if(a!==void 0){const v=Sp(a.type,a.array);o.setIndex(new wn(v,1))}const l=e.data.attributes;for(const v in l){const y=l[v];let S;if(y.isInterleavedBufferAttribute){const A=i(e.data,y.data);S=new vc(A,y.itemSize,y.offset,y.normalized)}else{const A=Sp(y.type,y.array),_=y.isInstancedBufferAttribute?lh:wn;S=new _(A,y.itemSize,y.normalized)}y.name!==void 0&&(S.name=y.name),y.usage!==void 0&&S.setUsage(y.usage),o.setAttribute(v,S)}const u=e.data.morphAttributes;if(u)for(const v in u){const y=u[v],S=[];for(let A=0,_=y.length;A<_;A++){const w=y[A];let x;if(w.isInterleavedBufferAttribute){const M=i(e.data,w.data);x=new vc(M,w.itemSize,w.offset,w.normalized)}else{const M=Sp(w.type,w.array);x=new wn(M,w.itemSize,w.normalized)}w.name!==void 0&&(x.name=w.name),S.push(x)}o.morphAttributes[v]=S}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const p=e.data.groups||e.data.drawcalls||e.data.offsets;if(p!==void 0)for(let v=0,y=p.length;v!==y;++v){const S=p[v];o.addGroup(S.start,S.count,S.materialIndex)}const m=e.data.boundingSphere;if(m!==void 0){const v=new J;m.center!==void 0&&v.fromArray(m.center),o.boundingSphere=new Ci(v,m.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class Ree extends $i{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?hc.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new io(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(p){i!==void 0&&i(p),console.error("THREE:ObjectLoader: Can't parse "+e+".",p.message);return}const h=u.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?hc.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new io(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(u)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),u=this.parseObject(e.object,s,l,a,r),h=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,h),n!==void 0){let p=!1;for(const m in o)if(o[m].data instanceof HTMLImageElement){p=!0;break}p===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new eh().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new xv().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new Jk;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in FL?a=FL[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new hA;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Zp.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const u=l,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(h)}else return l.data?{data:Sp(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new I2(n);s=new Y0(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,h=e.length;u<h;u++){const p=e[u],m=p.url;if(Array.isArray(m)){const v=[];for(let y=0,S=m.length;y<S;y++){const A=m[y],_=a(A);_!==null&&(_ instanceof HTMLImageElement?v.push(_):v.push(new Zf(_.data,_.width,_.height)))}i[p.uuid]=new Hf(v)}else{const v=a(p.url);i[p.uuid]=new Hf(v)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Sp(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Y0(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const h=[];for(let p=0,m=u.length;p<m;p++){const v=u[p],y=await s(v);y!==null&&(y instanceof HTMLImageElement?h.push(y):h.push(new Zf(y.data,y.width,y.height)))}r[l.uuid]=new Hf(h)}else{const h=await s(l.url);r[l.uuid]=new Hf(h)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],u=l.data;let h;Array.isArray(u)?(h=new gv,u.length===6&&(h.needsUpdate=!0)):(u&&u.data?h=new Zf:h=new fr,u&&(h.needsUpdate=!0)),h.source=l,h.uuid=a.uuid,a.name!==void 0&&(h.name=a.name),a.mapping!==void 0&&(h.mapping=r(a.mapping,Pee)),a.channel!==void 0&&(h.channel=a.channel),a.offset!==void 0&&h.offset.fromArray(a.offset),a.repeat!==void 0&&h.repeat.fromArray(a.repeat),a.center!==void 0&&h.center.fromArray(a.center),a.rotation!==void 0&&(h.rotation=a.rotation),a.wrap!==void 0&&(h.wrapS=r(a.wrap[0],HL),h.wrapT=r(a.wrap[1],HL)),a.format!==void 0&&(h.format=a.format),a.internalFormat!==void 0&&(h.internalFormat=a.internalFormat),a.type!==void 0&&(h.type=a.type),a.colorSpace!==void 0&&(h.colorSpace=a.colorSpace),a.encoding!==void 0&&(h.encoding=a.encoding),a.minFilter!==void 0&&(h.minFilter=r(a.minFilter,zL)),a.magFilter!==void 0&&(h.magFilter=r(a.magFilter,zL)),a.anisotropy!==void 0&&(h.anisotropy=a.anisotropy),a.flipY!==void 0&&(h.flipY=a.flipY),a.generateMipmaps!==void 0&&(h.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(h.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(h.compareFunction=a.compareFunction),a.userData!==void 0&&(h.userData=a.userData),i[a.uuid]=h}return i}parseObject(e,n,r,i,s){let o;function a(m){return n[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",m),n[m]}function l(m){if(m!==void 0){if(Array.isArray(m)){const v=[];for(let y=0,S=m.length;y<S;y++){const A=m[y];r[A]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",A),v.push(r[A])}return v}return r[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",m),r[m]}}function u(m){return i[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",m),i[m]}let h,p;switch(e.type){case"Scene":o=new g2,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new nt(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new JS(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new XS(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Ar(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new kl(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new $k(e.color,e.intensity);break;case"DirectionalLight":o=new F2(e.color,e.intensity);break;case"PointLight":o=new O2(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Wk(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new D2(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new Gk(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new jk().fromJSON(e);break;case"SkinnedMesh":h=a(e.geometry),p=l(e.material),o=new y2(h,p),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":h=a(e.geometry),p=l(e.material),o=new Wr(h,p);break;case"InstancedMesh":h=a(e.geometry),p=l(e.material);const m=e.count,v=e.instanceMatrix,y=e.instanceColor;o=new _2(h,p,m),o.instanceMatrix=new lh(new Float32Array(v.array),16),y!==void 0&&(o.instanceColor=new lh(new Float32Array(y.array),y.itemSize));break;case"BatchedMesh":h=a(e.geometry),p=l(e.material),o=new gk(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,p),o.geometry=h,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(S=>{const A=new Hi;A.min.fromArray(S.boxMin),A.max.fromArray(S.boxMax);const _=new Ci;return _.radius=S.sphereRadius,_.center.fromArray(S.sphereCenter),{boxInitialized:S.boxInitialized,box:A,sphereInitialized:S.sphereInitialized,sphere:_}}),o._maxGeometryCount=e.maxGeometryCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=u(e.matricesTexture.uuid);break;case"LOD":o=new mk;break;case"Line":o=new jl(a(e.geometry),l(e.material));break;case"LineLoop":o=new x2(a(e.geometry),l(e.material));break;case"LineSegments":o=new ma(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new S2(a(e.geometry),l(e.material));break;case"Sprite":o=new pk(l(e.material));break;case"Group":o=new Ol;break;case"Bone":o=new KS;break;default:o=new An}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const m=e.children;for(let v=0;v<m.length;v++)o.add(this.parseObject(m[v],n,r,i,s))}if(e.animations!==void 0){const m=e.animations;for(let v=0;v<m.length;v++){const y=m[v];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const m=e.levels;for(let v=0;v<m.length;v++){const y=m[v],S=o.getObjectByProperty("uuid",y.object);S!==void 0&&o.addLevel(S,y.distance,y.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const Pee={UVMapping:HS,CubeReflectionMapping:Vl,CubeRefractionMapping:mc,EquirectangularReflectionMapping:N0,EquirectangularRefractionMapping:U0,CubeUVReflectionMapping:lm},HL={RepeatWrapping:gc,ClampToEdgeWrapping:Ei,MirroredRepeatWrapping:Xp},zL={NearestFilter:xr,NearestMipmapNearestFilter:k0,NearestMipmapLinearFilter:Lp,LinearFilter:lr,LinearMipmapNearestFilter:zS,LinearMipmapLinearFilter:Ka};class Kk extends $i{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Fl.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(u=>{n&&n(u),s.manager.itemEnd(e)}).catch(u=>{i&&i(u)});return}return setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){return Fl.add(e,u),n&&n(u),s.manager.itemEnd(e),u}).catch(function(u){i&&i(u),Fl.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Fl.add(e,l),s.manager.itemStart(e)}}let sx;class N2{static getContext(){return sx===void 0&&(sx=new(window.AudioContext||window.webkitAudioContext)),sx}static setContext(e){sx=e}}class Iee extends $i{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new io(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const u=l.slice(0);N2.getContext().decodeAudioData(u,function(p){n(p)}).catch(a)}catch(u){a(u)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}const GL=new Nt,$L=new Nt,vf=new Nt;class Lee{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ar,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ar,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,vf.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(qf*n.fov*.5)/n.zoom;let a,l;$L.elements[12]=-i,GL.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,vf.elements[0]=2*n.near/(l-a),vf.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(vf),a=-o*n.aspect-s,l=o*n.aspect-s,vf.elements[0]=2*n.near/(l-a),vf.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(vf)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply($L),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(GL)}}class U2{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=WL(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=WL();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function WL(){return(typeof performance>"u"?Date:performance).now()}const yf=new J,VL=new _i,Bee=new J,_f=new J;class Dee extends An{constructor(){super(),this.type="AudioListener",this.context=N2.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new U2}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(yf,VL,Bee),_f.set(0,0,-1).applyQuaternion(VL),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(yf.x,i),n.positionY.linearRampToValueAtTime(yf.y,i),n.positionZ.linearRampToValueAtTime(yf.z,i),n.forwardX.linearRampToValueAtTime(_f.x,i),n.forwardY.linearRampToValueAtTime(_f.y,i),n.forwardZ.linearRampToValueAtTime(_f.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(yf.x,yf.y,yf.z),n.setOrientation(_f.x,_f.y,_f.z,r.x,r.y,r.z)}}class Yk extends An{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const xf=new J,jL=new _i,Oee=new J,Sf=new J;class Fee extends Yk{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(xf,jL,Oee),Sf.set(0,0,1).applyQuaternion(jL);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(xf.x,r),n.positionY.linearRampToValueAtTime(xf.y,r),n.positionZ.linearRampToValueAtTime(xf.z,r),n.orientationX.linearRampToValueAtTime(Sf.x,r),n.orientationY.linearRampToValueAtTime(Sf.y,r),n.orientationZ.linearRampToValueAtTime(Sf.z,r)}else n.setPosition(xf.x,xf.y,xf.z),n.setOrientation(Sf.x,Sf.y,Sf.z)}}class Nee{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class qk{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){_i.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;_i.multiplyQuaternionsFlat(e,o,e,n,e,r),_i.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const k2="\\[\\]\\.:\\/",Uee=new RegExp("["+k2+"]","g"),H2="[^"+k2+"]",kee="[^"+k2.replace("\\.","")+"]",Hee=/((?:WC+[\/:])*)/.source.replace("WC",H2),zee=/(WCOD+)?/.source.replace("WCOD",kee),Gee=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",H2),$ee=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",H2),Wee=new RegExp("^"+Hee+zee+Gee+$ee+"$"),Vee=["material","materials","bones","map"];class jee{constructor(e,n,r){const i=r||Sn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Sn{constructor(e,n,r){this.path=n,this.parsedPath=r||Sn.parseTrackName(n),this.node=Sn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Sn.Composite(e,n,r):new Sn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Uee,"")}static parseTrackName(e){const n=Wee.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);Vee.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=Sn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===u){u=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Sn.Composite=jee;Sn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Sn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Sn.prototype.GetterByBindingType=[Sn.prototype._getValue_direct,Sn.prototype._getValue_array,Sn.prototype._getValue_arrayElement,Sn.prototype._getValue_toArray];Sn.prototype.SetterByBindingTypeAndVersioning=[[Sn.prototype._setValue_direct,Sn.prototype._setValue_direct_setNeedsUpdate,Sn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Sn.prototype._setValue_array,Sn.prototype._setValue_array_setNeedsUpdate,Sn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Sn.prototype._setValue_arrayElement,Sn.prototype._setValue_arrayElement_setNeedsUpdate,Sn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Sn.prototype._setValue_fromArray,Sn.prototype._setValue_fromArray_setNeedsUpdate,Sn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Xee{constructor(){this.isAnimationObjectGroup=!0,this.uuid=no(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,u=this.nCachedObjects_;for(let h=0,p=arguments.length;h!==p;++h){const m=arguments[h],v=m.uuid;let y=n[v];if(y===void 0){y=l++,n[v]=y,e.push(m);for(let S=0,A=o;S!==A;++S)s[S].push(new Sn(m,r[S],i[S]))}else if(y<u){a=e[y];const S=--u,A=e[S];n[A.uuid]=y,e[y]=A,n[v]=S,e[S]=m;for(let _=0,w=o;_!==w;++_){const x=s[_],M=x[S];let R=x[y];x[y]=M,R===void 0&&(R=new Sn(m,r[_],i[_])),x[S]=R}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],u=l.uuid,h=n[u];if(h!==void 0&&h>=s){const p=s++,m=e[p];n[m.uuid]=h,e[h]=m,n[u]=p,e[p]=l;for(let v=0,y=i;v!==y;++v){const S=r[v],A=S[p],_=S[h];S[h]=A,S[p]=_}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const u=arguments[a],h=u.uuid,p=n[h];if(p!==void 0)if(delete n[h],p<s){const m=--s,v=e[m],y=--o,S=e[y];n[v.uuid]=p,e[p]=v,n[S.uuid]=m,e[m]=S,e.pop();for(let A=0,_=i;A!==_;++A){const w=r[A],x=w[m],M=w[y];w[p]=x,w[m]=M,w.pop()}}else{const m=--o,v=e[m];m>0&&(n[v.uuid]=p),e[p]=v,e.pop();for(let y=0,S=i;y!==S;++y){const A=r[y];A[p]=A[m],A.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,u=l.length,h=this.nCachedObjects_,p=new Array(u);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(p);for(let m=h,v=l.length;m!==v;++m){const y=l[m];p[m]=new Sn(y,e,n)}return p}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],u=e[a];n[u]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class Qk{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Uf,endingEnd:Uf};for(let u=0;u!==o;++u){const h=s[u].createInterpolant(null);a[u]=h,h.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=F4,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,u=a.sampleValues;return l[0]=s,l[1]=s+r,u[0]=e/o,u[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case n2:for(let h=0,p=l.length;h!==p;++h)l[h].evaluate(o),u[h].accumulateAdditive(a);break;case $S:default:for(let h=0,p=l.length;h!==p;++h)l[h].evaluate(o),u[h].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===N4;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===O4){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=kf,i.endingEnd=kf):(e?i.endingStart=this.zeroSlopeAtStart?kf:Uf:i.endingStart=H0,n?i.endingEnd=this.zeroSlopeAtEnd?kf:Uf:i.endingEnd=H0)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const Jee=new Float32Array(1);class Kee extends Jl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let h=u[l];h===void 0&&(h={},u[l]=h);for(let p=0;p!==s;++p){const m=i[p],v=m.name;let y=h[v];if(y!==void 0)++y.referenceCount,o[p]=y;else{if(y=o[p],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,v));continue}const S=n&&n._propertyBindings[p].binding.parsedPath;y=new qk(Sn.create(r,v,S),m.ValueTypeName,m.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,v),o[p]=y}a[p].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,u=l[l.length-1],h=e._byClipCacheIndex;u._byClipCacheIndex=h,l[h]=u,l.pop(),e._byClipCacheIndex=null;const p=a.actionByRoot,m=(e._localRoot||this._root).uuid;delete p[m],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new R2(new Float32Array(2),new Float32Array(2),1,Jee),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?Zp.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=$S),l!==void 0){const p=l.actionByRoot[s];if(p!==void 0&&p.blendMode===r)return p;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const h=new Qk(this,o,n,r);return this._bindAction(h,u),this._addInactiveAction(h,a,s),h}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?Zp.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)a[u].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const u=o[a];this._deactivateAction(u);const h=u._cacheIndex,p=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,p._cacheIndex=h,n[h]=p,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class z2{constructor(e){this.value=e}clone(){return new z2(this.value.clone===void 0?this.value:this.value.clone())}}let Yee=0;class qee extends Jl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Yee++}),this.name="",this.usage=W0,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const s=Array.isArray(n[r])?n[r]:[n[r]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class Qee extends _v{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class Zee{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class Zk{constructor(e,n,r=0,i=1/0){this.ray=new gh(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new Qf,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return dC(e,this,r,n),r.sort(XL),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)dC(e[i],this,r,n);return r.sort(XL),r}}function XL(t,e){return t.distance-e.distance}function dC(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,o=i.length;s<o;s++)dC(i[s],e,n,!0)}}class pC{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Sr(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class ete{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const JL=new Te;class tte{constructor(e=new Te(1/0,1/0),n=new Te(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=JL.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,JL).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const KL=new J,ox=new J;class nte{constructor(e=new J,n=new J){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){KL.subVectors(e,this.start),ox.subVectors(this.end,this.start);const r=ox.dot(ox);let s=ox.dot(KL)/r;return n&&(s=Sr(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const YL=new J;class rte extends An{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new nn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const u=o/l*Math.PI*2,h=a/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(h),Math.sin(h),1)}r.setAttribute("position",new Et(i,3));const s=new Gi({fog:!1,toneMapped:!1});this.cone=new ma(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),YL.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(YL),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Uu=new J,ax=new Nt,UE=new Nt;class ite extends ma{constructor(e){const n=e5(e),r=new nn,i=[],s=[],o=new nt(0,0,1),a=new nt(0,1,0);for(let u=0;u<n.length;u++){const h=n[u];h.parent&&h.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new Et(i,3)),r.setAttribute("color",new Et(s,3));const l=new Gi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");UE.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(ax.multiplyMatrices(UE,a.matrixWorld),Uu.setFromMatrixPosition(ax),i.setXYZ(o,Uu.x,Uu.y,Uu.z),ax.multiplyMatrices(UE,a.parent.matrixWorld),Uu.setFromMatrixPosition(ax),i.setXYZ(o+1,Uu.x,Uu.y,Uu.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function e5(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,e5(t.children[n]));return e}class ste extends Wr{constructor(e,n,r){const i=new wv(n,4,2),s=new Qs({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const ote=new J,qL=new nt,QL=new nt;class ate extends An{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Av(n);i.rotateY(Math.PI*.5),this.material=new Qs({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new wn(o,3)),this.add(new Wr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");qL.copy(this.light.color),QL.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?qL:QL;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(ote.setFromMatrixPosition(this.light.matrixWorld).negate())}}class lte extends ma{constructor(e=10,n=10,r=4473924,i=8947848){r=new nt(r),i=new nt(i);const s=n/2,o=e/n,a=e/2,l=[],u=[];for(let m=0,v=0,y=-a;m<=n;m++,y+=o){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const S=m===s?r:i;S.toArray(u,v),v+=3,S.toArray(u,v),v+=3,S.toArray(u,v),v+=3,S.toArray(u,v),v+=3}const h=new nn;h.setAttribute("position",new Et(l,3)),h.setAttribute("color",new Et(u,3));const p=new Gi({vertexColors:!0,toneMapped:!1});super(h,p),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class ute extends ma{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new nt(s),o=new nt(o);const a=[],l=[];if(n>1)for(let p=0;p<n;p++){const m=p/n*(Math.PI*2),v=Math.sin(m)*e,y=Math.cos(m)*e;a.push(0,0,0),a.push(v,0,y);const S=p&1?s:o;l.push(S.r,S.g,S.b),l.push(S.r,S.g,S.b)}for(let p=0;p<r;p++){const m=p&1?s:o,v=e-e/r*p;for(let y=0;y<i;y++){let S=y/i*(Math.PI*2),A=Math.sin(S)*v,_=Math.cos(S)*v;a.push(A,0,_),l.push(m.r,m.g,m.b),S=(y+1)/i*(Math.PI*2),A=Math.sin(S)*v,_=Math.cos(S)*v,a.push(A,0,_),l.push(m.r,m.g,m.b)}}const u=new nn;u.setAttribute("position",new Et(a,3)),u.setAttribute("color",new Et(l,3));const h=new Gi({vertexColors:!0,toneMapped:!1});super(u,h),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const ZL=new J,lx=new J,eB=new J;class cte extends An{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new nn;i.setAttribute("position",new Et([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new Gi({fog:!1,toneMapped:!1});this.lightPlane=new jl(i,s),this.add(this.lightPlane),i=new nn,i.setAttribute("position",new Et([0,0,0,0,0,1],3)),this.targetLine=new jl(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),ZL.setFromMatrixPosition(this.light.matrixWorld),lx.setFromMatrixPosition(this.light.target.matrixWorld),eB.subVectors(lx,ZL),this.lightPlane.lookAt(lx),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(lx),this.targetLine.scale.z=eB.length()}}const ux=new J,yr=new mv;class fte extends ma{constructor(e){const n=new nn,r=new Gi({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,S){l(y),l(S)}function l(y){i.push(0,0,0),s.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(i.length/3-1)}n.setAttribute("position",new Et(i,3)),n.setAttribute("color",new Et(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new nt(16755200),h=new nt(16711680),p=new nt(43775),m=new nt(16777215),v=new nt(3355443);this.setColors(u,h,p,m,v)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;yr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Pr("c",n,e,yr,0,0,-1),Pr("t",n,e,yr,0,0,1),Pr("n1",n,e,yr,-r,-i,-1),Pr("n2",n,e,yr,r,-i,-1),Pr("n3",n,e,yr,-r,i,-1),Pr("n4",n,e,yr,r,i,-1),Pr("f1",n,e,yr,-r,-i,1),Pr("f2",n,e,yr,r,-i,1),Pr("f3",n,e,yr,-r,i,1),Pr("f4",n,e,yr,r,i,1),Pr("u1",n,e,yr,r*.7,i*1.1,-1),Pr("u2",n,e,yr,-r*.7,i*1.1,-1),Pr("u3",n,e,yr,0,i*2,-1),Pr("cf1",n,e,yr,-r,0,1),Pr("cf2",n,e,yr,r,0,1),Pr("cf3",n,e,yr,0,-i,1),Pr("cf4",n,e,yr,0,i,1),Pr("cn1",n,e,yr,-r,0,-1),Pr("cn2",n,e,yr,r,0,-1),Pr("cn3",n,e,yr,0,-i,-1),Pr("cn4",n,e,yr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Pr(t,e,n,r,i,s,o){ux.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let u=0,h=a.length;u<h;u++)l.setXYZ(a[u],ux.x,ux.y,ux.z)}}const cx=new Hi;class hte extends ma{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new nn;s.setIndex(new wn(r,1)),s.setAttribute("position",new wn(i,3)),super(s,new Gi({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&cx.setFromObject(this.object),cx.isEmpty())return;const n=cx.min,r=cx.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class dte extends ma{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new nn;s.setIndex(new wn(r,1)),s.setAttribute("position",new Et(i,3)),super(s,new Gi({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class pte extends jl{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new nn;o.setAttribute("position",new Et(s,3)),o.computeBoundingSphere(),super(o,new Gi({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new nn;l.setAttribute("position",new Et(a,3)),l.computeBoundingSphere(),this.add(new Wr(l,new Qs({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const tB=new J;let fx,kE;class mte extends An{constructor(e=new J(0,0,1),n=new J(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",fx===void 0&&(fx=new nn,fx.setAttribute("position",new Et([0,0,0,0,1,0],3)),kE=new cm(0,.5,1,5,1),kE.translate(0,-.5,0)),this.position.copy(n),this.line=new jl(fx,new Gi({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Wr(kE,new Qs({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{tB.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(tB,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class gte extends ma{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new nn;i.setAttribute("position",new Et(n,3)),i.setAttribute("color",new Et(r,3));const s=new Gi({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new nt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class vte{constructor(){this.type="ShapePath",this.color=new nt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new j0,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(_){const w=[];for(let x=0,M=_.length;x<M;x++){const R=_[x],T=new eh;T.curves=R.curves,w.push(T)}return w}function r(_,w){const x=w.length;let M=!1;for(let R=x-1,T=0;T<x;R=T++){let I=w[R],F=w[T],B=F.x-I.x,O=F.y-I.y;if(Math.abs(O)>Number.EPSILON){if(O<0&&(I=w[T],B=-B,F=w[R],O=-O),_.y<I.y||_.y>F.y)continue;if(_.y===I.y){if(_.x===I.x)return!0}else{const V=O*(_.x-I.x)-B*(_.y-I.y);if(V===0)return!0;if(V<0)continue;M=!M}}else{if(_.y!==I.y)continue;if(F.x<=_.x&&_.x<=I.x||I.x<=_.x&&_.x<=F.x)return!0}}return M}const i=Va.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const u=[];if(s.length===1)return a=s[0],l=new eh,l.curves=a.curves,u.push(l),u;let h=!i(s[0].getPoints());h=e?!h:h;const p=[],m=[];let v=[],y=0,S;m[y]=void 0,v[y]=[];for(let _=0,w=s.length;_<w;_++)a=s[_],S=a.getPoints(),o=i(S),o=e?!o:o,o?(!h&&m[y]&&y++,m[y]={s:new eh,p:S},m[y].s.curves=a.curves,h&&y++,v[y]=[]):v[y].push({h:a,p:S[0]});if(!m[0])return n(s);if(m.length>1){let _=!1,w=0;for(let x=0,M=m.length;x<M;x++)p[x]=[];for(let x=0,M=m.length;x<M;x++){const R=v[x];for(let T=0;T<R.length;T++){const I=R[T];let F=!0;for(let B=0;B<m.length;B++)r(I.p,m[B].p)&&(x!==B&&w++,F?(F=!1,p[B].push(I)):_=!0);F&&p[x].push(I)}}w>0&&_===!1&&(v=p)}let A;for(let _=0,w=m.length;_<w;_++){l=m[_].s,u.push(l),A=v[_];for(let x=0,M=A.length;x<M;x++)l.holes.push(A[x].h)}return u}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:fv}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=fv);const yte=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:JT,AddEquation:Ju,AddOperation:x4,AdditiveAnimationBlendMode:n2,AdditiveBlending:CM,AgXToneMapping:b4,AlphaFormat:R4,AlwaysCompare:J4,AlwaysDepth:d4,AlwaysStencilFunc:iC,AmbientLight:$k,AnimationAction:Qk,AnimationClip:Zp,AnimationLoader:Aee,AnimationMixer:Kee,AnimationObjectGroup:Xee,AnimationUtils:yee,ArcCurve:yk,ArrayCamera:fk,ArrowHelper:mte,AttachedBindMode:LM,Audio:Yk,AudioAnalyser:Nee,AudioContext:N2,AudioListener:Dee,AudioLoader:Iee,AxesHelper:gte,BackSide:ss,BasicDepthPacking:k4,BasicShadowMap:KU,BatchedMesh:gk,Bone:KS,BooleanKeyframeTrack:yh,Box2:tte,Box3:Hi,Box3Helper:dte,BoxGeometry:vh,BoxHelper:hte,BufferAttribute:wn,BufferGeometry:nn,BufferGeometryLoader:Jk,ByteType:C4,Cache:Fl,Camera:mv,CameraHelper:fte,CanvasTexture:vk,CapsuleGeometry:ZS,CatmullRomCurve3:_k,CineonToneMapping:w4,CircleGeometry:eA,ClampToEdgeWrapping:Ei,Clock:U2,Color:nt,ColorKeyframeTrack:P2,ColorManagement:Pn,CompressedArrayTexture:zZ,CompressedCubeTexture:GZ,CompressedTexture:qS,CompressedTextureLoader:wee,ConeGeometry:tA,ConstantAlphaFactor:c4,ConstantColorFactor:l4,CubeCamera:nk,CubeReflectionMapping:Vl,CubeRefractionMapping:mc,CubeTexture:gv,CubeTextureLoader:Eee,CubeUVReflectionMapping:lm,CubicBezierCurve:w2,CubicBezierCurve3:xk,CubicInterpolant:Uk,CullFaceBack:MM,CullFaceFront:JU,CullFaceFrontBack:DX,CullFaceNone:XU,Curve:ga,CurvePath:Ak,CustomBlending:YU,CustomToneMapping:E4,CylinderGeometry:cm,Cylindrical:ete,Data3DTexture:l2,DataArrayTexture:VS,DataTexture:Zf,DataTextureLoader:bee,DataUtils:HJ,DecrementStencilOp:$X,DecrementWrapStencilOp:VX,DefaultLoadingManager:zk,DepthFormat:cc,DepthStencilFormat:oh,DepthTexture:h2,DetachedBindMode:M4,DirectionalLight:F2,DirectionalLightHelper:cte,DiscreteInterpolant:kk,DisplayP3ColorSpace:WS,DodecahedronGeometry:nA,DoubleSide:sa,DstAlphaFactor:r4,DstColorFactor:s4,DynamicCopyUsage:oJ,DynamicDrawUsage:eJ,DynamicReadUsage:rJ,EdgesGeometry:wk,EllipseCurve:QS,EqualCompare:W4,EqualDepth:m4,EqualStencilFunc:KX,EquirectangularReflectionMapping:N0,EquirectangularRefractionMapping:U0,Euler:pv,EventDispatcher:Jl,ExtrudeGeometry:iA,FileLoader:io,Float16BufferAttribute:jJ,Float32BufferAttribute:Et,Float64BufferAttribute:XJ,FloatType:oa,Fog:JS,FogExp2:XS,FramebufferTexture:HZ,FrontSide:Ja,Frustum:vv,GLBufferAttribute:Zee,GLSL1:lJ,GLSL3:sC,GreaterCompare:V4,GreaterDepth:v4,GreaterEqualCompare:X4,GreaterEqualDepth:g4,GreaterEqualStencilFunc:ZX,GreaterStencilFunc:qX,GridHelper:lte,Group:Ol,HalfFloatType:Jp,HemisphereLight:Gk,HemisphereLightHelper:ate,IcosahedronGeometry:sA,ImageBitmapLoader:Kk,ImageLoader:Y0,ImageUtils:a2,IncrementStencilOp:GX,IncrementWrapStencilOp:WX,InstancedBufferAttribute:lh,InstancedBufferGeometry:Xk,InstancedInterleavedBuffer:Qee,InstancedMesh:_2,Int16BufferAttribute:WJ,Int32BufferAttribute:VJ,Int8BufferAttribute:zJ,IntType:KT,InterleavedBuffer:_v,InterleavedBufferAttribute:vc,Interpolant:fm,InterpolateDiscrete:Kp,InterpolateLinear:ah,InterpolateSmooth:Xx,InvertStencilOp:jX,KeepStencilOp:Rf,KeyframeTrack:va,LOD:mk,LatheGeometry:Sv,Layers:Qf,LessCompare:$4,LessDepth:p4,LessEqualCompare:s2,LessEqualDepth:F0,LessEqualStencilFunc:YX,LessStencilFunc:JX,Light:Cc,LightProbe:jk,Line:jl,Line3:nte,LineBasicMaterial:Gi,LineCurve:E2,LineCurve3:Sk,LineDashedMaterial:Ok,LineLoop:x2,LineSegments:ma,LinearDisplayP3ColorSpace:dv,LinearEncoding:i2,LinearFilter:lr,LinearInterpolant:R2,LinearMipMapLinearFilter:kX,LinearMipMapNearestFilter:UX,LinearMipmapLinearFilter:Ka,LinearMipmapNearestFilter:zS,LinearSRGBColorSpace:da,LinearToneMapping:S4,LinearTransfer:z0,Loader:$i,LoaderUtils:hc,LoadingManager:I2,LoopOnce:O4,LoopPingPong:N4,LoopRepeat:F4,LuminanceAlphaFormat:I4,LuminanceFormat:P4,MOUSE:Cf,Material:ti,MaterialLoader:hA,MathUtils:K4,Matrix3:fn,Matrix4:Nt,MaxEquation:IM,Mesh:Wr,MeshBasicMaterial:Qs,MeshDepthMaterial:d2,MeshDistanceMaterial:p2,MeshLambertMaterial:Bk,MeshMatcapMaterial:Dk,MeshNormalMaterial:Lk,MeshPhongMaterial:Pk,MeshPhysicalMaterial:No,MeshStandardMaterial:Ev,MeshToonMaterial:Ik,MinEquation:PM,MirroredRepeatWrapping:Xp,MixOperation:_4,MultiplyBlending:RM,MultiplyOperation:hv,NearestFilter:xr,NearestMipMapLinearFilter:NX,NearestMipMapNearestFilter:FX,NearestMipmapLinearFilter:Lp,NearestMipmapNearestFilter:k0,NeverCompare:G4,NeverDepth:h4,NeverStencilFunc:XX,NoBlending:Ul,NoColorSpace:Ys,NoToneMapping:$a,NormalAnimationBlendMode:$S,NormalBlending:Yf,NotEqualCompare:j4,NotEqualDepth:y4,NotEqualStencilFunc:QX,NumberKeyframeTrack:ch,Object3D:An,ObjectLoader:Ree,ObjectSpaceNormalMap:z4,OctahedronGeometry:Av,OneFactor:e4,OneMinusConstantAlphaFactor:f4,OneMinusConstantColorFactor:u4,OneMinusDstAlphaFactor:i4,OneMinusDstColorFactor:o4,OneMinusSrcAlphaFactor:L1,OneMinusSrcColorFactor:n4,OrthographicCamera:kl,P3Primaries:$0,PCFShadowMap:kS,PCFSoftShadowMap:u0,PMREMGenerator:aC,Path:j0,PerspectiveCamera:Ar,Plane:Rl,PlaneGeometry:yv,PlaneHelper:pte,PointLight:O2,PointLightHelper:ste,Points:S2,PointsMaterial:YS,PolarGridHelper:ute,PolyhedronGeometry:Mc,PositionalAudio:Fee,PropertyBinding:Sn,PropertyMixer:qk,QuadraticBezierCurve:b2,QuadraticBezierCurve3:M2,Quaternion:_i,QuaternionKeyframeTrack:yc,QuaternionLinearInterpolant:Hk,RED_GREEN_RGTC2_Format:nC,RED_RGTC1_Format:D4,REVISION:fv,RGBADepthPacking:H4,RGBAFormat:rs,RGBAIntegerFormat:e2,RGBA_ASTC_10x10_Format:YM,RGBA_ASTC_10x5_Format:XM,RGBA_ASTC_10x6_Format:JM,RGBA_ASTC_10x8_Format:KM,RGBA_ASTC_12x10_Format:qM,RGBA_ASTC_12x12_Format:QM,RGBA_ASTC_4x4_Format:kM,RGBA_ASTC_5x4_Format:HM,RGBA_ASTC_5x5_Format:zM,RGBA_ASTC_6x5_Format:GM,RGBA_ASTC_6x6_Format:$M,RGBA_ASTC_8x5_Format:WM,RGBA_ASTC_8x6_Format:VM,RGBA_ASTC_8x8_Format:jM,RGBA_BPTC_Format:jx,RGBA_ETC2_EAC_Format:UM,RGBA_PVRTC_2BPPV1_Format:FM,RGBA_PVRTC_4BPPV1_Format:OM,RGBA_S3TC_DXT1_Format:$x,RGBA_S3TC_DXT3_Format:Wx,RGBA_S3TC_DXT5_Format:Vx,RGB_BPTC_SIGNED_Format:ZM,RGB_BPTC_UNSIGNED_Format:eC,RGB_ETC1_Format:t2,RGB_ETC2_Format:NM,RGB_PVRTC_2BPPV1_Format:DM,RGB_PVRTC_4BPPV1_Format:BM,RGB_S3TC_DXT1_Format:Gx,RGFormat:B4,RGIntegerFormat:ZT,RawShaderMaterial:Rk,Ray:gh,Raycaster:Zk,Rec709Primaries:G0,RectAreaLight:Wk,RedFormat:L4,RedIntegerFormat:QT,ReinhardToneMapping:A4,RenderTarget:Q4,RepeatWrapping:gc,ReplaceStencilOp:zX,ReverseSubtractEquation:QU,RingGeometry:oA,SIGNED_RED_GREEN_RGTC2_Format:rC,SIGNED_RED_RGTC1_Format:tC,SRGBColorSpace:zr,SRGBTransfer:Wn,Scene:g2,ShaderChunk:sn,ShaderLib:ia,ShaderMaterial:Ya,ShadowMaterial:Tk,Shape:eh,ShapeGeometry:aA,ShapePath:vte,ShapeUtils:Va,ShortType:T4,Skeleton:xv,SkeletonHelper:ite,SkinnedMesh:y2,Source:Hf,Sphere:Ci,SphereGeometry:wv,Spherical:pC,SphericalHarmonics3:Vk,SplineCurve:C2,SpotLight:D2,SpotLightHelper:rte,Sprite:pk,SpriteMaterial:v2,SrcAlphaFactor:I1,SrcAlphaSaturateFactor:a4,SrcColorFactor:t4,StaticCopyUsage:sJ,StaticDrawUsage:W0,StaticReadUsage:nJ,StereoCamera:Lee,StreamCopyUsage:aJ,StreamDrawUsage:tJ,StreamReadUsage:iJ,StringKeyframeTrack:_h,SubtractEquation:qU,SubtractiveBlending:TM,TOUCH:Tf,TangentSpaceNormalMap:bc,TetrahedronGeometry:lA,Texture:fr,TextureLoader:L2,TorusGeometry:uA,TorusKnotGeometry:cA,Triangle:xs,TriangleFanDrawMode:B1,TriangleStripDrawMode:r2,TrianglesDrawMode:U4,TubeGeometry:fA,TwoPassDoubleSide:OX,UVMapping:HS,Uint16BufferAttribute:u2,Uint32BufferAttribute:c2,Uint8BufferAttribute:GJ,Uint8ClampedBufferAttribute:$J,Uniform:z2,UniformsGroup:qee,UniformsLib:Ke,UniformsUtils:tk,UnsignedByteType:Wa,UnsignedInt248Type:uc,UnsignedIntType:Dl,UnsignedShort4444Type:YT,UnsignedShort5551Type:qT,UnsignedShortType:GS,VSMShadowMap:ta,Vector2:Te,Vector3:J,Vector4:In,VectorKeyframeTrack:fh,VideoTexture:kZ,WebGL1Renderer:hk,WebGL3DRenderTarget:TJ,WebGLArrayRenderTarget:CJ,WebGLCoordinateSystem:aa,WebGLCubeRenderTarget:rk,WebGLMultipleRenderTargets:RJ,WebGLRenderTarget:pa,WebGLRenderer:m2,WebGLUtils:ck,WebGPUCoordinateSystem:Yp,WireframeGeometry:Ck,WrapAroundEnding:H0,ZeroCurvatureEnding:Uf,ZeroFactor:ZU,ZeroSlopeEnding:kf,ZeroStencilOp:HX,_SRGBAFormat:D1,createCanvasElement:q4,sRGBEncoding:fc},Symbol.toStringTag,{value:"Module"}));var t5={exports:{}},xh={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */xh.ConcurrentRoot=1;xh.ContinuousEventPriority=4;xh.DefaultEventPriority=16;xh.DiscreteEventPriority=1;xh.IdleEventPriority=536870912;xh.LegacyRoot=0;t5.exports=xh;var bp=t5.exports;function _te(t){let e;const n=new Set,r=(u,h)=>{const p=typeof u=="function"?u(e):u;if(p!==e){const m=e;e=h?p:Object.assign({},e,p),n.forEach(v=>v(e,m))}},i=()=>e,s=(u,h=i,p=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let m=h(e);function v(){const y=h(e);if(!p(m,y)){const S=m;u(m=y,S)}}return n.add(v),()=>n.delete(v)},l={setState:r,getState:i,subscribe:(u,h,p)=>h||p?s(u,h,p):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const xte=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),nB=xte?oe.useEffect:oe.useLayoutEffect;function Ste(t){const e=typeof t=="function"?_te(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=oe.useReducer(A=>A+1,0),o=e.getState(),a=oe.useRef(o),l=oe.useRef(r),u=oe.useRef(i),h=oe.useRef(!1),p=oe.useRef();p.current===void 0&&(p.current=r(o));let m,v=!1;(a.current!==o||l.current!==r||u.current!==i||h.current)&&(m=r(o),v=!i(p.current,m)),nB(()=>{v&&(p.current=m),a.current=o,l.current=r,u.current=i,h.current=!1});const y=oe.useRef(o);nB(()=>{const A=()=>{try{const w=e.getState(),x=l.current(w);u.current(p.current,x)||(a.current=w,p.current=x,s())}catch{h.current=!0,s()}},_=e.subscribe(A);return e.getState()!==y.current&&A(),_},[]);const S=v?m:p.current;return oe.useDebugValue(S),S};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const Ate=t=>typeof t=="object"&&typeof t.then=="function",Gf=[];function n5(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function r5(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of Gf)if(n5(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=Gf.indexOf(i);s!==-1&&Gf.splice(s,1)},promise:(Ate(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(Gf.push(i),!n)throw i.promise}const wte=(t,e,n)=>r5(t,e,!1,n),Ete=(t,e,n)=>void r5(t,e,!0,n),bte=t=>{if(t===void 0||t.length===0)Gf.splice(0,Gf.length);else{const e=Gf.find(n=>n5(t,n.keys,n.equal));e&&e.remove()}};var i5={exports:{}},s5={exports:{}},o5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,ee){var te=z.length;z.push(ee);e:for(;0<te;){var fe=te-1>>>1,ye=z[fe];if(0<i(ye,ee))z[fe]=ee,z[te]=ye,te=fe;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var ee=z[0],te=z.pop();if(te!==ee){z[0]=te;e:for(var fe=0,ye=z.length,ue=ye>>>1;fe<ue;){var _e=2*(fe+1)-1,Ne=z[_e],Ve=_e+1,Xe=z[Ve];if(0>i(Ne,te))Ve<ye&&0>i(Xe,Ne)?(z[fe]=Xe,z[Ve]=te,fe=Ve):(z[fe]=Ne,z[_e]=te,fe=_e);else if(Ve<ye&&0>i(Xe,te))z[fe]=Xe,z[Ve]=te,fe=Ve;else break e}}return ee}function i(z,ee){var te=z.sortIndex-ee.sortIndex;return te!==0?te:z.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,p=null,m=3,v=!1,y=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(z){for(var ee=n(u);ee!==null;){if(ee.callback===null)r(u);else if(ee.startTime<=z)r(u),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=n(u)}}function M(z){if(S=!1,x(z),!y)if(n(l)!==null)y=!0,re(R);else{var ee=n(u);ee!==null&&he(M,ee.startTime-z)}}function R(z,ee){y=!1,S&&(S=!1,_(F),F=-1),v=!0;var te=m;try{for(x(ee),p=n(l);p!==null&&(!(p.expirationTime>ee)||z&&!V());){var fe=p.callback;if(typeof fe=="function"){p.callback=null,m=p.priorityLevel;var ye=fe(p.expirationTime<=ee);ee=t.unstable_now(),typeof ye=="function"?p.callback=ye:p===n(l)&&r(l),x(ee)}else r(l);p=n(l)}if(p!==null)var ue=!0;else{var _e=n(u);_e!==null&&he(M,_e.startTime-ee),ue=!1}return ue}finally{p=null,m=te,v=!1}}var T=!1,I=null,F=-1,B=5,O=-1;function V(){return!(t.unstable_now()-O<B)}function H(){if(I!==null){var z=t.unstable_now();O=z;var ee=!0;try{ee=I(!0,z)}finally{ee?ne():(T=!1,I=null)}}else T=!1}var ne;if(typeof w=="function")ne=function(){w(H)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,q=j.port2;j.port1.onmessage=H,ne=function(){q.postMessage(null)}}else ne=function(){A(H,0)};function re(z){I=z,T||(T=!0,ne())}function he(z,ee){F=A(function(){z(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,re(R))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(m){case 1:case 2:case 3:var ee=3;break;default:ee=m}var te=m;m=ee;try{return z()}finally{m=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,ee){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var te=m;m=z;try{return ee()}finally{m=te}},t.unstable_scheduleCallback=function(z,ee,te){var fe=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?fe+te:fe):te=fe,z){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=te+ye,z={id:h++,callback:ee,priorityLevel:z,startTime:te,expirationTime:ye,sortIndex:-1},te>fe?(z.sortIndex=te,e(u,z),n(l)===null&&z===n(u)&&(S?(_(F),F=-1):S=!0,he(M,te-fe))):(z.sortIndex=ye,e(l,z),y||v||(y=!0,re(R))),z},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(z){var ee=m;return function(){var te=m;m=ee;try{return z.apply(this,arguments)}finally{m=te}}}})(o5);s5.exports=o5;var mC=s5.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mte=function(e){var n={},r=oe,i=mC,s=Object.assign;function o(f){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+f,E=1;E<arguments.length;E++)d+="&args[]="+encodeURIComponent(arguments[E]);return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),y=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),R=Symbol.iterator;function T(f){return f===null||typeof f!="object"?null:(f=R&&f[R]||f["@@iterator"],typeof f=="function"?f:null)}function I(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case h:return"Fragment";case u:return"Portal";case m:return"Profiler";case p:return"StrictMode";case A:return"Suspense";case _:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case y:return(f.displayName||"Context")+".Consumer";case v:return(f._context.displayName||"Context")+".Provider";case S:var d=f.render;return f=f.displayName,f||(f=d.displayName||d.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case w:return d=f.displayName||null,d!==null?d:I(f.type)||"Memo";case x:d=f._payload,f=f._init;try{return I(f(d))}catch{}}return null}function F(f){var d=f.type;switch(f.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=d.render,f=f.displayName||f.name||"",d.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return I(d);case 8:return d===p?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function B(f){var d=f,E=f;if(f.alternate)for(;d.return;)d=d.return;else{f=d;do d=f,d.flags&4098&&(E=d.return),f=d.return;while(f)}return d.tag===3?E:null}function O(f){if(B(f)!==f)throw Error(o(188))}function V(f){var d=f.alternate;if(!d){if(d=B(f),d===null)throw Error(o(188));return d!==f?null:f}for(var E=f,C=d;;){var P=E.return;if(P===null)break;var D=P.alternate;if(D===null){if(C=P.return,C!==null){E=C;continue}break}if(P.child===D.child){for(D=P.child;D;){if(D===E)return O(P),f;if(D===C)return O(P),d;D=D.sibling}throw Error(o(188))}if(E.return!==C.return)E=P,C=D;else{for(var Y=!1,ce=P.child;ce;){if(ce===E){Y=!0,E=P,C=D;break}if(ce===C){Y=!0,C=P,E=D;break}ce=ce.sibling}if(!Y){for(ce=D.child;ce;){if(ce===E){Y=!0,E=D,C=P;break}if(ce===C){Y=!0,C=D,E=P;break}ce=ce.sibling}if(!Y)throw Error(o(189))}}if(E.alternate!==C)throw Error(o(190))}if(E.tag!==3)throw Error(o(188));return E.stateNode.current===E?f:d}function H(f){return f=V(f),f!==null?ne(f):null}function ne(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var d=ne(f);if(d!==null)return d;f=f.sibling}return null}function j(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){if(f.tag!==4){var d=j(f);if(d!==null)return d}f=f.sibling}return null}var q=Array.isArray,re=e.getPublicInstance,he=e.getRootHostContext,z=e.getChildHostContext,ee=e.prepareForCommit,te=e.resetAfterCommit,fe=e.createInstance,ye=e.appendInitialChild,ue=e.finalizeInitialChildren,_e=e.prepareUpdate,Ne=e.shouldSetTextContent,Ve=e.createTextInstance,Xe=e.scheduleTimeout,vt=e.cancelTimeout,yt=e.noTimeout,ut=e.isPrimaryRenderer,ht=e.supportsMutation,Z=e.supportsPersistence,He=e.supportsHydration,Me=e.getInstanceFromNode,Ge=e.preparePortalMount,Re=e.getCurrentEventPriority,ct=e.detachDeletedInstance,Qe=e.supportsMicrotasks,W=e.scheduleMicrotask,U=e.supportsTestSelectors,me=e.findFiberRoot,Oe=e.getBoundingRect,De=e.getTextContent,Be=e.isHiddenSubtree,ft=e.matchAccessibilityRole,Je=e.setFocusIfFocusable,et=e.setupIntersectionObserver,_t=e.appendChild,zt=e.appendChildToContainer,Fe=e.commitTextUpdate,an=e.commitMount,Jt=e.commitUpdate,Dt=e.insertBefore,bt=e.insertInContainerBefore,ot=e.removeChild,ie=e.removeChildFromContainer,Pe=e.resetTextContent,st=e.hideInstance,rt=e.hideTextInstance,ke=e.unhideInstance,se=e.unhideTextInstance,je=e.clearContainer,qe=e.cloneInstance,Tt=e.createContainerChildSet,gt=e.appendChildToContainerChildSet,ln=e.finalizeContainerChildren,hn=e.replaceContainerChildren,Rn=e.cloneHiddenInstance,kn=e.cloneHiddenTextInstance,vn=e.canHydrateInstance,wr=e.canHydrateTextInstance,us=e.canHydrateSuspenseInstance,Qa=e.isSuspenseInstancePending,Pc=e.isSuspenseInstanceFallback,Ql=e.registerSuspenseInstanceRetry,xa=e.getNextHydratableSibling,Zl=e.getFirstHydratableChild,Rh=e.getFirstHydratableChildWithinContainer,Ph=e.getFirstHydratableChildWithinSuspenseInstance,Em=e.hydrateInstance,bm=e.hydrateTextInstance,Ih=e.hydrateSuspenseInstance,X=e.getNextHydratableInstanceAfterSuspenseInstance,ge=e.commitHydratedContainer,Ae=e.commitHydratedSuspenseInstance,Ee=e.clearSuspenseBoundary,xe=e.clearSuspenseBoundaryFromContainer,at=e.shouldDeleteUnhydratedTailInstances,xt=e.didNotMatchHydratedContainerTextInstance,Lt=e.didNotMatchHydratedTextInstance,Rt;function Wt(f){if(Rt===void 0)try{throw Error()}catch(E){var d=E.stack.trim().match(/\n( *(at )?)/);Rt=d&&d[1]||""}return`
`+Rt+f}var $t=!1;function Vt(f,d){if(!f||$t)return"";$t=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch($e){var C=$e}Reflect.construct(f,[],d)}else{try{d.call()}catch($e){C=$e}f.call(d.prototype)}else{try{throw Error()}catch($e){C=$e}f()}}catch($e){if($e&&C&&typeof $e.stack=="string"){for(var P=$e.stack.split(`
`),D=C.stack.split(`
`),Y=P.length-1,ce=D.length-1;1<=Y&&0<=ce&&P[Y]!==D[ce];)ce--;for(;1<=Y&&0<=ce;Y--,ce--)if(P[Y]!==D[ce]){if(Y!==1||ce!==1)do if(Y--,ce--,0>ce||P[Y]!==D[ce]){var be=`
`+P[Y].replace(" at new "," at ");return f.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",f.displayName)),be}while(1<=Y&&0<=ce);break}}}finally{$t=!1,Error.prepareStackTrace=E}return(f=f?f.displayName||f.name:"")?Wt(f):""}var Hn=Object.prototype.hasOwnProperty,Br=[],Bn=-1;function Dr(f){return{current:f}}function Ot(f){0>Bn||(f.current=Br[Bn],Br[Bn]=null,Bn--)}function dt(f,d){Bn++,Br[Bn]=f.current,f.current=d}var cs={},Qt=Dr(cs),Xn=Dr(!1),Rs=cs;function Ri(f,d){var E=f.type.contextTypes;if(!E)return cs;var C=f.stateNode;if(C&&C.__reactInternalMemoizedUnmaskedChildContext===d)return C.__reactInternalMemoizedMaskedChildContext;var P={},D;for(D in E)P[D]=d[D];return C&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=d,f.__reactInternalMemoizedMaskedChildContext=P),P}function Or(f){return f=f.childContextTypes,f!=null}function Zn(){Ot(Xn),Ot(Qt)}function Wi(f,d,E){if(Qt.current!==cs)throw Error(o(168));dt(Qt,d),dt(Xn,E)}function Za(f,d,E){var C=f.stateNode;if(d=d.childContextTypes,typeof C.getChildContext!="function")return E;C=C.getChildContext();for(var P in C)if(!(P in d))throw Error(o(108,F(f)||"Unknown",P));return s({},E,C)}function Xr(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||cs,Rs=Qt.current,dt(Qt,f),dt(Xn,Xn.current),!0}function el(f,d,E){var C=f.stateNode;if(!C)throw Error(o(169));E?(f=Za(f,d,Rs),C.__reactInternalMemoizedMergedChildContext=f,Ot(Xn),Ot(Qt),dt(Qt,f)):Ot(Xn),dt(Xn,E)}var Pi=Math.clz32?Math.clz32:jv,eu=Math.log,kA=Math.LN2;function jv(f){return f>>>=0,f===0?32:31-(eu(f)/kA|0)|0}var tu=64,nu=4194304;function co(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function Ic(f,d){var E=f.pendingLanes;if(E===0)return 0;var C=0,P=f.suspendedLanes,D=f.pingedLanes,Y=E&268435455;if(Y!==0){var ce=Y&~P;ce!==0?C=co(ce):(D&=Y,D!==0&&(C=co(D)))}else Y=E&~P,Y!==0?C=co(Y):D!==0&&(C=co(D));if(C===0)return 0;if(d!==0&&d!==C&&!(d&P)&&(P=C&-C,D=d&-d,P>=D||P===16&&(D&4194240)!==0))return d;if(C&4&&(C|=E&16),d=f.entangledLanes,d!==0)for(f=f.entanglements,d&=C;0<d;)E=31-Pi(d),P=1<<E,C|=f[E],d&=~P;return C}function Xv(f,d){switch(f){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HA(f,d){for(var E=f.suspendedLanes,C=f.pingedLanes,P=f.expirationTimes,D=f.pendingLanes;0<D;){var Y=31-Pi(D),ce=1<<Y,be=P[Y];be===-1?(!(ce&E)||ce&C)&&(P[Y]=Xv(ce,d)):be<=d&&(f.expiredLanes|=ce),D&=~ce}}function Lh(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function Bh(f){for(var d=[],E=0;31>E;E++)d.push(f);return d}function ru(f,d,E){f.pendingLanes|=d,d!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,d=31-Pi(d),f[d]=E}function Jv(f,d){var E=f.pendingLanes&~d;f.pendingLanes=d,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=d,f.mutableReadLanes&=d,f.entangledLanes&=d,d=f.entanglements;var C=f.eventTimes;for(f=f.expirationTimes;0<E;){var P=31-Pi(E),D=1<<P;d[P]=0,C[P]=-1,f[P]=-1,E&=~D}}function Mm(f,d){var E=f.entangledLanes|=d;for(f=f.entanglements;E;){var C=31-Pi(E),P=1<<C;P&d|f[C]&d&&(f[C]|=d),E&=~P}}var xn=0;function Kv(f){return f&=-f,1<f?4<f?f&268435455?16:536870912:4:1}var Dh=i.unstable_scheduleCallback,Yv=i.unstable_cancelCallback,zA=i.unstable_shouldYield,GA=i.unstable_requestPaint,Fr=i.unstable_now,Lc=i.unstable_ImmediatePriority,$A=i.unstable_UserBlockingPriority,Cm=i.unstable_NormalPriority,WA=i.unstable_IdlePriority,Oh=null,fo=null;function On(f){if(fo&&typeof fo.onCommitFiberRoot=="function")try{fo.onCommitFiberRoot(Oh,f,void 0,(f.current.flags&128)===128)}catch{}}function Dn(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var ho=typeof Object.is=="function"?Object.is:Dn,ko=null,Fh=!1,Tm=!1;function qv(f){ko===null?ko=[f]:ko.push(f)}function VA(f){Fh=!0,qv(f)}function Ps(){if(!Tm&&ko!==null){Tm=!0;var f=0,d=xn;try{var E=ko;for(xn=1;f<E.length;f++){var C=E[f];do C=C(!0);while(C!==null)}ko=null,Fh=!1}catch(P){throw ko!==null&&(ko=ko.slice(f+1)),Dh(Lc,Ps),P}finally{xn=d,Tm=!1}}return null}var jA=a.ReactCurrentBatchConfig;function dr(f,d){if(ho(f,d))return!0;if(typeof f!="object"||f===null||typeof d!="object"||d===null)return!1;var E=Object.keys(f),C=Object.keys(d);if(E.length!==C.length)return!1;for(C=0;C<E.length;C++){var P=E[C];if(!Hn.call(d,P)||!ho(f[P],d[P]))return!1}return!0}function Rm(f){switch(f.tag){case 5:return Wt(f.type);case 16:return Wt("Lazy");case 13:return Wt("Suspense");case 19:return Wt("SuspenseList");case 0:case 2:case 15:return f=Vt(f.type,!1),f;case 11:return f=Vt(f.type.render,!1),f;case 1:return f=Vt(f.type,!0),f;default:return""}}function Jr(f,d){if(f&&f.defaultProps){d=s({},d),f=f.defaultProps;for(var E in f)d[E]===void 0&&(d[E]=f[E]);return d}return d}var Bc=Dr(null),iu=null,Kr=null,Nh=null;function Uh(){Nh=Kr=iu=null}function Pm(f,d,E){ut?(dt(Bc,d._currentValue),d._currentValue=E):(dt(Bc,d._currentValue2),d._currentValue2=E)}function kh(f){var d=Bc.current;Ot(Bc),ut?f._currentValue=d:f._currentValue2=d}function Hh(f,d,E){for(;f!==null;){var C=f.alternate;if((f.childLanes&d)!==d?(f.childLanes|=d,C!==null&&(C.childLanes|=d)):C!==null&&(C.childLanes&d)!==d&&(C.childLanes|=d),f===E)break;f=f.return}}function tl(f,d){iu=f,Nh=Kr=null,f=f.dependencies,f!==null&&f.firstContext!==null&&(f.lanes&d&&(ji=!0),f.firstContext=null)}function zn(f){var d=ut?f._currentValue:f._currentValue2;if(Nh!==f)if(f={context:f,memoizedValue:d,next:null},Kr===null){if(iu===null)throw Error(o(308));Kr=f,iu.dependencies={lanes:0,firstContext:f}}else Kr=Kr.next=f;return d}var po=null,Er=!1;function Im(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lm(f,d){f=f.updateQueue,d.updateQueue===f&&(d.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function ii(f,d){return{eventTime:f,lane:d,tag:0,payload:null,callback:null,next:null}}function Is(f,d){var E=f.updateQueue;E!==null&&(E=E.shared,pr!==null&&f.mode&1&&!(Zt&2)?(f=E.interleaved,f===null?(d.next=d,po===null?po=[E]:po.push(E)):(d.next=f.next,f.next=d),E.interleaved=d):(f=E.pending,f===null?d.next=d:(d.next=f.next,f.next=d),E.pending=d))}function su(f,d,E){if(d=d.updateQueue,d!==null&&(d=d.shared,(E&4194240)!==0)){var C=d.lanes;C&=f.pendingLanes,E|=C,d.lanes=E,Mm(f,E)}}function Fn(f,d){var E=f.updateQueue,C=f.alternate;if(C!==null&&(C=C.updateQueue,E===C)){var P=null,D=null;if(E=E.firstBaseUpdate,E!==null){do{var Y={eventTime:E.eventTime,lane:E.lane,tag:E.tag,payload:E.payload,callback:E.callback,next:null};D===null?P=D=Y:D=D.next=Y,E=E.next}while(E!==null);D===null?P=D=d:D=D.next=d}else P=D=d;E={baseState:C.baseState,firstBaseUpdate:P,lastBaseUpdate:D,shared:C.shared,effects:C.effects},f.updateQueue=E;return}f=E.lastBaseUpdate,f===null?E.firstBaseUpdate=d:f.next=d,E.lastBaseUpdate=d}function Ls(f,d,E,C){var P=f.updateQueue;Er=!1;var D=P.firstBaseUpdate,Y=P.lastBaseUpdate,ce=P.shared.pending;if(ce!==null){P.shared.pending=null;var be=ce,$e=be.next;be.next=null,Y===null?D=$e:Y.next=$e,Y=be;var pt=f.alternate;pt!==null&&(pt=pt.updateQueue,ce=pt.lastBaseUpdate,ce!==Y&&(ce===null?pt.firstBaseUpdate=$e:ce.next=$e,pt.lastBaseUpdate=be))}if(D!==null){var jt=P.baseState;Y=0,pt=$e=be=null,ce=D;do{var Ct=ce.lane,Mn=ce.eventTime;if((C&Ct)===Ct){pt!==null&&(pt=pt.next={eventTime:Mn,lane:0,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null});e:{var St=f,hi=ce;switch(Ct=d,Mn=E,hi.tag){case 1:if(St=hi.payload,typeof St=="function"){jt=St.call(Mn,jt,Ct);break e}jt=St;break e;case 3:St.flags=St.flags&-65537|128;case 0:if(St=hi.payload,Ct=typeof St=="function"?St.call(Mn,jt,Ct):St,Ct==null)break e;jt=s({},jt,Ct);break e;case 2:Er=!0}}ce.callback!==null&&ce.lane!==0&&(f.flags|=64,Ct=P.effects,Ct===null?P.effects=[ce]:Ct.push(ce))}else Mn={eventTime:Mn,lane:Ct,tag:ce.tag,payload:ce.payload,callback:ce.callback,next:null},pt===null?($e=pt=Mn,be=jt):pt=pt.next=Mn,Y|=Ct;if(ce=ce.next,ce===null){if(ce=P.shared.pending,ce===null)break;Ct=ce,ce=Ct.next,Ct.next=null,P.lastBaseUpdate=Ct,P.shared.pending=null}}while(1);if(pt===null&&(be=jt),P.baseState=be,P.firstBaseUpdate=$e,P.lastBaseUpdate=pt,d=P.shared.interleaved,d!==null){P=d;do Y|=P.lane,P=P.next;while(P!==d)}else D===null&&(P.shared.lanes=0);Mu|=Y,f.lanes=Y,f.memoizedState=jt}}function zh(f,d,E){if(f=d.effects,d.effects=null,f!==null)for(d=0;d<f.length;d++){var C=f[d],P=C.callback;if(P!==null){if(C.callback=null,C=E,typeof P!="function")throw Error(o(191,P));P.call(C)}}}var Qv=new r.Component().refs;function Dc(f,d,E,C){d=f.memoizedState,E=E(C,d),E=E==null?d:s({},d,E),f.memoizedState=E,f.lanes===0&&(f.updateQueue.baseState=E)}var Gh={isMounted:function(f){return(f=f._reactInternals)?B(f)===f:!1},enqueueSetState:function(f,d,E){f=f._reactInternals;var C=li(),P=So(f),D=ii(C,P);D.payload=d,E!=null&&(D.callback=E),Is(f,D),d=hs(f,P,C),d!==null&&su(d,f,P)},enqueueReplaceState:function(f,d,E){f=f._reactInternals;var C=li(),P=So(f),D=ii(C,P);D.tag=1,D.payload=d,E!=null&&(D.callback=E),Is(f,D),d=hs(f,P,C),d!==null&&su(d,f,P)},enqueueForceUpdate:function(f,d){f=f._reactInternals;var E=li(),C=So(f),P=ii(E,C);P.tag=2,d!=null&&(P.callback=d),Is(f,P),d=hs(f,C,E),d!==null&&su(d,f,C)}};function Zv(f,d,E,C,P,D,Y){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(C,D,Y):d.prototype&&d.prototype.isPureReactComponent?!dr(E,C)||!dr(P,D):!0}function ey(f,d,E){var C=!1,P=cs,D=d.contextType;return typeof D=="object"&&D!==null?D=zn(D):(P=Or(d)?Rs:Qt.current,C=d.contextTypes,D=(C=C!=null)?Ri(f,P):cs),d=new d(E,D),f.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Gh,f.stateNode=d,d._reactInternals=f,C&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=P,f.__reactInternalMemoizedMaskedChildContext=D),d}function Bm(f,d,E,C){f=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(E,C),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(E,C),d.state!==f&&Gh.enqueueReplaceState(d,d.state,null)}function ou(f,d,E,C){var P=f.stateNode;P.props=E,P.state=f.memoizedState,P.refs=Qv,Im(f);var D=d.contextType;typeof D=="object"&&D!==null?P.context=zn(D):(D=Or(d)?Rs:Qt.current,P.context=Ri(f,D)),P.state=f.memoizedState,D=d.getDerivedStateFromProps,typeof D=="function"&&(Dc(f,d,D,E),P.state=f.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(d=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),d!==P.state&&Gh.enqueueReplaceState(P,P.state,null),Ls(f,E,P,C),P.state=f.memoizedState),typeof P.componentDidMount=="function"&&(f.flags|=4194308)}var Bs=[],au=0,Oc=null,Fc=0,Ii=[],Li=0,Sa=null,Ho=1,Ds="";function zo(f,d){Bs[au++]=Fc,Bs[au++]=Oc,Oc=f,Fc=d}function ty(f,d,E){Ii[Li++]=Ho,Ii[Li++]=Ds,Ii[Li++]=Sa,Sa=f;var C=Ho;f=Ds;var P=32-Pi(C)-1;C&=~(1<<P),E+=1;var D=32-Pi(d)+P;if(30<D){var Y=P-P%5;D=(C&(1<<Y)-1).toString(32),C>>=Y,P-=Y,Ho=1<<32-Pi(d)+P|E<<P|C,Ds=D+f}else Ho=1<<D|E<<P|C,Ds=f}function $h(f){f.return!==null&&(zo(f,1),ty(f,1,0))}function xi(f){for(;f===Oc;)Oc=Bs[--au],Bs[au]=null,Fc=Bs[--au],Bs[au]=null;for(;f===Sa;)Sa=Ii[--Li],Ii[Li]=null,Ds=Ii[--Li],Ii[Li]=null,Ho=Ii[--Li],Ii[Li]=null}var Si=null,Yr=null,Nn=!1,lu=!1,Os=null;function ny(f,d){var E=ds(5,null,null,0);E.elementType="DELETED",E.stateNode=d,E.return=f,d=f.deletions,d===null?(f.deletions=[E],f.flags|=16):d.push(E)}function ry(f,d){switch(f.tag){case 5:return d=vn(d,f.type,f.pendingProps),d!==null?(f.stateNode=d,Si=f,Yr=Zl(d),!0):!1;case 6:return d=wr(d,f.pendingProps),d!==null?(f.stateNode=d,Si=f,Yr=null,!0):!1;case 13:if(d=us(d),d!==null){var E=Sa!==null?{id:Ho,overflow:Ds}:null;return f.memoizedState={dehydrated:d,treeContext:E,retryLane:1073741824},E=ds(18,null,null,0),E.stateNode=d,E.return=f,f.child=E,Si=f,Yr=null,!0}return!1;default:return!1}}function Dm(f){return(f.mode&1)!==0&&(f.flags&128)===0}function Om(f){if(Nn){var d=Yr;if(d){var E=d;if(!ry(f,d)){if(Dm(f))throw Error(o(418));d=xa(E);var C=Si;d&&ry(f,d)?ny(C,E):(f.flags=f.flags&-4097|2,Nn=!1,Si=f)}}else{if(Dm(f))throw Error(o(418));f.flags=f.flags&-4097|2,Nn=!1,Si=f}}}function nl(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;Si=f}function Nc(f){if(!He||f!==Si)return!1;if(!Nn)return nl(f),Nn=!0,!1;if(f.tag!==3&&(f.tag!==5||at(f.type)&&!Ne(f.type,f.memoizedProps))){var d=Yr;if(d){if(Dm(f)){for(f=Yr;f;)f=xa(f);throw Error(o(418))}for(;d;)ny(f,d),d=xa(d)}}if(nl(f),f.tag===13){if(!He)throw Error(o(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));Yr=X(f)}else Yr=Si?xa(f.stateNode):null;return!0}function uu(){He&&(Yr=Si=null,lu=Nn=!1)}function Uc(f){Os===null?Os=[f]:Os.push(f)}function cu(f,d,E){if(f=E.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(E._owner){if(E=E._owner,E){if(E.tag!==1)throw Error(o(309));var C=E.stateNode}if(!C)throw Error(o(147,f));var P=C,D=""+f;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===D?d.ref:(d=function(Y){var ce=P.refs;ce===Qv&&(ce=P.refs={}),Y===null?delete ce[D]:ce[D]=Y},d._stringRef=D,d)}if(typeof f!="string")throw Error(o(284));if(!E._owner)throw Error(o(290,f))}return f}function Fs(f,d){throw f=Object.prototype.toString.call(d),Error(o(31,f==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":f))}function kc(f){var d=f._init;return d(f._payload)}function iy(f){function d(ve,de){if(f){var we=ve.deletions;we===null?(ve.deletions=[de],ve.flags|=16):we.push(de)}}function E(ve,de){if(!f)return null;for(;de!==null;)d(ve,de),de=de.sibling;return null}function C(ve,de){for(ve=new Map;de!==null;)de.key!==null?ve.set(de.key,de):ve.set(de.index,de),de=de.sibling;return ve}function P(ve,de){return ve=jo(ve,de),ve.index=0,ve.sibling=null,ve}function D(ve,de,we){return ve.index=we,f?(we=ve.alternate,we!==null?(we=we.index,we<de?(ve.flags|=2,de):we):(ve.flags|=2,de)):(ve.flags|=1048576,de)}function Y(ve){return f&&ve.alternate===null&&(ve.flags|=2),ve}function ce(ve,de,we,it){return de===null||de.tag!==6?(de=fi(we,ve.mode,it),de.return=ve,de):(de=P(de,we),de.return=ve,de)}function be(ve,de,we,it){var At=we.type;return At===h?pt(ve,de,we.props.children,it,we.key):de!==null&&(de.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===x&&kc(At)===de.type)?(it=P(de,we.props),it.ref=cu(ve,de,we),it.return=ve,it):(it=ud(we.type,we.key,we.props,null,ve.mode,it),it.ref=cu(ve,de,we),it.return=ve,it)}function $e(ve,de,we,it){return de===null||de.tag!==4||de.stateNode.containerInfo!==we.containerInfo||de.stateNode.implementation!==we.implementation?(de=ps(we,ve.mode,it),de.return=ve,de):(de=P(de,we.children||[]),de.return=ve,de)}function pt(ve,de,we,it,At){return de===null||de.tag!==7?(de=Oa(we,ve.mode,it,At),de.return=ve,de):(de=P(de,we),de.return=ve,de)}function jt(ve,de,we){if(typeof de=="string"&&de!==""||typeof de=="number")return de=fi(""+de,ve.mode,we),de.return=ve,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case l:return we=ud(de.type,de.key,de.props,null,ve.mode,we),we.ref=cu(ve,null,de),we.return=ve,we;case u:return de=ps(de,ve.mode,we),de.return=ve,de;case x:var it=de._init;return jt(ve,it(de._payload),we)}if(q(de)||T(de))return de=Oa(de,ve.mode,we,null),de.return=ve,de;Fs(ve,de)}return null}function Ct(ve,de,we,it){var At=de!==null?de.key:null;if(typeof we=="string"&&we!==""||typeof we=="number")return At!==null?null:ce(ve,de,""+we,it);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case l:return we.key===At?be(ve,de,we,it):null;case u:return we.key===At?$e(ve,de,we,it):null;case x:return At=we._init,Ct(ve,de,At(we._payload),it)}if(q(we)||T(we))return At!==null?null:pt(ve,de,we,it,null);Fs(ve,we)}return null}function Mn(ve,de,we,it,At){if(typeof it=="string"&&it!==""||typeof it=="number")return ve=ve.get(we)||null,ce(de,ve,""+it,At);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case l:return ve=ve.get(it.key===null?we:it.key)||null,be(de,ve,it,At);case u:return ve=ve.get(it.key===null?we:it.key)||null,$e(de,ve,it,At);case x:var en=it._init;return Mn(ve,de,we,en(it._payload),At)}if(q(it)||T(it))return ve=ve.get(we)||null,pt(de,ve,it,At,null);Fs(de,it)}return null}function St(ve,de,we,it){for(var At=null,en=null,Kt=de,tn=de=0,gr=null;Kt!==null&&tn<we.length;tn++){Kt.index>tn?(gr=Kt,Kt=null):gr=Kt.sibling;var gn=Ct(ve,Kt,we[tn],it);if(gn===null){Kt===null&&(Kt=gr);break}f&&Kt&&gn.alternate===null&&d(ve,Kt),de=D(gn,de,tn),en===null?At=gn:en.sibling=gn,en=gn,Kt=gr}if(tn===we.length)return E(ve,Kt),Nn&&zo(ve,tn),At;if(Kt===null){for(;tn<we.length;tn++)Kt=jt(ve,we[tn],it),Kt!==null&&(de=D(Kt,de,tn),en===null?At=Kt:en.sibling=Kt,en=Kt);return Nn&&zo(ve,tn),At}for(Kt=C(ve,Kt);tn<we.length;tn++)gr=Mn(Kt,ve,tn,we[tn],it),gr!==null&&(f&&gr.alternate!==null&&Kt.delete(gr.key===null?tn:gr.key),de=D(gr,de,tn),en===null?At=gr:en.sibling=gr,en=gr);return f&&Kt.forEach(function(wo){return d(ve,wo)}),Nn&&zo(ve,tn),At}function hi(ve,de,we,it){var At=T(we);if(typeof At!="function")throw Error(o(150));if(we=At.call(we),we==null)throw Error(o(151));for(var en=At=null,Kt=de,tn=de=0,gr=null,gn=we.next();Kt!==null&&!gn.done;tn++,gn=we.next()){Kt.index>tn?(gr=Kt,Kt=null):gr=Kt.sibling;var wo=Ct(ve,Kt,gn.value,it);if(wo===null){Kt===null&&(Kt=gr);break}f&&Kt&&wo.alternate===null&&d(ve,Kt),de=D(wo,de,tn),en===null?At=wo:en.sibling=wo,en=wo,Kt=gr}if(gn.done)return E(ve,Kt),Nn&&zo(ve,tn),At;if(Kt===null){for(;!gn.done;tn++,gn=we.next())gn=jt(ve,gn.value,it),gn!==null&&(de=D(gn,de,tn),en===null?At=gn:en.sibling=gn,en=gn);return Nn&&zo(ve,tn),At}for(Kt=C(ve,Kt);!gn.done;tn++,gn=we.next())gn=Mn(Kt,ve,tn,gn.value,it),gn!==null&&(f&&gn.alternate!==null&&Kt.delete(gn.key===null?tn:gn.key),de=D(gn,de,tn),en===null?At=gn:en.sibling=gn,en=gn);return f&&Kt.forEach(function(fd){return d(ve,fd)}),Nn&&zo(ve,tn),At}function qi(ve,de,we,it){if(typeof we=="object"&&we!==null&&we.type===h&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case l:e:{for(var At=we.key,en=de;en!==null;){if(en.key===At){if(At=we.type,At===h){if(en.tag===7){E(ve,en.sibling),de=P(en,we.props.children),de.return=ve,ve=de;break e}}else if(en.elementType===At||typeof At=="object"&&At!==null&&At.$$typeof===x&&kc(At)===en.type){E(ve,en.sibling),de=P(en,we.props),de.ref=cu(ve,en,we),de.return=ve,ve=de;break e}E(ve,en);break}else d(ve,en);en=en.sibling}we.type===h?(de=Oa(we.props.children,ve.mode,it,we.key),de.return=ve,ve=de):(it=ud(we.type,we.key,we.props,null,ve.mode,it),it.ref=cu(ve,de,we),it.return=ve,ve=it)}return Y(ve);case u:e:{for(en=we.key;de!==null;){if(de.key===en)if(de.tag===4&&de.stateNode.containerInfo===we.containerInfo&&de.stateNode.implementation===we.implementation){E(ve,de.sibling),de=P(de,we.children||[]),de.return=ve,ve=de;break e}else{E(ve,de);break}else d(ve,de);de=de.sibling}de=ps(we,ve.mode,it),de.return=ve,ve=de}return Y(ve);case x:return en=we._init,qi(ve,de,en(we._payload),it)}if(q(we))return St(ve,de,we,it);if(T(we))return hi(ve,de,we,it);Fs(ve,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,de!==null&&de.tag===6?(E(ve,de.sibling),de=P(de,we),de.return=ve,ve=de):(E(ve,de),de=fi(we,ve.mode,it),de.return=ve,ve=de),Y(ve)):E(ve,de)}return qi}var fu=iy(!0),sy=iy(!1),mo={},er=Dr(mo),hu=Dr(mo),du=Dr(mo);function go(f){if(f===mo)throw Error(o(174));return f}function Fm(f,d){dt(du,d),dt(hu,f),dt(er,mo),f=he(d),Ot(er),dt(er,f)}function pu(){Ot(er),Ot(hu),Ot(du)}function oy(f){var d=go(du.current),E=go(er.current);d=z(E,f.type,d),E!==d&&(dt(hu,f),dt(er,d))}function Aa(f){hu.current===f&&(Ot(er),Ot(hu))}var le=Dr(0);function Ce(f){for(var d=f;d!==null;){if(d.tag===13){var E=d.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||Qa(E)||Pc(E)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(d.flags&128)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Se=[];function lt(){for(var f=0;f<Se.length;f++){var d=Se[f];ut?d._workInProgressVersionPrimary=null:d._workInProgressVersionSecondary=null}Se.length=0}var Gt=a.ReactCurrentDispatcher,Yt=a.ReactCurrentBatchConfig,Gn=0,Ut=null,Nr=null,Ur=null,Ai=!1,wa=!1,Hc=0,mu=0;function br(){throw Error(o(321))}function gu(f,d){if(d===null)return!1;for(var E=0;E<d.length&&E<f.length;E++)if(!ho(f[E],d[E]))return!1;return!0}function En(f,d,E,C,P,D){if(Gn=D,Ut=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Gt.current=f===null||f.memoizedState===null?Jc:$m,f=E(C,P),wa){D=0;do{if(wa=!1,Hc=0,25<=D)throw Error(o(301));D+=1,Ur=Nr=null,d.updateQueue=null,Gt.current=_u,f=E(C,P)}while(wa)}if(Gt.current=yu,d=Nr!==null&&Nr.next!==null,Gn=0,Ur=Nr=Ut=null,Ai=!1,d)throw Error(o(300));return f}function Nm(){var f=Hc!==0;return Hc=0,f}function vo(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ur===null?Ut.memoizedState=Ur=f:Ur=Ur.next=f,Ur}function Vi(){if(Nr===null){var f=Ut.alternate;f=f!==null?f.memoizedState:null}else f=Nr.next;var d=Ur===null?Ut.memoizedState:Ur.next;if(d!==null)Ur=d,Nr=f;else{if(f===null)throw Error(o(310));Nr=f,f={memoizedState:Nr.memoizedState,baseState:Nr.baseState,baseQueue:Nr.baseQueue,queue:Nr.queue,next:null},Ur===null?Ut.memoizedState=Ur=f:Ur=Ur.next=f}return Ur}function rl(f,d){return typeof d=="function"?d(f):d}function Wh(f){var d=Vi(),E=d.queue;if(E===null)throw Error(o(311));E.lastRenderedReducer=f;var C=Nr,P=C.baseQueue,D=E.pending;if(D!==null){if(P!==null){var Y=P.next;P.next=D.next,D.next=Y}C.baseQueue=P=D,E.pending=null}if(P!==null){D=P.next,C=C.baseState;var ce=Y=null,be=null,$e=D;do{var pt=$e.lane;if((Gn&pt)===pt)be!==null&&(be=be.next={lane:0,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null}),C=$e.hasEagerState?$e.eagerState:f(C,$e.action);else{var jt={lane:pt,action:$e.action,hasEagerState:$e.hasEagerState,eagerState:$e.eagerState,next:null};be===null?(ce=be=jt,Y=C):be=be.next=jt,Ut.lanes|=pt,Mu|=pt}$e=$e.next}while($e!==null&&$e!==D);be===null?Y=C:be.next=ce,ho(C,d.memoizedState)||(ji=!0),d.memoizedState=C,d.baseState=Y,d.baseQueue=be,E.lastRenderedState=C}if(f=E.interleaved,f!==null){P=f;do D=P.lane,Ut.lanes|=D,Mu|=D,P=P.next;while(P!==f)}else P===null&&(E.lanes=0);return[d.memoizedState,E.dispatch]}function Vh(f){var d=Vi(),E=d.queue;if(E===null)throw Error(o(311));E.lastRenderedReducer=f;var C=E.dispatch,P=E.pending,D=d.memoizedState;if(P!==null){E.pending=null;var Y=P=P.next;do D=f(D,Y.action),Y=Y.next;while(Y!==P);ho(D,d.memoizedState)||(ji=!0),d.memoizedState=D,d.baseQueue===null&&(d.baseState=D),E.lastRenderedState=D}return[D,C]}function zc(){}function Go(f,d){var E=Ut,C=Vi(),P=d(),D=!ho(C.memoizedState,P);if(D&&(C.memoizedState=P,ji=!0),C=C.queue,Wc($c.bind(null,E,C,f),[f]),C.getSnapshot!==d||D||Ur!==null&&Ur.memoizedState.tag&1){if(E.flags|=2048,Ea(9,Um.bind(null,E,C,P,d),void 0,null),pr===null)throw Error(o(349));Gn&30||Gc(E,d,P)}return P}function Gc(f,d,E){f.flags|=16384,f={getSnapshot:d,value:E},d=Ut.updateQueue,d===null?(d={lastEffect:null,stores:null},Ut.updateQueue=d,d.stores=[f]):(E=d.stores,E===null?d.stores=[f]:E.push(f))}function Um(f,d,E,C){d.value=E,d.getSnapshot=C,km(d)&&hs(f,1,-1)}function $c(f,d,E){return E(function(){km(d)&&hs(f,1,-1)})}function km(f){var d=f.getSnapshot;f=f.value;try{var E=d();return!ho(f,E)}catch{return!0}}function jh(f){var d=vo();return typeof f=="function"&&(f=f()),d.memoizedState=d.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rl,lastRenderedState:f},d.queue=f,f=f.dispatch=si.bind(null,Ut,f),[d.memoizedState,f]}function Ea(f,d,E,C){return f={tag:f,create:d,destroy:E,deps:C,next:null},d=Ut.updateQueue,d===null?(d={lastEffect:null,stores:null},Ut.updateQueue=d,d.lastEffect=f.next=f):(E=d.lastEffect,E===null?d.lastEffect=f.next=f:(C=E.next,E.next=f,f.next=C,d.lastEffect=f)),f}function Hm(){return Vi().memoizedState}function ba(f,d,E,C){var P=vo();Ut.flags|=f,P.memoizedState=Ea(1|d,E,void 0,C===void 0?null:C)}function yo(f,d,E,C){var P=Vi();C=C===void 0?null:C;var D=void 0;if(Nr!==null){var Y=Nr.memoizedState;if(D=Y.destroy,C!==null&&gu(C,Y.deps)){P.memoizedState=Ea(d,E,D,C);return}}Ut.flags|=f,P.memoizedState=Ea(1|d,E,D,C)}function vu(f,d){return ba(8390656,8,f,d)}function Wc(f,d){return yo(2048,8,f,d)}function ay(f,d){return yo(4,2,f,d)}function ly(f,d){return yo(4,4,f,d)}function Vc(f,d){if(typeof d=="function")return f=f(),d(f),function(){d(null)};if(d!=null)return f=f(),d.current=f,function(){d.current=null}}function jc(f,d,E){return E=E!=null?E.concat([f]):null,yo(4,4,Vc.bind(null,d,f),E)}function Xc(){}function uy(f,d){var E=Vi();d=d===void 0?null:d;var C=E.memoizedState;return C!==null&&d!==null&&gu(d,C[1])?C[0]:(E.memoizedState=[f,d],f)}function zm(f,d){var E=Vi();d=d===void 0?null:d;var C=E.memoizedState;return C!==null&&d!==null&&gu(d,C[1])?C[0]:(f=f(),E.memoizedState=[f,d],f)}function XA(f,d){var E=xn;xn=E!==0&&4>E?E:4,f(!0);var C=Yt.transition;Yt.transition={};try{f(!1),d()}finally{xn=E,Yt.transition=C}}function cy(){return Vi().memoizedState}function Mr(f,d,E){var C=So(f);E={lane:C,action:E,hasEagerState:!1,eagerState:null,next:null},fy(f)?hy(d,E):(Gm(f,d,E),E=li(),f=hs(f,C,E),f!==null&&dy(f,d,C))}function si(f,d,E){var C=So(f),P={lane:C,action:E,hasEagerState:!1,eagerState:null,next:null};if(fy(f))hy(d,P);else{Gm(f,d,P);var D=f.alternate;if(f.lanes===0&&(D===null||D.lanes===0)&&(D=d.lastRenderedReducer,D!==null))try{var Y=d.lastRenderedState,ce=D(Y,E);if(P.hasEagerState=!0,P.eagerState=ce,ho(ce,Y))return}catch{}finally{}E=li(),f=hs(f,C,E),f!==null&&dy(f,d,C)}}function fy(f){var d=f.alternate;return f===Ut||d!==null&&d===Ut}function hy(f,d){wa=Ai=!0;var E=f.pending;E===null?d.next=d:(d.next=E.next,E.next=d),f.pending=d}function Gm(f,d,E){pr!==null&&f.mode&1&&!(Zt&2)?(f=d.interleaved,f===null?(E.next=E,po===null?po=[d]:po.push(d)):(E.next=f.next,f.next=E),d.interleaved=E):(f=d.pending,f===null?E.next=E:(E.next=f.next,f.next=E),d.pending=E)}function dy(f,d,E){if(E&4194240){var C=d.lanes;C&=f.pendingLanes,E|=C,d.lanes=E,Mm(f,E)}}var yu={readContext:zn,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useInsertionEffect:br,useLayoutEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useMutableSource:br,useSyncExternalStore:br,useId:br,unstable_isNewReconciler:!1},Jc={readContext:zn,useCallback:function(f,d){return vo().memoizedState=[f,d===void 0?null:d],f},useContext:zn,useEffect:vu,useImperativeHandle:function(f,d,E){return E=E!=null?E.concat([f]):null,ba(4194308,4,Vc.bind(null,d,f),E)},useLayoutEffect:function(f,d){return ba(4194308,4,f,d)},useInsertionEffect:function(f,d){return ba(4,2,f,d)},useMemo:function(f,d){var E=vo();return d=d===void 0?null:d,f=f(),E.memoizedState=[f,d],f},useReducer:function(f,d,E){var C=vo();return d=E!==void 0?E(d):d,C.memoizedState=C.baseState=d,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:d},C.queue=f,f=f.dispatch=Mr.bind(null,Ut,f),[C.memoizedState,f]},useRef:function(f){var d=vo();return f={current:f},d.memoizedState=f},useState:jh,useDebugValue:Xc,useDeferredValue:function(f){var d=jh(f),E=d[0],C=d[1];return vu(function(){var P=Yt.transition;Yt.transition={};try{C(f)}finally{Yt.transition=P}},[f]),E},useTransition:function(){var f=jh(!1),d=f[0];return f=XA.bind(null,f[1]),vo().memoizedState=f,[d,f]},useMutableSource:function(){},useSyncExternalStore:function(f,d,E){var C=Ut,P=vo();if(Nn){if(E===void 0)throw Error(o(407));E=E()}else{if(E=d(),pr===null)throw Error(o(349));Gn&30||Gc(C,d,E)}P.memoizedState=E;var D={value:E,getSnapshot:d};return P.queue=D,vu($c.bind(null,C,D,f),[f]),C.flags|=2048,Ea(9,Um.bind(null,C,D,E,d),void 0,null),E},useId:function(){var f=vo(),d=pr.identifierPrefix;if(Nn){var E=Ds,C=Ho;E=(C&~(1<<32-Pi(C)-1)).toString(32)+E,d=":"+d+"R"+E,E=Hc++,0<E&&(d+="H"+E.toString(32)),d+=":"}else E=mu++,d=":"+d+"r"+E.toString(32)+":";return f.memoizedState=d},unstable_isNewReconciler:!1},$m={readContext:zn,useCallback:uy,useContext:zn,useEffect:Wc,useImperativeHandle:jc,useInsertionEffect:ay,useLayoutEffect:ly,useMemo:zm,useReducer:Wh,useRef:Hm,useState:function(){return Wh(rl)},useDebugValue:Xc,useDeferredValue:function(f){var d=Wh(rl),E=d[0],C=d[1];return Wc(function(){var P=Yt.transition;Yt.transition={};try{C(f)}finally{Yt.transition=P}},[f]),E},useTransition:function(){var f=Wh(rl)[0],d=Vi().memoizedState;return[f,d]},useMutableSource:zc,useSyncExternalStore:Go,useId:cy,unstable_isNewReconciler:!1},_u={readContext:zn,useCallback:uy,useContext:zn,useEffect:Wc,useImperativeHandle:jc,useInsertionEffect:ay,useLayoutEffect:ly,useMemo:zm,useReducer:Vh,useRef:Hm,useState:function(){return Vh(rl)},useDebugValue:Xc,useDeferredValue:function(f){var d=Vh(rl),E=d[0],C=d[1];return Wc(function(){var P=Yt.transition;Yt.transition={};try{C(f)}finally{Yt.transition=P}},[f]),E},useTransition:function(){var f=Vh(rl)[0],d=Vi().memoizedState;return[f,d]},useMutableSource:zc,useSyncExternalStore:Go,useId:cy,unstable_isNewReconciler:!1};function il(f,d){try{var E="",C=d;do E+=Rm(C),C=C.return;while(C);var P=E}catch(D){P=`
Error generating stack: `+D.message+`
`+D.stack}return{value:f,source:d,stack:P}}function sl(f,d){try{console.error(d.value)}catch(E){setTimeout(function(){throw E})}}var Xh=typeof WeakMap=="function"?WeakMap:Map;function ol(f,d,E){E=ii(-1,E),E.tag=3,E.payload={element:null};var C=d.value;return E.callback=function(){nf||(nf=!0,td=C),sl(f,d)},E}function py(f,d,E){E=ii(-1,E),E.tag=3;var C=f.type.getDerivedStateFromError;if(typeof C=="function"){var P=d.value;E.payload=function(){return C(P)},E.callback=function(){sl(f,d)}}var D=f.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(E.callback=function(){sl(f,d),typeof C!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var Y=d.stack;this.componentDidCatch(d.value,{componentStack:Y!==null?Y:""})}),E}function my(f,d,E){var C=f.pingCache;if(C===null){C=f.pingCache=new Xh;var P=new Set;C.set(d,P)}else P=C.get(d),P===void 0&&(P=new Set,C.set(d,P));P.has(E)||(P.add(E),f=Ba.bind(null,f,d,E),d.then(f,f))}function gy(f){do{var d;if((d=f.tag===13)&&(d=f.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return f;f=f.return}while(f!==null);return null}function vy(f,d,E,C,P){return f.mode&1?(f.flags|=65536,f.lanes=P,f):(f===d?f.flags|=65536:(f.flags|=128,E.flags|=131072,E.flags&=-52805,E.tag===1&&(E.alternate===null?E.tag=17:(d=ii(-1,1),d.tag=2,Is(E,d))),E.lanes|=1),f)}function _o(f){f.flags|=4}function Kc(f,d){if(f!==null&&f.child===d.child)return!0;if(d.flags&16)return!1;for(f=d.child;f!==null;){if(f.flags&12854||f.subtreeFlags&12854)return!1;f=f.sibling}return!0}var $o,xu,k,Wo;if(ht)$o=function(f,d){for(var E=d.child;E!==null;){if(E.tag===5||E.tag===6)ye(f,E.stateNode);else if(E.tag!==4&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===d)break;for(;E.sibling===null;){if(E.return===null||E.return===d)return;E=E.return}E.sibling.return=E.return,E=E.sibling}},xu=function(){},k=function(f,d,E,C,P){if(f=f.memoizedProps,f!==C){var D=d.stateNode,Y=go(er.current);E=_e(D,E,f,C,P,Y),(d.updateQueue=E)&&_o(d)}},Wo=function(f,d,E,C){E!==C&&_o(d)};else if(Z){$o=function(f,d,E,C){for(var P=d.child;P!==null;){if(P.tag===5){var D=P.stateNode;E&&C&&(D=Rn(D,P.type,P.memoizedProps,P)),ye(f,D)}else if(P.tag===6)D=P.stateNode,E&&C&&(D=kn(D,P.memoizedProps,P)),ye(f,D);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)D=P.child,D!==null&&(D.return=P),$o(f,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===d)break;for(;P.sibling===null;){if(P.return===null||P.return===d)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};var Yc=function(f,d,E,C){for(var P=d.child;P!==null;){if(P.tag===5){var D=P.stateNode;E&&C&&(D=Rn(D,P.type,P.memoizedProps,P)),gt(f,D)}else if(P.tag===6)D=P.stateNode,E&&C&&(D=kn(D,P.memoizedProps,P)),gt(f,D);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)D=P.child,D!==null&&(D.return=P),Yc(f,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===d)break;for(;P.sibling===null;){if(P.return===null||P.return===d)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};xu=function(f,d){var E=d.stateNode;if(!Kc(f,d)){f=E.containerInfo;var C=Tt(f);Yc(C,d,!1,!1),E.pendingChildren=C,_o(d),ln(f,C)}},k=function(f,d,E,C,P){var D=f.stateNode,Y=f.memoizedProps;if((f=Kc(f,d))&&Y===C)d.stateNode=D;else{var ce=d.stateNode,be=go(er.current),$e=null;Y!==C&&($e=_e(ce,E,Y,C,P,be)),f&&$e===null?d.stateNode=D:(D=qe(D,$e,E,Y,C,d,f,ce),ue(D,E,C,P,be)&&_o(d),d.stateNode=D,f?_o(d):$o(D,d,!1,!1))}},Wo=function(f,d,E,C){E!==C?(f=go(du.current),E=go(er.current),d.stateNode=Ve(C,f,E,d),_o(d)):d.stateNode=f.stateNode}}else xu=function(){},k=function(){},Wo=function(){};function oi(f,d){if(!Nn)switch(f.tailMode){case"hidden":d=f.tail;for(var E=null;d!==null;)d.alternate!==null&&(E=d),d=d.sibling;E===null?f.tail=null:E.sibling=null;break;case"collapsed":E=f.tail;for(var C=null;E!==null;)E.alternate!==null&&(C=E),E=E.sibling;C===null?d||f.tail===null?f.tail=null:f.tail.sibling=null:C.sibling=null}}function It(f){var d=f.alternate!==null&&f.alternate.child===f.child,E=0,C=0;if(d)for(var P=f.child;P!==null;)E|=P.lanes|P.childLanes,C|=P.subtreeFlags&14680064,C|=P.flags&14680064,P.return=f,P=P.sibling;else for(P=f.child;P!==null;)E|=P.lanes|P.childLanes,C|=P.subtreeFlags,C|=P.flags,P.return=f,P=P.sibling;return f.subtreeFlags|=C,f.childLanes=E,d}function JA(f,d,E){var C=d.pendingProps;switch(xi(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(d),null;case 1:return Or(d.type)&&Zn(),It(d),null;case 3:return C=d.stateNode,pu(),Ot(Xn),Ot(Qt),lt(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(f===null||f.child===null)&&(Nc(d)?_o(d):f===null||f.memoizedState.isDehydrated&&!(d.flags&256)||(d.flags|=1024,Os!==null&&(fl(Os),Os=null))),xu(f,d),It(d),null;case 5:Aa(d),E=go(du.current);var P=d.type;if(f!==null&&d.stateNode!=null)k(f,d,P,C,E),f.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!C){if(d.stateNode===null)throw Error(o(166));return It(d),null}if(f=go(er.current),Nc(d)){if(!He)throw Error(o(175));f=Em(d.stateNode,d.type,d.memoizedProps,E,f,d,!lu),d.updateQueue=f,f!==null&&_o(d)}else{var D=fe(P,C,E,f,d);$o(D,d,!1,!1),d.stateNode=D,ue(D,P,C,E,f)&&_o(d)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return It(d),null;case 6:if(f&&d.stateNode!=null)Wo(f,d,f.memoizedProps,C);else{if(typeof C!="string"&&d.stateNode===null)throw Error(o(166));if(f=go(du.current),E=go(er.current),Nc(d)){if(!He)throw Error(o(176));if(f=d.stateNode,C=d.memoizedProps,(E=bm(f,C,d,!lu))&&(P=Si,P!==null))switch(D=(P.mode&1)!==0,P.tag){case 3:xt(P.stateNode.containerInfo,f,C,D);break;case 5:Lt(P.type,P.memoizedProps,P.stateNode,f,C,D)}E&&_o(d)}else d.stateNode=Ve(C,f,E,d)}return It(d),null;case 13:if(Ot(le),C=d.memoizedState,Nn&&Yr!==null&&d.mode&1&&!(d.flags&128)){for(f=Yr;f;)f=xa(f);return uu(),d.flags|=98560,d}if(C!==null&&C.dehydrated!==null){if(C=Nc(d),f===null){if(!C)throw Error(o(318));if(!He)throw Error(o(344));if(f=d.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));Ih(f,d)}else uu(),!(d.flags&128)&&(d.memoizedState=null),d.flags|=4;return It(d),null}return Os!==null&&(fl(Os),Os=null),d.flags&128?(d.lanes=E,d):(C=C!==null,E=!1,f===null?Nc(d):E=f.memoizedState!==null,C&&!E&&(d.child.flags|=8192,d.mode&1&&(f===null||le.current&1?sr===0&&(sr=3):od())),d.updateQueue!==null&&(d.flags|=4),It(d),null);case 4:return pu(),xu(f,d),f===null&&Ge(d.stateNode.containerInfo),It(d),null;case 10:return kh(d.type._context),It(d),null;case 17:return Or(d.type)&&Zn(),It(d),null;case 19:if(Ot(le),P=d.memoizedState,P===null)return It(d),null;if(C=(d.flags&128)!==0,D=P.rendering,D===null)if(C)oi(P,!1);else{if(sr!==0||f!==null&&f.flags&128)for(f=d.child;f!==null;){if(D=Ce(f),D!==null){for(d.flags|=128,oi(P,!1),f=D.updateQueue,f!==null&&(d.updateQueue=f,d.flags|=4),d.subtreeFlags=0,f=E,C=d.child;C!==null;)E=C,P=f,E.flags&=14680066,D=E.alternate,D===null?(E.childLanes=0,E.lanes=P,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=D.childLanes,E.lanes=D.lanes,E.child=D.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=D.memoizedProps,E.memoizedState=D.memoizedState,E.updateQueue=D.updateQueue,E.type=D.type,P=D.dependencies,E.dependencies=P===null?null:{lanes:P.lanes,firstContext:P.firstContext}),C=C.sibling;return dt(le,le.current&1|2),d.child}f=f.sibling}P.tail!==null&&Fr()>tf&&(d.flags|=128,C=!0,oi(P,!1),d.lanes=4194304)}else{if(!C)if(f=Ce(D),f!==null){if(d.flags|=128,C=!0,f=f.updateQueue,f!==null&&(d.updateQueue=f,d.flags|=4),oi(P,!0),P.tail===null&&P.tailMode==="hidden"&&!D.alternate&&!Nn)return It(d),null}else 2*Fr()-P.renderingStartTime>tf&&E!==1073741824&&(d.flags|=128,C=!0,oi(P,!1),d.lanes=4194304);P.isBackwards?(D.sibling=d.child,d.child=D):(f=P.last,f!==null?f.sibling=D:d.child=D,P.last=D)}return P.tail!==null?(d=P.tail,P.rendering=d,P.tail=d.sibling,P.renderingStartTime=Fr(),d.sibling=null,f=le.current,dt(le,C?f&1|2:f&1),d):(It(d),null);case 22:case 23:return sg(),C=d.memoizedState!==null,f!==null&&f.memoizedState!==null!==C&&(d.flags|=8192),C&&d.mode&1?Ki&1073741824&&(It(d),ht&&d.subtreeFlags&6&&(d.flags|=8192)):It(d),null;case 24:return null;case 25:return null}throw Error(o(156,d.tag))}var KA=a.ReactCurrentOwner,ji=!1;function rr(f,d,E,C){d.child=f===null?sy(d,null,E,C):fu(d,f.child,E,C)}function yy(f,d,E,C,P){E=E.render;var D=d.ref;return tl(d,P),C=En(f,d,E,C,D,P),E=Nm(),f!==null&&!ji?(d.updateQueue=f.updateQueue,d.flags&=-2053,f.lanes&=~P,Cr(f,d,P)):(Nn&&E&&$h(d),d.flags|=1,rr(f,d,C,P),d.child)}function _y(f,d,E,C,P){if(f===null){var D=E.type;return typeof D=="function"&&!fg(D)&&D.defaultProps===void 0&&E.compare===null&&E.defaultProps===void 0?(d.tag=15,d.type=D,xy(f,d,D,C,P)):(f=ud(E.type,null,C,d,d.mode,P),f.ref=d.ref,f.return=d,d.child=f)}if(D=f.child,!(f.lanes&P)){var Y=D.memoizedProps;if(E=E.compare,E=E!==null?E:dr,E(Y,C)&&f.ref===d.ref)return Cr(f,d,P)}return d.flags|=1,f=jo(D,C),f.ref=d.ref,f.return=d,d.child=f}function xy(f,d,E,C,P){if(f!==null&&dr(f.memoizedProps,C)&&f.ref===d.ref)if(ji=!1,(f.lanes&P)!==0)f.flags&131072&&(ji=!0);else return d.lanes=f.lanes,Cr(f,d,P);return Ns(f,d,E,C,P)}function Sy(f,d,E){var C=d.pendingProps,P=C.children,D=f!==null?f.memoizedState:null;if(C.mode==="hidden")if(!(d.mode&1))d.memoizedState={baseLanes:0,cachePool:null},dt(Eu,Ki),Ki|=E;else if(E&1073741824)d.memoizedState={baseLanes:0,cachePool:null},C=D!==null?D.baseLanes:E,dt(Eu,Ki),Ki|=C;else return f=D!==null?D.baseLanes|E:E,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:f,cachePool:null},d.updateQueue=null,dt(Eu,Ki),Ki|=f,null;else D!==null?(C=D.baseLanes|E,d.memoizedState=null):C=E,dt(Eu,Ki),Ki|=C;return rr(f,d,P,E),d.child}function Ay(f,d){var E=d.ref;(f===null&&E!==null||f!==null&&f.ref!==E)&&(d.flags|=512,d.flags|=2097152)}function Ns(f,d,E,C,P){var D=Or(E)?Rs:Qt.current;return D=Ri(d,D),tl(d,P),E=En(f,d,E,C,D,P),C=Nm(),f!==null&&!ji?(d.updateQueue=f.updateQueue,d.flags&=-2053,f.lanes&=~P,Cr(f,d,P)):(Nn&&C&&$h(d),d.flags|=1,rr(f,d,E,P),d.child)}function wy(f,d,E,C,P){if(Or(E)){var D=!0;Xr(d)}else D=!1;if(tl(d,P),d.stateNode===null)f!==null&&(f.alternate=null,d.alternate=null,d.flags|=2),ey(d,E,C),ou(d,E,C,P),C=!0;else if(f===null){var Y=d.stateNode,ce=d.memoizedProps;Y.props=ce;var be=Y.context,$e=E.contextType;typeof $e=="object"&&$e!==null?$e=zn($e):($e=Or(E)?Rs:Qt.current,$e=Ri(d,$e));var pt=E.getDerivedStateFromProps,jt=typeof pt=="function"||typeof Y.getSnapshotBeforeUpdate=="function";jt||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(ce!==C||be!==$e)&&Bm(d,Y,C,$e),Er=!1;var Ct=d.memoizedState;Y.state=Ct,Ls(d,C,Y,P),be=d.memoizedState,ce!==C||Ct!==be||Xn.current||Er?(typeof pt=="function"&&(Dc(d,E,pt,C),be=d.memoizedState),(ce=Er||Zv(d,E,ce,C,Ct,be,$e))?(jt||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount()),typeof Y.componentDidMount=="function"&&(d.flags|=4194308)):(typeof Y.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=C,d.memoizedState=be),Y.props=C,Y.state=be,Y.context=$e,C=ce):(typeof Y.componentDidMount=="function"&&(d.flags|=4194308),C=!1)}else{Y=d.stateNode,Lm(f,d),ce=d.memoizedProps,$e=d.type===d.elementType?ce:Jr(d.type,ce),Y.props=$e,jt=d.pendingProps,Ct=Y.context,be=E.contextType,typeof be=="object"&&be!==null?be=zn(be):(be=Or(E)?Rs:Qt.current,be=Ri(d,be));var Mn=E.getDerivedStateFromProps;(pt=typeof Mn=="function"||typeof Y.getSnapshotBeforeUpdate=="function")||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(ce!==jt||Ct!==be)&&Bm(d,Y,C,be),Er=!1,Ct=d.memoizedState,Y.state=Ct,Ls(d,C,Y,P);var St=d.memoizedState;ce!==jt||Ct!==St||Xn.current||Er?(typeof Mn=="function"&&(Dc(d,E,Mn,C),St=d.memoizedState),($e=Er||Zv(d,E,$e,C,Ct,St,be)||!1)?(pt||typeof Y.UNSAFE_componentWillUpdate!="function"&&typeof Y.componentWillUpdate!="function"||(typeof Y.componentWillUpdate=="function"&&Y.componentWillUpdate(C,St,be),typeof Y.UNSAFE_componentWillUpdate=="function"&&Y.UNSAFE_componentWillUpdate(C,St,be)),typeof Y.componentDidUpdate=="function"&&(d.flags|=4),typeof Y.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof Y.componentDidUpdate!="function"||ce===f.memoizedProps&&Ct===f.memoizedState||(d.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||ce===f.memoizedProps&&Ct===f.memoizedState||(d.flags|=1024),d.memoizedProps=C,d.memoizedState=St),Y.props=C,Y.state=St,Y.context=be,C=$e):(typeof Y.componentDidUpdate!="function"||ce===f.memoizedProps&&Ct===f.memoizedState||(d.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||ce===f.memoizedProps&&Ct===f.memoizedState||(d.flags|=1024),C=!1)}return Wm(f,d,E,C,D,P)}function Wm(f,d,E,C,P,D){Ay(f,d);var Y=(d.flags&128)!==0;if(!C&&!Y)return P&&el(d,E,!1),Cr(f,d,D);C=d.stateNode,KA.current=d;var ce=Y&&typeof E.getDerivedStateFromError!="function"?null:C.render();return d.flags|=1,f!==null&&Y?(d.child=fu(d,f.child,null,D),d.child=fu(d,null,ce,D)):rr(f,d,ce,D),d.memoizedState=C.state,P&&el(d,E,!0),d.child}function Ey(f){var d=f.stateNode;d.pendingContext?Wi(f,d.pendingContext,d.pendingContext!==d.context):d.context&&Wi(f,d.context,!1),Fm(f,d.containerInfo)}function by(f,d,E,C,P){return uu(),Uc(P),d.flags|=256,rr(f,d,E,C),d.child}var Jh={dehydrated:null,treeContext:null,retryLane:0};function fs(f){return{baseLanes:f,cachePool:null}}function My(f,d,E){var C=d.pendingProps,P=le.current,D=!1,Y=(d.flags&128)!==0,ce;if((ce=Y)||(ce=f!==null&&f.memoizedState===null?!1:(P&2)!==0),ce?(D=!0,d.flags&=-129):(f===null||f.memoizedState!==null)&&(P|=1),dt(le,P&1),f===null)return Om(d),f=d.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?(d.mode&1?Pc(f)?d.lanes=8:d.lanes=1073741824:d.lanes=1,null):(P=C.children,f=C.fallback,D?(C=d.mode,D=d.child,P={mode:"hidden",children:P},!(C&1)&&D!==null?(D.childLanes=0,D.pendingProps=P):D=af(P,C,0,null),f=Oa(f,C,E,null),D.return=d,f.return=d,D.sibling=f,d.child=D,d.child.memoizedState=fs(E),d.memoizedState=Jh,f):Vm(d,P));if(P=f.memoizedState,P!==null){if(ce=P.dehydrated,ce!==null){if(Y)return d.flags&256?(d.flags&=-257,Kh(f,d,E,Error(o(422)))):d.memoizedState!==null?(d.child=f.child,d.flags|=128,null):(D=C.fallback,P=d.mode,C=af({mode:"visible",children:C.children},P,0,null),D=Oa(D,P,E,null),D.flags|=2,C.return=d,D.return=d,C.sibling=D,d.child=C,d.mode&1&&fu(d,f.child,null,E),d.child.memoizedState=fs(E),d.memoizedState=Jh,D);if(!(d.mode&1))d=Kh(f,d,E,null);else if(Pc(ce))d=Kh(f,d,E,Error(o(419)));else if(C=(E&f.childLanes)!==0,ji||C){if(C=pr,C!==null){switch(E&-E){case 4:D=2;break;case 16:D=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:D=32;break;case 536870912:D=268435456;break;default:D=0}C=D&(C.suspendedLanes|E)?0:D,C!==0&&C!==P.retryLane&&(P.retryLane=C,hs(f,C,-1))}od(),d=Kh(f,d,E,Error(o(421)))}else Qa(ce)?(d.flags|=128,d.child=f.child,d=Da.bind(null,f),Ql(ce,d),d=null):(E=P.treeContext,He&&(Yr=Ph(ce),Si=d,Nn=!0,Os=null,lu=!1,E!==null&&(Ii[Li++]=Ho,Ii[Li++]=Ds,Ii[Li++]=Sa,Ho=E.id,Ds=E.overflow,Sa=d)),d=Vm(d,d.pendingProps.children),d.flags|=4096);return d}return D?(C=Ty(f,d,C.children,C.fallback,E),D=d.child,P=f.child.memoizedState,D.memoizedState=P===null?fs(E):{baseLanes:P.baseLanes|E,cachePool:null},D.childLanes=f.childLanes&~E,d.memoizedState=Jh,C):(E=Cy(f,d,C.children,E),d.memoizedState=null,E)}return D?(C=Ty(f,d,C.children,C.fallback,E),D=d.child,P=f.child.memoizedState,D.memoizedState=P===null?fs(E):{baseLanes:P.baseLanes|E,cachePool:null},D.childLanes=f.childLanes&~E,d.memoizedState=Jh,C):(E=Cy(f,d,C.children,E),d.memoizedState=null,E)}function Vm(f,d){return d=af({mode:"visible",children:d},f.mode,0,null),d.return=f,f.child=d}function Cy(f,d,E,C){var P=f.child;return f=P.sibling,E=jo(P,{mode:"visible",children:E}),!(d.mode&1)&&(E.lanes=C),E.return=d,E.sibling=null,f!==null&&(C=d.deletions,C===null?(d.deletions=[f],d.flags|=16):C.push(f)),d.child=E}function Ty(f,d,E,C,P){var D=d.mode;f=f.child;var Y=f.sibling,ce={mode:"hidden",children:E};return!(D&1)&&d.child!==f?(E=d.child,E.childLanes=0,E.pendingProps=ce,d.deletions=null):(E=jo(f,ce),E.subtreeFlags=f.subtreeFlags&14680064),Y!==null?C=jo(Y,C):(C=Oa(C,D,P,null),C.flags|=2),C.return=d,E.return=d,E.sibling=C,d.child=E,C}function Kh(f,d,E,C){return C!==null&&Uc(C),fu(d,f.child,null,E),f=Vm(d,d.pendingProps.children),f.flags|=2,d.memoizedState=null,f}function Ma(f,d,E){f.lanes|=d;var C=f.alternate;C!==null&&(C.lanes|=d),Hh(f.return,d,E)}function jm(f,d,E,C,P){var D=f.memoizedState;D===null?f.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:C,tail:E,tailMode:P}:(D.isBackwards=d,D.rendering=null,D.renderingStartTime=0,D.last=C,D.tail=E,D.tailMode=P)}function Ry(f,d,E){var C=d.pendingProps,P=C.revealOrder,D=C.tail;if(rr(f,d,C.children,E),C=le.current,C&2)C=C&1|2,d.flags|=128;else{if(f!==null&&f.flags&128)e:for(f=d.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&Ma(f,E,d);else if(f.tag===19)Ma(f,E,d);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break e;for(;f.sibling===null;){if(f.return===null||f.return===d)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}C&=1}if(dt(le,C),!(d.mode&1))d.memoizedState=null;else switch(P){case"forwards":for(E=d.child,P=null;E!==null;)f=E.alternate,f!==null&&Ce(f)===null&&(P=E),E=E.sibling;E=P,E===null?(P=d.child,d.child=null):(P=E.sibling,E.sibling=null),jm(d,!1,P,E,D);break;case"backwards":for(E=null,P=d.child,d.child=null;P!==null;){if(f=P.alternate,f!==null&&Ce(f)===null){d.child=P;break}f=P.sibling,P.sibling=E,E=P,P=f}jm(d,!0,E,null,D);break;case"together":jm(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Cr(f,d,E){if(f!==null&&(d.dependencies=f.dependencies),Mu|=d.lanes,!(E&d.childLanes))return null;if(f!==null&&d.child!==f.child)throw Error(o(153));if(d.child!==null){for(f=d.child,E=jo(f,f.pendingProps),d.child=E,E.return=d;f.sibling!==null;)f=f.sibling,E=E.sibling=jo(f,f.pendingProps),E.return=d;E.sibling=null}return d.child}function YA(f,d,E){switch(d.tag){case 3:Ey(d),uu();break;case 5:oy(d);break;case 1:Or(d.type)&&Xr(d);break;case 4:Fm(d,d.stateNode.containerInfo);break;case 10:Pm(d,d.type._context,d.memoizedProps.value);break;case 13:var C=d.memoizedState;if(C!==null)return C.dehydrated!==null?(dt(le,le.current&1),d.flags|=128,null):E&d.child.childLanes?My(f,d,E):(dt(le,le.current&1),f=Cr(f,d,E),f!==null?f.sibling:null);dt(le,le.current&1);break;case 19:if(C=(E&d.childLanes)!==0,f.flags&128){if(C)return Ry(f,d,E);d.flags|=128}var P=d.memoizedState;if(P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),dt(le,le.current),C)break;return null;case 22:case 23:return d.lanes=0,Sy(f,d,E)}return Cr(f,d,E)}function qA(f,d){switch(xi(d),d.tag){case 1:return Or(d.type)&&Zn(),f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 3:return pu(),Ot(Xn),Ot(Qt),lt(),f=d.flags,f&65536&&!(f&128)?(d.flags=f&-65537|128,d):null;case 5:return Aa(d),null;case 13:if(Ot(le),f=d.memoizedState,f!==null&&f.dehydrated!==null){if(d.alternate===null)throw Error(o(340));uu()}return f=d.flags,f&65536?(d.flags=f&-65537|128,d):null;case 19:return Ot(le),null;case 4:return pu(),null;case 10:return kh(d.type._context),null;case 22:case 23:return sg(),null;case 24:return null;default:return null}}var Yh=!1,al=!1,QA=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function qc(f,d){var E=f.ref;if(E!==null)if(typeof E=="function")try{E(null)}catch(C){ci(f,d,C)}else E.current=null}function Xm(f,d,E){try{E()}catch(C){ci(f,d,C)}}var Py=!1;function Jm(f,d){for(ee(f.containerInfo),Ze=d;Ze!==null;)if(f=Ze,d=f.child,(f.subtreeFlags&1028)!==0&&d!==null)d.return=f,Ze=d;else for(;Ze!==null;){f=Ze;try{var E=f.alternate;if(f.flags&1024)switch(f.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var C=E.memoizedProps,P=E.memoizedState,D=f.stateNode,Y=D.getSnapshotBeforeUpdate(f.elementType===f.type?C:Jr(f.type,C),P);D.__reactInternalSnapshotBeforeUpdate=Y}break;case 3:ht&&je(f.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ce){ci(f,f.return,ce)}if(d=f.sibling,d!==null){d.return=f.return,Ze=d;break}Ze=f.return}return E=Py,Py=!1,E}function Us(f,d,E){var C=d.updateQueue;if(C=C!==null?C.lastEffect:null,C!==null){var P=C=C.next;do{if((P.tag&f)===f){var D=P.destroy;P.destroy=void 0,D!==void 0&&Xm(d,E,D)}P=P.next}while(P!==C)}}function Ca(f,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var E=d=d.next;do{if((E.tag&f)===f){var C=E.create;E.destroy=C()}E=E.next}while(E!==d)}}function Km(f){var d=f.ref;if(d!==null){var E=f.stateNode;switch(f.tag){case 5:f=re(E);break;default:f=E}typeof d=="function"?d(f):d.current=f}}function Ym(f,d,E){if(fo&&typeof fo.onCommitFiberUnmount=="function")try{fo.onCommitFiberUnmount(Oh,d)}catch{}switch(d.tag){case 0:case 11:case 14:case 15:if(f=d.updateQueue,f!==null&&(f=f.lastEffect,f!==null)){var C=f=f.next;do{var P=C,D=P.destroy;P=P.tag,D!==void 0&&(P&2||P&4)&&Xm(d,E,D),C=C.next}while(C!==f)}break;case 1:if(qc(d,E),f=d.stateNode,typeof f.componentWillUnmount=="function")try{f.props=d.memoizedProps,f.state=d.memoizedState,f.componentWillUnmount()}catch(Y){ci(d,E,Y)}break;case 5:qc(d,E);break;case 4:ht?Qm(f,d,E):Z&&Z&&(d=d.stateNode.containerInfo,E=Tt(d),hn(d,E))}}function Iy(f,d,E){for(var C=d;;)if(Ym(f,C,E),C.child===null||ht&&C.tag===4){if(C===d)break;for(;C.sibling===null;){if(C.return===null||C.return===d)return;C=C.return}C.sibling.return=C.return,C=C.sibling}else C.child.return=C,C=C.child}function xo(f){var d=f.alternate;d!==null&&(f.alternate=null,xo(d)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(d=f.stateNode,d!==null&&ct(d)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function qh(f){return f.tag===5||f.tag===3||f.tag===4}function Ta(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||qh(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function Xi(f){if(ht){e:{for(var d=f.return;d!==null;){if(qh(d))break e;d=d.return}throw Error(o(160))}var E=d;switch(E.tag){case 5:d=E.stateNode,E.flags&32&&(Pe(d),E.flags&=-33),E=Ta(f),Qh(f,E,d);break;case 3:case 4:d=E.stateNode.containerInfo,E=Ta(f),qm(f,E,d);break;default:throw Error(o(161))}}}function qm(f,d,E){var C=f.tag;if(C===5||C===6)f=f.stateNode,d?bt(E,f,d):zt(E,f);else if(C!==4&&(f=f.child,f!==null))for(qm(f,d,E),f=f.sibling;f!==null;)qm(f,d,E),f=f.sibling}function Qh(f,d,E){var C=f.tag;if(C===5||C===6)f=f.stateNode,d?Dt(E,f,d):_t(E,f);else if(C!==4&&(f=f.child,f!==null))for(Qh(f,d,E),f=f.sibling;f!==null;)Qh(f,d,E),f=f.sibling}function Qm(f,d,E){for(var C=d,P=!1,D,Y;;){if(!P){P=C.return;e:for(;;){if(P===null)throw Error(o(160));switch(D=P.stateNode,P.tag){case 5:Y=!1;break e;case 3:D=D.containerInfo,Y=!0;break e;case 4:D=D.containerInfo,Y=!0;break e}P=P.return}P=!0}if(C.tag===5||C.tag===6)Iy(f,C,E),Y?ie(D,C.stateNode):ot(D,C.stateNode);else if(C.tag===18)Y?xe(D,C.stateNode):Ee(D,C.stateNode);else if(C.tag===4){if(C.child!==null){D=C.stateNode.containerInfo,Y=!0,C.child.return=C,C=C.child;continue}}else if(Ym(f,C,E),C.child!==null){C.child.return=C,C=C.child;continue}if(C===d)break;for(;C.sibling===null;){if(C.return===null||C.return===d)return;C=C.return,C.tag===4&&(P=!1)}C.sibling.return=C.return,C=C.sibling}}function ll(f,d){if(ht){switch(d.tag){case 0:case 11:case 14:case 15:Us(3,d,d.return),Ca(3,d),Us(5,d,d.return);return;case 1:return;case 5:var E=d.stateNode;if(E!=null){var C=d.memoizedProps;f=f!==null?f.memoizedProps:C;var P=d.type,D=d.updateQueue;d.updateQueue=null,D!==null&&Jt(E,D,P,f,C,d)}return;case 6:if(d.stateNode===null)throw Error(o(162));E=d.memoizedProps,Fe(d.stateNode,f!==null?f.memoizedProps:E,E);return;case 3:He&&f!==null&&f.memoizedState.isDehydrated&&ge(d.stateNode.containerInfo);return;case 12:return;case 13:ks(d);return;case 19:ks(d);return;case 17:return}throw Error(o(163))}switch(d.tag){case 0:case 11:case 14:case 15:Us(3,d,d.return),Ca(3,d),Us(5,d,d.return);return;case 12:return;case 13:ks(d);return;case 19:ks(d);return;case 3:He&&f!==null&&f.memoizedState.isDehydrated&&ge(d.stateNode.containerInfo);break;case 22:case 23:return}e:if(Z){switch(d.tag){case 1:case 5:case 6:break e;case 3:case 4:d=d.stateNode,hn(d.containerInfo,d.pendingChildren);break e}throw Error(o(163))}}function ks(f){var d=f.updateQueue;if(d!==null){f.updateQueue=null;var E=f.stateNode;E===null&&(E=f.stateNode=new QA),d.forEach(function(C){var P=ky.bind(null,f,C);E.has(C)||(E.add(C),C.then(P,P))})}}function Ly(f,d){for(Ze=d;Ze!==null;){d=Ze;var E=d.deletions;if(E!==null)for(var C=0;C<E.length;C++){var P=E[C];try{var D=f;ht?Qm(D,P,d):Iy(D,P,d);var Y=P.alternate;Y!==null&&(Y.return=null),P.return=null}catch(At){ci(P,d,At)}}if(E=d.child,d.subtreeFlags&12854&&E!==null)E.return=d,Ze=E;else for(;Ze!==null;){d=Ze;try{var ce=d.flags;if(ce&32&&ht&&Pe(d.stateNode),ce&512){var be=d.alternate;if(be!==null){var $e=be.ref;$e!==null&&(typeof $e=="function"?$e(null):$e.current=null)}}if(ce&8192)switch(d.tag){case 13:if(d.memoizedState!==null){var pt=d.alternate;(pt===null||pt.memoizedState===null)&&(rg=Fr())}break;case 22:var jt=d.memoizedState!==null,Ct=d.alternate,Mn=Ct!==null&&Ct.memoizedState!==null;if(E=d,ht){e:if(C=E,P=jt,D=null,ht)for(var St=C;;){if(St.tag===5){if(D===null){D=St;var hi=St.stateNode;P?st(hi):ke(St.stateNode,St.memoizedProps)}}else if(St.tag===6){if(D===null){var qi=St.stateNode;P?rt(qi):se(qi,St.memoizedProps)}}else if((St.tag!==22&&St.tag!==23||St.memoizedState===null||St===C)&&St.child!==null){St.child.return=St,St=St.child;continue}if(St===C)break;for(;St.sibling===null;){if(St.return===null||St.return===C)break e;D===St&&(D=null),St=St.return}D===St&&(D=null),St.sibling.return=St.return,St=St.sibling}}if(jt&&!Mn&&E.mode&1){Ze=E;for(var ve=E.child;ve!==null;){for(E=Ze=ve;Ze!==null;){C=Ze;var de=C.child;switch(C.tag){case 0:case 11:case 14:case 15:Us(4,C,C.return);break;case 1:qc(C,C.return);var we=C.stateNode;if(typeof we.componentWillUnmount=="function"){var it=C.return;try{we.props=C.memoizedProps,we.state=C.memoizedState,we.componentWillUnmount()}catch(At){ci(C,it,At)}}break;case 5:qc(C,C.return);break;case 22:if(C.memoizedState!==null){Zm(E);continue}}de!==null?(de.return=C,Ze=de):Zm(E)}ve=ve.sibling}}}switch(ce&4102){case 2:Xi(d),d.flags&=-3;break;case 6:Xi(d),d.flags&=-3,ll(d.alternate,d);break;case 4096:d.flags&=-4097;break;case 4100:d.flags&=-4097,ll(d.alternate,d);break;case 4:ll(d.alternate,d)}}catch(At){ci(d,d.return,At)}if(E=d.sibling,E!==null){E.return=d.return,Ze=E;break}Ze=d.return}}}function ZA(f,d,E){Ze=f,Qc(f)}function Qc(f,d,E){for(var C=(f.mode&1)!==0;Ze!==null;){var P=Ze,D=P.child;if(P.tag===22&&C){var Y=P.memoizedState!==null||Yh;if(!Y){var ce=P.alternate,be=ce!==null&&ce.memoizedState!==null||al;ce=Yh;var $e=al;if(Yh=Y,(al=be)&&!$e)for(Ze=P;Ze!==null;)Y=Ze,be=Y.child,Y.tag===22&&Y.memoizedState!==null?kr(P):be!==null?(be.return=Y,Ze=be):kr(P);for(;D!==null;)Ze=D,Qc(D),D=D.sibling;Ze=P,Yh=ce,al=$e}By(f)}else P.subtreeFlags&8772&&D!==null?(D.return=P,Ze=D):By(f)}}function By(f){for(;Ze!==null;){var d=Ze;if(d.flags&8772){var E=d.alternate;try{if(d.flags&8772)switch(d.tag){case 0:case 11:case 15:al||Ca(5,d);break;case 1:var C=d.stateNode;if(d.flags&4&&!al)if(E===null)C.componentDidMount();else{var P=d.elementType===d.type?E.memoizedProps:Jr(d.type,E.memoizedProps);C.componentDidUpdate(P,E.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var D=d.updateQueue;D!==null&&zh(d,D,C);break;case 3:var Y=d.updateQueue;if(Y!==null){if(E=null,d.child!==null)switch(d.child.tag){case 5:E=re(d.child.stateNode);break;case 1:E=d.child.stateNode}zh(d,Y,E)}break;case 5:var ce=d.stateNode;E===null&&d.flags&4&&an(ce,d.type,d.memoizedProps,d);break;case 6:break;case 4:break;case 12:break;case 13:if(He&&d.memoizedState===null){var be=d.alternate;if(be!==null){var $e=be.memoizedState;if($e!==null){var pt=$e.dehydrated;pt!==null&&Ae(pt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}al||d.flags&512&&Km(d)}catch(jt){ci(d,d.return,jt)}}if(d===f){Ze=null;break}if(E=d.sibling,E!==null){E.return=d.return,Ze=E;break}Ze=d.return}}function Zm(f){for(;Ze!==null;){var d=Ze;if(d===f){Ze=null;break}var E=d.sibling;if(E!==null){E.return=d.return,Ze=E;break}Ze=d.return}}function kr(f){for(;Ze!==null;){var d=Ze;try{switch(d.tag){case 0:case 11:case 15:var E=d.return;try{Ca(4,d)}catch(be){ci(d,E,be)}break;case 1:var C=d.stateNode;if(typeof C.componentDidMount=="function"){var P=d.return;try{C.componentDidMount()}catch(be){ci(d,P,be)}}var D=d.return;try{Km(d)}catch(be){ci(d,D,be)}break;case 5:var Y=d.return;try{Km(d)}catch(be){ci(d,Y,be)}}}catch(be){ci(d,d.return,be)}if(d===f){Ze=null;break}var ce=d.sibling;if(ce!==null){ce.return=d.return,Ze=ce;break}Ze=d.return}}var Su=0,Zc=1,Ji=2,Au=3,ul=4;if(typeof Symbol=="function"&&Symbol.for){var Hs=Symbol.for;Su=Hs("selector.component"),Zc=Hs("selector.has_pseudo_class"),Ji=Hs("selector.role"),Au=Hs("selector.test_id"),ul=Hs("selector.text")}function Zh(f){var d=Me(f);if(d!=null){if(typeof d.memoizedProps["data-testname"]!="string")throw Error(o(364));return d}if(f=me(f),f===null)throw Error(o(362));return f.stateNode.current}function qr(f,d){switch(d.$$typeof){case Su:if(f.type===d.value)return!0;break;case Zc:e:{d=d.value,f=[f,0];for(var E=0;E<f.length;){var C=f[E++],P=f[E++],D=d[P];if(C.tag!==5||!Be(C)){for(;D!=null&&qr(C,D);)P++,D=d[P];if(P===d.length){d=!0;break e}else for(C=C.child;C!==null;)f.push(C,P),C=C.sibling}}d=!1}return d;case Ji:if(f.tag===5&&ft(f.stateNode,d.value))return!0;break;case ul:if((f.tag===5||f.tag===6)&&(f=De(f),f!==null&&0<=f.indexOf(d.value)))return!0;break;case Au:if(f.tag===5&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===d.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function ef(f){switch(f.$$typeof){case Su:return"<"+(I(f.value)||"Unknown")+">";case Zc:return":has("+(ef(f)||"")+")";case Ji:return'[role="'+f.value+'"]';case ul:return'"'+f.value+'"';case Au:return'[data-testname="'+f.value+'"]';default:throw Error(o(365))}}function Dy(f,d){var E=[];f=[f,0];for(var C=0;C<f.length;){var P=f[C++],D=f[C++],Y=d[D];if(P.tag!==5||!Be(P)){for(;Y!=null&&qr(P,Y);)D++,Y=d[D];if(D===d.length)E.push(P);else for(P=P.child;P!==null;)f.push(P,D),P=P.sibling}}return E}function eg(f,d){if(!U)throw Error(o(363));f=Zh(f),f=Dy(f,d),d=[],f=Array.from(f);for(var E=0;E<f.length;){var C=f[E++];if(C.tag===5)Be(C)||d.push(C.stateNode);else for(C=C.child;C!==null;)f.push(C),C=C.sibling}return d}var ew=Math.ceil,wu=a.ReactCurrentDispatcher,tg=a.ReactCurrentOwner,Un=a.ReactCurrentBatchConfig,Zt=0,pr=null,mr=null,ir=0,Ki=0,Eu=Dr(0),sr=0,bu=null,Mu=0,ed=0,ng=0,Cu=null,ai=null,rg=0,tf=1/0;function cl(){tf=Fr()+500}var nf=!1,td=null,zs=null,nd=!1,Vo=null,rf=0,sf=0,rd=null,id=-1,Tu=0;function li(){return Zt&6?Fr():id!==-1?id:id=Fr()}function So(f){return f.mode&1?Zt&2&&ir!==0?ir&-ir:jA.transition!==null?(Tu===0&&(f=tu,tu<<=1,!(tu&4194240)&&(tu=64),Tu=f),Tu):(f=xn,f!==0?f:Re()):1}function hs(f,d,E){if(50<sf)throw sf=0,rd=null,Error(o(185));var C=Ru(f,d);return C===null?null:(ru(C,d,E),(!(Zt&2)||C!==pr)&&(C===pr&&(!(Zt&2)&&(ed|=d),sr===4&&Ra(C,ir)),Pt(C,E),d===1&&Zt===0&&!(f.mode&1)&&(cl(),Fh&&Ps())),C)}function Ru(f,d){f.lanes|=d;var E=f.alternate;for(E!==null&&(E.lanes|=d),E=f,f=f.return;f!==null;)f.childLanes|=d,E=f.alternate,E!==null&&(E.childLanes|=d),E=f,f=f.return;return E.tag===3?E.stateNode:null}function Pt(f,d){var E=f.callbackNode;HA(f,d);var C=Ic(f,f===pr?ir:0);if(C===0)E!==null&&Yv(E),f.callbackNode=null,f.callbackPriority=0;else if(d=C&-C,f.callbackPriority!==d){if(E!=null&&Yv(E),d===1)f.tag===0?VA(Ny.bind(null,f)):qv(Ny.bind(null,f)),Qe?W(function(){Zt===0&&Ps()}):Dh(Lc,Ps),E=null;else{switch(Kv(C)){case 1:E=Lc;break;case 4:E=$A;break;case 16:E=Cm;break;case 536870912:E=WA;break;default:E=Cm}E=ld(E,Oy.bind(null,f))}f.callbackPriority=d,f.callbackNode=E}}function Oy(f,d){if(id=-1,Tu=0,Zt&6)throw Error(o(327));var E=f.callbackNode;if(La()&&f.callbackNode!==E)return null;var C=Ic(f,f===pr?ir:0);if(C===0)return null;if(C&30||C&f.expiredLanes||d)d=ui(f,C);else{d=C;var P=Zt;Zt|=2;var D=og();(pr!==f||ir!==d)&&(cl(),Ao(f,d));do try{ag();break}catch(ce){sd(f,ce)}while(1);Uh(),wu.current=D,Zt=P,mr!==null?d=0:(pr=null,ir=0,d=sr)}if(d!==0){if(d===2&&(P=Lh(f),P!==0&&(C=P,d=ig(f,P))),d===1)throw E=bu,Ao(f,0),Ra(f,C),Pt(f,Fr()),E;if(d===6)Ra(f,C);else{if(P=f.current.alternate,!(C&30)&&!Fy(P)&&(d=ui(f,C),d===2&&(D=Lh(f),D!==0&&(C=D,d=ig(f,D))),d===1))throw E=bu,Ao(f,0),Ra(f,C),Pt(f,Fr()),E;switch(f.finishedWork=P,f.finishedLanes=C,d){case 0:case 1:throw Error(o(345));case 2:Ia(f,ai);break;case 3:if(Ra(f,C),(C&130023424)===C&&(d=rg+500-Fr(),10<d)){if(Ic(f,0)!==0)break;if(P=f.suspendedLanes,(P&C)!==C){li(),f.pingedLanes|=f.suspendedLanes&P;break}f.timeoutHandle=Xe(Ia.bind(null,f,ai),d);break}Ia(f,ai);break;case 4:if(Ra(f,C),(C&4194240)===C)break;for(d=f.eventTimes,P=-1;0<C;){var Y=31-Pi(C);D=1<<Y,Y=d[Y],Y>P&&(P=Y),C&=~D}if(C=P,C=Fr()-C,C=(120>C?120:480>C?480:1080>C?1080:1920>C?1920:3e3>C?3e3:4320>C?4320:1960*ew(C/1960))-C,10<C){f.timeoutHandle=Xe(Ia.bind(null,f,ai),C);break}Ia(f,ai);break;case 5:Ia(f,ai);break;default:throw Error(o(329))}}}return Pt(f,Fr()),f.callbackNode===E?Oy.bind(null,f):null}function ig(f,d){var E=Cu;return f.current.memoizedState.isDehydrated&&(Ao(f,d).flags|=256),f=ui(f,d),f!==2&&(d=ai,ai=E,d!==null&&fl(d)),f}function fl(f){ai===null?ai=f:ai.push.apply(ai,f)}function Fy(f){for(var d=f;;){if(d.flags&16384){var E=d.updateQueue;if(E!==null&&(E=E.stores,E!==null))for(var C=0;C<E.length;C++){var P=E[C],D=P.getSnapshot;P=P.value;try{if(!ho(D(),P))return!1}catch{return!1}}}if(E=d.child,d.subtreeFlags&16384&&E!==null)E.return=d,d=E;else{if(d===f)break;for(;d.sibling===null;){if(d.return===null||d.return===f)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Ra(f,d){for(d&=~ng,d&=~ed,f.suspendedLanes|=d,f.pingedLanes&=~d,f=f.expirationTimes;0<d;){var E=31-Pi(d),C=1<<E;f[E]=-1,d&=~C}}function Ny(f){if(Zt&6)throw Error(o(327));La();var d=Ic(f,0);if(!(d&1))return Pt(f,Fr()),null;var E=ui(f,d);if(f.tag!==0&&E===2){var C=Lh(f);C!==0&&(d=C,E=ig(f,C))}if(E===1)throw E=bu,Ao(f,0),Ra(f,d),Pt(f,Fr()),E;if(E===6)throw Error(o(345));return f.finishedWork=f.current.alternate,f.finishedLanes=d,Ia(f,ai),Pt(f,Fr()),null}function Yi(f){Vo!==null&&Vo.tag===0&&!(Zt&6)&&La();var d=Zt;Zt|=1;var E=Un.transition,C=xn;try{if(Un.transition=null,xn=1,f)return f()}finally{xn=C,Un.transition=E,Zt=d,!(Zt&6)&&Ps()}}function sg(){Ki=Eu.current,Ot(Eu)}function Ao(f,d){f.finishedWork=null,f.finishedLanes=0;var E=f.timeoutHandle;if(E!==yt&&(f.timeoutHandle=yt,vt(E)),mr!==null)for(E=mr.return;E!==null;){var C=E;switch(xi(C),C.tag){case 1:C=C.type.childContextTypes,C!=null&&Zn();break;case 3:pu(),Ot(Xn),Ot(Qt),lt();break;case 5:Aa(C);break;case 4:pu();break;case 13:Ot(le);break;case 19:Ot(le);break;case 10:kh(C.type._context);break;case 22:case 23:sg()}E=E.return}if(pr=f,mr=f=jo(f.current,null),ir=Ki=d,sr=0,bu=null,ng=ed=Mu=0,ai=Cu=null,po!==null){for(d=0;d<po.length;d++)if(E=po[d],C=E.interleaved,C!==null){E.interleaved=null;var P=C.next,D=E.pending;if(D!==null){var Y=D.next;D.next=P,C.next=Y}E.pending=C}po=null}return f}function sd(f,d){do{var E=mr;try{if(Uh(),Gt.current=yu,Ai){for(var C=Ut.memoizedState;C!==null;){var P=C.queue;P!==null&&(P.pending=null),C=C.next}Ai=!1}if(Gn=0,Ur=Nr=Ut=null,wa=!1,Hc=0,tg.current=null,E===null||E.return===null){sr=1,bu=d,mr=null;break}e:{var D=f,Y=E.return,ce=E,be=d;if(d=ir,ce.flags|=32768,be!==null&&typeof be=="object"&&typeof be.then=="function"){var $e=be,pt=ce,jt=pt.tag;if(!(pt.mode&1)&&(jt===0||jt===11||jt===15)){var Ct=pt.alternate;Ct?(pt.updateQueue=Ct.updateQueue,pt.memoizedState=Ct.memoizedState,pt.lanes=Ct.lanes):(pt.updateQueue=null,pt.memoizedState=null)}var Mn=gy(Y);if(Mn!==null){Mn.flags&=-257,vy(Mn,Y,ce,D,d),Mn.mode&1&&my(D,$e,d),d=Mn,be=$e;var St=d.updateQueue;if(St===null){var hi=new Set;hi.add(be),d.updateQueue=hi}else St.add(be);break e}else{if(!(d&1)){my(D,$e,d),od();break e}be=Error(o(426))}}else if(Nn&&ce.mode&1){var qi=gy(Y);if(qi!==null){!(qi.flags&65536)&&(qi.flags|=256),vy(qi,Y,ce,D,d),Uc(be);break e}}D=be,sr!==4&&(sr=2),Cu===null?Cu=[D]:Cu.push(D),be=il(be,ce),ce=Y;do{switch(ce.tag){case 3:ce.flags|=65536,d&=-d,ce.lanes|=d;var ve=ol(ce,be,d);Fn(ce,ve);break e;case 1:D=be;var de=ce.type,we=ce.stateNode;if(!(ce.flags&128)&&(typeof de.getDerivedStateFromError=="function"||we!==null&&typeof we.componentDidCatch=="function"&&(zs===null||!zs.has(we)))){ce.flags|=65536,d&=-d,ce.lanes|=d;var it=py(ce,D,d);Fn(ce,it);break e}}ce=ce.return}while(ce!==null)}of(E)}catch(At){d=At,mr===E&&E!==null&&(mr=E=E.return);continue}break}while(1)}function og(){var f=wu.current;return wu.current=yu,f===null?yu:f}function od(){(sr===0||sr===3||sr===2)&&(sr=4),pr===null||!(Mu&268435455)&&!(ed&268435455)||Ra(pr,ir)}function ui(f,d){var E=Zt;Zt|=2;var C=og();pr===f&&ir===d||Ao(f,d);do try{Pa();break}catch(P){sd(f,P)}while(1);if(Uh(),Zt=E,wu.current=C,mr!==null)throw Error(o(261));return pr=null,ir=0,sr}function Pa(){for(;mr!==null;)lg(mr)}function ag(){for(;mr!==null&&!zA();)lg(mr)}function lg(f){var d=cg(f.alternate,f,Ki);f.memoizedProps=f.pendingProps,d===null?of(f):mr=d,tg.current=null}function of(f){var d=f;do{var E=d.alternate;if(f=d.return,d.flags&32768){if(E=qA(E,d),E!==null){E.flags&=32767,mr=E;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{sr=6,mr=null;return}}else if(E=JA(E,d,Ki),E!==null){mr=E;return}if(d=d.sibling,d!==null){mr=d;return}mr=d=f}while(d!==null);sr===0&&(sr=5)}function Ia(f,d){var E=xn,C=Un.transition;try{Un.transition=null,xn=1,ug(f,d,E)}finally{Un.transition=C,xn=E}return null}function ug(f,d,E){do La();while(Vo!==null);if(Zt&6)throw Error(o(327));var C=f.finishedWork,P=f.finishedLanes;if(C===null)return null;if(f.finishedWork=null,f.finishedLanes=0,C===f.current)throw Error(o(177));f.callbackNode=null,f.callbackPriority=0;var D=C.lanes|C.childLanes;if(Jv(f,D),f===pr&&(mr=pr=null,ir=0),!(C.subtreeFlags&2064)&&!(C.flags&2064)||nd||(nd=!0,ld(Cm,function(){return La(),null})),D=(C.flags&15990)!==0,C.subtreeFlags&15990||D){D=Un.transition,Un.transition=null;var Y=xn;xn=1;var ce=Zt;Zt|=4,tg.current=null,Jm(f,C),Ly(f,C),te(f.containerInfo),f.current=C,ZA(C),GA(),Zt=ce,xn=Y,Un.transition=D}else f.current=C;if(nd&&(nd=!1,Vo=f,rf=P),D=f.pendingLanes,D===0&&(zs=null),On(C.stateNode),Pt(f,Fr()),d!==null)for(E=f.onRecoverableError,C=0;C<d.length;C++)E(d[C]);if(nf)throw nf=!1,f=td,td=null,f;return rf&1&&f.tag!==0&&La(),D=f.pendingLanes,D&1?f===rd?sf++:(sf=0,rd=f):sf=0,Ps(),null}function La(){if(Vo!==null){var f=Kv(rf),d=Un.transition,E=xn;try{if(Un.transition=null,xn=16>f?16:f,Vo===null)var C=!1;else{if(f=Vo,Vo=null,rf=0,Zt&6)throw Error(o(331));var P=Zt;for(Zt|=4,Ze=f.current;Ze!==null;){var D=Ze,Y=D.child;if(Ze.flags&16){var ce=D.deletions;if(ce!==null){for(var be=0;be<ce.length;be++){var $e=ce[be];for(Ze=$e;Ze!==null;){var pt=Ze;switch(pt.tag){case 0:case 11:case 15:Us(8,pt,D)}var jt=pt.child;if(jt!==null)jt.return=pt,Ze=jt;else for(;Ze!==null;){pt=Ze;var Ct=pt.sibling,Mn=pt.return;if(xo(pt),pt===$e){Ze=null;break}if(Ct!==null){Ct.return=Mn,Ze=Ct;break}Ze=Mn}}}var St=D.alternate;if(St!==null){var hi=St.child;if(hi!==null){St.child=null;do{var qi=hi.sibling;hi.sibling=null,hi=qi}while(hi!==null)}}Ze=D}}if(D.subtreeFlags&2064&&Y!==null)Y.return=D,Ze=Y;else e:for(;Ze!==null;){if(D=Ze,D.flags&2048)switch(D.tag){case 0:case 11:case 15:Us(9,D,D.return)}var ve=D.sibling;if(ve!==null){ve.return=D.return,Ze=ve;break e}Ze=D.return}}var de=f.current;for(Ze=de;Ze!==null;){Y=Ze;var we=Y.child;if(Y.subtreeFlags&2064&&we!==null)we.return=Y,Ze=we;else e:for(Y=de;Ze!==null;){if(ce=Ze,ce.flags&2048)try{switch(ce.tag){case 0:case 11:case 15:Ca(9,ce)}}catch(At){ci(ce,ce.return,At)}if(ce===Y){Ze=null;break e}var it=ce.sibling;if(it!==null){it.return=ce.return,Ze=it;break e}Ze=ce.return}}if(Zt=P,Ps(),fo&&typeof fo.onPostCommitFiberRoot=="function")try{fo.onPostCommitFiberRoot(Oh,f)}catch{}C=!0}return C}finally{xn=E,Un.transition=d}}return!1}function ad(f,d,E){d=il(E,d),d=ol(f,d,1),Is(f,d),d=li(),f=Ru(f,1),f!==null&&(ru(f,1,d),Pt(f,d))}function ci(f,d,E){if(f.tag===3)ad(f,f,E);else for(;d!==null;){if(d.tag===3){ad(d,f,E);break}else if(d.tag===1){var C=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(zs===null||!zs.has(C))){f=il(E,f),f=py(d,f,1),Is(d,f),f=li(),d=Ru(d,1),d!==null&&(ru(d,1,f),Pt(d,f));break}}d=d.return}}function Ba(f,d,E){var C=f.pingCache;C!==null&&C.delete(d),d=li(),f.pingedLanes|=f.suspendedLanes&E,pr===f&&(ir&E)===E&&(sr===4||sr===3&&(ir&130023424)===ir&&500>Fr()-rg?Ao(f,0):ng|=E),Pt(f,d)}function Uy(f,d){d===0&&(f.mode&1?(d=nu,nu<<=1,!(nu&130023424)&&(nu=4194304)):d=1);var E=li();f=Ru(f,d),f!==null&&(ru(f,d,E),Pt(f,E))}function Da(f){var d=f.memoizedState,E=0;d!==null&&(E=d.retryLane),Uy(f,E)}function ky(f,d){var E=0;switch(f.tag){case 13:var C=f.stateNode,P=f.memoizedState;P!==null&&(E=P.retryLane);break;case 19:C=f.stateNode;break;default:throw Error(o(314))}C!==null&&C.delete(d),Uy(f,E)}var cg;cg=function(f,d,E){if(f!==null)if(f.memoizedProps!==d.pendingProps||Xn.current)ji=!0;else{if(!(f.lanes&E)&&!(d.flags&128))return ji=!1,YA(f,d,E);ji=!!(f.flags&131072)}else ji=!1,Nn&&d.flags&1048576&&ty(d,Fc,d.index);switch(d.lanes=0,d.tag){case 2:var C=d.type;f!==null&&(f.alternate=null,d.alternate=null,d.flags|=2),f=d.pendingProps;var P=Ri(d,Qt.current);tl(d,E),P=En(null,d,C,f,P,E);var D=Nm();return d.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Or(C)?(D=!0,Xr(d)):D=!1,d.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,Im(d),P.updater=Gh,d.stateNode=P,P._reactInternals=d,ou(d,C,f,E),d=Wm(null,d,C,!0,D,E)):(d.tag=0,Nn&&D&&$h(d),rr(null,d,P,E),d=d.child),d;case 16:C=d.elementType;e:{switch(f!==null&&(f.alternate=null,d.alternate=null,d.flags|=2),f=d.pendingProps,P=C._init,C=P(C._payload),d.type=C,P=d.tag=Hy(C),f=Jr(C,f),P){case 0:d=Ns(null,d,C,f,E);break e;case 1:d=wy(null,d,C,f,E);break e;case 11:d=yy(null,d,C,f,E);break e;case 14:d=_y(null,d,C,Jr(C.type,f),E);break e}throw Error(o(306,C,""))}return d;case 0:return C=d.type,P=d.pendingProps,P=d.elementType===C?P:Jr(C,P),Ns(f,d,C,P,E);case 1:return C=d.type,P=d.pendingProps,P=d.elementType===C?P:Jr(C,P),wy(f,d,C,P,E);case 3:e:{if(Ey(d),f===null)throw Error(o(387));C=d.pendingProps,D=d.memoizedState,P=D.element,Lm(f,d),Ls(d,C,null,E);var Y=d.memoizedState;if(C=Y.element,He&&D.isDehydrated)if(D={element:C,isDehydrated:!1,cache:Y.cache,transitions:Y.transitions},d.updateQueue.baseState=D,d.memoizedState=D,d.flags&256){P=Error(o(423)),d=by(f,d,C,E,P);break e}else if(C!==P){P=Error(o(424)),d=by(f,d,C,E,P);break e}else for(He&&(Yr=Rh(d.stateNode.containerInfo),Si=d,Nn=!0,Os=null,lu=!1),E=sy(d,null,C,E),d.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling;else{if(uu(),C===P){d=Cr(f,d,E);break e}rr(f,d,C,E)}d=d.child}return d;case 5:return oy(d),f===null&&Om(d),C=d.type,P=d.pendingProps,D=f!==null?f.memoizedProps:null,Y=P.children,Ne(C,P)?Y=null:D!==null&&Ne(C,D)&&(d.flags|=32),Ay(f,d),rr(f,d,Y,E),d.child;case 6:return f===null&&Om(d),null;case 13:return My(f,d,E);case 4:return Fm(d,d.stateNode.containerInfo),C=d.pendingProps,f===null?d.child=fu(d,null,C,E):rr(f,d,C,E),d.child;case 11:return C=d.type,P=d.pendingProps,P=d.elementType===C?P:Jr(C,P),yy(f,d,C,P,E);case 7:return rr(f,d,d.pendingProps,E),d.child;case 8:return rr(f,d,d.pendingProps.children,E),d.child;case 12:return rr(f,d,d.pendingProps.children,E),d.child;case 10:e:{if(C=d.type._context,P=d.pendingProps,D=d.memoizedProps,Y=P.value,Pm(d,C,Y),D!==null)if(ho(D.value,Y)){if(D.children===P.children&&!Xn.current){d=Cr(f,d,E);break e}}else for(D=d.child,D!==null&&(D.return=d);D!==null;){var ce=D.dependencies;if(ce!==null){Y=D.child;for(var be=ce.firstContext;be!==null;){if(be.context===C){if(D.tag===1){be=ii(-1,E&-E),be.tag=2;var $e=D.updateQueue;if($e!==null){$e=$e.shared;var pt=$e.pending;pt===null?be.next=be:(be.next=pt.next,pt.next=be),$e.pending=be}}D.lanes|=E,be=D.alternate,be!==null&&(be.lanes|=E),Hh(D.return,E,d),ce.lanes|=E;break}be=be.next}}else if(D.tag===10)Y=D.type===d.type?null:D.child;else if(D.tag===18){if(Y=D.return,Y===null)throw Error(o(341));Y.lanes|=E,ce=Y.alternate,ce!==null&&(ce.lanes|=E),Hh(Y,E,d),Y=D.sibling}else Y=D.child;if(Y!==null)Y.return=D;else for(Y=D;Y!==null;){if(Y===d){Y=null;break}if(D=Y.sibling,D!==null){D.return=Y.return,Y=D;break}Y=Y.return}D=Y}rr(f,d,P.children,E),d=d.child}return d;case 9:return P=d.type,C=d.pendingProps.children,tl(d,E),P=zn(P),C=C(P),d.flags|=1,rr(f,d,C,E),d.child;case 14:return C=d.type,P=Jr(C,d.pendingProps),P=Jr(C.type,P),_y(f,d,C,P,E);case 15:return xy(f,d,d.type,d.pendingProps,E);case 17:return C=d.type,P=d.pendingProps,P=d.elementType===C?P:Jr(C,P),f!==null&&(f.alternate=null,d.alternate=null,d.flags|=2),d.tag=1,Or(C)?(f=!0,Xr(d)):f=!1,tl(d,E),ey(d,C,P),ou(d,C,P,E),Wm(null,d,C,!0,f,E);case 19:return Ry(f,d,E);case 22:return Sy(f,d,E)}throw Error(o(156,d.tag))};function ld(f,d){return Dh(f,d)}function tw(f,d,E,C){this.tag=f,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ds(f,d,E,C){return new tw(f,d,E,C)}function fg(f){return f=f.prototype,!(!f||!f.isReactComponent)}function Hy(f){if(typeof f=="function")return fg(f)?1:0;if(f!=null){if(f=f.$$typeof,f===S)return 11;if(f===w)return 14}return 2}function jo(f,d){var E=f.alternate;return E===null?(E=ds(f.tag,d,f.key,f.mode),E.elementType=f.elementType,E.type=f.type,E.stateNode=f.stateNode,E.alternate=f,f.alternate=E):(E.pendingProps=d,E.type=f.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=f.flags&14680064,E.childLanes=f.childLanes,E.lanes=f.lanes,E.child=f.child,E.memoizedProps=f.memoizedProps,E.memoizedState=f.memoizedState,E.updateQueue=f.updateQueue,d=f.dependencies,E.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},E.sibling=f.sibling,E.index=f.index,E.ref=f.ref,E}function ud(f,d,E,C,P,D){var Y=2;if(C=f,typeof f=="function")fg(f)&&(Y=1);else if(typeof f=="string")Y=5;else e:switch(f){case h:return Oa(E.children,P,D,d);case p:Y=8,P|=8;break;case m:return f=ds(12,E,d,P|2),f.elementType=m,f.lanes=D,f;case A:return f=ds(13,E,d,P),f.elementType=A,f.lanes=D,f;case _:return f=ds(19,E,d,P),f.elementType=_,f.lanes=D,f;case M:return af(E,P,D,d);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case v:Y=10;break e;case y:Y=9;break e;case S:Y=11;break e;case w:Y=14;break e;case x:Y=16,C=null;break e}throw Error(o(130,f==null?f:typeof f,""))}return d=ds(Y,E,d,P),d.elementType=f,d.type=C,d.lanes=D,d}function Oa(f,d,E,C){return f=ds(7,f,C,d),f.lanes=E,f}function af(f,d,E,C){return f=ds(22,f,C,d),f.elementType=M,f.lanes=E,f.stateNode={},f}function fi(f,d,E){return f=ds(6,f,null,d),f.lanes=E,f}function ps(f,d,E){return d=ds(4,f.children!==null?f.children:[],f.key,d),d.lanes=E,d.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},d}function nw(f,d,E,C,P){this.tag=d,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=yt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bh(0),this.expirationTimes=Bh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bh(0),this.identifierPrefix=C,this.onRecoverableError=P,He&&(this.mutableSourceEagerHydrationData=null)}function zy(f,d,E,C,P,D,Y,ce,be){return f=new nw(f,d,E,ce,be),d===1?(d=1,D===!0&&(d|=8)):d=0,D=ds(3,null,null,d),f.current=D,D.stateNode=f,D.memoizedState={element:C,isDehydrated:E,cache:null,transitions:null},Im(D),f}function lf(f){if(!f)return cs;f=f._reactInternals;e:{if(B(f)!==f||f.tag!==1)throw Error(o(170));var d=f;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Or(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(o(171))}if(f.tag===1){var E=f.type;if(Or(E))return Za(f,E,d)}return d}function hl(f){var d=f._reactInternals;if(d===void 0)throw typeof f.render=="function"?Error(o(188)):(f=Object.keys(f).join(","),Error(o(268,f)));return f=H(d),f===null?null:f.stateNode}function hg(f,d){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var E=f.retryLane;f.retryLane=E!==0&&E<d?E:d}}function cd(f,d){hg(f,d),(f=f.alternate)&&hg(f,d)}function rw(f){return f=H(f),f===null?null:f.stateNode}function Gy(){return null}return n.attemptContinuousHydration=function(f){if(f.tag===13){var d=li();hs(f,134217728,d),cd(f,134217728)}},n.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var d=li(),E=So(f);hs(f,E,d),cd(f,E)}},n.attemptSynchronousHydration=function(f){switch(f.tag){case 3:var d=f.stateNode;if(d.current.memoizedState.isDehydrated){var E=co(d.pendingLanes);E!==0&&(Mm(d,E|1),Pt(d,Fr()),!(Zt&6)&&(cl(),Ps()))}break;case 13:var C=li();Yi(function(){return hs(f,1,C)}),cd(f,1)}},n.batchedUpdates=function(f,d){var E=Zt;Zt|=1;try{return f(d)}finally{Zt=E,Zt===0&&(cl(),Fh&&Ps())}},n.createComponentSelector=function(f){return{$$typeof:Su,value:f}},n.createContainer=function(f,d,E,C,P,D,Y){return zy(f,d,!1,null,E,C,P,D,Y)},n.createHasPseudoClassSelector=function(f){return{$$typeof:Zc,value:f}},n.createHydrationContainer=function(f,d,E,C,P,D,Y,ce,be){return f=zy(E,C,!0,f,P,D,Y,ce,be),f.context=lf(null),E=f.current,C=li(),P=So(E),D=ii(C,P),D.callback=d??null,Is(E,D),f.current.lanes=P,ru(f,P,C),Pt(f,C),f},n.createPortal=function(f,d,E){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:C==null?null:""+C,children:f,containerInfo:d,implementation:E}},n.createRoleSelector=function(f){return{$$typeof:Ji,value:f}},n.createTestNameSelector=function(f){return{$$typeof:Au,value:f}},n.createTextSelector=function(f){return{$$typeof:ul,value:f}},n.deferredUpdates=function(f){var d=xn,E=Un.transition;try{return Un.transition=null,xn=16,f()}finally{xn=d,Un.transition=E}},n.discreteUpdates=function(f,d,E,C,P){var D=xn,Y=Un.transition;try{return Un.transition=null,xn=1,f(d,E,C,P)}finally{xn=D,Un.transition=Y,Zt===0&&cl()}},n.findAllNodes=eg,n.findBoundingRects=function(f,d){if(!U)throw Error(o(363));d=eg(f,d),f=[];for(var E=0;E<d.length;E++)f.push(Oe(d[E]));for(d=f.length-1;0<d;d--){E=f[d];for(var C=E.x,P=C+E.width,D=E.y,Y=D+E.height,ce=d-1;0<=ce;ce--)if(d!==ce){var be=f[ce],$e=be.x,pt=$e+be.width,jt=be.y,Ct=jt+be.height;if(C>=$e&&D>=jt&&P<=pt&&Y<=Ct){f.splice(d,1);break}else if(C!==$e||E.width!==be.width||Ct<D||jt>Y){if(!(D!==jt||E.height!==be.height||pt<C||$e>P)){$e>C&&(be.width+=$e-C,be.x=C),pt<P&&(be.width=P-$e),f.splice(d,1);break}}else{jt>D&&(be.height+=jt-D,be.y=D),Ct<Y&&(be.height=Y-jt),f.splice(d,1);break}}}return f},n.findHostInstance=hl,n.findHostInstanceWithNoPortals=function(f){return f=V(f),f=f!==null?j(f):null,f===null?null:f.stateNode},n.findHostInstanceWithWarning=function(f){return hl(f)},n.flushControlled=function(f){var d=Zt;Zt|=1;var E=Un.transition,C=xn;try{Un.transition=null,xn=1,f()}finally{xn=C,Un.transition=E,Zt=d,Zt===0&&(cl(),Ps())}},n.flushPassiveEffects=La,n.flushSync=Yi,n.focusWithin=function(f,d){if(!U)throw Error(o(363));for(f=Zh(f),d=Dy(f,d),d=Array.from(d),f=0;f<d.length;){var E=d[f++];if(!Be(E)){if(E.tag===5&&Je(E.stateNode))return!0;for(E=E.child;E!==null;)d.push(E),E=E.sibling}}return!1},n.getCurrentUpdatePriority=function(){return xn},n.getFindAllNodesFailureDescription=function(f,d){if(!U)throw Error(o(363));var E=0,C=[];f=[Zh(f),0];for(var P=0;P<f.length;){var D=f[P++],Y=f[P++],ce=d[Y];if((D.tag!==5||!Be(D))&&(qr(D,ce)&&(C.push(ef(ce)),Y++,Y>E&&(E=Y)),Y<d.length))for(D=D.child;D!==null;)f.push(D,Y),D=D.sibling}if(E<d.length){for(f=[];E<d.length;E++)f.push(ef(d[E]));return`findAllNodes was able to match part of the selector:
  `+(C.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},n.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return re(f.child.stateNode);default:return f.child.stateNode}},n.injectIntoDevTools=function(f){if(f={bundleType:f.bundleType,version:f.version,rendererPackageName:f.rendererPackageName,rendererConfig:f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:rw,findFiberByHostInstance:f.findFiberByHostInstance||Gy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(d.isDisabled||!d.supportsFiber)f=!0;else{try{Oh=d.inject(f),fo=d}catch{}f=!!d.checkDCE}}return f},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(f,d,E,C){if(!U)throw Error(o(363));f=eg(f,d);var P=et(f,E,C).disconnect;return{disconnect:function(){P()}}},n.registerMutableSourceForHydration=function(f,d){var E=d._getVersion;E=E(d._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[d,E]:f.mutableSourceEagerHydrationData.push(d,E)},n.runWithPriority=function(f,d){var E=xn;try{return xn=f,d()}finally{xn=E}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(f,d,E,C){var P=d.current,D=li(),Y=So(P);return E=lf(E),d.context===null?d.context=E:d.pendingContext=E,d=ii(D,Y),d.payload={element:f},C=C===void 0?null:C,C!==null&&(d.callback=C),Is(P,d),f=hs(P,Y,D),f!==null&&su(f,P,Y),Y},n};i5.exports=Mte;var Cte=i5.exports;const Tte=eS(Cte),G2={},Rte=t=>void Object.assign(G2,t);function Pte(t,e){function n(h,{args:p=[],attach:m,...v},y){let S=`${h[0].toUpperCase()}${h.slice(1)}`,A;if(h==="primitive"){if(v.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const _=v.object;A=$d(_,{type:h,root:y,attach:m,primitive:!0})}else{const _=G2[S];if(!_)throw new Error(`R3F: ${S} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(p))throw new Error("R3F: The args prop must be an array!");A=$d(new _(...p),{type:h,root:y,attach:m,memoizedProps:{args:p}})}return A.__r3f.attach===void 0&&(A.isBufferGeometry?A.__r3f.attach="geometry":A.isMaterial&&(A.__r3f.attach="material")),S!=="inject"&&GE(A,v),A}function r(h,p){let m=!1;if(p){var v,y;(v=p.__r3f)!=null&&v.attach?zE(h,p,p.__r3f.attach):p.isObject3D&&h.isObject3D&&(h.add(p),m=!0),m||(y=h.__r3f)==null||y.objects.push(p),p.__r3f||$d(p,{}),p.__r3f.parent=h,vC(p),Wd(p)}}function i(h,p,m){let v=!1;if(p){var y,S;if((y=p.__r3f)!=null&&y.attach)zE(h,p,p.__r3f.attach);else if(p.isObject3D&&h.isObject3D){p.parent=h,p.dispatchEvent({type:"added"}),h.dispatchEvent({type:"childadded",child:p});const A=h.children.filter(w=>w!==p),_=A.indexOf(m);h.children=[...A.slice(0,_),p,...A.slice(_)],v=!0}v||(S=h.__r3f)==null||S.objects.push(p),p.__r3f||$d(p,{}),p.__r3f.parent=h,vC(p),Wd(p)}}function s(h,p,m=!1){h&&[...h].forEach(v=>o(p,v,m))}function o(h,p,m){if(p){var v,y,S;if(p.__r3f&&(p.__r3f.parent=null),(v=h.__r3f)!=null&&v.objects&&(h.__r3f.objects=h.__r3f.objects.filter(M=>M!==p)),(y=p.__r3f)!=null&&y.attach)aB(h,p,p.__r3f.attach);else if(p.isObject3D&&h.isObject3D){var A;h.remove(p),(A=p.__r3f)!=null&&A.root&&kte(Kx(p),p)}const w=(S=p.__r3f)==null?void 0:S.primitive,x=!w&&(m===void 0?p.dispose!==null:m);if(!w){var _;s((_=p.__r3f)==null?void 0:_.objects,p,x),s(p.children,p,x)}if(delete p.__r3f,x&&p.dispose&&p.type!=="Scene"){const M=()=>{try{p.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?mC.unstable_scheduleCallback(mC.unstable_IdlePriority,M):M()}Wd(h)}}function a(h,p,m,v){var y;const S=(y=h.__r3f)==null?void 0:y.parent;if(!S)return;const A=n(p,m,h.__r3f.root);if(h.children){for(const _ of h.children)_.__r3f&&r(A,_);h.children=h.children.filter(_=>!_.__r3f)}h.__r3f.objects.forEach(_=>r(A,_)),h.__r3f.objects=[],h.__r3f.autoRemovedBeforeAppend||o(S,h),A.parent&&(A.__r3f.autoRemovedBeforeAppend=!0),r(S,A),A.raycast&&A.__r3f.eventCount&&Kx(A).getState().internal.interaction.push(A),[v,v.alternate].forEach(_=>{_!==null&&(_.stateNode=A,_.ref&&(typeof _.ref=="function"?_.ref(A):_.ref.current=A))})}const l=()=>{};return{reconciler:Tte({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(h,p)=>{if(!p)return;const m=h.getState().scene;m.__r3f&&(m.__r3f.root=h,r(m,p))},removeChildFromContainer:(h,p)=>{p&&o(h.getState().scene,p)},insertInContainerBefore:(h,p,m)=>{if(!p||!m)return;const v=h.getState().scene;v.__r3f&&i(v,p,m)},getRootHostContext:()=>null,getChildHostContext:h=>h,finalizeInitialChildren(h){var p;return!!((p=h==null?void 0:h.__r3f)!=null?p:{}).handlers},prepareUpdate(h,p,m,v){var y;if(((y=h==null?void 0:h.__r3f)!=null?y:{}).primitive&&v.object&&v.object!==h)return[!0];{const{args:A=[],children:_,...w}=v,{args:x=[],children:M,...R}=m;if(!Array.isArray(A))throw new Error("R3F: the args prop must be an array!");if(A.some((I,F)=>I!==x[F]))return[!0];const T=d5(h,w,R,!0);return T.changes.length?[!1,T]:null}},commitUpdate(h,[p,m],v,y,S,A){p?a(h,v,S,A):GE(h,m)},commitMount(h,p,m,v){var y;const S=(y=h.__r3f)!=null?y:{};h.raycast&&S.handlers&&S.eventCount&&Kx(h).getState().internal.interaction.push(h)},getPublicInstance:h=>h,prepareForCommit:()=>null,preparePortalMount:h=>$d(h.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(h){var p;const{attach:m,parent:v}=(p=h.__r3f)!=null?p:{};m&&v&&aB(v,h,m),h.isObject3D&&(h.visible=!1),Wd(h)},unhideInstance(h,p){var m;const{attach:v,parent:y}=(m=h.__r3f)!=null?m:{};v&&y&&zE(y,h,v),(h.isObject3D&&p.visible==null||p.visible)&&(h.visible=!0),Wd(h)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():bp.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Vn.fun(performance.now)?performance.now:Vn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Vn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Vn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:GE}}var rB,iB;const HE=t=>"colorSpace"in t||"outputColorSpace"in t,a5=()=>{var t;return(t=G2.ColorManagement)!=null?t:null},l5=t=>t&&t.isOrthographicCamera,Ite=t=>t&&t.hasOwnProperty("current"),bv=typeof window<"u"&&((rB=window.document)!=null&&rB.createElement||((iB=window.navigator)==null?void 0:iB.product)==="ReactNative")?oe.useLayoutEffect:oe.useEffect;function u5(t){const e=oe.useRef(t);return bv(()=>void(e.current=t),[t]),e}function Lte({set:t}){return bv(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class c5 extends oe.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}c5.getDerivedStateFromError=()=>({error:!0});const f5="__default",sB=new Map,Bte=t=>t&&!!t.memoized&&!!t.changes;function h5(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const Fg=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function Kx(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Vn={obj:t=>t===Object(t)&&!Vn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Vn.str(t)||Vn.num(t)||Vn.boo(t))return t===e;const s=Vn.obj(t);if(s&&r==="reference")return t===e;const o=Vn.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!Vn.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(Vn.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function Dte(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function Ote(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function $d(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function gC(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const oB=/-\d+$/;function zE(t,e,n){if(Vn.str(n)){if(oB.test(n)){const s=n.replace(oB,""),{target:o,key:a}=gC(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=gC(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function aB(t,e,n){var r,i;if(Vn.str(n)){const{target:s,key:o}=gC(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function d5(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},u=!1){const h=t.__r3f,p=Object.entries(i),m=[];if(u){const y=Object.keys(l);for(let S=0;S<y.length;S++)i.hasOwnProperty(y[S])||p.unshift([y[S],f5+"remove"])}p.forEach(([y,S])=>{var A;if((A=t.__r3f)!=null&&A.primitive&&y==="object"||Vn.equ(S,l[y]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(y))return m.push([y,S,!0,[]]);let _=[];y.includes("-")&&(_=y.split("-")),m.push([y,S,!1,_]);for(const w in i){const x=i[w];w.startsWith(`${y}-`)&&m.push([w,x,!1,w.split("-")])}});const v={...i};return h!=null&&h.memoizedProps&&h!=null&&h.memoizedProps.args&&(v.args=h.memoizedProps.args),h!=null&&h.memoizedProps&&h!=null&&h.memoizedProps.attach&&(v.attach=h.memoizedProps.attach),{memoized:v,changes:m}}const Fte=typeof process<"u"&&!1;function GE(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:a}=Bte(e)?e:d5(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=o);for(let m=0;m<a.length;m++){let[v,y,S,A]=a[m];if(HE(t)){const M="srgb",R="srgb-linear";v==="encoding"?(v="colorSpace",y=y===3001?M:R):v==="outputEncoding"&&(v="outputColorSpace",y=y===3001?M:R)}let _=t,w=_[v];if(A.length&&(w=A.reduce((x,M)=>x[M],t),!(w&&w.set))){const[x,...M]=A.reverse();_=M.reverse().reduce((R,T)=>R[T],t),v=x}if(y===f5+"remove")if(_.constructor){let x=sB.get(_.constructor);x||(x=new _.constructor,sB.set(_.constructor,x)),y=x[v]}else y=0;if(S&&r)y?r.handlers[v]=y:delete r.handlers[v],r.eventCount=Object.keys(r.handlers).length;else if(w&&w.set&&(w.copy||w instanceof Qf)){if(Array.isArray(y))w.fromArray?w.fromArray(y):w.set(...y);else if(w.copy&&y&&y.constructor&&(Fte?w.constructor.name===y.constructor.name:w.constructor===y.constructor))w.copy(y);else if(y!==void 0){var u;const x=(u=w)==null?void 0:u.isColor;!x&&w.setScalar?w.setScalar(y):w instanceof Qf&&y instanceof Qf?w.mask=y.mask:w.set(y),!a5()&&s&&!s.linear&&x&&w.convertSRGBToLinear()}}else{var h;if(_[v]=y,(h=_[v])!=null&&h.isTexture&&_[v].format===rs&&_[v].type===Wa&&s){const x=_[v];HE(x)&&HE(s.gl)?x.colorSpace=s.gl.outputColorSpace:x.encoding=s.gl.outputEncoding}}Wd(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const m=Kx(t).getState().internal,v=m.interaction.indexOf(t);v>-1&&m.interaction.splice(v,1),r.eventCount&&m.interaction.push(t)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(n=t.__r3f)!=null&&n.parent&&vC(t),t}function Wd(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function vC(t){t.onUpdate==null||t.onUpdate(t)}function Nte(t,e){t.manual||(l5(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function hx(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function Ute(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return bp.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return bp.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return bp.ContinuousEventPriority;default:return bp.DefaultEventPriority}}function p5(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function kte(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{p5(n.capturedMap,e,r,i)})}function Hte(t){function e(l){const{internal:u}=t.getState(),h=l.offsetX-u.initialClick[0],p=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(h*h+p*p))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(h=>{var p;return(p=u.__r3f)==null?void 0:p.handlers["onPointer"+h]}))}function r(l,u){const h=t.getState(),p=new Set,m=[],v=u?u(h.internal.interaction):h.internal.interaction;for(let _=0;_<v.length;_++){const w=Fg(v[_]);w&&(w.raycaster.camera=void 0)}h.previousRoot||h.events.compute==null||h.events.compute(l,h);function y(_){const w=Fg(_);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var x;w.events.compute==null||w.events.compute(l,w,(x=w.previousRoot)==null?void 0:x.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(_,!0):[]}let S=v.flatMap(y).sort((_,w)=>{const x=Fg(_.object),M=Fg(w.object);return!x||!M?_.distance-w.distance:M.events.priority-x.events.priority||_.distance-w.distance}).filter(_=>{const w=hx(_);return p.has(w)?!1:(p.add(w),!0)});h.events.filter&&(S=h.events.filter(S,h));for(const _ of S){let w=_.object;for(;w;){var A;(A=w.__r3f)!=null&&A.eventCount&&m.push({..._,eventObject:w}),w=w.parent}}if("pointerId"in l&&h.internal.capturedMap.has(l.pointerId))for(let _ of h.internal.capturedMap.get(l.pointerId).values())p.has(hx(_.intersection))||m.push(_.intersection);return m}function i(l,u,h,p){const m=t.getState();if(l.length){const v={stopped:!1};for(const y of l){const S=Fg(y.object)||m,{raycaster:A,pointer:_,camera:w,internal:x}=S,M=new J(_.x,_.y,0).unproject(w),R=O=>{var V,H;return(V=(H=x.capturedMap.get(O))==null?void 0:H.has(y.eventObject))!=null?V:!1},T=O=>{const V={intersection:y,target:u.target};x.capturedMap.has(O)?x.capturedMap.get(O).set(y.eventObject,V):x.capturedMap.set(O,new Map([[y.eventObject,V]])),u.target.setPointerCapture(O)},I=O=>{const V=x.capturedMap.get(O);V&&p5(x.capturedMap,y.eventObject,V,O)};let F={};for(let O in u){let V=u[O];typeof V!="function"&&(F[O]=V)}let B={...y,...F,pointer:_,intersections:l,stopped:v.stopped,delta:h,unprojectedPoint:M,ray:A.ray,camera:w,stopPropagation(){const O="pointerId"in u&&x.capturedMap.get(u.pointerId);if((!O||O.has(y.eventObject))&&(B.stopped=v.stopped=!0,x.hovered.size&&Array.from(x.hovered.values()).find(V=>V.eventObject===y.eventObject))){const V=l.slice(0,l.indexOf(y));s([...V,y])}},target:{hasPointerCapture:R,setPointerCapture:T,releasePointerCapture:I},currentTarget:{hasPointerCapture:R,setPointerCapture:T,releasePointerCapture:I},nativeEvent:u};if(p(B),v.stopped===!0)break}}return l}function s(l){const{internal:u}=t.getState();for(const h of u.hovered.values())if(!l.length||!l.find(p=>p.object===h.object&&p.index===h.index&&p.instanceId===h.instanceId)){const m=h.eventObject.__r3f,v=m==null?void 0:m.handlers;if(u.hovered.delete(hx(h)),m!=null&&m.eventCount){const y={...h,intersections:l};v.onPointerOut==null||v.onPointerOut(y),v.onPointerLeave==null||v.onPointerLeave(y)}}}function o(l,u){for(let h=0;h<u.length;h++){const p=u[h].__r3f;p==null||p.handlers.onPointerMissed==null||p.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:h}=t.getState();"pointerId"in u&&h.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{h.capturedMap.has(u.pointerId)&&(h.capturedMap.delete(u.pointerId),s([]))})}}return function(h){const{onPointerMissed:p,internal:m}=t.getState();m.lastEvent.current=h;const v=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",A=r(h,v?n:void 0),_=y?e(h):0;l==="onPointerDown"&&(m.initialClick=[h.offsetX,h.offsetY],m.initialHits=A.map(x=>x.eventObject)),y&&!A.length&&_<=2&&(o(h,m.interaction),p&&p(h)),v&&s(A);function w(x){const M=x.eventObject,R=M.__r3f,T=R==null?void 0:R.handlers;if(R!=null&&R.eventCount)if(v){if(T.onPointerOver||T.onPointerEnter||T.onPointerOut||T.onPointerLeave){const I=hx(x),F=m.hovered.get(I);F?F.stopped&&x.stopPropagation():(m.hovered.set(I,x),T.onPointerOver==null||T.onPointerOver(x),T.onPointerEnter==null||T.onPointerEnter(x))}T.onPointerMove==null||T.onPointerMove(x)}else{const I=T[l];I?(!y||m.initialHits.includes(M))&&(o(h,m.interaction.filter(F=>!m.initialHits.includes(F))),I(x)):y&&m.initialHits.includes(M)&&o(h,m.interaction.filter(F=>!m.initialHits.includes(F)))}}i(A,h,_,w)}}return{handlePointer:a}}const m5=t=>!!(t!=null&&t.render),g5=oe.createContext(null),zte=(t,e)=>{const n=Ste((a,l)=>{const u=new J,h=new J,p=new J;function m(_=l().camera,w=h,x=l().size){const{width:M,height:R,top:T,left:I}=x,F=M/R;w.isVector3?p.copy(w):p.set(...w);const B=_.getWorldPosition(u).distanceTo(p);if(l5(_))return{width:M/_.zoom,height:R/_.zoom,top:T,left:I,factor:1,distance:B,aspect:F};{const O=_.fov*Math.PI/180,V=2*Math.tan(O/2)*B,H=V*(M/R);return{width:H,height:V,top:T,left:I,factor:M/H,distance:B,aspect:F}}}let v;const y=_=>a(w=>({performance:{...w.performance,current:_}})),S=new Te;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(_=1)=>t(l(),_),advance:(_,w)=>e(_,w,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new U2,pointer:S,mouse:S,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const _=l();v&&clearTimeout(v),_.performance.current!==_.performance.min&&y(_.performance.min),v=setTimeout(()=>y(l().performance.max),_.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:m},setEvents:_=>a(w=>({...w,events:{...w.events,..._}})),setSize:(_,w,x,M,R)=>{const T=l().camera,I={width:_,height:w,top:M||0,left:R||0,updateStyle:x};a(F=>({size:I,viewport:{...F.viewport,...m(T,h,I)}}))},setDpr:_=>a(w=>{const x=h5(_);return{viewport:{...w.viewport,dpr:x,initialDpr:w.viewport.initialDpr||x}}}),setFrameloop:(_="always")=>{const w=l().clock;w.stop(),w.elapsedTime=0,_!=="never"&&(w.start(),w.elapsedTime=0),a(()=>({frameloop:_}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:oe.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(_,w,x)=>{const M=l().internal;return M.priority=M.priority+(w>0?1:0),M.subscribers.push({ref:_,priority:w,store:x}),M.subscribers=M.subscribers.sort((R,T)=>R.priority-T.priority),()=>{const R=l().internal;R!=null&&R.subscribers&&(R.priority=R.priority-(w>0?1:0),R.subscribers=R.subscribers.filter(T=>T.ref!==_))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:u,gl:h,set:p}=n.getState();if(l.width!==i.width||l.height!==i.height||u.dpr!==s){var m;i=l,s=u.dpr,Nte(a,l),h.setPixelRatio(u.dpr);const v=(m=l.updateStyle)!=null?m:typeof HTMLCanvasElement<"u"&&h.domElement instanceof HTMLCanvasElement;h.setSize(l.width,l.height,v)}a!==o&&(o=a,p(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let dx,Gte=new Set,$te=new Set,Wte=new Set;function $E(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function Ng(t,e){switch(t){case"before":return $E(Gte,e);case"after":return $E($te,e);case"tail":return $E(Wte,e)}}let WE,VE;function jE(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),WE=e.internal.subscribers,dx=0;dx<WE.length;dx++)VE=WE[dx],VE.ref.current(VE.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Vte(t){let e=!1,n=!1,r,i,s;function o(u){i=requestAnimationFrame(o),e=!0,r=0,Ng("before",u),n=!0;for(const p of t.values()){var h;s=p.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((h=s.gl.xr)!=null&&h.isPresenting)&&(r+=jE(u,s))}if(n=!1,Ng("after",u),r===0)return Ng("tail",u),e=!1,cancelAnimationFrame(i)}function a(u,h=1){var p;if(!u)return t.forEach(m=>a(m.store.getState(),h));(p=u.gl.xr)!=null&&p.isPresenting||!u.internal.active||u.frameloop==="never"||(h>1?u.internal.frames=Math.min(60,u.internal.frames+h):n?u.internal.frames=2:u.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(u,h=!0,p,m){if(h&&Ng("before",u),p)jE(u,p,m);else for(const v of t.values())jE(u,v.store.getState());h&&Ng("after",u)}return{loop:o,invalidate:a,advance:l}}function v5(){const t=oe.useContext(g5);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function El(t=n=>n,e){return v5()(t,e)}function jte(t,e=0){const n=v5(),r=n.getState().internal.subscribe,i=u5(t);return bv(()=>r(i,e,n),[e,r,n]),null}const lB=new WeakMap;function y5(t,e){return function(n,...r){let i=lB.get(n);return i||(i=new n,lB.set(n,i)),t&&t(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,Dte(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function hm(t,e,n,r){const i=Array.isArray(e)?e:[e],s=wte(y5(n,r),[t,...i],{equal:Vn.equ});return Array.isArray(e)?s:s[0]}hm.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return Ete(y5(n),[t,...r])};hm.clear=function(t,e){const n=Array.isArray(e)?e:[e];return bte([t,...n])};const em=new Map,{invalidate:uB,advance:cB}=Vte(em),{reconciler:N1,applyProps:Ud}=Pte(em,Ute),kd={objects:"shallow",strict:!1},Xte=(t,e)=>{const n=typeof t=="function"?t(e):t;return m5(n)?n:new m2({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function Jte(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=n}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:o}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function Kte(t){const e=em.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||zte(uB,cB),o=n||N1.createContainer(s,bp.ConcurrentRoot,null,!1,null,"",i,null);e||em.set(t,{fiber:o,store:s});let a,l=!1,u;return{configure(h={}){let{gl:p,size:m,scene:v,events:y,onCreated:S,shadows:A=!1,linear:_=!1,flat:w=!1,legacy:x=!1,orthographic:M=!1,frameloop:R="always",dpr:T=[1,2],performance:I,raycaster:F,camera:B,onPointerMissed:O}=h,V=s.getState(),H=V.gl;V.gl||V.set({gl:H=Xte(p,t)});let ne=V.raycaster;ne||V.set({raycaster:ne=new Zk});const{params:j,...q}=F||{};if(Vn.equ(q,ne,kd)||Ud(ne,{...q}),Vn.equ(j,ne.params,kd)||Ud(ne,{params:{...ne.params,...j}}),!V.camera||V.camera===u&&!Vn.equ(u,B,kd)){u=B;const te=B instanceof mv,fe=te?B:M?new kl(0,0,0,0,.1,1e3):new Ar(75,0,.1,1e3);te||(fe.position.z=5,B&&(Ud(fe,B),("aspect"in B||"left"in B||"right"in B||"bottom"in B||"top"in B)&&(fe.manual=!0,fe.updateProjectionMatrix())),!V.camera&&!(B!=null&&B.rotation)&&fe.lookAt(0,0,0)),V.set({camera:fe}),ne.camera=fe}if(!V.scene){let te;v!=null&&v.isScene?te=v:(te=new g2,v&&Ud(te,v)),V.set({scene:$d(te)})}if(!V.xr){var re;const te=(ue,_e)=>{const Ne=s.getState();Ne.frameloop!=="never"&&cB(ue,!0,Ne,_e)},fe=()=>{const ue=s.getState();ue.gl.xr.enabled=ue.gl.xr.isPresenting,ue.gl.xr.setAnimationLoop(ue.gl.xr.isPresenting?te:null),ue.gl.xr.isPresenting||uB(ue)},ye={connect(){const ue=s.getState().gl;ue.xr.addEventListener("sessionstart",fe),ue.xr.addEventListener("sessionend",fe)},disconnect(){const ue=s.getState().gl;ue.xr.removeEventListener("sessionstart",fe),ue.xr.removeEventListener("sessionend",fe)}};typeof((re=H.xr)==null?void 0:re.addEventListener)=="function"&&ye.connect(),V.set({xr:ye})}if(H.shadowMap){const te=H.shadowMap.enabled,fe=H.shadowMap.type;if(H.shadowMap.enabled=!!A,Vn.boo(A))H.shadowMap.type=u0;else if(Vn.str(A)){var he;const ye={basic:KU,percentage:kS,soft:u0,variance:ta};H.shadowMap.type=(he=ye[A])!=null?he:u0}else Vn.obj(A)&&Object.assign(H.shadowMap,A);(te!==H.shadowMap.enabled||fe!==H.shadowMap.type)&&(H.shadowMap.needsUpdate=!0)}const z=a5();z&&("enabled"in z?z.enabled=!x:"legacyMode"in z&&(z.legacyMode=x)),l||Ud(H,{outputEncoding:_?3e3:3001,toneMapping:w?$a:JT}),V.legacy!==x&&V.set(()=>({legacy:x})),V.linear!==_&&V.set(()=>({linear:_})),V.flat!==w&&V.set(()=>({flat:w})),p&&!Vn.fun(p)&&!m5(p)&&!Vn.equ(p,H,kd)&&Ud(H,p),y&&!V.events.handlers&&V.set({events:y(s)});const ee=Jte(t,m);return Vn.equ(ee,V.size,kd)||V.setSize(ee.width,ee.height,ee.updateStyle,ee.top,ee.left),T&&V.viewport.dpr!==h5(T)&&V.setDpr(T),V.frameloop!==R&&V.setFrameloop(R),V.onPointerMissed||V.set({onPointerMissed:O}),I&&!Vn.equ(I,V.performance,kd)&&V.set(te=>({performance:{...te.performance,...I}})),a=S,l=!0,this},render(h){return l||this.configure(),N1.updateContainer(G.jsx(Yte,{store:s,children:h,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){_5(t)}}}function Yte({store:t,children:e,onCreated:n,rootElement:r}){return bv(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),G.jsx(g5.Provider,{value:t,children:e})}function _5(t,e){const n=em.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),N1.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Ote(i),em.delete(t),e&&e(t)}catch{}},500)})}}N1.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:oe.version});const XE={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function qte(t){const{handlePointer:e}=Hte(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(XE).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,u]=XE[o];n.addEventListener(l,a,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=XE[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}function fB(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function Qte({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=oe.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=oe.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,u=t?typeof t=="number"?t:t.resize:null,h=oe.useRef(!1);oe.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[p,m,v]=oe.useMemo(()=>{const _=()=>{if(!a.current.element)return;const{left:w,top:x,width:M,height:R,bottom:T,right:I,x:F,y:B}=a.current.element.getBoundingClientRect(),O={left:w,top:x,width:M,height:R,bottom:T,right:I,x:F,y:B};a.current.element instanceof HTMLElement&&r&&(O.height=a.current.element.offsetHeight,O.width=a.current.element.offsetWidth),Object.freeze(O),h.current&&!nne(a.current.lastBounds,O)&&o(a.current.lastBounds=O)};return[_,u?fB(_,u):_,l?fB(_,l):_]},[o,r,l,u]);function y(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",v,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function S(){a.current.element&&(a.current.resizeObserver=new i(v),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(_=>_.addEventListener("scroll",v,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{v()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const A=_=>{!_||_===a.current.element||(y(),a.current.element=_,a.current.scrollContainers=x5(_),S())};return ene(v,!!e),Zte(m),oe.useEffect(()=>{y(),S()},[e,v,m]),oe.useEffect(()=>y,[]),[A,s,p]}function Zte(t){oe.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function ene(t,e){oe.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function x5(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...x5(t.parentElement)]}const tne=["x","y","top","bottom","left","right","width","height"],nne=(t,e)=>tne.every(n=>t[n]===e[n]);var rne=Object.defineProperty,ine=Object.defineProperties,sne=Object.getOwnPropertyDescriptors,hB=Object.getOwnPropertySymbols,one=Object.prototype.hasOwnProperty,ane=Object.prototype.propertyIsEnumerable,dB=(t,e,n)=>e in t?rne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pB=(t,e)=>{for(var n in e||(e={}))one.call(e,n)&&dB(t,n,e[n]);if(hB)for(var n of hB(e))ane.call(e,n)&&dB(t,n,e[n]);return t},lne=(t,e)=>ine(t,sne(e)),mB,gB;typeof window<"u"&&((mB=window.document)!=null&&mB.createElement||((gB=window.navigator)==null?void 0:gB.product)==="ReactNative")?oe.useLayoutEffect:oe.useEffect;function S5(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=S5(r,e,n);if(i)return i;r=e?null:r.sibling}}function A5(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const vB=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=vB;return}return vB.apply(this,arguments)};const $2=A5(oe.createContext(null));class w5 extends oe.Component{render(){return oe.createElement($2.Provider,{value:this._reactInternals},this.props.children)}}function une(){const t=oe.useContext($2);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=oe.useId();return oe.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=S5(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function cne(){const t=une(),[e]=oe.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==$2&&!e.has(i)&&e.set(i,oe.useContext(A5(i)))}n=n.return}return e}function fne(){const t=cne();return oe.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>oe.createElement(e,null,oe.createElement(n.Provider,lne(pB({},r),{value:t.get(n)}))),e=>oe.createElement(w5,pB({},e))),[t])}const hne=oe.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=qte,eventSource:a,eventPrefix:l,shadows:u,linear:h,flat:p,legacy:m,orthographic:v,frameloop:y,dpr:S,performance:A,raycaster:_,camera:w,scene:x,onPointerMissed:M,onCreated:R,...T},I){oe.useMemo(()=>Rte(yte),[]);const F=fne(),[B,O]=Qte({scroll:!0,debounce:{scroll:50,resize:0},...r}),V=oe.useRef(null),H=oe.useRef(null);oe.useImperativeHandle(I,()=>V.current);const ne=u5(M),[j,q]=oe.useState(!1),[re,he]=oe.useState(!1);if(j)throw j;if(re)throw re;const z=oe.useRef(null);bv(()=>{const te=V.current;O.width>0&&O.height>0&&te&&(z.current||(z.current=Kte(te)),z.current.configure({gl:s,events:o,shadows:u,linear:h,flat:p,legacy:m,orthographic:v,frameloop:y,dpr:S,performance:A,raycaster:_,camera:w,scene:x,size:O,onPointerMissed:(...fe)=>ne.current==null?void 0:ne.current(...fe),onCreated:fe=>{fe.events.connect==null||fe.events.connect(a?Ite(a)?a.current:a:H.current),l&&fe.setEvents({compute:(ye,ue)=>{const _e=ye[l+"X"],Ne=ye[l+"Y"];ue.pointer.set(_e/ue.size.width*2-1,-(Ne/ue.size.height)*2+1),ue.raycaster.setFromCamera(ue.pointer,ue.camera)}}),R==null||R(fe)}}),z.current.render(G.jsx(F,{children:G.jsx(c5,{set:he,children:G.jsx(oe.Suspense,{fallback:G.jsx(Lte,{set:q}),children:e??null})})})))}),oe.useEffect(()=>{const te=V.current;if(te)return()=>_5(te)},[]);const ee=a?"none":"auto";return G.jsx("div",{ref:H,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:ee,...i},...T,children:G.jsx("div",{ref:B,style:{width:"100%",height:"100%"},children:G.jsx("canvas",{ref:V,style:{display:"block"},children:n})})})}),dne=oe.forwardRef(function(e,n){return G.jsx(w5,{children:G.jsx(hne,{...e,ref:n})})});function yC(){return yC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yC.apply(null,arguments)}const pne=(()=>parseInt(fv.replace(/\D+/g,"")))();function yB(t,e){if(e===U4)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===B1||e===r2){let n=t.getIndex();if(n===null){const o=[],a=t.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);t.setIndex(o),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,i=[];if(n)if(e===B1)for(let o=1;o<=r;o++)i.push(n.getX(0)),i.push(n.getX(o)),i.push(n.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(n.getX(o)),i.push(n.getX(o+1)),i.push(n.getX(o+2))):(i.push(n.getX(o+2)),i.push(n.getX(o+1)),i.push(n.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}var mne=Object.defineProperty,gne=(t,e,n)=>e in t?mne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vne=(t,e,n)=>(gne(t,typeof e!="symbol"?e+"":e,n),n);class yne{constructor(){vne(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}var _ne=Object.defineProperty,xne=(t,e,n)=>e in t?_ne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bt=(t,e,n)=>(xne(t,typeof e!="symbol"?e+"":e,n),n);const px=new gh,_B=new Rl,Sne=Math.cos(70*(Math.PI/180)),xB=(t,e)=>(t%e+e)%e;let Ane=class extends yne{constructor(e,n){super(),Bt(this,"object"),Bt(this,"domElement"),Bt(this,"enabled",!0),Bt(this,"target",new J),Bt(this,"minDistance",0),Bt(this,"maxDistance",1/0),Bt(this,"minZoom",0),Bt(this,"maxZoom",1/0),Bt(this,"minPolarAngle",0),Bt(this,"maxPolarAngle",Math.PI),Bt(this,"minAzimuthAngle",-1/0),Bt(this,"maxAzimuthAngle",1/0),Bt(this,"enableDamping",!1),Bt(this,"dampingFactor",.05),Bt(this,"enableZoom",!0),Bt(this,"zoomSpeed",1),Bt(this,"enableRotate",!0),Bt(this,"rotateSpeed",1),Bt(this,"enablePan",!0),Bt(this,"panSpeed",1),Bt(this,"screenSpacePanning",!0),Bt(this,"keyPanSpeed",7),Bt(this,"zoomToCursor",!1),Bt(this,"autoRotate",!1),Bt(this,"autoRotateSpeed",2),Bt(this,"reverseOrbit",!1),Bt(this,"reverseHorizontalOrbit",!1),Bt(this,"reverseVerticalOrbit",!1),Bt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Bt(this,"mouseButtons",{LEFT:Cf.ROTATE,MIDDLE:Cf.DOLLY,RIGHT:Cf.PAN}),Bt(this,"touches",{ONE:Tf.ROTATE,TWO:Tf.DOLLY_PAN}),Bt(this,"target0"),Bt(this,"position0"),Bt(this,"zoom0"),Bt(this,"_domElementKeyEvents",null),Bt(this,"getPolarAngle"),Bt(this,"getAzimuthalAngle"),Bt(this,"setPolarAngle"),Bt(this,"setAzimuthalAngle"),Bt(this,"getDistance"),Bt(this,"getZoomScale"),Bt(this,"listenToKeyEvents"),Bt(this,"stopListenToKeyEvents"),Bt(this,"saveState"),Bt(this,"reset"),Bt(this,"update"),Bt(this,"connect"),Bt(this,"dispose"),Bt(this,"dollyIn"),Bt(this,"dollyOut"),Bt(this,"getScale"),Bt(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>h.phi,this.getAzimuthalAngle=()=>h.theta,this.setPolarAngle=ie=>{let Pe=xB(ie,2*Math.PI),st=h.phi;st<0&&(st+=2*Math.PI),Pe<0&&(Pe+=2*Math.PI);let rt=Math.abs(Pe-st);2*Math.PI-rt<rt&&(Pe<st?Pe+=2*Math.PI:st+=2*Math.PI),p.phi=Pe-st,r.update()},this.setAzimuthalAngle=ie=>{let Pe=xB(ie,2*Math.PI),st=h.theta;st<0&&(st+=2*Math.PI),Pe<0&&(Pe+=2*Math.PI);let rt=Math.abs(Pe-st);2*Math.PI-rt<rt&&(Pe<st?Pe+=2*Math.PI:st+=2*Math.PI),p.theta=Pe-st,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=ie=>{ie.addEventListener("keydown",_t),this._domElementKeyEvents=ie},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",_t),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const ie=new J,Pe=new J(0,1,0),st=new _i().setFromUnitVectors(e.up,Pe),rt=st.clone().invert(),ke=new J,se=new _i,je=2*Math.PI;return function(){const Tt=r.object.position;st.setFromUnitVectors(e.up,Pe),rt.copy(st).invert(),ie.copy(Tt).sub(r.target),ie.applyQuaternion(st),h.setFromVector3(ie),r.autoRotate&&l===a.NONE&&j(H()),r.enableDamping?(h.theta+=p.theta*r.dampingFactor,h.phi+=p.phi*r.dampingFactor):(h.theta+=p.theta,h.phi+=p.phi);let gt=r.minAzimuthAngle,ln=r.maxAzimuthAngle;isFinite(gt)&&isFinite(ln)&&(gt<-Math.PI?gt+=je:gt>Math.PI&&(gt-=je),ln<-Math.PI?ln+=je:ln>Math.PI&&(ln-=je),gt<=ln?h.theta=Math.max(gt,Math.min(ln,h.theta)):h.theta=h.theta>(gt+ln)/2?Math.max(gt,h.theta):Math.min(ln,h.theta)),h.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,h.phi)),h.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(v,r.dampingFactor):r.target.add(v),r.zoomToCursor&&B||r.object.isOrthographicCamera?h.radius=ue(h.radius):h.radius=ue(h.radius*m),ie.setFromSpherical(h),ie.applyQuaternion(rt),Tt.copy(r.target).add(ie),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(p.theta*=1-r.dampingFactor,p.phi*=1-r.dampingFactor,v.multiplyScalar(1-r.dampingFactor)):(p.set(0,0,0),v.set(0,0,0));let hn=!1;if(r.zoomToCursor&&B){let Rn=null;if(r.object instanceof Ar&&r.object.isPerspectiveCamera){const kn=ie.length();Rn=ue(kn*m);const vn=kn-Rn;r.object.position.addScaledVector(I,vn),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const kn=new J(F.x,F.y,0);kn.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/m)),r.object.updateProjectionMatrix(),hn=!0;const vn=new J(F.x,F.y,0);vn.unproject(r.object),r.object.position.sub(vn).add(kn),r.object.updateMatrixWorld(),Rn=ie.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Rn!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Rn).add(r.object.position):(px.origin.copy(r.object.position),px.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(px.direction))<Sne?e.lookAt(r.target):(_B.setFromNormalAndCoplanarPoint(r.object.up,r.target),px.intersectPlane(_B,r.target))))}else r.object instanceof kl&&r.object.isOrthographicCamera&&(hn=m!==1,hn&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/m)),r.object.updateProjectionMatrix()));return m=1,B=!1,hn||ke.distanceToSquared(r.object.position)>u||8*(1-se.dot(r.object.quaternion))>u?(r.dispatchEvent(i),ke.copy(r.object.position),se.copy(r.object.quaternion),hn=!1,!0):!1}})(),this.connect=ie=>{r.domElement=ie,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",an),r.domElement.addEventListener("pointerdown",Oe),r.domElement.addEventListener("pointercancel",Be),r.domElement.addEventListener("wheel",et)},this.dispose=()=>{var ie,Pe,st,rt,ke,se;r.domElement&&(r.domElement.style.touchAction="auto"),(ie=r.domElement)==null||ie.removeEventListener("contextmenu",an),(Pe=r.domElement)==null||Pe.removeEventListener("pointerdown",Oe),(st=r.domElement)==null||st.removeEventListener("pointercancel",Be),(rt=r.domElement)==null||rt.removeEventListener("wheel",et),(ke=r.domElement)==null||ke.ownerDocument.removeEventListener("pointermove",De),(se=r.domElement)==null||se.ownerDocument.removeEventListener("pointerup",Be),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",_t)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const u=1e-6,h=new pC,p=new pC;let m=1;const v=new J,y=new Te,S=new Te,A=new Te,_=new Te,w=new Te,x=new Te,M=new Te,R=new Te,T=new Te,I=new J,F=new Te;let B=!1;const O=[],V={};function H(){return 2*Math.PI/60/60*r.autoRotateSpeed}function ne(){return Math.pow(.95,r.zoomSpeed)}function j(ie){r.reverseOrbit||r.reverseHorizontalOrbit?p.theta+=ie:p.theta-=ie}function q(ie){r.reverseOrbit||r.reverseVerticalOrbit?p.phi+=ie:p.phi-=ie}const re=(()=>{const ie=new J;return function(st,rt){ie.setFromMatrixColumn(rt,0),ie.multiplyScalar(-st),v.add(ie)}})(),he=(()=>{const ie=new J;return function(st,rt){r.screenSpacePanning===!0?ie.setFromMatrixColumn(rt,1):(ie.setFromMatrixColumn(rt,0),ie.crossVectors(r.object.up,ie)),ie.multiplyScalar(st),v.add(ie)}})(),z=(()=>{const ie=new J;return function(st,rt){const ke=r.domElement;if(ke&&r.object instanceof Ar&&r.object.isPerspectiveCamera){const se=r.object.position;ie.copy(se).sub(r.target);let je=ie.length();je*=Math.tan(r.object.fov/2*Math.PI/180),re(2*st*je/ke.clientHeight,r.object.matrix),he(2*rt*je/ke.clientHeight,r.object.matrix)}else ke&&r.object instanceof kl&&r.object.isOrthographicCamera?(re(st*(r.object.right-r.object.left)/r.object.zoom/ke.clientWidth,r.object.matrix),he(rt*(r.object.top-r.object.bottom)/r.object.zoom/ke.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function ee(ie){r.object instanceof Ar&&r.object.isPerspectiveCamera||r.object instanceof kl&&r.object.isOrthographicCamera?m=ie:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function te(ie){ee(m/ie)}function fe(ie){ee(m*ie)}function ye(ie){if(!r.zoomToCursor||!r.domElement)return;B=!0;const Pe=r.domElement.getBoundingClientRect(),st=ie.clientX-Pe.left,rt=ie.clientY-Pe.top,ke=Pe.width,se=Pe.height;F.x=st/ke*2-1,F.y=-(rt/se)*2+1,I.set(F.x,F.y,1).unproject(r.object).sub(r.object.position).normalize()}function ue(ie){return Math.max(r.minDistance,Math.min(r.maxDistance,ie))}function _e(ie){y.set(ie.clientX,ie.clientY)}function Ne(ie){ye(ie),M.set(ie.clientX,ie.clientY)}function Ve(ie){_.set(ie.clientX,ie.clientY)}function Xe(ie){S.set(ie.clientX,ie.clientY),A.subVectors(S,y).multiplyScalar(r.rotateSpeed);const Pe=r.domElement;Pe&&(j(2*Math.PI*A.x/Pe.clientHeight),q(2*Math.PI*A.y/Pe.clientHeight)),y.copy(S),r.update()}function vt(ie){R.set(ie.clientX,ie.clientY),T.subVectors(R,M),T.y>0?te(ne()):T.y<0&&fe(ne()),M.copy(R),r.update()}function yt(ie){w.set(ie.clientX,ie.clientY),x.subVectors(w,_).multiplyScalar(r.panSpeed),z(x.x,x.y),_.copy(w),r.update()}function ut(ie){ye(ie),ie.deltaY<0?fe(ne()):ie.deltaY>0&&te(ne()),r.update()}function ht(ie){let Pe=!1;switch(ie.code){case r.keys.UP:z(0,r.keyPanSpeed),Pe=!0;break;case r.keys.BOTTOM:z(0,-r.keyPanSpeed),Pe=!0;break;case r.keys.LEFT:z(r.keyPanSpeed,0),Pe=!0;break;case r.keys.RIGHT:z(-r.keyPanSpeed,0),Pe=!0;break}Pe&&(ie.preventDefault(),r.update())}function Z(){if(O.length==1)y.set(O[0].pageX,O[0].pageY);else{const ie=.5*(O[0].pageX+O[1].pageX),Pe=.5*(O[0].pageY+O[1].pageY);y.set(ie,Pe)}}function He(){if(O.length==1)_.set(O[0].pageX,O[0].pageY);else{const ie=.5*(O[0].pageX+O[1].pageX),Pe=.5*(O[0].pageY+O[1].pageY);_.set(ie,Pe)}}function Me(){const ie=O[0].pageX-O[1].pageX,Pe=O[0].pageY-O[1].pageY,st=Math.sqrt(ie*ie+Pe*Pe);M.set(0,st)}function Ge(){r.enableZoom&&Me(),r.enablePan&&He()}function Re(){r.enableZoom&&Me(),r.enableRotate&&Z()}function ct(ie){if(O.length==1)S.set(ie.pageX,ie.pageY);else{const st=ot(ie),rt=.5*(ie.pageX+st.x),ke=.5*(ie.pageY+st.y);S.set(rt,ke)}A.subVectors(S,y).multiplyScalar(r.rotateSpeed);const Pe=r.domElement;Pe&&(j(2*Math.PI*A.x/Pe.clientHeight),q(2*Math.PI*A.y/Pe.clientHeight)),y.copy(S)}function Qe(ie){if(O.length==1)w.set(ie.pageX,ie.pageY);else{const Pe=ot(ie),st=.5*(ie.pageX+Pe.x),rt=.5*(ie.pageY+Pe.y);w.set(st,rt)}x.subVectors(w,_).multiplyScalar(r.panSpeed),z(x.x,x.y),_.copy(w)}function W(ie){const Pe=ot(ie),st=ie.pageX-Pe.x,rt=ie.pageY-Pe.y,ke=Math.sqrt(st*st+rt*rt);R.set(0,ke),T.set(0,Math.pow(R.y/M.y,r.zoomSpeed)),te(T.y),M.copy(R)}function U(ie){r.enableZoom&&W(ie),r.enablePan&&Qe(ie)}function me(ie){r.enableZoom&&W(ie),r.enableRotate&&ct(ie)}function Oe(ie){var Pe,st;r.enabled!==!1&&(O.length===0&&((Pe=r.domElement)==null||Pe.ownerDocument.addEventListener("pointermove",De),(st=r.domElement)==null||st.ownerDocument.addEventListener("pointerup",Be)),Jt(ie),ie.pointerType==="touch"?zt(ie):ft(ie))}function De(ie){r.enabled!==!1&&(ie.pointerType==="touch"?Fe(ie):Je(ie))}function Be(ie){var Pe,st,rt;Dt(ie),O.length===0&&((Pe=r.domElement)==null||Pe.releasePointerCapture(ie.pointerId),(st=r.domElement)==null||st.ownerDocument.removeEventListener("pointermove",De),(rt=r.domElement)==null||rt.ownerDocument.removeEventListener("pointerup",Be)),r.dispatchEvent(o),l=a.NONE}function ft(ie){let Pe;switch(ie.button){case 0:Pe=r.mouseButtons.LEFT;break;case 1:Pe=r.mouseButtons.MIDDLE;break;case 2:Pe=r.mouseButtons.RIGHT;break;default:Pe=-1}switch(Pe){case Cf.DOLLY:if(r.enableZoom===!1)return;Ne(ie),l=a.DOLLY;break;case Cf.ROTATE:if(ie.ctrlKey||ie.metaKey||ie.shiftKey){if(r.enablePan===!1)return;Ve(ie),l=a.PAN}else{if(r.enableRotate===!1)return;_e(ie),l=a.ROTATE}break;case Cf.PAN:if(ie.ctrlKey||ie.metaKey||ie.shiftKey){if(r.enableRotate===!1)return;_e(ie),l=a.ROTATE}else{if(r.enablePan===!1)return;Ve(ie),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Je(ie){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;Xe(ie);break;case a.DOLLY:if(r.enableZoom===!1)return;vt(ie);break;case a.PAN:if(r.enablePan===!1)return;yt(ie);break}}function et(ie){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(ie.preventDefault(),r.dispatchEvent(s),ut(ie),r.dispatchEvent(o))}function _t(ie){r.enabled===!1||r.enablePan===!1||ht(ie)}function zt(ie){switch(bt(ie),O.length){case 1:switch(r.touches.ONE){case Tf.ROTATE:if(r.enableRotate===!1)return;Z(),l=a.TOUCH_ROTATE;break;case Tf.PAN:if(r.enablePan===!1)return;He(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case Tf.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ge(),l=a.TOUCH_DOLLY_PAN;break;case Tf.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Re(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Fe(ie){switch(bt(ie),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;ct(ie),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;Qe(ie),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;U(ie),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;me(ie),r.update();break;default:l=a.NONE}}function an(ie){r.enabled!==!1&&ie.preventDefault()}function Jt(ie){O.push(ie)}function Dt(ie){delete V[ie.pointerId];for(let Pe=0;Pe<O.length;Pe++)if(O[Pe].pointerId==ie.pointerId){O.splice(Pe,1);return}}function bt(ie){let Pe=V[ie.pointerId];Pe===void 0&&(Pe=new Te,V[ie.pointerId]=Pe),Pe.set(ie.pageX,ie.pageY)}function ot(ie){const Pe=ie.pointerId===O[0].pointerId?O[1]:O[0];return V[Pe.pointerId]}this.dollyIn=(ie=ne())=>{fe(ie),r.update()},this.dollyOut=(ie=ne())=>{te(ie),r.update()},this.getScale=()=>m,this.setScale=ie=>{ee(ie),r.update()},this.getZoomScale=()=>ne(),n!==void 0&&this.connect(n),this.update()}};function U1(t){if(typeof TextDecoder<"u")return new TextDecoder().decode(t);let e="";for(let n=0,r=t.length;n<r;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch{return e}}const $f="srgb",Hl="srgb-linear",SB=3001,wne=3e3;class W2 extends $i{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new Tne(n)}),this.register(function(n){return new Rne(n)}),this.register(function(n){return new Une(n)}),this.register(function(n){return new kne(n)}),this.register(function(n){return new Hne(n)}),this.register(function(n){return new Ine(n)}),this.register(function(n){return new Lne(n)}),this.register(function(n){return new Bne(n)}),this.register(function(n){return new Dne(n)}),this.register(function(n){return new Cne(n)}),this.register(function(n){return new One(n)}),this.register(function(n){return new Pne(n)}),this.register(function(n){return new Nne(n)}),this.register(function(n){return new Fne(n)}),this.register(function(n){return new bne(n)}),this.register(function(n){return new zne(n)}),this.register(function(n){return new Gne(n)})}load(e,n,r,i){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const u=hc.extractUrlBase(e);o=hc.resolveURL(u,this.path)}else o=hc.extractUrlBase(e);this.manager.itemStart(e);const a=function(u){i?i(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},l=new io(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(u){try{s.parse(u,o,function(h){n(h),s.manager.itemEnd(e)},a)}catch(h){a(h)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(U1(new Uint8Array(e.slice(0,4)))===E5){try{o[pn.KHR_BINARY_GLTF]=new $ne(e)}catch(h){i&&i(h);return}s=JSON.parse(o[pn.KHR_BINARY_GLTF].content)}else s=JSON.parse(U1(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new nre(s,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const h=this.pluginCallbacks[u](l);h.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[h.name]=h,o[h.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const h=s.extensionsUsed[u],p=s.extensionsRequired||[];switch(h){case pn.KHR_MATERIALS_UNLIT:o[h]=new Mne;break;case pn.KHR_DRACO_MESH_COMPRESSION:o[h]=new Wne(s,this.dracoLoader);break;case pn.KHR_TEXTURE_TRANSFORM:o[h]=new Vne;break;case pn.KHR_MESH_QUANTIZATION:o[h]=new jne;break;default:p.indexOf(h)>=0&&a[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,n){const r=this;return new Promise(function(i,s){r.parse(e,n,i,s)})}}function Ene(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const pn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class bne{constructor(e){this.parser=e,this.name=pn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,i=n.length;r<i;r++){const s=n[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let i=n.cache.get(r);if(i)return i;const s=n.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const h=new nt(16777215);l.color!==void 0&&h.setRGB(l.color[0],l.color[1],l.color[2],Hl);const p=l.range!==void 0?l.range:0;switch(l.type){case"directional":u=new F2(h),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new O2(h),u.distance=p;break;case"spot":u=new D2(h),u.distance=p,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,u.angle=l.spot.outerConeAngle,u.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return u.position.set(0,0,0),u.decay=2,Cl(u,l),l.intensity!==void 0&&(u.intensity=l.intensity),u.name=n.createUniqueName(l.name||"light_"+e),i=Promise.resolve(u),n.cache.add(r,i),i}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(n.cache,a,l)})}}class Mne{constructor(){this.name=pn.KHR_MATERIALS_UNLIT}getMaterialType(){return Qs}extendParams(e,n,r){const i=[];e.color=new nt(1,1,1),e.opacity=1;const s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],Hl),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,$f))}return Promise.all(i)}}class Cne{constructor(e){this.parser=e,this.name=pn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(n.emissiveIntensity=s),Promise.resolve()}}class Tne{constructor(e){this.parser=e,this.name=pn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:No}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new Te(a,a)}return Promise.all(s)}}class Rne{constructor(e){this.parser=e,this.name=pn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:No}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class Pne{constructor(e){this.parser=e,this.name=pn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:No}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class Ine{constructor(e){this.parser=e,this.name=pn.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:No}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];n.sheenColor=new nt(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=i.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;n.sheenColor.setRGB(a[0],a[1],a[2],Hl)}return o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(n,"sheenColorMap",o.sheenColorTexture,$f)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class Lne{constructor(e){this.parser=e,this.name=pn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:No}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Bne{constructor(e){this.parser=e,this.name=pn.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:No}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return n.attenuationColor=new nt().setRGB(a[0],a[1],a[2],Hl),Promise.all(s)}}class Dne{constructor(e){this.parser=e,this.name=pn.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:No}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class One{constructor(e){this.parser=e,this.name=pn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:No}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(n,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return n.specularColor=new nt().setRGB(a[0],a[1],a[2],Hl),o.specularColorTexture!==void 0&&s.push(r.assignTexture(n,"specularColorMap",o.specularColorTexture,$f)),Promise.all(s)}}class Fne{constructor(e){this.parser=e,this.name=pn.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:No}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return n.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(r.assignTexture(n,"bumpMap",o.bumpTexture)),Promise.all(s)}}class Nne{constructor(e){this.parser=e,this.name=pn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:No}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(n.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(n.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(n,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class Une{constructor(e){this.parser=e,this.name=pn.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,s.source,o)}}class kne{constructor(e){this.parser=e,this.name=pn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class Hne{constructor(e){this.parser=e,this.name=pn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const u=r.options.manager.getHandler(a.uri);u!==null&&(l=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class zne{constructor(e){this.name=pn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,u=i.byteLength||0,h=i.count,p=i.byteStride,m=new Uint8Array(a,l,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(h,p,m,i.mode,i.filter).then(function(v){return v.buffer}):o.ready.then(function(){const v=new ArrayBuffer(h*p);return o.decodeGltfBuffer(new Uint8Array(v),h,p,m,i.mode,i.filter),v})})}else return null}}class Gne{constructor(e){this.name=pn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=n.meshes[r.mesh];for(const u of i.primitives)if(u.mode!==Co.TRIANGLES&&u.mode!==Co.TRIANGLE_STRIP&&u.mode!==Co.TRIANGLE_FAN&&u.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const u in o)a.push(this.parser.getDependency("accessor",o[u]).then(h=>(l[u]=h,l[u])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(u=>{const h=u.pop(),p=h.isGroup?h.children:[h],m=u[0].count,v=[];for(const y of p){const S=new Nt,A=new J,_=new _i,w=new J(1,1,1),x=new _2(y.geometry,y.material,m);for(let M=0;M<m;M++)l.TRANSLATION&&A.fromBufferAttribute(l.TRANSLATION,M),l.ROTATION&&_.fromBufferAttribute(l.ROTATION,M),l.SCALE&&w.fromBufferAttribute(l.SCALE,M),x.setMatrixAt(M,S.compose(A,_,w));for(const M in l)if(M==="_COLOR_0"){const R=l[M];x.instanceColor=new lh(R.array,R.itemSize,R.normalized)}else M!=="TRANSLATION"&&M!=="ROTATION"&&M!=="SCALE"&&y.geometry.setAttribute(M,l[M]);An.prototype.copy.call(x,y),this.parser.assignFinalMaterial(x),v.push(x)}return h.isGroup?(h.clear(),h.add(...v),h):v[0]}))}}const E5="glTF",Ug=12,AB={JSON:1313821514,BIN:5130562};class $ne{constructor(e){this.name=pn.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,Ug);if(this.header={magic:U1(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==E5)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Ug,i=new DataView(e,Ug);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===AB.JSON){const l=new Uint8Array(e,Ug+s,o);this.content=U1(l)}else if(a===AB.BIN){const l=Ug+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Wne{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=pn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},u={};for(const h in o){const p=_C[h]||h.toLowerCase();a[p]=o[h]}for(const h in e.attributes){const p=_C[h]||h.toLowerCase();if(o[h]!==void 0){const m=r.accessors[e.attributes[h]],v=Dp[m.componentType];u[p]=v.name,l[p]=m.normalized===!0}}return n.getDependency("bufferView",s).then(function(h){return new Promise(function(p,m){i.decodeDracoFile(h,function(v){for(const y in v.attributes){const S=v.attributes[y],A=l[y];A!==void 0&&(S.normalized=A)}p(v)},a,u,Hl,m)})})}}class Vne{constructor(){this.name=pn.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class jne{constructor(){this.name=pn.KHR_MESH_QUANTIZATION}}class b5 extends fm{constructor(e,n,r,i){super(e,n,r,i)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)n[o]=r[s+o];return n}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,u=a*3,h=i-n,p=(r-n)/h,m=p*p,v=m*p,y=e*u,S=y-u,A=-2*v+3*m,_=v-m,w=1-A,x=_-m+p;for(let M=0;M!==a;M++){const R=o[S+M+a],T=o[S+M+l]*h,I=o[y+M+a],F=o[y+M]*h;s[M]=w*R+x*T+A*I+_*F}return s}}const Xne=new _i;class Jne extends b5{interpolate_(e,n,r,i){const s=super.interpolate_(e,n,r,i);return Xne.fromArray(s).normalize().toArray(s),s}}const Co={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Dp={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},wB={9728:xr,9729:lr,9984:k0,9985:zS,9986:Lp,9987:Ka},EB={33071:Ei,33648:Xp,10497:gc},JE={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},_C={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...pne>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},ku={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Kne={CUBICSPLINE:void 0,LINEAR:ah,STEP:Kp},KE={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Yne(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new Ev({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Ja})),t.DefaultMaterial}function Af(t,e,n){for(const r in n.extensions)t[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function Cl(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function qne(t,e,n){let r=!1,i=!1,s=!1;for(let u=0,h=e.length;u<h;u++){const p=e[u];if(p.POSITION!==void 0&&(r=!0),p.NORMAL!==void 0&&(i=!0),p.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(t);const o=[],a=[],l=[];for(let u=0,h=e.length;u<h;u++){const p=e[u];if(r){const m=p.POSITION!==void 0?n.getDependency("accessor",p.POSITION):t.attributes.position;o.push(m)}if(i){const m=p.NORMAL!==void 0?n.getDependency("accessor",p.NORMAL):t.attributes.normal;a.push(m)}if(s){const m=p.COLOR_0!==void 0?n.getDependency("accessor",p.COLOR_0):t.attributes.color;l.push(m)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(u){const h=u[0],p=u[1],m=u[2];return r&&(t.morphAttributes.position=h),i&&(t.morphAttributes.normal=p),s&&(t.morphAttributes.color=m),t.morphTargetsRelative=!0,t})}function Qne(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let r=0,i=n.length;r<i;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Zne(t){let e;const n=t.extensions&&t.extensions[pn.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+YE(n.attributes):e=t.indices+":"+YE(t.attributes)+":"+t.mode,t.targets!==void 0)for(let r=0,i=t.targets.length;r<i;r++)e+=":"+YE(t.targets[r]);return e}function YE(t){let e="";const n=Object.keys(t).sort();for(let r=0,i=n.length;r<i;r++)e+=n[r]+":"+t[n[r]]+";";return e}function xC(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function ere(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const tre=new Nt;class nre{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new Ene,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new L2(this.options.manager):this.textureLoader=new Kk(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new io(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};return Af(s,a,i),Cl(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=n.length;i<s;i++){const o=n[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[u,h]of o.children.entries())s(h,a.children[u])};return s(r,i),i.name+="_instance_"+e.uses[n]++,i}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const i=e(n[r]);if(i)return i}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let i=0;i<n.length;i++){const s=e(n[i]);s&&r.push(s)}return r}getDependency(e,n){const r=e+":"+n;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(n);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(n)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(n)});break;case"accessor":i=this.loadAccessor(n);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(n)});break;case"buffer":i=this.loadBuffer(n);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(n)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(n)});break;case"skin":i=this.loadSkin(n);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(n)});break;case"camera":i=this.loadCamera(n);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,n)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[pn.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(hc.resolveURL(n.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const i=n.byteLength||0,s=n.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const n=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=JE[i.type],a=Dp[i.componentType],l=i.normalized===!0,u=new a(i.count*o);return Promise.resolve(new wn(u,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=JE[i.type],u=Dp[i.componentType],h=u.BYTES_PER_ELEMENT,p=h*l,m=i.byteOffset||0,v=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,y=i.normalized===!0;let S,A;if(v&&v!==p){const _=Math.floor(m/v),w="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+_+":"+i.count;let x=n.cache.get(w);x||(S=new u(a,_*v,i.count*v/h),x=new _v(S,v/h),n.cache.add(w,x)),A=new vc(x,l,m%v/h,y)}else a===null?S=new u(i.count*l):S=new u(a,m,i.count*l),A=new wn(S,l,y);if(i.sparse!==void 0){const _=JE.SCALAR,w=Dp[i.sparse.indices.componentType],x=i.sparse.indices.byteOffset||0,M=i.sparse.values.byteOffset||0,R=new w(o[1],x,i.sparse.count*_),T=new u(o[2],M,i.sparse.count*l);a!==null&&(A=new wn(A.array.slice(),A.itemSize,A.normalized));for(let I=0,F=R.length;I<F;I++){const B=R[I];if(A.setX(B,T[I*l]),l>=2&&A.setY(B,T[I*l+1]),l>=3&&A.setZ(B,T[I*l+2]),l>=4&&A.setW(B,T[I*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return A})}loadTexture(e){const n=this.json,r=this.options,s=n.textures[e].source,o=n.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,n,r){const i=this,s=this.json,o=s.textures[e],a=s.images[n],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const u=this.loadImageSource(n,r).then(function(h){h.flipY=!1,h.name=o.name||a.name||"",h.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(h.name=a.uri);const m=(s.samplers||{})[o.sampler]||{};return h.magFilter=wB[m.magFilter]||lr,h.minFilter=wB[m.minFilter]||Ka,h.wrapS=EB[m.wrapS]||gc,h.wrapT=EB[m.wrapT]||gc,i.associations.set(h,{textures:e}),h}).catch(function(){return null});return this.textureCache[l]=u,u}loadImageSource(e,n){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(p=>p.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",u=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(p){u=!0;const m=new Blob([p],{type:o.mimeType});return l=a.createObjectURL(m),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const h=Promise.resolve(l).then(function(p){return new Promise(function(m,v){let y=m;n.isImageBitmapLoader===!0&&(y=function(S){const A=new fr(S);A.needsUpdate=!0,m(A)}),n.load(hc.resolveURL(p,s.path),y,void 0,v)})}).then(function(p){return u===!0&&a.revokeObjectURL(l),Cl(p,o),p.userData.mimeType=o.mimeType||ere(o.uri),p}).catch(function(p){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),p});return this.sourceCache[e]=h,h}assignTexture(e,n,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[pn.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[pn.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[pn.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&(typeof i=="number"&&(i=i===SB?$f:Hl),"colorSpace"in o?o.colorSpace=i:o.encoding=i===$f?SB:wne),e[n]=o,o})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const i=n.attributes.tangent===void 0,s=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new YS,ti.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Gi,ti.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return Ev}loadMaterial(e){const n=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},u=[];if(l[pn.KHR_MATERIALS_UNLIT]){const p=i[pn.KHR_MATERIALS_UNLIT];o=p.getMaterialType(),u.push(p.extendParams(a,s,n))}else{const p=s.pbrMetallicRoughness||{};if(a.color=new nt(1,1,1),a.opacity=1,Array.isArray(p.baseColorFactor)){const m=p.baseColorFactor;a.color.setRGB(m[0],m[1],m[2],Hl),a.opacity=m[3]}p.baseColorTexture!==void 0&&u.push(n.assignTexture(a,"map",p.baseColorTexture,$f)),a.metalness=p.metallicFactor!==void 0?p.metallicFactor:1,a.roughness=p.roughnessFactor!==void 0?p.roughnessFactor:1,p.metallicRoughnessTexture!==void 0&&(u.push(n.assignTexture(a,"metalnessMap",p.metallicRoughnessTexture)),u.push(n.assignTexture(a,"roughnessMap",p.metallicRoughnessTexture))),o=this._invokeOne(function(m){return m.getMaterialType&&m.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(m){return m.extendMaterialParams&&m.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=sa);const h=s.alphaMode||KE.OPAQUE;if(h===KE.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,h===KE.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Qs&&(u.push(n.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new Te(1,1),s.normalTexture.scale!==void 0)){const p=s.normalTexture.scale;a.normalScale.set(p,p)}if(s.occlusionTexture!==void 0&&o!==Qs&&(u.push(n.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Qs){const p=s.emissiveFactor;a.emissive=new nt().setRGB(p[0],p[1],p[2],Hl)}return s.emissiveTexture!==void 0&&o!==Qs&&u.push(n.assignTexture(a,"emissiveMap",s.emissiveTexture,$f)),Promise.all(u).then(function(){const p=new o(a);return s.name&&(p.name=s.name),Cl(p,s),n.associations.set(p,{materials:e}),s.extensions&&Af(i,p,s),p})}createUniqueName(e){const n=Sn.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[pn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,n).then(function(l){return bB(l,a,n)})}const o=[];for(let a=0,l=e.length;a<l;a++){const u=e[a],h=Zne(u),p=i[h];if(p)o.push(p.promise);else{let m;u.extensions&&u.extensions[pn.KHR_DRACO_MESH_COMPRESSION]?m=s(u):m=bB(new nn,u,n),i[h]={primitive:u,promise:m},o.push(m)}}return Promise.all(o)}loadMesh(e){const n=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,u=o.length;l<u;l++){const h=o[l].material===void 0?Yne(this.cache):this.getDependency("material",o[l].material);a.push(h)}return a.push(n.loadGeometries(o)),Promise.all(a).then(function(l){const u=l.slice(0,l.length-1),h=l[l.length-1],p=[];for(let v=0,y=h.length;v<y;v++){const S=h[v],A=o[v];let _;const w=u[v];if(A.mode===Co.TRIANGLES||A.mode===Co.TRIANGLE_STRIP||A.mode===Co.TRIANGLE_FAN||A.mode===void 0)_=s.isSkinnedMesh===!0?new y2(S,w):new Wr(S,w),_.isSkinnedMesh===!0&&_.normalizeSkinWeights(),A.mode===Co.TRIANGLE_STRIP?_.geometry=yB(_.geometry,r2):A.mode===Co.TRIANGLE_FAN&&(_.geometry=yB(_.geometry,B1));else if(A.mode===Co.LINES)_=new ma(S,w);else if(A.mode===Co.LINE_STRIP)_=new jl(S,w);else if(A.mode===Co.LINE_LOOP)_=new x2(S,w);else if(A.mode===Co.POINTS)_=new S2(S,w);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+A.mode);Object.keys(_.geometry.morphAttributes).length>0&&Qne(_,s),_.name=n.createUniqueName(s.name||"mesh_"+e),Cl(_,s),A.extensions&&Af(i,_,A),n.assignFinalMaterial(_),p.push(_)}for(let v=0,y=p.length;v<y;v++)n.associations.set(p[v],{meshes:e,primitives:v});if(p.length===1)return s.extensions&&Af(i,p[0],s),p[0];const m=new Ol;s.extensions&&Af(i,m,s),n.associations.set(m,{meshes:e});for(let v=0,y=p.length;v<y;v++)m.add(p[v]);return m})}loadCamera(e){let n;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new Ar(K4.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(n=new kl(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),Cl(n,r),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],r=[];for(let i=0,s=n.joints.length;i<s;i++)r.push(this._loadNodeShallow(n.joints[i]));return n.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",n.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let u=0,h=o.length;u<h;u++){const p=o[u];if(p){a.push(p);const m=new Nt;s!==null&&m.fromArray(s.array,u*16),l.push(m)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[u])}return new xv(a,l)})}loadAnimation(e){const n=this.json,r=this,i=n.animations[e],s=i.name?i.name:"animation_"+e,o=[],a=[],l=[],u=[],h=[];for(let p=0,m=i.channels.length;p<m;p++){const v=i.channels[p],y=i.samplers[v.sampler],S=v.target,A=S.node,_=i.parameters!==void 0?i.parameters[y.input]:y.input,w=i.parameters!==void 0?i.parameters[y.output]:y.output;S.node!==void 0&&(o.push(this.getDependency("node",A)),a.push(this.getDependency("accessor",_)),l.push(this.getDependency("accessor",w)),u.push(y),h.push(S))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(u),Promise.all(h)]).then(function(p){const m=p[0],v=p[1],y=p[2],S=p[3],A=p[4],_=[];for(let w=0,x=m.length;w<x;w++){const M=m[w],R=v[w],T=y[w],I=S[w],F=A[w];if(M===void 0)continue;M.updateMatrix&&M.updateMatrix();const B=r._createAnimationTracks(M,R,T,I,F);if(B)for(let O=0;O<B.length;O++)_.push(B[O])}return new Zp(s,void 0,_)})}createNodeMesh(e){const n=this.json,r=this,i=n.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,u=i.weights.length;l<u;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const n=this.json,r=this,i=n.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let u=0,h=a.length;u<h;u++)o.push(r.getDependency("node",a[u]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(u){const h=u[0],p=u[1],m=u[2];m!==null&&h.traverse(function(v){v.isSkinnedMesh&&v.bind(m,tre)});for(let v=0,y=p.length;v<y;v++)h.add(p[v]);return h})}_loadNodeShallow(e){const n=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=n.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(u){return i._getNodeRef(i.cameraCache,s.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){a.push(u)}),this.nodeCache[e]=Promise.all(a).then(function(u){let h;if(s.isBone===!0?h=new KS:u.length>1?h=new Ol:u.length===1?h=u[0]:h=new An,h!==u[0])for(let p=0,m=u.length;p<m;p++)h.add(u[p]);if(s.name&&(h.userData.name=s.name,h.name=o),Cl(h,s),s.extensions&&Af(r,h,s),s.matrix!==void 0){const p=new Nt;p.fromArray(s.matrix),h.applyMatrix4(p)}else s.translation!==void 0&&h.position.fromArray(s.translation),s.rotation!==void 0&&h.quaternion.fromArray(s.rotation),s.scale!==void 0&&h.scale.fromArray(s.scale);return i.associations.has(h)||i.associations.set(h,{}),i.associations.get(h).nodes=e,h}),this.nodeCache[e]}loadScene(e){const n=this.extensions,r=this.json.scenes[e],i=this,s=new Ol;r.name&&(s.name=i.createUniqueName(r.name)),Cl(s,r),r.extensions&&Af(n,s,r);const o=r.nodes||[],a=[];for(let l=0,u=o.length;l<u;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let h=0,p=l.length;h<p;h++)s.add(l[h]);const u=h=>{const p=new Map;for(const[m,v]of i.associations)(m instanceof ti||m instanceof fr)&&p.set(m,v);return h.traverse(m=>{const v=i.associations.get(m);v!=null&&p.set(m,v)}),p};return i.associations=u(s),s})}_createAnimationTracks(e,n,r,i,s){const o=[],a=e.name?e.name:e.uuid,l=[];ku[s.path]===ku.weights?e.traverse(function(m){m.morphTargetInfluences&&l.push(m.name?m.name:m.uuid)}):l.push(a);let u;switch(ku[s.path]){case ku.weights:u=ch;break;case ku.rotation:u=yc;break;case ku.position:case ku.scale:u=fh;break;default:switch(r.itemSize){case 1:u=ch;break;case 2:case 3:default:u=fh;break}break}const h=i.interpolation!==void 0?Kne[i.interpolation]:ah,p=this._getArrayFromAccessor(r);for(let m=0,v=l.length;m<v;m++){const y=new u(l[m]+"."+ku[s.path],n.array,p,h);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(y),o.push(y)}return o}_getArrayFromAccessor(e){let n=e.array;if(e.normalized){const r=xC(n.constructor),i=new Float32Array(n.length);for(let s=0,o=n.length;s<o;s++)i[s]=n[s]*r;n=i}return n}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const i=this instanceof yc?Jne:b5;return new i(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function rre(t,e,n){const r=e.attributes,i=new Hi;if(r.POSITION!==void 0){const a=n.json.accessors[r.POSITION],l=a.min,u=a.max;if(l!==void 0&&u!==void 0){if(i.set(new J(l[0],l[1],l[2]),new J(u[0],u[1],u[2])),a.normalized){const h=xC(Dp[a.componentType]);i.min.multiplyScalar(h),i.max.multiplyScalar(h)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new J,l=new J;for(let u=0,h=s.length;u<h;u++){const p=s[u];if(p.POSITION!==void 0){const m=n.json.accessors[p.POSITION],v=m.min,y=m.max;if(v!==void 0&&y!==void 0){if(l.setX(Math.max(Math.abs(v[0]),Math.abs(y[0]))),l.setY(Math.max(Math.abs(v[1]),Math.abs(y[1]))),l.setZ(Math.max(Math.abs(v[2]),Math.abs(y[2]))),m.normalized){const S=xC(Dp[m.componentType]);l.multiplyScalar(S)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}t.boundingBox=i;const o=new Ci;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=o}function bB(t,e,n){const r=e.attributes,i=[];function s(o,a){return n.getDependency("accessor",o).then(function(l){t.setAttribute(a,l)})}for(const o in r){const a=_C[o]||o.toLowerCase();a in t.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!t.index){const o=n.getDependency("accessor",e.indices).then(function(a){t.setIndex(a)});i.push(o)}return Cl(t,e),rre(t,e,n),Promise.all(i).then(function(){return e.targets!==void 0?qne(t,e.targets,n):t})}const qE=new WeakMap;class ire extends $i{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,r,i){const s=new io(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(n).catch(i)},r,i)}decodeDracoFile(e,n,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(n)}decodeGeometry(e,n){for(const l in n.attributeTypes){const u=n.attributeTypes[l];u.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[l]=u.name)}const r=JSON.stringify(n);if(qE.has(e)){const l=qE.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((u,h)=>{i._callbacks[s]={resolve:u,reject:h},i.postMessage({type:"decode",id:s,taskConfig:n,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),qE.set(e,{key:r,promise:a}),a}_createGeometry(e){const n=new nn;e.index&&n.setIndex(new wn(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;n.setAttribute(s,new wn(o,a))}return n}_loadLibrary(e,n){const r=new io(this.manager);return r.setPath(this.decoderPath),r.setResponseType(n),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=sre.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=n,r._taskLoad+=n,r})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function sre(){let t,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":t=a.decoderConfig,e=new Promise(function(h){t.onModuleLoaded=function(p){h({draco:p})},DracoDecoderModule(t)});break;case"decode":const l=a.buffer,u=a.taskConfig;e.then(h=>{const p=h.draco,m=new p.Decoder,v=new p.DecoderBuffer;v.Init(new Int8Array(l),l.byteLength);try{const y=n(p,m,v,u),S=y.attributes.map(A=>A.array.buffer);y.index&&S.push(y.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:y},S)}catch(y){console.error(y),self.postMessage({type:"error",id:a.id,error:y.message})}finally{p.destroy(v),p.destroy(m)}});break}};function n(o,a,l,u){const h=u.attributeIDs,p=u.attributeTypes;let m,v;const y=a.GetEncodedGeometryType(l);if(y===o.TRIANGULAR_MESH)m=new o.Mesh,v=a.DecodeBufferToMesh(l,m);else if(y===o.POINT_CLOUD)m=new o.PointCloud,v=a.DecodeBufferToPointCloud(l,m);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!v.ok()||m.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+v.error_msg());const S={index:null,attributes:[]};for(const A in h){const _=self[p[A]];let w,x;if(u.useUniqueIDs)x=h[A],w=a.GetAttributeByUniqueId(m,x);else{if(x=a.GetAttributeId(m,o[h[A]]),x===-1)continue;w=a.GetAttribute(m,x)}S.attributes.push(i(o,a,m,A,_,w))}return y===o.TRIANGULAR_MESH&&(S.index=r(o,a,m)),o.destroy(m),S}function r(o,a,l){const h=l.num_faces()*3,p=h*4,m=o._malloc(p);a.GetTrianglesUInt32Array(l,p,m);const v=new Uint32Array(o.HEAPF32.buffer,m,h).slice();return o._free(m),{array:v,itemSize:1}}function i(o,a,l,u,h,p){const m=p.num_components(),y=l.num_points()*m,S=y*h.BYTES_PER_ELEMENT,A=s(o,h),_=o._malloc(S);a.GetAttributeDataArrayForAllPoints(l,p,A,S,_);const w=new h(o.HEAPF32.buffer,_,y).slice();return o._free(_),{name:u,array:w,itemSize:m}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let mx;const QE=()=>{if(mx)return mx;const t="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=t;WebAssembly.validate(n)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(p=>{s=p.instance,s.exports.__wasm_call_ctors()});function a(p){const m=new Uint8Array(p.length);for(let y=0;y<p.length;++y){const S=p.charCodeAt(y);m[y]=S>96?S-71:S>64?S-65:S>47?S+4:S>46?63:62}let v=0;for(let y=0;y<p.length;++y)m[v++]=m[y]<60?r[m[y]]:(m[y]-60)*64+m[++y];return m.buffer.slice(0,v)}function l(p,m,v,y,S,A){const _=s.exports.sbrk,w=v+3&-4,x=_(w*y),M=_(S.length),R=new Uint8Array(s.exports.memory.buffer);R.set(S,M);const T=p(x,v,y,M,S.length);if(T===0&&A&&A(x,w,y),m.set(R.subarray(x,x+v*y)),_(x-_(0)),T!==0)throw new Error(`Malformed buffer data: ${T}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},h={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return mx={ready:o,supported:!0,decodeVertexBuffer(p,m,v,y,S){l(s.exports.meshopt_decodeVertexBuffer,p,m,v,y,s.exports[u[S]])},decodeIndexBuffer(p,m,v,y){l(s.exports.meshopt_decodeIndexBuffer,p,m,v,y)},decodeIndexSequence(p,m,v,y){l(s.exports.meshopt_decodeIndexSequence,p,m,v,y)},decodeGltfBuffer(p,m,v,y,S,A){l(s.exports[h[S]],p,m,v,y,s.exports[u[A]])}},mx};let gx=null,M5="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function C5(t=!0,e=!0,n){return r=>{n&&n(r),t&&(gx||(gx=new ire),gx.setDecoderPath(typeof t=="string"?t:M5),r.setDRACOLoader(gx)),e&&r.setMeshoptDecoder(typeof QE=="function"?QE():QE)}}const dA=(t,e,n,r)=>hm(W2,t,C5(e,n,r));dA.preload=(t,e,n,r)=>hm.preload(W2,t,C5(e,n,r));dA.clear=t=>hm.clear(W2,t);dA.setDecoderPath=t=>{M5=t};const ore=oe.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...u},h)=>{const p=El(T=>T.invalidate),m=El(T=>T.camera),v=El(T=>T.gl),y=El(T=>T.events),S=El(T=>T.setEvents),A=El(T=>T.set),_=El(T=>T.get),w=El(T=>T.performance),x=e||m,M=r||y.connected||v.domElement,R=oe.useMemo(()=>new Ane(x),[x]);return jte(()=>{R.enabled&&R.update()},-1),oe.useEffect(()=>(s&&R.connect(s===!0?M:s),R.connect(M),()=>void R.dispose()),[s,M,n,R,p]),oe.useEffect(()=>{const T=B=>{p(),n&&w.regress(),o&&o(B)},I=B=>{a&&a(B)},F=B=>{l&&l(B)};return R.addEventListener("change",T),R.addEventListener("start",I),R.addEventListener("end",F),()=>{R.removeEventListener("start",I),R.removeEventListener("end",F),R.removeEventListener("change",T)}},[o,a,l,R,p,S]),oe.useEffect(()=>{if(t){const T=_().controls;return A({controls:R}),()=>A({controls:T})}},[t,R]),oe.createElement("primitive",yC({ref:h,object:R,enableDamping:i},u))});var T5={exports:{}},are="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",lre=are,ure=lre;function R5(){}function P5(){}P5.resetWarningCache=R5;var cre=function(){function t(r,i,s,o,a,l){if(l!==ure){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:P5,resetWarningCache:R5};return n.PropTypes=n,n};T5.exports=cre();var I5=T5.exports;const Ye=eS(I5),so=ze.div`
  background-color: #212121;
  border-radius: 9px;
`,Tc=ze.p`
  font-size: 18px;
  margin: 10px 14px;
  color: #ffffff;
`,V2=ze.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  column-gap: 6px;
  row-gap: 6px;
  margin: 6px;
`,Kl=ze.div`
  display: grid;
  grid-template-columns: 1fr;
  row-gap: 6px;
  margin: 6px;
`,pA=ze.div`
  display: flex;
  justify-content: space-between;
  margin: 6px;
`,mA=ze.div`
  height: 46px;
  display: flex;
  flex-direction: column;
  justify-content: center;
`,Lr=ze.div`
  width: 100%;
  min-width: 0;
  box-sizing: border-box;
  border: 1px solid #343434;
  border-radius: 6px;
  background-color: #000000;
  padding: 3px;
`,vi=ze.button`
  box-sizing: border-box;
  border: 1px solid #343434;
  border-radius: 3px;
  width: 100%;
  height: 38px;
  background-color: #212121;
  color: ${t=>t.$active?"#ffffff":"#bbbbbb"};
  padding: 0px;
  font-size: 16px;

  &:focus {
    outline: none;
  }
`,Wf=ze.div`
  box-sizing: border-box;
  border: 1px solid #343434;
  border-radius: 6px;
  background-color: #000000;
  padding: 3px;
  margin-left: 6px;
`,Vf=ze.button`
  box-sizing: border-box;
  border: 1px solid;
  border-color: ${t=>t.$active?"#343434":"#000000"};
  border-radius: 3px;
  width: 38px;
  height: 38px;
  background-color: ${t=>t.$active?"#212121":"#000000"};
  padding: 0px;
  font-size: 16px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;

  svg {
    color: ${t=>t.$active?"#ffffff":"#343434"};
  }

  &:focus {
    outline: none;
  }
`,fre=ze.div`
  background-color: #ffffff;
  position: fixed;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 1;
`,hre=ze.div`
  position: relative;
  left: 50%;
  top: 50%;
  width: 150px;
  height: 150px;
  margin: -75px 0 0 -75px;
  border: 16px solid #e9e9e9;
  border-top: 16px solid #333;
  border-radius: 50%;
  animation: spin 2s linear infinite;

  @keyframes spin {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }
`;function j2(){return G.jsx(fre,{children:G.jsx(hre,{})})}var Zr={},Mv={},dre=typeof Pl=="object"&&Pl&&Pl.Object===Object&&Pl,L5=dre,pre=L5,mre=typeof self=="object"&&self&&self.Object===Object&&self,gre=pre||mre||Function("return this")(),ya=gre,vre=ya,yre=vre.Symbol,Cv=yre,MB=Cv,B5=Object.prototype,_re=B5.hasOwnProperty,xre=B5.toString,kg=MB?MB.toStringTag:void 0;function Sre(t){var e=_re.call(t,kg),n=t[kg];try{t[kg]=void 0;var r=!0}catch{}var i=xre.call(t);return r&&(e?t[kg]=n:delete t[kg]),i}var Are=Sre,wre=Object.prototype,Ere=wre.toString;function bre(t){return Ere.call(t)}var Mre=bre,CB=Cv,Cre=Are,Tre=Mre,Rre="[object Null]",Pre="[object Undefined]",TB=CB?CB.toStringTag:void 0;function Ire(t){return t==null?t===void 0?Pre:Rre:TB&&TB in Object(t)?Cre(t):Tre(t)}var Sh=Ire,Lre=Array.isArray,uo=Lre;function Bre(t){return t!=null&&typeof t=="object"}var qa=Bre,Dre=Sh,Ore=uo,Fre=qa,Nre="[object String]";function Ure(t){return typeof t=="string"||!Ore(t)&&Fre(t)&&Dre(t)==Nre}var kre=Ure;function Hre(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var zre=Hre,Gre=zre,$re=Gre(),D5=$re;function Wre(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Vre=Wre,jre=Sh,Xre=qa,Jre="[object Arguments]";function Kre(t){return Xre(t)&&jre(t)==Jre}var Yre=Kre,RB=Yre,qre=qa,O5=Object.prototype,Qre=O5.hasOwnProperty,Zre=O5.propertyIsEnumerable,eie=RB(function(){return arguments}())?RB:function(t){return qre(t)&&Qre.call(t,"callee")&&!Zre.call(t,"callee")},X2=eie,k1={exports:{}};function tie(){return!1}var nie=tie;k1.exports;(function(t,e){var n=ya,r=nie,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(k1,k1.exports);var gA=k1.exports,rie=9007199254740991,iie=/^(?:0|[1-9]\d*)$/;function sie(t,e){var n=typeof t;return e=e??rie,!!e&&(n=="number"||n!="symbol"&&iie.test(t))&&t>-1&&t%1==0&&t<e}var J2=sie,oie=9007199254740991;function aie(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=oie}var K2=aie,lie=Sh,uie=K2,cie=qa,fie="[object Arguments]",hie="[object Array]",die="[object Boolean]",pie="[object Date]",mie="[object Error]",gie="[object Function]",vie="[object Map]",yie="[object Number]",_ie="[object Object]",xie="[object RegExp]",Sie="[object Set]",Aie="[object String]",wie="[object WeakMap]",Eie="[object ArrayBuffer]",bie="[object DataView]",Mie="[object Float32Array]",Cie="[object Float64Array]",Tie="[object Int8Array]",Rie="[object Int16Array]",Pie="[object Int32Array]",Iie="[object Uint8Array]",Lie="[object Uint8ClampedArray]",Bie="[object Uint16Array]",Die="[object Uint32Array]",Yn={};Yn[Mie]=Yn[Cie]=Yn[Tie]=Yn[Rie]=Yn[Pie]=Yn[Iie]=Yn[Lie]=Yn[Bie]=Yn[Die]=!0;Yn[fie]=Yn[hie]=Yn[Eie]=Yn[die]=Yn[bie]=Yn[pie]=Yn[mie]=Yn[gie]=Yn[vie]=Yn[yie]=Yn[_ie]=Yn[xie]=Yn[Sie]=Yn[Aie]=Yn[wie]=!1;function Oie(t){return cie(t)&&uie(t.length)&&!!Yn[lie(t)]}var Fie=Oie;function Nie(t){return function(e){return t(e)}}var Y2=Nie,H1={exports:{}};H1.exports;(function(t,e){var n=L5,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(H1,H1.exports);var q2=H1.exports,Uie=Fie,kie=Y2,PB=q2,IB=PB&&PB.isTypedArray,Hie=IB?kie(IB):Uie,Q2=Hie,zie=Vre,Gie=X2,$ie=uo,Wie=gA,Vie=J2,jie=Q2,Xie=Object.prototype,Jie=Xie.hasOwnProperty;function Kie(t,e){var n=$ie(t),r=!n&&Gie(t),i=!n&&!r&&Wie(t),s=!n&&!r&&!i&&jie(t),o=n||r||i||s,a=o?zie(t.length,String):[],l=a.length;for(var u in t)(e||Jie.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Vie(u,l)))&&a.push(u);return a}var F5=Kie,Yie=Object.prototype;function qie(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Yie;return t===n}var Z2=qie;function Qie(t,e){return function(n){return t(e(n))}}var N5=Qie,Zie=N5,ese=Zie(Object.keys,Object),tse=ese,nse=Z2,rse=tse,ise=Object.prototype,sse=ise.hasOwnProperty;function ose(t){if(!nse(t))return rse(t);var e=[];for(var n in Object(t))sse.call(t,n)&&n!="constructor"&&e.push(n);return e}var ase=ose;function lse(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Uo=lse,use=Sh,cse=Uo,fse="[object AsyncFunction]",hse="[object Function]",dse="[object GeneratorFunction]",pse="[object Proxy]";function mse(t){if(!cse(t))return!1;var e=use(t);return e==hse||e==dse||e==fse||e==pse}var eR=mse,gse=eR,vse=K2;function yse(t){return t!=null&&vse(t.length)&&!gse(t)}var dm=yse,_se=F5,xse=ase,Sse=dm;function Ase(t){return Sse(t)?_se(t):xse(t)}var Tv=Ase,wse=D5,Ese=Tv;function bse(t,e){return t&&wse(t,e,Ese)}var U5=bse;function Mse(t){return t}var vA=Mse,Cse=vA;function Tse(t){return typeof t=="function"?t:Cse}var k5=Tse,Rse=U5,Pse=k5;function Ise(t,e){return t&&Rse(t,Pse(e))}var tR=Ise,Lse=N5,Bse=Lse(Object.getPrototypeOf,Object),nR=Bse,Dse=Sh,Ose=nR,Fse=qa,Nse="[object Object]",Use=Function.prototype,kse=Object.prototype,H5=Use.toString,Hse=kse.hasOwnProperty,zse=H5.call(Object);function Gse(t){if(!Fse(t)||Dse(t)!=Nse)return!1;var e=Ose(t);if(e===null)return!0;var n=Hse.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&H5.call(n)==zse}var z5=Gse;function $se(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var G5=$se;function Wse(){this.__data__=[],this.size=0}var Vse=Wse;function jse(t,e){return t===e||t!==t&&e!==e}var Rv=jse,Xse=Rv;function Jse(t,e){for(var n=t.length;n--;)if(Xse(t[n][0],e))return n;return-1}var yA=Jse,Kse=yA,Yse=Array.prototype,qse=Yse.splice;function Qse(t){var e=this.__data__,n=Kse(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():qse.call(e,n,1),--this.size,!0}var Zse=Qse,eoe=yA;function toe(t){var e=this.__data__,n=eoe(e,t);return n<0?void 0:e[n][1]}var noe=toe,roe=yA;function ioe(t){return roe(this.__data__,t)>-1}var soe=ioe,ooe=yA;function aoe(t,e){var n=this.__data__,r=ooe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var loe=aoe,uoe=Vse,coe=Zse,foe=noe,hoe=soe,doe=loe;function pm(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}pm.prototype.clear=uoe;pm.prototype.delete=coe;pm.prototype.get=foe;pm.prototype.has=hoe;pm.prototype.set=doe;var _A=pm,poe=_A;function moe(){this.__data__=new poe,this.size=0}var goe=moe;function voe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var yoe=voe;function _oe(t){return this.__data__.get(t)}var xoe=_oe;function Soe(t){return this.__data__.has(t)}var Aoe=Soe,woe=ya,Eoe=woe["__core-js_shared__"],boe=Eoe,ZE=boe,LB=function(){var t=/[^.]+$/.exec(ZE&&ZE.keys&&ZE.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Moe(t){return!!LB&&LB in t}var Coe=Moe,Toe=Function.prototype,Roe=Toe.toString;function Poe(t){if(t!=null){try{return Roe.call(t)}catch{}try{return t+""}catch{}}return""}var $5=Poe,Ioe=eR,Loe=Coe,Boe=Uo,Doe=$5,Ooe=/[\\^$.*+?()[\]{}|]/g,Foe=/^\[object .+?Constructor\]$/,Noe=Function.prototype,Uoe=Object.prototype,koe=Noe.toString,Hoe=Uoe.hasOwnProperty,zoe=RegExp("^"+koe.call(Hoe).replace(Ooe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Goe(t){if(!Boe(t)||Loe(t))return!1;var e=Ioe(t)?zoe:Foe;return e.test(Doe(t))}var $oe=Goe;function Woe(t,e){return t==null?void 0:t[e]}var Voe=Woe,joe=$oe,Xoe=Voe;function Joe(t,e){var n=Xoe(t,e);return joe(n)?n:void 0}var Ah=Joe,Koe=Ah,Yoe=ya,qoe=Koe(Yoe,"Map"),rR=qoe,Qoe=Ah,Zoe=Qoe(Object,"create"),xA=Zoe,BB=xA;function eae(){this.__data__=BB?BB(null):{},this.size=0}var tae=eae;function nae(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var rae=nae,iae=xA,sae="__lodash_hash_undefined__",oae=Object.prototype,aae=oae.hasOwnProperty;function lae(t){var e=this.__data__;if(iae){var n=e[t];return n===sae?void 0:n}return aae.call(e,t)?e[t]:void 0}var uae=lae,cae=xA,fae=Object.prototype,hae=fae.hasOwnProperty;function dae(t){var e=this.__data__;return cae?e[t]!==void 0:hae.call(e,t)}var pae=dae,mae=xA,gae="__lodash_hash_undefined__";function vae(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=mae&&e===void 0?gae:e,this}var yae=vae,_ae=tae,xae=rae,Sae=uae,Aae=pae,wae=yae;function mm(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}mm.prototype.clear=_ae;mm.prototype.delete=xae;mm.prototype.get=Sae;mm.prototype.has=Aae;mm.prototype.set=wae;var Eae=mm,DB=Eae,bae=_A,Mae=rR;function Cae(){this.size=0,this.__data__={hash:new DB,map:new(Mae||bae),string:new DB}}var Tae=Cae;function Rae(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Pae=Rae,Iae=Pae;function Lae(t,e){var n=t.__data__;return Iae(e)?n[typeof e=="string"?"string":"hash"]:n.map}var SA=Lae,Bae=SA;function Dae(t){var e=Bae(this,t).delete(t);return this.size-=e?1:0,e}var Oae=Dae,Fae=SA;function Nae(t){return Fae(this,t).get(t)}var Uae=Nae,kae=SA;function Hae(t){return kae(this,t).has(t)}var zae=Hae,Gae=SA;function $ae(t,e){var n=Gae(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Wae=$ae,Vae=Tae,jae=Oae,Xae=Uae,Jae=zae,Kae=Wae;function gm(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}gm.prototype.clear=Vae;gm.prototype.delete=jae;gm.prototype.get=Xae;gm.prototype.has=Jae;gm.prototype.set=Kae;var iR=gm,Yae=_A,qae=rR,Qae=iR,Zae=200;function ele(t,e){var n=this.__data__;if(n instanceof Yae){var r=n.__data__;if(!qae||r.length<Zae-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Qae(r)}return n.set(t,e),this.size=n.size,this}var tle=ele,nle=_A,rle=goe,ile=yoe,sle=xoe,ole=Aoe,ale=tle;function vm(t){var e=this.__data__=new nle(t);this.size=e.size}vm.prototype.clear=rle;vm.prototype.delete=ile;vm.prototype.get=sle;vm.prototype.has=ole;vm.prototype.set=ale;var AA=vm,lle="__lodash_hash_undefined__";function ule(t){return this.__data__.set(t,lle),this}var cle=ule;function fle(t){return this.__data__.has(t)}var hle=fle,dle=iR,ple=cle,mle=hle;function z1(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new dle;++e<n;)this.add(t[e])}z1.prototype.add=z1.prototype.push=ple;z1.prototype.has=mle;var gle=z1;function vle(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var yle=vle;function _le(t,e){return t.has(e)}var xle=_le,Sle=gle,Ale=yle,wle=xle,Ele=1,ble=2;function Mle(t,e,n,r,i,s){var o=n&Ele,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),h=s.get(e);if(u&&h)return u==e&&h==t;var p=-1,m=!0,v=n&ble?new Sle:void 0;for(s.set(t,e),s.set(e,t);++p<a;){var y=t[p],S=e[p];if(r)var A=o?r(S,y,p,e,t,s):r(y,S,p,t,e,s);if(A!==void 0){if(A)continue;m=!1;break}if(v){if(!Ale(e,function(_,w){if(!wle(v,w)&&(y===_||i(y,_,n,r,s)))return v.push(w)})){m=!1;break}}else if(!(y===S||i(y,S,n,r,s))){m=!1;break}}return s.delete(t),s.delete(e),m}var W5=Mle,Cle=ya,Tle=Cle.Uint8Array,V5=Tle;function Rle(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var Ple=Rle;function Ile(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Lle=Ile,OB=Cv,FB=V5,Ble=Rv,Dle=W5,Ole=Ple,Fle=Lle,Nle=1,Ule=2,kle="[object Boolean]",Hle="[object Date]",zle="[object Error]",Gle="[object Map]",$le="[object Number]",Wle="[object RegExp]",Vle="[object Set]",jle="[object String]",Xle="[object Symbol]",Jle="[object ArrayBuffer]",Kle="[object DataView]",NB=OB?OB.prototype:void 0,eb=NB?NB.valueOf:void 0;function Yle(t,e,n,r,i,s,o){switch(n){case Kle:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Jle:return!(t.byteLength!=e.byteLength||!s(new FB(t),new FB(e)));case kle:case Hle:case $le:return Ble(+t,+e);case zle:return t.name==e.name&&t.message==e.message;case Wle:case jle:return t==e+"";case Gle:var a=Ole;case Vle:var l=r&Nle;if(a||(a=Fle),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=Ule,o.set(t,e);var h=Dle(a(t),a(e),r,i,s,o);return o.delete(t),h;case Xle:if(eb)return eb.call(t)==eb.call(e)}return!1}var qle=Yle;function Qle(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var j5=Qle,Zle=j5,eue=uo;function tue(t,e,n){var r=e(t);return eue(t)?r:Zle(r,n(t))}var X5=tue;function nue(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var rue=nue;function iue(){return[]}var J5=iue,sue=rue,oue=J5,aue=Object.prototype,lue=aue.propertyIsEnumerable,UB=Object.getOwnPropertySymbols,uue=UB?function(t){return t==null?[]:(t=Object(t),sue(UB(t),function(e){return lue.call(t,e)}))}:oue,sR=uue,cue=X5,fue=sR,hue=Tv;function due(t){return cue(t,hue,fue)}var K5=due,kB=K5,pue=1,mue=Object.prototype,gue=mue.hasOwnProperty;function vue(t,e,n,r,i,s){var o=n&pue,a=kB(t),l=a.length,u=kB(e),h=u.length;if(l!=h&&!o)return!1;for(var p=l;p--;){var m=a[p];if(!(o?m in e:gue.call(e,m)))return!1}var v=s.get(t),y=s.get(e);if(v&&y)return v==e&&y==t;var S=!0;s.set(t,e),s.set(e,t);for(var A=o;++p<l;){m=a[p];var _=t[m],w=e[m];if(r)var x=o?r(w,_,m,e,t,s):r(_,w,m,t,e,s);if(!(x===void 0?_===w||i(_,w,n,r,s):x)){S=!1;break}A||(A=m=="constructor")}if(S&&!A){var M=t.constructor,R=e.constructor;M!=R&&"constructor"in t&&"constructor"in e&&!(typeof M=="function"&&M instanceof M&&typeof R=="function"&&R instanceof R)&&(S=!1)}return s.delete(t),s.delete(e),S}var yue=vue,_ue=Ah,xue=ya,Sue=_ue(xue,"DataView"),Aue=Sue,wue=Ah,Eue=ya,bue=wue(Eue,"Promise"),Mue=bue,Cue=Ah,Tue=ya,Rue=Cue(Tue,"Set"),Pue=Rue,Iue=Ah,Lue=ya,Bue=Iue(Lue,"WeakMap"),Due=Bue,SC=Aue,AC=rR,wC=Mue,EC=Pue,bC=Due,Y5=Sh,ym=$5,HB="[object Map]",Oue="[object Object]",zB="[object Promise]",GB="[object Set]",$B="[object WeakMap]",WB="[object DataView]",Fue=ym(SC),Nue=ym(AC),Uue=ym(wC),kue=ym(EC),Hue=ym(bC),If=Y5;(SC&&If(new SC(new ArrayBuffer(1)))!=WB||AC&&If(new AC)!=HB||wC&&If(wC.resolve())!=zB||EC&&If(new EC)!=GB||bC&&If(new bC)!=$B)&&(If=function(t){var e=Y5(t),n=e==Oue?t.constructor:void 0,r=n?ym(n):"";if(r)switch(r){case Fue:return WB;case Nue:return HB;case Uue:return zB;case kue:return GB;case Hue:return $B}return e});var wA=If,tb=AA,zue=W5,Gue=qle,$ue=yue,VB=wA,jB=uo,XB=gA,Wue=Q2,Vue=1,JB="[object Arguments]",KB="[object Array]",vx="[object Object]",jue=Object.prototype,YB=jue.hasOwnProperty;function Xue(t,e,n,r,i,s){var o=jB(t),a=jB(e),l=o?KB:VB(t),u=a?KB:VB(e);l=l==JB?vx:l,u=u==JB?vx:u;var h=l==vx,p=u==vx,m=l==u;if(m&&XB(t)){if(!XB(e))return!1;o=!0,h=!1}if(m&&!h)return s||(s=new tb),o||Wue(t)?zue(t,e,n,r,i,s):Gue(t,e,l,n,r,i,s);if(!(n&Vue)){var v=h&&YB.call(t,"__wrapped__"),y=p&&YB.call(e,"__wrapped__");if(v||y){var S=v?t.value():t,A=y?e.value():e;return s||(s=new tb),i(S,A,n,r,s)}}return m?(s||(s=new tb),$ue(t,e,n,r,i,s)):!1}var Jue=Xue,Kue=Jue,qB=qa;function q5(t,e,n,r,i){return t===e?!0:t==null||e==null||!qB(t)&&!qB(e)?t!==t&&e!==e:Kue(t,e,n,r,q5,i)}var Q5=q5,Yue=AA,que=Q5,Que=1,Zue=2;function ece(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],u=t[l],h=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var p=new Yue;if(r)var m=r(u,h,l,t,e,p);if(!(m===void 0?que(h,u,Que|Zue,r,p):m))return!1}}return!0}var tce=ece,nce=Uo;function rce(t){return t===t&&!nce(t)}var Z5=rce,ice=Z5,sce=Tv;function oce(t){for(var e=sce(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,ice(i)]}return e}var ace=oce;function lce(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var e9=lce,uce=tce,cce=ace,fce=e9;function hce(t){var e=cce(t);return e.length==1&&e[0][2]?fce(e[0][0],e[0][1]):function(n){return n===t||uce(n,t,e)}}var dce=hce,pce=Sh,mce=qa,gce="[object Symbol]";function vce(t){return typeof t=="symbol"||mce(t)&&pce(t)==gce}var EA=vce,yce=uo,_ce=EA,xce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Sce=/^\w*$/;function Ace(t,e){if(yce(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||_ce(t)?!0:Sce.test(t)||!xce.test(t)||e!=null&&t in Object(e)}var oR=Ace,t9=iR,wce="Expected a function";function aR(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(wce);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(aR.Cache||t9),n}aR.Cache=t9;var Ece=aR,bce=Ece,Mce=500;function Cce(t){var e=bce(t,function(r){return n.size===Mce&&n.clear(),r}),n=e.cache;return e}var Tce=Cce,Rce=Tce,Pce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ice=/\\(\\)?/g,Lce=Rce(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Pce,function(n,r,i,s){e.push(i?s.replace(Ice,"$1"):r||n)}),e}),Bce=Lce,QB=Cv,Dce=G5,Oce=uo,Fce=EA,Nce=1/0,ZB=QB?QB.prototype:void 0,eD=ZB?ZB.toString:void 0;function n9(t){if(typeof t=="string")return t;if(Oce(t))return Dce(t,n9)+"";if(Fce(t))return eD?eD.call(t):"";var e=t+"";return e=="0"&&1/t==-Nce?"-0":e}var Uce=n9,kce=Uce;function Hce(t){return t==null?"":kce(t)}var zce=Hce,Gce=uo,$ce=oR,Wce=Bce,Vce=zce;function jce(t,e){return Gce(t)?t:$ce(t,e)?[t]:Wce(Vce(t))}var r9=jce,Xce=EA,Jce=1/0;function Kce(t){if(typeof t=="string"||Xce(t))return t;var e=t+"";return e=="0"&&1/t==-Jce?"-0":e}var bA=Kce,Yce=r9,qce=bA;function Qce(t,e){e=Yce(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[qce(e[n++])];return n&&n==r?t:void 0}var i9=Qce,Zce=i9;function efe(t,e,n){var r=t==null?void 0:Zce(t,e);return r===void 0?n:r}var tfe=efe;function nfe(t,e){return t!=null&&e in Object(t)}var rfe=nfe,ife=r9,sfe=X2,ofe=uo,afe=J2,lfe=K2,ufe=bA;function cfe(t,e,n){e=ife(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=ufe(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&lfe(i)&&afe(o,i)&&(ofe(t)||sfe(t)))}var ffe=cfe,hfe=rfe,dfe=ffe;function pfe(t,e){return t!=null&&dfe(t,e,hfe)}var mfe=pfe,gfe=Q5,vfe=tfe,yfe=mfe,_fe=oR,xfe=Z5,Sfe=e9,Afe=bA,wfe=1,Efe=2;function bfe(t,e){return _fe(t)&&xfe(e)?Sfe(Afe(t),e):function(n){var r=vfe(n,t);return r===void 0&&r===e?yfe(n,t):gfe(e,r,wfe|Efe)}}var Mfe=bfe;function Cfe(t){return function(e){return e==null?void 0:e[t]}}var Tfe=Cfe,Rfe=i9;function Pfe(t){return function(e){return Rfe(e,t)}}var Ife=Pfe,Lfe=Tfe,Bfe=Ife,Dfe=oR,Ofe=bA;function Ffe(t){return Dfe(t)?Lfe(Ofe(t)):Bfe(t)}var Nfe=Ffe,Ufe=dce,kfe=Mfe,Hfe=vA,zfe=uo,Gfe=Nfe;function $fe(t){return typeof t=="function"?t:t==null?Hfe:typeof t=="object"?zfe(t)?kfe(t[0],t[1]):Ufe(t):Gfe(t)}var Wfe=$fe,Vfe=dm;function jfe(t,e){return function(n,r){if(n==null)return n;if(!Vfe(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var Xfe=jfe,Jfe=U5,Kfe=Xfe,Yfe=Kfe(Jfe),s9=Yfe,qfe=s9,Qfe=dm;function Zfe(t,e){var n=-1,r=Qfe(t)?Array(t.length):[];return qfe(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var ehe=Zfe,the=G5,nhe=Wfe,rhe=ehe,ihe=uo;function she(t,e){var n=ihe(t)?the:rhe;return n(t,nhe(e))}var ohe=she;Object.defineProperty(Mv,"__esModule",{value:!0});Mv.flattenNames=void 0;var ahe=kre,lhe=MA(ahe),uhe=tR,che=MA(uhe),fhe=z5,hhe=MA(fhe),dhe=ohe,phe=MA(dhe);function MA(t){return t&&t.__esModule?t:{default:t}}var mhe=Mv.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[];return(0,phe.default)(e,function(r){Array.isArray(r)?t(r).map(function(i){return n.push(i)}):(0,hhe.default)(r)?(0,che.default)(r,function(i,s){i===!0&&n.push(s),n.push(s+"-"+i)}):(0,lhe.default)(r)&&n.push(r)}),n};Mv.default=mhe;var Pv={};function ghe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var o9=ghe,vhe=Ah,yhe=function(){try{var t=vhe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),a9=yhe,tD=a9;function _he(t,e,n){e=="__proto__"&&tD?tD(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var lR=_he,xhe=lR,She=Rv,Ahe=Object.prototype,whe=Ahe.hasOwnProperty;function Ehe(t,e,n){var r=t[e];(!(whe.call(t,e)&&She(r,n))||n===void 0&&!(e in t))&&xhe(t,e,n)}var l9=Ehe,bhe=l9,Mhe=lR;function Che(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?Mhe(n,a,l):bhe(n,a,l)}return n}var Iv=Che,The=Iv,Rhe=Tv;function Phe(t,e){return t&&The(e,Rhe(e),t)}var Ihe=Phe;function Lhe(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Bhe=Lhe,Dhe=Uo,Ohe=Z2,Fhe=Bhe,Nhe=Object.prototype,Uhe=Nhe.hasOwnProperty;function khe(t){if(!Dhe(t))return Fhe(t);var e=Ohe(t),n=[];for(var r in t)r=="constructor"&&(e||!Uhe.call(t,r))||n.push(r);return n}var Hhe=khe,zhe=F5,Ghe=Hhe,$he=dm;function Whe(t){return $he(t)?zhe(t,!0):Ghe(t)}var Lv=Whe,Vhe=Iv,jhe=Lv;function Xhe(t,e){return t&&Vhe(e,jhe(e),t)}var Jhe=Xhe,G1={exports:{}};G1.exports;(function(t,e){var n=ya,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(u,h){if(h)return u.slice();var p=u.length,m=a?a(p):new u.constructor(p);return u.copy(m),m}t.exports=l})(G1,G1.exports);var u9=G1.exports;function Khe(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var c9=Khe,Yhe=Iv,qhe=sR;function Qhe(t,e){return Yhe(t,qhe(t),e)}var Zhe=Qhe,ede=j5,tde=nR,nde=sR,rde=J5,ide=Object.getOwnPropertySymbols,sde=ide?function(t){for(var e=[];t;)ede(e,nde(t)),t=tde(t);return e}:rde,f9=sde,ode=Iv,ade=f9;function lde(t,e){return ode(t,ade(t),e)}var ude=lde,cde=X5,fde=f9,hde=Lv;function dde(t){return cde(t,hde,fde)}var pde=dde,mde=Object.prototype,gde=mde.hasOwnProperty;function vde(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&gde.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var yde=vde,nD=V5;function _de(t){var e=new t.constructor(t.byteLength);return new nD(e).set(new nD(t)),e}var uR=_de,xde=uR;function Sde(t,e){var n=e?xde(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Ade=Sde,wde=/\w*$/;function Ede(t){var e=new t.constructor(t.source,wde.exec(t));return e.lastIndex=t.lastIndex,e}var bde=Ede,rD=Cv,iD=rD?rD.prototype:void 0,sD=iD?iD.valueOf:void 0;function Mde(t){return sD?Object(sD.call(t)):{}}var Cde=Mde,Tde=uR;function Rde(t,e){var n=e?Tde(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var h9=Rde,Pde=uR,Ide=Ade,Lde=bde,Bde=Cde,Dde=h9,Ode="[object Boolean]",Fde="[object Date]",Nde="[object Map]",Ude="[object Number]",kde="[object RegExp]",Hde="[object Set]",zde="[object String]",Gde="[object Symbol]",$de="[object ArrayBuffer]",Wde="[object DataView]",Vde="[object Float32Array]",jde="[object Float64Array]",Xde="[object Int8Array]",Jde="[object Int16Array]",Kde="[object Int32Array]",Yde="[object Uint8Array]",qde="[object Uint8ClampedArray]",Qde="[object Uint16Array]",Zde="[object Uint32Array]";function epe(t,e,n){var r=t.constructor;switch(e){case $de:return Pde(t);case Ode:case Fde:return new r(+t);case Wde:return Ide(t,n);case Vde:case jde:case Xde:case Jde:case Kde:case Yde:case qde:case Qde:case Zde:return Dde(t,n);case Nde:return new r;case Ude:case zde:return new r(t);case kde:return Lde(t);case Hde:return new r;case Gde:return Bde(t)}}var tpe=epe,npe=Uo,oD=Object.create,rpe=function(){function t(){}return function(e){if(!npe(e))return{};if(oD)return oD(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),ipe=rpe,spe=ipe,ope=nR,ape=Z2;function lpe(t){return typeof t.constructor=="function"&&!ape(t)?spe(ope(t)):{}}var d9=lpe,upe=wA,cpe=qa,fpe="[object Map]";function hpe(t){return cpe(t)&&upe(t)==fpe}var dpe=hpe,ppe=dpe,mpe=Y2,aD=q2,lD=aD&&aD.isMap,gpe=lD?mpe(lD):ppe,vpe=gpe,ype=wA,_pe=qa,xpe="[object Set]";function Spe(t){return _pe(t)&&ype(t)==xpe}var Ape=Spe,wpe=Ape,Epe=Y2,uD=q2,cD=uD&&uD.isSet,bpe=cD?Epe(cD):wpe,Mpe=bpe,Cpe=AA,Tpe=o9,Rpe=l9,Ppe=Ihe,Ipe=Jhe,Lpe=u9,Bpe=c9,Dpe=Zhe,Ope=ude,Fpe=K5,Npe=pde,Upe=wA,kpe=yde,Hpe=tpe,zpe=d9,Gpe=uo,$pe=gA,Wpe=vpe,Vpe=Uo,jpe=Mpe,Xpe=Tv,Jpe=Lv,Kpe=1,Ype=2,qpe=4,p9="[object Arguments]",Qpe="[object Array]",Zpe="[object Boolean]",eme="[object Date]",tme="[object Error]",m9="[object Function]",nme="[object GeneratorFunction]",rme="[object Map]",ime="[object Number]",g9="[object Object]",sme="[object RegExp]",ome="[object Set]",ame="[object String]",lme="[object Symbol]",ume="[object WeakMap]",cme="[object ArrayBuffer]",fme="[object DataView]",hme="[object Float32Array]",dme="[object Float64Array]",pme="[object Int8Array]",mme="[object Int16Array]",gme="[object Int32Array]",vme="[object Uint8Array]",yme="[object Uint8ClampedArray]",_me="[object Uint16Array]",xme="[object Uint32Array]",$n={};$n[p9]=$n[Qpe]=$n[cme]=$n[fme]=$n[Zpe]=$n[eme]=$n[hme]=$n[dme]=$n[pme]=$n[mme]=$n[gme]=$n[rme]=$n[ime]=$n[g9]=$n[sme]=$n[ome]=$n[ame]=$n[lme]=$n[vme]=$n[yme]=$n[_me]=$n[xme]=!0;$n[tme]=$n[m9]=$n[ume]=!1;function Yx(t,e,n,r,i,s){var o,a=e&Kpe,l=e&Ype,u=e&qpe;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!Vpe(t))return t;var h=Gpe(t);if(h){if(o=kpe(t),!a)return Bpe(t,o)}else{var p=Upe(t),m=p==m9||p==nme;if($pe(t))return Lpe(t,a);if(p==g9||p==p9||m&&!i){if(o=l||m?{}:zpe(t),!a)return l?Ope(t,Ipe(o,t)):Dpe(t,Ppe(o,t))}else{if(!$n[p])return i?t:{};o=Hpe(t,p,a)}}s||(s=new Cpe);var v=s.get(t);if(v)return v;s.set(t,o),jpe(t)?t.forEach(function(A){o.add(Yx(A,e,n,A,t,s))}):Wpe(t)&&t.forEach(function(A,_){o.set(_,Yx(A,e,n,_,t,s))});var y=u?l?Npe:Fpe:l?Jpe:Xpe,S=h?void 0:y(t);return Tpe(S||t,function(A,_){S&&(_=A,A=t[_]),Rpe(o,_,Yx(A,e,n,_,t,s))}),o}var Sme=Yx,Ame=Sme,wme=1,Eme=4;function bme(t){return Ame(t,wme|Eme)}var Mme=bme;Object.defineProperty(Pv,"__esModule",{value:!0});Pv.mergeClasses=void 0;var Cme=tR,Tme=v9(Cme),Rme=Mme,Pme=v9(Rme),Ime=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function v9(t){return t&&t.__esModule?t:{default:t}}var Lme=Pv.mergeClasses=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,Pme.default)(e.default)||{};return n.map(function(i){var s=e[i];return s&&(0,Tme.default)(s,function(o,a){r[a]||(r[a]={}),r[a]=Ime({},r[a],s[a])}),i}),r};Pv.default=Lme;var Bv={};Object.defineProperty(Bv,"__esModule",{value:!0});Bv.autoprefix=void 0;var Bme=tR,fD=Ome(Bme),Dme=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};function Ome(t){return t&&t.__esModule?t:{default:t}}var Fme={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var n=e&&e.split(" ");return{position:"absolute",top:n&&n[0],right:n&&n[1],bottom:n&&n[2],left:n&&n[3]}},extend:function(e,n){var r=n[e];return r||{extend:e}}},Nme=Bv.autoprefix=function(e){var n={};return(0,fD.default)(e,function(r,i){var s={};(0,fD.default)(r,function(o,a){var l=Fme[a];l?s=Dme({},s,l(o)):s[a]=o}),n[i]=s}),n};Bv.default=Nme;var Dv={};Object.defineProperty(Dv,"__esModule",{value:!0});Dv.hover=void 0;var Ume=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kme=oe,nb=Hme(kme);function Hme(t){return t&&t.__esModule?t:{default:t}}function zme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hD(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Gme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var $me=Dv.hover=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){Gme(i,r);function i(){var s,o,a,l;zme(this,i);for(var u=arguments.length,h=Array(u),p=0;p<u;p++)h[p]=arguments[p];return l=(o=(a=hD(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(h))),a),a.state={hover:!1},a.handleMouseOver=function(){return a.setState({hover:!0})},a.handleMouseOut=function(){return a.setState({hover:!1})},a.render=function(){return nb.default.createElement(n,{onMouseOver:a.handleMouseOver,onMouseOut:a.handleMouseOut},nb.default.createElement(e,Ume({},a.props,a.state)))},o),hD(a,l)}return i}(nb.default.Component)};Dv.default=$me;var Ov={};Object.defineProperty(Ov,"__esModule",{value:!0});Ov.active=void 0;var Wme=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vme=oe,rb=jme(Vme);function jme(t){return t&&t.__esModule?t:{default:t}}function Xme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dD(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Jme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Kme=Ov.active=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){Jme(i,r);function i(){var s,o,a,l;Xme(this,i);for(var u=arguments.length,h=Array(u),p=0;p<u;p++)h[p]=arguments[p];return l=(o=(a=dD(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(h))),a),a.state={active:!1},a.handleMouseDown=function(){return a.setState({active:!0})},a.handleMouseUp=function(){return a.setState({active:!1})},a.render=function(){return rb.default.createElement(n,{onMouseDown:a.handleMouseDown,onMouseUp:a.handleMouseUp},rb.default.createElement(e,Wme({},a.props,a.state)))},o),dD(a,l)}return i}(rb.default.Component)};Ov.default=Kme;var cR={};Object.defineProperty(cR,"__esModule",{value:!0});var Yme=function(e,n){var r={},i=function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[o]=a};return e===0&&i("first-child"),e===n-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};cR.default=Yme;Object.defineProperty(Zr,"__esModule",{value:!0});Zr.ReactCSS=Zr.loop=Zr.handleActive=fR=Zr.handleHover=Zr.hover=void 0;var qme=Mv,Qme=_m(qme),Zme=Pv,ege=_m(Zme),tge=Bv,nge=_m(tge),rge=Dv,y9=_m(rge),ige=Ov,sge=_m(ige),oge=cR,age=_m(oge);function _m(t){return t&&t.__esModule?t:{default:t}}Zr.hover=y9.default;var fR=Zr.handleHover=y9.default;Zr.handleActive=sge.default;Zr.loop=age.default;var lge=Zr.ReactCSS=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s=(0,Qme.default)(r),o=(0,ege.default)(e,s);return(0,nge.default)(o)},Xt=Zr.default=lge,uge=function(e,n,r,i,s){var o=s.clientWidth,a=s.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,u=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,h=l-(s.getBoundingClientRect().left+window.pageXOffset),p=u-(s.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var m=void 0;if(p<0?m=0:p>a?m=1:m=Math.round(p*100/a)/100,n.a!==m)return{h:n.h,s:n.s,l:n.l,a:m,source:"rgb"}}else{var v=void 0;if(h<0?v=0:h>o?v=1:v=Math.round(h*100/o)/100,i!==v)return{h:n.h,s:n.s,l:n.l,a:v,source:"rgb"}}return null},ib={},cge=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var s=i?new i:document.createElement("canvas");s.width=r*2,s.height=r*2;var o=s.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,s.width,s.height),o.fillStyle=n,o.fillRect(0,0,r,r),o.translate(r,r),o.fillRect(0,0,r,r),s.toDataURL()):null},fge=function(e,n,r,i){var s=e+"-"+n+"-"+r+(i?"-server":"");if(ib[s])return ib[s];var o=cge(e,n,r,i);return ib[s]=o,o},pD=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xm=function(e){var n=e.white,r=e.grey,i=e.size,s=e.renderers,o=e.borderRadius,a=e.boxShadow,l=e.children,u=Xt({default:{grid:{borderRadius:o,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+fge(n,r,i,s.canvas)+") center left"}}});return oe.isValidElement(l)?K.cloneElement(l,pD({},l.props,{style:pD({},l.props.style,u.grid)})):K.createElement("div",{style:u.grid})};xm.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var hge=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dge=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function pge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mD(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function mge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var hR=function(t){mge(e,t);function e(){var n,r,i,s;pge(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=mD(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var h=uge(u,i.props.hsl,i.props.direction,i.props.a,i.container);h&&typeof i.props.onChange=="function"&&i.props.onChange(h,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),mD(i,s)}return dge(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,s=Xt({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:hge({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return K.createElement("div",{style:s.alpha},K.createElement("div",{style:s.checkboard},K.createElement(xm,{renderers:this.props.renderers})),K.createElement("div",{style:s.gradient}),K.createElement("div",{style:s.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},K.createElement("div",{style:s.pointer},this.props.pointer?K.createElement(this.props.pointer,this.props):K.createElement("div",{style:s.slider}))))}}]),e}(oe.PureComponent||oe.Component),gge=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function vge(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _ge(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function xge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Sge=1,_9=38,Age=40,wge=[_9,Age],Ege=function(e){return wge.indexOf(e)>-1},bge=function(e){return Number(String(e).replace(/%/g,""))},Mge=1,_n=function(t){xge(e,t);function e(n){yge(this,e);var r=_ge(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var s=bge(i.target.value);if(!isNaN(s)&&Ege(i.keyCode)){var o=r.getArrowOffset(),a=i.keyCode===_9?s+o:s-o;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var s=Math.round(r.props.value+i.movementX);s>=0&&s<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(s),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+Mge++,r}return gge(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return vge({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||Sge}},{key:"setUpdatedValue",value:function(r,i){var s=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(s,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=Xt({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return K.createElement("div",{style:i.wrap},K.createElement("input",{id:this.inputId,style:i.input,ref:function(o){return r.input=o},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?K.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(oe.PureComponent||oe.Component),Cge=function(e,n,r,i){var s=i.clientWidth,o=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(i.getBoundingClientRect().left+window.pageXOffset),h=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var p=void 0;if(h<0)p=359;else if(h>o)p=0;else{var m=-(h*100/o)+100;p=360*m/100}if(r.h!==p)return{h:p,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var v=void 0;if(u<0)v=0;else if(u>s)v=359;else{var y=u*100/s;v=360*y/100}if(r.h!==v)return{h:v,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null},Tge=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Rge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gD(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Pge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Sm=function(t){Pge(e,t);function e(){var n,r,i,s;Rge(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=gD(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var h=Cge(u,i.props.direction,i.props.hsl,i.container);h&&typeof i.props.onChange=="function"&&i.props.onChange(h,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),gD(i,s)}return Tge(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,s=i===void 0?"horizontal":i,o=Xt({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:s==="vertical"});return K.createElement("div",{style:o.hue},K.createElement("div",{className:"hue-"+s,style:o.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},K.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),K.createElement("div",{style:o.pointer},this.props.pointer?K.createElement(this.props.pointer,this.props):K.createElement("div",{style:o.slider}))))}}]),e}(oe.PureComponent||oe.Component);function Ige(){this.__data__=[],this.size=0}function Fv(t,e){return t===e||t!==t&&e!==e}function CA(t,e){for(var n=t.length;n--;)if(Fv(t[n][0],e))return n;return-1}var Lge=Array.prototype,Bge=Lge.splice;function Dge(t){var e=this.__data__,n=CA(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Bge.call(e,n,1),--this.size,!0}function Oge(t){var e=this.__data__,n=CA(e,t);return n<0?void 0:e[n][1]}function Fge(t){return CA(this.__data__,t)>-1}function Nge(t,e){var n=this.__data__,r=CA(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Yl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Yl.prototype.clear=Ige;Yl.prototype.delete=Dge;Yl.prototype.get=Oge;Yl.prototype.has=Fge;Yl.prototype.set=Nge;function Uge(){this.__data__=new Yl,this.size=0}function kge(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Hge(t){return this.__data__.get(t)}function zge(t){return this.__data__.has(t)}var Gge=typeof global=="object"&&global&&global.Object===Object&&global;const x9=Gge;var $ge=typeof self=="object"&&self&&self.Object===Object&&self,Wge=x9||$ge||Function("return this")();const _a=Wge;var Vge=_a.Symbol;const _c=Vge;var S9=Object.prototype,jge=S9.hasOwnProperty,Xge=S9.toString,Hg=_c?_c.toStringTag:void 0;function Jge(t){var e=jge.call(t,Hg),n=t[Hg];try{t[Hg]=void 0;var r=!0}catch{}var i=Xge.call(t);return r&&(e?t[Hg]=n:delete t[Hg]),i}var Kge=Object.prototype,Yge=Kge.toString;function qge(t){return Yge.call(t)}var Qge="[object Null]",Zge="[object Undefined]",vD=_c?_c.toStringTag:void 0;function wh(t){return t==null?t===void 0?Zge:Qge:vD&&vD in Object(t)?Jge(t):qge(t)}function Fo(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var e0e="[object AsyncFunction]",t0e="[object Function]",n0e="[object GeneratorFunction]",r0e="[object Proxy]";function dR(t){if(!Fo(t))return!1;var e=wh(t);return e==t0e||e==n0e||e==e0e||e==r0e}var i0e=_a["__core-js_shared__"];const sb=i0e;var yD=function(){var t=/[^.]+$/.exec(sb&&sb.keys&&sb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function s0e(t){return!!yD&&yD in t}var o0e=Function.prototype,a0e=o0e.toString;function Eh(t){if(t!=null){try{return a0e.call(t)}catch{}try{return t+""}catch{}}return""}var l0e=/[\\^$.*+?()[\]{}|]/g,u0e=/^\[object .+?Constructor\]$/,c0e=Function.prototype,f0e=Object.prototype,h0e=c0e.toString,d0e=f0e.hasOwnProperty,p0e=RegExp("^"+h0e.call(d0e).replace(l0e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m0e(t){if(!Fo(t)||s0e(t))return!1;var e=dR(t)?p0e:u0e;return e.test(Eh(t))}function g0e(t,e){return t==null?void 0:t[e]}function bh(t,e){var n=g0e(t,e);return m0e(n)?n:void 0}var v0e=bh(_a,"Map");const q0=v0e;var y0e=bh(Object,"create");const Q0=y0e;function _0e(){this.__data__=Q0?Q0(null):{},this.size=0}function x0e(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var S0e="__lodash_hash_undefined__",A0e=Object.prototype,w0e=A0e.hasOwnProperty;function E0e(t){var e=this.__data__;if(Q0){var n=e[t];return n===S0e?void 0:n}return w0e.call(e,t)?e[t]:void 0}var b0e=Object.prototype,M0e=b0e.hasOwnProperty;function C0e(t){var e=this.__data__;return Q0?e[t]!==void 0:M0e.call(e,t)}var T0e="__lodash_hash_undefined__";function R0e(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Q0&&e===void 0?T0e:e,this}function hh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}hh.prototype.clear=_0e;hh.prototype.delete=x0e;hh.prototype.get=E0e;hh.prototype.has=C0e;hh.prototype.set=R0e;function P0e(){this.size=0,this.__data__={hash:new hh,map:new(q0||Yl),string:new hh}}function I0e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function TA(t,e){var n=t.__data__;return I0e(e)?n[typeof e=="string"?"string":"hash"]:n.map}function L0e(t){var e=TA(this,t).delete(t);return this.size-=e?1:0,e}function B0e(t){return TA(this,t).get(t)}function D0e(t){return TA(this,t).has(t)}function O0e(t,e){var n=TA(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function ql(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ql.prototype.clear=P0e;ql.prototype.delete=L0e;ql.prototype.get=B0e;ql.prototype.has=D0e;ql.prototype.set=O0e;var F0e=200;function N0e(t,e){var n=this.__data__;if(n instanceof Yl){var r=n.__data__;if(!q0||r.length<F0e-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ql(r)}return n.set(t,e),this.size=n.size,this}function ja(t){var e=this.__data__=new Yl(t);this.size=e.size}ja.prototype.clear=Uge;ja.prototype.delete=kge;ja.prototype.get=Hge;ja.prototype.has=zge;ja.prototype.set=N0e;var U0e=function(){try{var t=bh(Object,"defineProperty");return t({},"",{}),t}catch{}}();const $1=U0e;function pR(t,e,n){e=="__proto__"&&$1?$1(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function MC(t,e,n){(n!==void 0&&!Fv(t[e],n)||n===void 0&&!(e in t))&&pR(t,e,n)}function k0e(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var H0e=k0e();const A9=H0e;var w9=typeof Zs=="object"&&Zs&&!Zs.nodeType&&Zs,_D=w9&&typeof eo=="object"&&eo&&!eo.nodeType&&eo,z0e=_D&&_D.exports===w9,xD=z0e?_a.Buffer:void 0,SD=xD?xD.allocUnsafe:void 0;function G0e(t,e){if(e)return t.slice();var n=t.length,r=SD?SD(n):new t.constructor(n);return t.copy(r),r}var $0e=_a.Uint8Array;const W1=$0e;function W0e(t){var e=new t.constructor(t.byteLength);return new W1(e).set(new W1(t)),e}function V0e(t,e){var n=e?W0e(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function j0e(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var AD=Object.create,X0e=function(){function t(){}return function(e){if(!Fo(e))return{};if(AD)return AD(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const J0e=X0e;function E9(t,e){return function(n){return t(e(n))}}var K0e=E9(Object.getPrototypeOf,Object);const b9=K0e;var Y0e=Object.prototype;function mR(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Y0e;return t===n}function q0e(t){return typeof t.constructor=="function"&&!mR(t)?J0e(b9(t)):{}}function xc(t){return t!=null&&typeof t=="object"}var Q0e="[object Arguments]";function wD(t){return xc(t)&&wh(t)==Q0e}var M9=Object.prototype,Z0e=M9.hasOwnProperty,eve=M9.propertyIsEnumerable,tve=wD(function(){return arguments}())?wD:function(t){return xc(t)&&Z0e.call(t,"callee")&&!eve.call(t,"callee")};const V1=tve;var nve=Array.isArray;const oo=nve;var rve=9007199254740991;function gR(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=rve}function Am(t){return t!=null&&gR(t.length)&&!dR(t)}function ive(t){return xc(t)&&Am(t)}function sve(){return!1}var C9=typeof Zs=="object"&&Zs&&!Zs.nodeType&&Zs,ED=C9&&typeof eo=="object"&&eo&&!eo.nodeType&&eo,ove=ED&&ED.exports===C9,bD=ove?_a.Buffer:void 0,ave=bD?bD.isBuffer:void 0,lve=ave||sve;const j1=lve;var uve="[object Object]",cve=Function.prototype,fve=Object.prototype,T9=cve.toString,hve=fve.hasOwnProperty,dve=T9.call(Object);function pve(t){if(!xc(t)||wh(t)!=uve)return!1;var e=b9(t);if(e===null)return!0;var n=hve.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&T9.call(n)==dve}var mve="[object Arguments]",gve="[object Array]",vve="[object Boolean]",yve="[object Date]",_ve="[object Error]",xve="[object Function]",Sve="[object Map]",Ave="[object Number]",wve="[object Object]",Eve="[object RegExp]",bve="[object Set]",Mve="[object String]",Cve="[object WeakMap]",Tve="[object ArrayBuffer]",Rve="[object DataView]",Pve="[object Float32Array]",Ive="[object Float64Array]",Lve="[object Int8Array]",Bve="[object Int16Array]",Dve="[object Int32Array]",Ove="[object Uint8Array]",Fve="[object Uint8ClampedArray]",Nve="[object Uint16Array]",Uve="[object Uint32Array]",qn={};qn[Pve]=qn[Ive]=qn[Lve]=qn[Bve]=qn[Dve]=qn[Ove]=qn[Fve]=qn[Nve]=qn[Uve]=!0;qn[mve]=qn[gve]=qn[Tve]=qn[vve]=qn[Rve]=qn[yve]=qn[_ve]=qn[xve]=qn[Sve]=qn[Ave]=qn[wve]=qn[Eve]=qn[bve]=qn[Mve]=qn[Cve]=!1;function kve(t){return xc(t)&&gR(t.length)&&!!qn[wh(t)]}function Hve(t){return function(e){return t(e)}}var R9=typeof Zs=="object"&&Zs&&!Zs.nodeType&&Zs,p0=R9&&typeof eo=="object"&&eo&&!eo.nodeType&&eo,zve=p0&&p0.exports===R9,ob=zve&&x9.process,Gve=function(){try{var t=p0&&p0.require&&p0.require("util").types;return t||ob&&ob.binding&&ob.binding("util")}catch{}}();const MD=Gve;var CD=MD&&MD.isTypedArray,$ve=CD?Hve(CD):kve;const vR=$ve;function CC(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Wve=Object.prototype,Vve=Wve.hasOwnProperty;function jve(t,e,n){var r=t[e];(!(Vve.call(t,e)&&Fv(r,n))||n===void 0&&!(e in t))&&pR(t,e,n)}function Xve(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?pR(n,a,l):jve(n,a,l)}return n}function Jve(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Kve=9007199254740991,Yve=/^(?:0|[1-9]\d*)$/;function yR(t,e){var n=typeof t;return e=e??Kve,!!e&&(n=="number"||n!="symbol"&&Yve.test(t))&&t>-1&&t%1==0&&t<e}var qve=Object.prototype,Qve=qve.hasOwnProperty;function P9(t,e){var n=oo(t),r=!n&&V1(t),i=!n&&!r&&j1(t),s=!n&&!r&&!i&&vR(t),o=n||r||i||s,a=o?Jve(t.length,String):[],l=a.length;for(var u in t)(e||Qve.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||yR(u,l)))&&a.push(u);return a}function Zve(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var eye=Object.prototype,tye=eye.hasOwnProperty;function nye(t){if(!Fo(t))return Zve(t);var e=mR(t),n=[];for(var r in t)r=="constructor"&&(e||!tye.call(t,r))||n.push(r);return n}function I9(t){return Am(t)?P9(t,!0):nye(t)}function rye(t){return Xve(t,I9(t))}function iye(t,e,n,r,i,s,o){var a=CC(t,n),l=CC(e,n),u=o.get(l);if(u){MC(t,n,u);return}var h=s?s(a,l,n+"",t,e,o):void 0,p=h===void 0;if(p){var m=oo(l),v=!m&&j1(l),y=!m&&!v&&vR(l);h=l,m||v||y?oo(a)?h=a:ive(a)?h=j0e(a):v?(p=!1,h=G0e(l,!0)):y?(p=!1,h=V0e(l,!0)):h=[]:pve(l)||V1(l)?(h=a,V1(a)?h=rye(a):(!Fo(a)||dR(a))&&(h=q0e(l))):p=!1}p&&(o.set(l,h),i(h,l,r,s,o),o.delete(l)),MC(t,n,h)}function L9(t,e,n,r,i){t!==e&&A9(e,function(s,o){if(i||(i=new ja),Fo(s))iye(t,e,o,n,L9,r,i);else{var a=r?r(CC(t,o),s,o+"",t,e,i):void 0;a===void 0&&(a=s),MC(t,o,a)}},I9)}function RA(t){return t}function sye(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var TD=Math.max;function oye(t,e,n){return e=TD(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=TD(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),sye(t,this,a)}}function aye(t){return function(){return t}}var lye=$1?function(t,e){return $1(t,"toString",{configurable:!0,enumerable:!1,value:aye(e),writable:!0})}:RA;const uye=lye;var cye=800,fye=16,hye=Date.now;function dye(t){var e=0,n=0;return function(){var r=hye(),i=fye-(r-n);if(n=r,i>0){if(++e>=cye)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var pye=dye(uye);const mye=pye;function gye(t,e){return mye(oye(t,e,RA),t+"")}function vye(t,e,n){if(!Fo(n))return!1;var r=typeof e;return(r=="number"?Am(n)&&yR(e,n.length):r=="string"&&e in n)?Fv(n[e],t):!1}function yye(t){return gye(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&vye(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var _ye=yye(function(t,e,n){L9(t,e,n)});const Ts=_ye;var Nv=function(e){var n=e.zDepth,r=e.radius,i=e.background,s=e.children,o=e.styles,a=o===void 0?{}:o,l=Xt(Ts({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return K.createElement("div",{style:l.wrap},K.createElement("div",{style:l.bg}),K.createElement("div",{style:l.content},s))};Nv.propTypes={background:Ye.string,zDepth:Ye.oneOf([0,1,2,3,4,5]),radius:Ye.number,styles:Ye.object};Nv.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var xye=function(){return _a.Date.now()};const ab=xye;var Sye=/\s/;function Aye(t){for(var e=t.length;e--&&Sye.test(t.charAt(e)););return e}var wye=/^\s+/;function Eye(t){return t&&t.slice(0,Aye(t)+1).replace(wye,"")}var bye="[object Symbol]";function PA(t){return typeof t=="symbol"||xc(t)&&wh(t)==bye}var RD=0/0,Mye=/^[-+]0x[0-9a-f]+$/i,Cye=/^0b[01]+$/i,Tye=/^0o[0-7]+$/i,Rye=parseInt;function PD(t){if(typeof t=="number")return t;if(PA(t))return RD;if(Fo(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Fo(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Eye(t);var n=Cye.test(t);return n||Tye.test(t)?Rye(t.slice(2),n?2:8):Mye.test(t)?RD:+t}var Pye="Expected a function",Iye=Math.max,Lye=Math.min;function B9(t,e,n){var r,i,s,o,a,l,u=0,h=!1,p=!1,m=!0;if(typeof t!="function")throw new TypeError(Pye);e=PD(e)||0,Fo(n)&&(h=!!n.leading,p="maxWait"in n,s=p?Iye(PD(n.maxWait)||0,e):s,m="trailing"in n?!!n.trailing:m);function v(T){var I=r,F=i;return r=i=void 0,u=T,o=t.apply(F,I),o}function y(T){return u=T,a=setTimeout(_,e),h?v(T):o}function S(T){var I=T-l,F=T-u,B=e-I;return p?Lye(B,s-F):B}function A(T){var I=T-l,F=T-u;return l===void 0||I>=e||I<0||p&&F>=s}function _(){var T=ab();if(A(T))return w(T);a=setTimeout(_,S(T))}function w(T){return a=void 0,m&&r?v(T):(r=i=void 0,o)}function x(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function M(){return a===void 0?o:w(ab())}function R(){var T=ab(),I=A(T);if(r=arguments,i=this,l=T,I){if(a===void 0)return y(l);if(p)return clearTimeout(a),a=setTimeout(_,e),v(l)}return a===void 0&&(a=setTimeout(_,e)),o}return R.cancel=x,R.flush=M,R}var Bye="Expected a function";function Dye(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Bye);return Fo(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),B9(t,e,{leading:r,maxWait:e,trailing:i})}var Oye=function(e,n,r){var i=r.getBoundingClientRect(),s=i.width,o=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(r.getBoundingClientRect().left+window.pageXOffset),h=l-(r.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>s&&(u=s),h<0?h=0:h>o&&(h=o);var p=u/s,m=1-h/o;return{h:n.h,s:p,v:m,a:n.a,source:"hsv"}},Fye=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function Nye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uye(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function kye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var IA=function(t){kye(e,t);function e(n){Nye(this,e);var r=Uye(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,Oye(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var s=r.getContainerRenderWindow();s.addEventListener("mousemove",r.handleChange),s.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=Dye(function(i,s,o){i(s,o)},50),r}return Fye(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},s=i.color,o=i.white,a=i.black,l=i.pointer,u=i.circle,h=Xt({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:s,white:o,black:a,pointer:l,circle:u}},{custom:!!this.props.style});return K.createElement("div",{style:h.color,ref:function(m){return r.container=m},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},K.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),K.createElement("div",{style:h.white,className:"saturation-white"},K.createElement("div",{style:h.black,className:"saturation-black"}),K.createElement("div",{style:h.pointer},this.props.pointer?K.createElement(this.props.pointer,this.props):K.createElement("div",{style:h.circle}))))}}]),e}(oe.PureComponent||oe.Component);function Hye(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var zye=E9(Object.keys,Object);const Gye=zye;var $ye=Object.prototype,Wye=$ye.hasOwnProperty;function Vye(t){if(!mR(t))return Gye(t);var e=[];for(var n in Object(t))Wye.call(t,n)&&n!="constructor"&&e.push(n);return e}function _R(t){return Am(t)?P9(t):Vye(t)}function jye(t,e){return t&&A9(t,e,_R)}function Xye(t,e){return function(n,r){if(n==null)return n;if(!Am(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var Jye=Xye(jye);const D9=Jye;function Kye(t){return typeof t=="function"?t:RA}function Yye(t,e){var n=oo(t)?Hye:D9;return n(t,Kye(e))}function X1(t){"@babel/helpers - typeof";return X1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X1(t)}var qye=/^\s+/,Qye=/\s+$/;function wt(t,e){if(t=t||"",e=e||{},t instanceof wt)return t;if(!(this instanceof wt))return new wt(t,e);var n=Zye(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}wt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),n,r,i,s,o,a;return n=e.r/255,r=e.g/255,i=e.b/255,n<=.03928?s=n/12.92:s=Math.pow((n+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*a},setAlpha:function(e){return this._a=O9(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=LD(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=LD(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+n+", "+r+"%, "+i+"%)":"hsva("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=ID(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=ID(this._r,this._g,this._b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+n+", "+r+"%, "+i+"%)":"hsla("+n+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return BD(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return r_e(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(tr(this._r,255)*100)+"%",g:Math.round(tr(this._g,255)*100)+"%",b:Math.round(tr(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(tr(this._r,255)*100)+"%, "+Math.round(tr(this._g,255)*100)+"%, "+Math.round(tr(this._b,255)*100)+"%)":"rgba("+Math.round(tr(this._r,255)*100)+"%, "+Math.round(tr(this._g,255)*100)+"%, "+Math.round(tr(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:m_e[BD(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var n="#"+DD(this._r,this._g,this._b,this._a),r=n,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=wt(e);r="#"+DD(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+r+")"},toString:function(e){var n=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!n&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return wt(this.toString())},_applyModification:function(e,n){var r=e.apply(null,[this].concat([].slice.call(n)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(a_e,arguments)},brighten:function(){return this._applyModification(l_e,arguments)},darken:function(){return this._applyModification(u_e,arguments)},desaturate:function(){return this._applyModification(i_e,arguments)},saturate:function(){return this._applyModification(s_e,arguments)},greyscale:function(){return this._applyModification(o_e,arguments)},spin:function(){return this._applyModification(c_e,arguments)},_applyCombination:function(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(d_e,arguments)},complement:function(){return this._applyCombination(f_e,arguments)},monochromatic:function(){return this._applyCombination(p_e,arguments)},splitcomplement:function(){return this._applyCombination(h_e,arguments)},triad:function(){return this._applyCombination(OD,[3])},tetrad:function(){return this._applyCombination(OD,[4])}};wt.fromRatio=function(t,e){if(X1(t)=="object"){var n={};for(var r in t)t.hasOwnProperty(r)&&(r==="a"?n[r]=t[r]:n[r]=Yg(t[r]));t=n}return wt(t,e)};function Zye(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,s=null,o=!1,a=!1;return typeof t=="string"&&(t=__e(t)),X1(t)=="object"&&(wl(t.r)&&wl(t.g)&&wl(t.b)?(e=e_e(t.r,t.g,t.b),o=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):wl(t.h)&&wl(t.s)&&wl(t.v)?(r=Yg(t.s),i=Yg(t.v),e=n_e(t.h,r,i),o=!0,a="hsv"):wl(t.h)&&wl(t.s)&&wl(t.l)&&(r=Yg(t.s),s=Yg(t.l),e=t_e(t.h,r,s),o=!0,a="hsl"),t.hasOwnProperty("a")&&(n=t.a)),n=O9(n),{ok:o,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}function e_e(t,e,n){return{r:tr(t,255)*255,g:tr(e,255)*255,b:tr(n,255)*255}}function ID(t,e,n){t=tr(t,255),e=tr(e,255),n=tr(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=(r+i)/2;if(r==i)s=o=0;else{var l=r-i;switch(o=a>.5?l/(2-r-i):l/(r+i),r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,l:a}}function t_e(t,e,n){var r,i,s;t=tr(t,360),e=tr(e,100),n=tr(n,100);function o(u,h,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?u+(h-u)*6*p:p<1/2?h:p<2/3?u+(h-u)*(2/3-p)*6:u}if(e===0)r=i=s=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=o(l,a,t+1/3),i=o(l,a,t),s=o(l,a,t-1/3)}return{r:r*255,g:i*255,b:s*255}}function LD(t,e,n){t=tr(t,255),e=tr(e,255),n=tr(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),s,o,a=r,l=r-i;if(o=r===0?0:l/r,r==i)s=0;else{switch(r){case t:s=(e-n)/l+(e<n?6:0);break;case e:s=(n-t)/l+2;break;case n:s=(t-e)/l+4;break}s/=6}return{h:s,s:o,v:a}}function n_e(t,e,n){t=tr(t,360)*6,e=tr(e,100),n=tr(n,100);var r=Math.floor(t),i=t-r,s=n*(1-e),o=n*(1-i*e),a=n*(1-(1-i)*e),l=r%6,u=[n,o,s,s,a,n][l],h=[a,n,n,o,s,s][l],p=[s,s,a,n,n,o][l];return{r:u*255,g:h*255,b:p*255}}function BD(t,e,n,r){var i=[la(Math.round(t).toString(16)),la(Math.round(e).toString(16)),la(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function r_e(t,e,n,r,i){var s=[la(Math.round(t).toString(16)),la(Math.round(e).toString(16)),la(Math.round(n).toString(16)),la(F9(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function DD(t,e,n,r){var i=[la(F9(r)),la(Math.round(t).toString(16)),la(Math.round(e).toString(16)),la(Math.round(n).toString(16))];return i.join("")}wt.equals=function(t,e){return!t||!e?!1:wt(t).toRgbString()==wt(e).toRgbString()};wt.random=function(){return wt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function i_e(t,e){e=e===0?0:e||10;var n=wt(t).toHsl();return n.s-=e/100,n.s=LA(n.s),wt(n)}function s_e(t,e){e=e===0?0:e||10;var n=wt(t).toHsl();return n.s+=e/100,n.s=LA(n.s),wt(n)}function o_e(t){return wt(t).desaturate(100)}function a_e(t,e){e=e===0?0:e||10;var n=wt(t).toHsl();return n.l+=e/100,n.l=LA(n.l),wt(n)}function l_e(t,e){e=e===0?0:e||10;var n=wt(t).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),wt(n)}function u_e(t,e){e=e===0?0:e||10;var n=wt(t).toHsl();return n.l-=e/100,n.l=LA(n.l),wt(n)}function c_e(t,e){var n=wt(t).toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,wt(n)}function f_e(t){var e=wt(t).toHsl();return e.h=(e.h+180)%360,wt(e)}function OD(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var n=wt(t).toHsl(),r=[wt(t)],i=360/e,s=1;s<e;s++)r.push(wt({h:(n.h+s*i)%360,s:n.s,l:n.l}));return r}function h_e(t){var e=wt(t).toHsl(),n=e.h;return[wt(t),wt({h:(n+72)%360,s:e.s,l:e.l}),wt({h:(n+216)%360,s:e.s,l:e.l})]}function d_e(t,e,n){e=e||6,n=n||30;var r=wt(t).toHsl(),i=360/n,s=[wt(t)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(wt(r));return s}function p_e(t,e){e=e||6;for(var n=wt(t).toHsv(),r=n.h,i=n.s,s=n.v,o=[],a=1/e;e--;)o.push(wt({h:r,s:i,v:s})),s=(s+a)%1;return o}wt.mix=function(t,e,n){n=n===0?0:n||50;var r=wt(t).toRgb(),i=wt(e).toRgb(),s=n/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return wt(o)};wt.readability=function(t,e){var n=wt(t),r=wt(e);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)};wt.isReadable=function(t,e,n){var r=wt.readability(t,e),i,s;switch(s=!1,i=x_e(n),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};wt.mostReadable=function(t,e,n){var r=null,i=0,s,o,a,l;n=n||{},o=n.includeFallbackColors,a=n.level,l=n.size;for(var u=0;u<e.length;u++)s=wt.readability(t,e[u]),s>i&&(i=s,r=wt(e[u]));return wt.isReadable(t,r,{level:a,size:l})||!o?r:(n.includeFallbackColors=!1,wt.mostReadable(t,["#fff","#000"],n))};var TC=wt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},m_e=wt.hexNames=g_e(TC);function g_e(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function O9(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function tr(t,e){v_e(t)&&(t="100%");var n=y_e(t);return t=Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function LA(t){return Math.min(1,Math.max(0,t))}function Xs(t){return parseInt(t,16)}function v_e(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function y_e(t){return typeof t=="string"&&t.indexOf("%")!=-1}function la(t){return t.length==1?"0"+t:""+t}function Yg(t){return t<=1&&(t=t*100+"%"),t}function F9(t){return Math.round(parseFloat(t)*255).toString(16)}function FD(t){return Xs(t)/255}var Zo=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",n="(?:"+e+")|(?:"+t+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function wl(t){return!!Zo.CSS_UNIT.exec(t)}function __e(t){t=t.replace(qye,"").replace(Qye,"").toLowerCase();var e=!1;if(TC[t])t=TC[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Zo.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Zo.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Zo.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Zo.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Zo.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Zo.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Zo.hex8.exec(t))?{r:Xs(n[1]),g:Xs(n[2]),b:Xs(n[3]),a:FD(n[4]),format:e?"name":"hex8"}:(n=Zo.hex6.exec(t))?{r:Xs(n[1]),g:Xs(n[2]),b:Xs(n[3]),format:e?"name":"hex"}:(n=Zo.hex4.exec(t))?{r:Xs(n[1]+""+n[1]),g:Xs(n[2]+""+n[2]),b:Xs(n[3]+""+n[3]),a:FD(n[4]+""+n[4]),format:e?"name":"hex8"}:(n=Zo.hex3.exec(t))?{r:Xs(n[1]+""+n[1]),g:Xs(n[2]+""+n[2]),b:Xs(n[3]+""+n[3]),format:e?"name":"hex"}:!1}function x_e(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:e,size:n}}const S_e=Object.freeze(Object.defineProperty({__proto__:null,default:wt},Symbol.toStringTag,{value:"Module"}));var ND=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return Yye(n,function(s){if(e[s]&&(r+=1,isNaN(e[s])||(i+=1),s==="s"||s==="l")){var o=/^\d+%$/;o.test(e[s])&&(i+=1)}}),r===i?e:!1},qg=function(e,n){var r=e.hex?wt(e.hex):wt(e),i=r.toHsl(),s=r.toHsv(),o=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,s.h=n||0);var l=a==="000000"&&o.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:o,hsv:s,oldHue:e.h||n||i.h,source:e.source}},Rc=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&wt(e).isValid()},xR=function(e){if(!e)return"#fff";var n=qg(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"},lb=function(e,n){var r=e.replace("","");return wt(n+" ("+r+")")._ok},zg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A_e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function w_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E_e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function b_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ls=function(e){var n=function(r){b_e(i,r);function i(s){w_e(this,i);var o=E_e(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return o.handleChange=function(a,l){var u=ND(a);if(u){var h=qg(a,a.h||o.state.oldHue);o.setState(h),o.props.onChangeComplete&&o.debounce(o.props.onChangeComplete,h,l),o.props.onChange&&o.props.onChange(h,l)}},o.handleSwatchHover=function(a,l){var u=ND(a);if(u){var h=qg(a,a.h||o.state.oldHue);o.props.onSwatchHover&&o.props.onSwatchHover(h,l)}},o.state=zg({},qg(s.color,0)),o.debounce=B9(function(a,l,u){a(l,u)},100),o}return A_e(i,[{key:"render",value:function(){var o={};return this.props.onSwatchHover&&(o.onSwatchHover=this.handleSwatchHover),K.createElement(e,zg({},this.props,this.state,{onChange:this.handleChange},o))}}],[{key:"getDerivedStateFromProps",value:function(o,a){return zg({},qg(o.color,a.oldHue))}}]),i}(oe.PureComponent||oe.Component);return n.propTypes=zg({},e.propTypes),n.defaultProps=zg({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n},M_e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C_e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function T_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UD(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function R_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var P_e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){R_e(i,r);function i(){var s,o,a,l;T_e(this,i);for(var u=arguments.length,h=Array(u),p=0;p<u;p++)h[p]=arguments[p];return l=(o=(a=UD(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(h))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},o),UD(a,l)}return C_e(i,[{key:"render",value:function(){return K.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},K.createElement(e,M_e({},this.props,this.state)))}}]),i}(K.Component)},kD=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I_e=13,L_e=function(e){var n=e.color,r=e.style,i=e.onClick,s=i===void 0?function(){}:i,o=e.onHover,a=e.title,l=a===void 0?n:a,u=e.children,h=e.focus,p=e.focusStyle,m=p===void 0?{}:p,v=n==="transparent",y=Xt({default:{swatch:kD({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,h?m:{})}}),S=function(M){return s(n,M)},A=function(M){return M.keyCode===I_e&&s(n,M)},_=function(M){return o(n,M)},w={};return o&&(w.onMouseOver=_),K.createElement("div",kD({style:y.swatch,onClick:S,title:l,tabIndex:0,onKeyDown:A},w),u,v&&K.createElement(xm,{borderRadius:y.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Mh=P_e(L_e);var B_e=function(e){var n=e.direction,r=Xt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return K.createElement("div",{style:r.picker})},D_e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N9=function(e){var n=e.rgb,r=e.hsl,i=e.width,s=e.height,o=e.onChange,a=e.direction,l=e.style,u=e.renderers,h=e.pointer,p=e.className,m=p===void 0?"":p,v=Xt({default:{picker:{position:"relative",width:i,height:s},alpha:{radius:"2px",style:l}}});return K.createElement("div",{style:v.picker,className:"alpha-picker "+m},K.createElement(hR,D_e({},v.alpha,{rgb:n,hsl:r,pointer:h,renderers:u,onChange:o,direction:a})))};N9.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:B_e};ls(N9);function U9(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var O_e="__lodash_hash_undefined__";function F_e(t){return this.__data__.set(t,O_e),this}function N_e(t){return this.__data__.has(t)}function J1(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ql;++e<n;)this.add(t[e])}J1.prototype.add=J1.prototype.push=F_e;J1.prototype.has=N_e;function U_e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function k_e(t,e){return t.has(e)}var H_e=1,z_e=2;function k9(t,e,n,r,i,s){var o=n&H_e,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(t),h=s.get(e);if(u&&h)return u==e&&h==t;var p=-1,m=!0,v=n&z_e?new J1:void 0;for(s.set(t,e),s.set(e,t);++p<a;){var y=t[p],S=e[p];if(r)var A=o?r(S,y,p,e,t,s):r(y,S,p,t,e,s);if(A!==void 0){if(A)continue;m=!1;break}if(v){if(!U_e(e,function(_,w){if(!k_e(v,w)&&(y===_||i(y,_,n,r,s)))return v.push(w)})){m=!1;break}}else if(!(y===S||i(y,S,n,r,s))){m=!1;break}}return s.delete(t),s.delete(e),m}function G_e(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function $_e(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var W_e=1,V_e=2,j_e="[object Boolean]",X_e="[object Date]",J_e="[object Error]",K_e="[object Map]",Y_e="[object Number]",q_e="[object RegExp]",Q_e="[object Set]",Z_e="[object String]",exe="[object Symbol]",txe="[object ArrayBuffer]",nxe="[object DataView]",HD=_c?_c.prototype:void 0,ub=HD?HD.valueOf:void 0;function rxe(t,e,n,r,i,s,o){switch(n){case nxe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case txe:return!(t.byteLength!=e.byteLength||!s(new W1(t),new W1(e)));case j_e:case X_e:case Y_e:return Fv(+t,+e);case J_e:return t.name==e.name&&t.message==e.message;case q_e:case Z_e:return t==e+"";case K_e:var a=G_e;case Q_e:var l=r&W_e;if(a||(a=$_e),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=V_e,o.set(t,e);var h=k9(a(t),a(e),r,i,s,o);return o.delete(t),h;case exe:if(ub)return ub.call(t)==ub.call(e)}return!1}function ixe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function sxe(t,e,n){var r=e(t);return oo(t)?r:ixe(r,n(t))}function oxe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function axe(){return[]}var lxe=Object.prototype,uxe=lxe.propertyIsEnumerable,zD=Object.getOwnPropertySymbols,cxe=zD?function(t){return t==null?[]:(t=Object(t),oxe(zD(t),function(e){return uxe.call(t,e)}))}:axe;const fxe=cxe;function GD(t){return sxe(t,_R,fxe)}var hxe=1,dxe=Object.prototype,pxe=dxe.hasOwnProperty;function mxe(t,e,n,r,i,s){var o=n&hxe,a=GD(t),l=a.length,u=GD(e),h=u.length;if(l!=h&&!o)return!1;for(var p=l;p--;){var m=a[p];if(!(o?m in e:pxe.call(e,m)))return!1}var v=s.get(t),y=s.get(e);if(v&&y)return v==e&&y==t;var S=!0;s.set(t,e),s.set(e,t);for(var A=o;++p<l;){m=a[p];var _=t[m],w=e[m];if(r)var x=o?r(w,_,m,e,t,s):r(_,w,m,t,e,s);if(!(x===void 0?_===w||i(_,w,n,r,s):x)){S=!1;break}A||(A=m=="constructor")}if(S&&!A){var M=t.constructor,R=e.constructor;M!=R&&"constructor"in t&&"constructor"in e&&!(typeof M=="function"&&M instanceof M&&typeof R=="function"&&R instanceof R)&&(S=!1)}return s.delete(t),s.delete(e),S}var gxe=bh(_a,"DataView");const RC=gxe;var vxe=bh(_a,"Promise");const PC=vxe;var yxe=bh(_a,"Set");const IC=yxe;var _xe=bh(_a,"WeakMap");const LC=_xe;var $D="[object Map]",xxe="[object Object]",WD="[object Promise]",VD="[object Set]",jD="[object WeakMap]",XD="[object DataView]",Sxe=Eh(RC),Axe=Eh(q0),wxe=Eh(PC),Exe=Eh(IC),bxe=Eh(LC),Lf=wh;(RC&&Lf(new RC(new ArrayBuffer(1)))!=XD||q0&&Lf(new q0)!=$D||PC&&Lf(PC.resolve())!=WD||IC&&Lf(new IC)!=VD||LC&&Lf(new LC)!=jD)&&(Lf=function(t){var e=wh(t),n=e==xxe?t.constructor:void 0,r=n?Eh(n):"";if(r)switch(r){case Sxe:return XD;case Axe:return $D;case wxe:return WD;case Exe:return VD;case bxe:return jD}return e});const JD=Lf;var Mxe=1,KD="[object Arguments]",YD="[object Array]",yx="[object Object]",Cxe=Object.prototype,qD=Cxe.hasOwnProperty;function Txe(t,e,n,r,i,s){var o=oo(t),a=oo(e),l=o?YD:JD(t),u=a?YD:JD(e);l=l==KD?yx:l,u=u==KD?yx:u;var h=l==yx,p=u==yx,m=l==u;if(m&&j1(t)){if(!j1(e))return!1;o=!0,h=!1}if(m&&!h)return s||(s=new ja),o||vR(t)?k9(t,e,n,r,i,s):rxe(t,e,l,n,r,i,s);if(!(n&Mxe)){var v=h&&qD.call(t,"__wrapped__"),y=p&&qD.call(e,"__wrapped__");if(v||y){var S=v?t.value():t,A=y?e.value():e;return s||(s=new ja),i(S,A,n,r,s)}}return m?(s||(s=new ja),mxe(t,e,n,r,i,s)):!1}function SR(t,e,n,r,i){return t===e?!0:t==null||e==null||!xc(t)&&!xc(e)?t!==t&&e!==e:Txe(t,e,n,r,SR,i)}var Rxe=1,Pxe=2;function Ixe(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],u=t[l],h=a[1];if(o&&a[2]){if(u===void 0&&!(l in t))return!1}else{var p=new ja;if(r)var m=r(u,h,l,t,e,p);if(!(m===void 0?SR(h,u,Rxe|Pxe,r,p):m))return!1}}return!0}function H9(t){return t===t&&!Fo(t)}function Lxe(t){for(var e=_R(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,H9(i)]}return e}function z9(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function Bxe(t){var e=Lxe(t);return e.length==1&&e[0][2]?z9(e[0][0],e[0][1]):function(n){return n===t||Ixe(n,t,e)}}var Dxe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Oxe=/^\w*$/;function AR(t,e){if(oo(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||PA(t)?!0:Oxe.test(t)||!Dxe.test(t)||e!=null&&t in Object(e)}var Fxe="Expected a function";function wR(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Fxe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(wR.Cache||ql),n}wR.Cache=ql;var Nxe=500;function Uxe(t){var e=wR(t,function(r){return n.size===Nxe&&n.clear(),r}),n=e.cache;return e}var kxe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Hxe=/\\(\\)?/g,zxe=Uxe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(kxe,function(n,r,i,s){e.push(i?s.replace(Hxe,"$1"):r||n)}),e});const Gxe=zxe;var $xe=1/0,QD=_c?_c.prototype:void 0,ZD=QD?QD.toString:void 0;function G9(t){if(typeof t=="string")return t;if(oo(t))return U9(t,G9)+"";if(PA(t))return ZD?ZD.call(t):"";var e=t+"";return e=="0"&&1/t==-$xe?"-0":e}function Wxe(t){return t==null?"":G9(t)}function $9(t,e){return oo(t)?t:AR(t,e)?[t]:Gxe(Wxe(t))}var Vxe=1/0;function BA(t){if(typeof t=="string"||PA(t))return t;var e=t+"";return e=="0"&&1/t==-Vxe?"-0":e}function W9(t,e){e=$9(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[BA(e[n++])];return n&&n==r?t:void 0}function jxe(t,e,n){var r=t==null?void 0:W9(t,e);return r===void 0?n:r}function Xxe(t,e){return t!=null&&e in Object(t)}function Jxe(t,e,n){e=$9(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=BA(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&gR(i)&&yR(o,i)&&(oo(t)||V1(t)))}function Kxe(t,e){return t!=null&&Jxe(t,e,Xxe)}var Yxe=1,qxe=2;function Qxe(t,e){return AR(t)&&H9(e)?z9(BA(t),e):function(n){var r=jxe(n,t);return r===void 0&&r===e?Kxe(n,t):SR(e,r,Yxe|qxe)}}function Zxe(t){return function(e){return e==null?void 0:e[t]}}function e1e(t){return function(e){return W9(e,t)}}function t1e(t){return AR(t)?Zxe(BA(t)):e1e(t)}function n1e(t){return typeof t=="function"?t:t==null?RA:typeof t=="object"?oo(t)?Qxe(t[0],t[1]):Bxe(t):t1e(t)}function r1e(t,e){var n=-1,r=Am(t)?Array(t.length):[];return D9(t,function(i,s,o){r[++n]=e(i,s,o)}),r}function Ch(t,e){var n=oo(t)?U9:r1e;return n(t,n1e(e))}var i1e=function(e){var n=e.colors,r=e.onClick,i=e.onSwatchHover,s=Xt({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return K.createElement("div",{style:s.swatches},Ch(n,function(o){return K.createElement(Mh,{key:o,color:o,style:s.swatch,onClick:r,onHover:i,focusStyle:{boxShadow:"0 0 4px "+o}})}),K.createElement("div",{style:s.clear}))},ER=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,h=e.className,p=h===void 0?"":h,m=i==="transparent",v=function(A,_){Rc(A)&&n({hex:A,source:"hex"},_)},y=Xt(Ts({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:xR(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},u),{"hide-triangle":a==="hide"});return K.createElement("div",{style:y.card,className:"block-picker "+p},K.createElement("div",{style:y.triangle}),K.createElement("div",{style:y.head},m&&K.createElement(xm,{borderRadius:"6px 6px 0 0"}),K.createElement("div",{style:y.label},i)),K.createElement("div",{style:y.body},K.createElement(i1e,{colors:s,onClick:v,onSwatchHover:r}),K.createElement(_n,{style:{input:y.input},value:i,onChange:v})))};ER.propTypes={width:Ye.oneOfType([Ye.string,Ye.number]),colors:Ye.arrayOf(Ye.string),triangle:Ye.oneOf(["top","hide"]),styles:Ye.object};ER.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};ls(ER);var Vd={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},jd={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},Xd={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},Jd={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},Kd={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},Yd={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},qd={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},Qd={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},Zd={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},Qg={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},ep={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},tp={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},np={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},rp={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},ip={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},sp={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},op={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},ap={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},V9=function(e){var n=e.color,r=e.onClick,i=e.onSwatchHover,s=e.hover,o=e.active,a=e.circleSize,l=e.circleSpacing,u=Xt({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+n,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+n}}},{hover:s,active:o});return K.createElement("div",{style:u.swatch},K.createElement(Mh,{style:u.Swatch,color:n,onClick:r,onHover:i,focusStyle:{boxShadow:u.Swatch.boxShadow+", 0 0 5px "+n}}))};V9.defaultProps={circleSize:28,circleSpacing:14};const s1e=fR(V9);var bR=function(e){var n=e.width,r=e.onChange,i=e.onSwatchHover,s=e.colors,o=e.hex,a=e.circleSize,l=e.styles,u=l===void 0?{}:l,h=e.circleSpacing,p=e.className,m=p===void 0?"":p,v=Xt(Ts({default:{card:{width:n,display:"flex",flexWrap:"wrap",marginRight:-h,marginBottom:-h}}},u)),y=function(A,_){return r({hex:A,source:"hex"},_)};return K.createElement("div",{style:v.card,className:"circle-picker "+m},Ch(s,function(S){return K.createElement(s1e,{key:S,color:S,onClick:y,onSwatchHover:i,active:o===S.toLowerCase(),circleSize:a,circleSpacing:h})}))};bR.propTypes={width:Ye.oneOfType([Ye.string,Ye.number]),circleSize:Ye.number,circleSpacing:Ye.number,styles:Ye.object};bR.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Vd[500],jd[500],Xd[500],Jd[500],Kd[500],Yd[500],qd[500],Qd[500],Zd[500],Qg[500],ep[500],tp[500],np[500],rp[500],ip[500],sp[500],op[500],ap[500]],styles:{}};ls(bR);function eO(t){return t===void 0}var j9={};Object.defineProperty(j9,"__esModule",{value:!0});var tO=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o1e=oe,nO=a1e(o1e);function a1e(t){return t&&t.__esModule?t:{default:t}}function l1e(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var _x=24,u1e=j9.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?_x:r,s=t.height,o=s===void 0?_x:s,a=t.style,l=a===void 0?{}:a,u=l1e(t,["fill","width","height","style"]);return nO.default.createElement("svg",tO({viewBox:"0 0 "+_x+" "+_x,style:tO({fill:n,width:i,height:o},l)},u),nO.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},c1e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function f1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h1e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function d1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var X9=function(t){d1e(e,t);function e(n){f1e(this,e);var r=h1e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.toggleViews=function(){r.state.view==="hex"?r.setState({view:"rgb"}):r.state.view==="rgb"?r.setState({view:"hsl"}):r.state.view==="hsl"&&(r.props.hsl.a===1?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(i,s){i.hex?Rc(i.hex)&&r.props.onChange({hex:i.hex,source:"hex"},s):i.r||i.g||i.b?r.props.onChange({r:i.r||r.props.rgb.r,g:i.g||r.props.rgb.g,b:i.b||r.props.rgb.b,source:"rgb"},s):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},s)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),r.props.onChange({h:i.h||r.props.hsl.h,s:Number(eO(i.s)?r.props.hsl.s:i.s),l:Number(eO(i.l)?r.props.hsl.l:i.l),source:"hsl"},s))},r.showHighlight=function(i){i.currentTarget.style.background="#eee"},r.hideHighlight=function(i){i.currentTarget.style.background="transparent"},n.hsl.a!==1&&n.view==="hex"?r.state={view:"rgb"}:r.state={view:n.view},r}return c1e(e,[{key:"render",value:function(){var r=this,i=Xt({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),s=void 0;return this.state.view==="hex"?s=K.createElement("div",{style:i.fields,className:"flexbox-fix"},K.createElement("div",{style:i.field},K.createElement(_n,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?s=K.createElement("div",{style:i.fields,className:"flexbox-fix"},K.createElement("div",{style:i.field},K.createElement(_n,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),K.createElement("div",{style:i.field},K.createElement(_n,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),K.createElement("div",{style:i.field},K.createElement(_n,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),K.createElement("div",{style:i.alpha},K.createElement(_n,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(s=K.createElement("div",{style:i.fields,className:"flexbox-fix"},K.createElement("div",{style:i.field},K.createElement(_n,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),K.createElement("div",{style:i.field},K.createElement(_n,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),K.createElement("div",{style:i.field},K.createElement(_n,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),K.createElement("div",{style:i.alpha},K.createElement(_n,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),K.createElement("div",{style:i.wrap,className:"flexbox-fix"},s,K.createElement("div",{style:i.toggle},K.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(a){return r.icon=a}},K.createElement(u1e,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(K.Component);X9.defaultProps={view:"hex"};var rO=function(){var e=Xt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return K.createElement("div",{style:e.picker})},p1e=function(){var e=Xt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return K.createElement("div",{style:e.picker})},MR=function(e){var n=e.width,r=e.onChange,i=e.disableAlpha,s=e.rgb,o=e.hsl,a=e.hsv,l=e.hex,u=e.renderers,h=e.styles,p=h===void 0?{}:h,m=e.className,v=m===void 0?"":m,y=e.defaultView,S=Xt(Ts({default:{picker:{width:n,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+s.r+", "+s.g+", "+s.b+", "+s.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},p),{disableAlpha:i});return K.createElement("div",{style:S.picker,className:"chrome-picker "+v},K.createElement("div",{style:S.saturation},K.createElement(IA,{style:S.Saturation,hsl:o,hsv:a,pointer:p1e,onChange:r})),K.createElement("div",{style:S.body},K.createElement("div",{style:S.controls,className:"flexbox-fix"},K.createElement("div",{style:S.color},K.createElement("div",{style:S.swatch},K.createElement("div",{style:S.active}),K.createElement(xm,{renderers:u}))),K.createElement("div",{style:S.toggles},K.createElement("div",{style:S.hue},K.createElement(Sm,{style:S.Hue,hsl:o,pointer:rO,onChange:r})),K.createElement("div",{style:S.alpha},K.createElement(hR,{style:S.Alpha,rgb:s,hsl:o,pointer:rO,renderers:u,onChange:r})))),K.createElement(X9,{rgb:s,hsl:o,hex:l,view:y,onChange:r,disableAlpha:i})))};MR.propTypes={width:Ye.oneOfType([Ye.string,Ye.number]),disableAlpha:Ye.bool,styles:Ye.object,defaultView:Ye.oneOf(["hex","rgb","hsl"])};MR.defaultProps={width:225,disableAlpha:!1,styles:{}};ls(MR);var m1e=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.active,a=Xt({default:{color:{background:n,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:xR(n),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return K.createElement(Mh,{style:a.color,color:n,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},K.createElement("div",{style:a.dot}))},g1e=function(e){var n=e.hex,r=e.rgb,i=e.onChange,s=Xt({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:n},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(l,u){l.r||l.g||l.b?i({r:l.r||r.r,g:l.g||r.g,b:l.b||r.b,source:"rgb"},u):i({hex:l.hex,source:"hex"},u)};return K.createElement("div",{style:s.fields,className:"flexbox-fix"},K.createElement("div",{style:s.active}),K.createElement(_n,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:n,onChange:o}),K.createElement(_n,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:r.r,onChange:o}),K.createElement(_n,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:r.g,onChange:o}),K.createElement(_n,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:r.b,onChange:o}))},CR=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.colors,s=e.hex,o=e.rgb,a=e.styles,l=a===void 0?{}:a,u=e.className,h=u===void 0?"":u,p=Xt(Ts({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),m=function(y,S){y.hex?Rc(y.hex)&&n({hex:y.hex,source:"hex"},S):n(y,S)};return K.createElement(Nv,{style:p.Compact,styles:l},K.createElement("div",{style:p.compact,className:"compact-picker "+h},K.createElement("div",null,Ch(i,function(v){return K.createElement(m1e,{key:v,color:v,active:v.toLowerCase()===s,onClick:m,onSwatchHover:r})}),K.createElement("div",{style:p.clear})),K.createElement(g1e,{hex:s,rgb:o,onChange:m})))};CR.propTypes={colors:Ye.arrayOf(Ye.string),styles:Ye.object};CR.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};ls(CR);var v1e=function(e){var n=e.hover,r=e.color,i=e.onClick,s=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=Xt({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:n});return K.createElement("div",{style:a.swatch},K.createElement(Mh,{color:r,onClick:i,onHover:s,focusStyle:o}))};const y1e=fR(v1e);var TR=function(e){var n=e.width,r=e.colors,i=e.onChange,s=e.onSwatchHover,o=e.triangle,a=e.styles,l=a===void 0?{}:a,u=e.className,h=u===void 0?"":u,p=Xt(Ts({default:{card:{width:n,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right","bottom-left-triangle":o==="bottom-left","bottom-right-triangle":o==="bottom-right"}),m=function(y,S){return i({hex:y,source:"hex"},S)};return K.createElement("div",{style:p.card,className:"github-picker "+h},K.createElement("div",{style:p.triangleShadow}),K.createElement("div",{style:p.triangle}),Ch(r,function(v){return K.createElement(y1e,{color:v,key:v,onClick:m,onSwatchHover:s})}))};TR.propTypes={width:Ye.oneOfType([Ye.string,Ye.number]),colors:Ye.arrayOf(Ye.string),triangle:Ye.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:Ye.object};TR.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};ls(TR);var _1e=function(e){var n=e.direction,r=Xt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:n==="vertical"});return K.createElement("div",{style:r.picker})},x1e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RR=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.hsl,o=e.direction,a=e.pointer,l=e.styles,u=l===void 0?{}:l,h=e.className,p=h===void 0?"":h,m=Xt(Ts({default:{picker:{position:"relative",width:n,height:r},hue:{radius:"2px"}}},u)),v=function(S){return i({a:1,h:S.h,l:.5,s:1})};return K.createElement("div",{style:m.picker,className:"hue-picker "+p},K.createElement(Sm,x1e({},m.hue,{hsl:s,pointer:a,onChange:v,direction:o})))};RR.propTypes={styles:Ye.object};RR.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:_1e,styles:{}};ls(RR);var S1e=function(e){var n=e.onChange,r=e.hex,i=e.rgb,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,u=Xt(Ts({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),h=function(m,v){m.hex?Rc(m.hex)&&n({hex:m.hex,source:"hex"},v):(m.r||m.g||m.b)&&n({r:m.r||i.r,g:m.g||i.g,b:m.b||i.b,source:"rgb"},v)};return K.createElement(Nv,{styles:o},K.createElement("div",{style:u.material,className:"material-picker "+l},K.createElement(_n,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:r,onChange:h}),K.createElement("div",{style:u.split,className:"flexbox-fix"},K.createElement("div",{style:u.third},K.createElement(_n,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:i.r,onChange:h})),K.createElement("div",{style:u.third},K.createElement(_n,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:i.g,onChange:h})),K.createElement("div",{style:u.third},K.createElement(_n,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:i.b,onChange:h})))))};ls(S1e);var A1e=function(e){var n=e.onChange,r=e.rgb,i=e.hsv,s=e.hex,o=Xt({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(u,h){u["#"]?Rc(u["#"])&&n({hex:u["#"],source:"hex"},h):u.r||u.g||u.b?n({r:u.r||r.r,g:u.g||r.g,b:u.b||r.b,source:"rgb"},h):(u.h||u.s||u.v)&&n({h:u.h||i.h,s:u.s||i.s,v:u.v||i.v,source:"hsv"},h)};return K.createElement("div",{style:o.fields},K.createElement(_n,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(i.h),onChange:a}),K.createElement(_n,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:a}),K.createElement(_n,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:a}),K.createElement("div",{style:o.divider}),K.createElement(_n,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:a}),K.createElement(_n,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:a}),K.createElement(_n,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:a}),K.createElement("div",{style:o.divider}),K.createElement(_n,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:s.replace("#",""),onChange:a}),K.createElement("div",{style:o.fieldSymbols},K.createElement("div",{style:o.symbol},""),K.createElement("div",{style:o.symbol},"%"),K.createElement("div",{style:o.symbol},"%")))},w1e=function(e){var n=e.hsl,r=Xt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":n.l>.5});return K.createElement("div",{style:r.picker})},E1e=function(){var e=Xt({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return K.createElement("div",{style:e.pointer},K.createElement("div",{style:e.left},K.createElement("div",{style:e.leftInside})),K.createElement("div",{style:e.right},K.createElement("div",{style:e.rightInside})))},iO=function(e){var n=e.onClick,r=e.label,i=e.children,s=e.active,o=Xt({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:s});return K.createElement("div",{style:o.button,onClick:n},r||i)},b1e=function(e){var n=e.rgb,r=e.currentColor,i=Xt({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+n.r+","+n.g+", "+n.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return K.createElement("div",null,K.createElement("div",{style:i.label},"new"),K.createElement("div",{style:i.swatches},K.createElement("div",{style:i.new}),K.createElement("div",{style:i.current})),K.createElement("div",{style:i.label},"current"))},M1e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function C1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T1e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function R1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var PR=function(t){R1e(e,t);function e(n){C1e(this,e);var r=T1e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.state={currentColor:n.hex},r}return M1e(e,[{key:"render",value:function(){var r=this.props,i=r.styles,s=i===void 0?{}:i,o=r.className,a=o===void 0?"":o,l=Xt(Ts({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},s));return K.createElement("div",{style:l.picker,className:"photoshop-picker "+a},K.createElement("div",{style:l.head},this.props.header),K.createElement("div",{style:l.body,className:"flexbox-fix"},K.createElement("div",{style:l.saturation},K.createElement(IA,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:w1e,onChange:this.props.onChange})),K.createElement("div",{style:l.hue},K.createElement(Sm,{direction:"vertical",hsl:this.props.hsl,pointer:E1e,onChange:this.props.onChange})),K.createElement("div",{style:l.controls},K.createElement("div",{style:l.top,className:"flexbox-fix"},K.createElement("div",{style:l.previews},K.createElement(b1e,{rgb:this.props.rgb,currentColor:this.state.currentColor})),K.createElement("div",{style:l.actions},K.createElement(iO,{label:"OK",onClick:this.props.onAccept,active:!0}),K.createElement(iO,{label:"Cancel",onClick:this.props.onCancel}),K.createElement(A1e,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(K.Component);PR.propTypes={header:Ye.string,styles:Ye.object};PR.defaultProps={header:"Color Picker",styles:{}};ls(PR);var P1e=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.disableAlpha,a=Xt({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),l=function(h,p){h.hex?Rc(h.hex)&&n({hex:h.hex,source:"hex"},p):h.r||h.g||h.b?n({r:h.r||r.r,g:h.g||r.g,b:h.b||r.b,a:r.a,source:"rgb"},p):h.a&&(h.a<0?h.a=0:h.a>100&&(h.a=100),h.a/=100,n({h:i.h,s:i.s,l:i.l,a:h.a,source:"rgb"},p))};return K.createElement("div",{style:a.fields,className:"flexbox-fix"},K.createElement("div",{style:a.double},K.createElement(_n,{style:{input:a.input,label:a.label},label:"hex",value:s.replace("#",""),onChange:l})),K.createElement("div",{style:a.single},K.createElement(_n,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),K.createElement("div",{style:a.single},K.createElement(_n,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),K.createElement("div",{style:a.single},K.createElement(_n,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),K.createElement("div",{style:a.alpha},K.createElement(_n,{style:{input:a.input,label:a.label},label:"a",value:Math.round(r.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},I1e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J9=function(e){var n=e.colors,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=Xt({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!n||!n.length}),a=function(u,h){i({hex:u,source:"hex"},h)};return K.createElement("div",{style:o.colors,className:"flexbox-fix"},n.map(function(l){var u=typeof l=="string"?{color:l}:l,h=""+u.color+(u.title||"");return K.createElement("div",{key:h,style:o.swatchWrap},K.createElement(Mh,I1e({},u,{style:o.swatch,onClick:a,onHover:s,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+u.color}})))}))};J9.propTypes={colors:Ye.arrayOf(Ye.oneOfType([Ye.string,Ye.shape({color:Ye.string,title:Ye.string})])).isRequired};var L1e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IR=function(e){var n=e.width,r=e.rgb,i=e.hex,s=e.hsv,o=e.hsl,a=e.onChange,l=e.onSwatchHover,u=e.disableAlpha,h=e.presetColors,p=e.renderers,m=e.styles,v=m===void 0?{}:m,y=e.className,S=y===void 0?"":y,A=Xt(Ts({default:L1e({picker:{width:n,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},v),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},v),{disableAlpha:u});return K.createElement("div",{style:A.picker,className:"sketch-picker "+S},K.createElement("div",{style:A.saturation},K.createElement(IA,{style:A.Saturation,hsl:o,hsv:s,onChange:a})),K.createElement("div",{style:A.controls,className:"flexbox-fix"},K.createElement("div",{style:A.sliders},K.createElement("div",{style:A.hue},K.createElement(Sm,{style:A.Hue,hsl:o,onChange:a})),K.createElement("div",{style:A.alpha},K.createElement(hR,{style:A.Alpha,rgb:r,hsl:o,renderers:p,onChange:a}))),K.createElement("div",{style:A.color},K.createElement(xm,null),K.createElement("div",{style:A.activeColor}))),K.createElement(P1e,{rgb:r,hsl:o,hex:i,onChange:a,disableAlpha:u}),K.createElement(J9,{colors:h,onClick:a,onSwatchHover:l}))};IR.propTypes={disableAlpha:Ye.bool,width:Ye.oneOfType([Ye.string,Ye.number]),styles:Ye.object};IR.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};ls(IR);var Gg=function(e){var n=e.hsl,r=e.offset,i=e.onClick,s=i===void 0?function(){}:i,o=e.active,a=e.first,l=e.last,u=Xt({default:{swatch:{height:"12px",background:"hsl("+n.h+", 50%, "+r*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:a,last:l}),h=function(m){return s({h:n.h,s:.5,l:r,source:"hsl"},m)};return K.createElement("div",{style:u.swatch,onClick:h})},B1e=function(e){var n=e.onClick,r=e.hsl,i=Xt({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),s=.1;return K.createElement("div",{style:i.swatches},K.createElement("div",{style:i.swatch},K.createElement(Gg,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<s&&Math.abs(r.s-.5)<s,onClick:n,first:!0})),K.createElement("div",{style:i.swatch},K.createElement(Gg,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<s&&Math.abs(r.s-.5)<s,onClick:n})),K.createElement("div",{style:i.swatch},K.createElement(Gg,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<s&&Math.abs(r.s-.5)<s,onClick:n})),K.createElement("div",{style:i.swatch},K.createElement(Gg,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<s&&Math.abs(r.s-.5)<s,onClick:n})),K.createElement("div",{style:i.swatch},K.createElement(Gg,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<s&&Math.abs(r.s-.5)<s,onClick:n,last:!0})),K.createElement("div",{style:i.clear}))},D1e=function(){var e=Xt({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return K.createElement("div",{style:e.picker})},LR=function(e){var n=e.hsl,r=e.onChange,i=e.pointer,s=e.styles,o=s===void 0?{}:s,a=e.className,l=a===void 0?"":a,u=Xt(Ts({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return K.createElement("div",{style:u.wrap||{},className:"slider-picker "+l},K.createElement("div",{style:u.hue},K.createElement(Sm,{style:u.Hue,hsl:n,pointer:i,onChange:r})),K.createElement("div",{style:u.swatches},K.createElement(B1e,{hsl:n,onClick:r})))};LR.propTypes={styles:Ye.object};LR.defaultProps={pointer:D1e,styles:{}};ls(LR);var K9={};Object.defineProperty(K9,"__esModule",{value:!0});var sO=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O1e=oe,oO=F1e(O1e);function F1e(t){return t&&t.__esModule?t:{default:t}}function N1e(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var xx=24,U1e=K9.default=function(t){var e=t.fill,n=e===void 0?"currentColor":e,r=t.width,i=r===void 0?xx:r,s=t.height,o=s===void 0?xx:s,a=t.style,l=a===void 0?{}:a,u=N1e(t,["fill","width","height","style"]);return oO.default.createElement("svg",sO({viewBox:"0 0 "+xx+" "+xx,style:sO({fill:n,width:i,height:o},l)},u),oO.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},k1e=function(e){var n=e.color,r=e.onClick,i=r===void 0?function(){}:r,s=e.onSwatchHover,o=e.first,a=e.last,l=e.active,u=Xt({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:n,marginBottom:"1px"},check:{color:xR(n),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:a,active:l,"color-#FFFFFF":n==="#FFFFFF",transparent:n==="transparent"});return K.createElement(Mh,{color:n,style:u.color,onClick:i,onHover:s,focusStyle:{boxShadow:"0 0 4px "+n}},K.createElement("div",{style:u.check},K.createElement(U1e,null)))},H1e=function(e){var n=e.onClick,r=e.onSwatchHover,i=e.group,s=e.active,o=Xt({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return K.createElement("div",{style:o.group},Ch(i,function(a,l){return K.createElement(k1e,{key:a,color:a,active:a.toLowerCase()===s,first:l===0,last:l===i.length-1,onClick:n,onSwatchHover:r})}))},BR=function(e){var n=e.width,r=e.height,i=e.onChange,s=e.onSwatchHover,o=e.colors,a=e.hex,l=e.styles,u=l===void 0?{}:l,h=e.className,p=h===void 0?"":h,m=Xt(Ts({default:{picker:{width:n,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},u)),v=function(S,A){return i({hex:S,source:"hex"},A)};return K.createElement("div",{style:m.picker,className:"swatches-picker "+p},K.createElement(Nv,null,K.createElement("div",{style:m.overflow},K.createElement("div",{style:m.body},Ch(o,function(y){return K.createElement(H1e,{key:y.toString(),group:y,active:a,onClick:v,onSwatchHover:s})}),K.createElement("div",{style:m.clear})))))};BR.propTypes={width:Ye.oneOfType([Ye.string,Ye.number]),height:Ye.oneOfType([Ye.string,Ye.number]),colors:Ye.arrayOf(Ye.arrayOf(Ye.string)),styles:Ye.object};BR.defaultProps={width:320,height:240,colors:[[Vd[900],Vd[700],Vd[500],Vd[300],Vd[100]],[jd[900],jd[700],jd[500],jd[300],jd[100]],[Xd[900],Xd[700],Xd[500],Xd[300],Xd[100]],[Jd[900],Jd[700],Jd[500],Jd[300],Jd[100]],[Kd[900],Kd[700],Kd[500],Kd[300],Kd[100]],[Yd[900],Yd[700],Yd[500],Yd[300],Yd[100]],[qd[900],qd[700],qd[500],qd[300],qd[100]],[Qd[900],Qd[700],Qd[500],Qd[300],Qd[100]],[Zd[900],Zd[700],Zd[500],Zd[300],Zd[100]],["#194D33",Qg[700],Qg[500],Qg[300],Qg[100]],[ep[900],ep[700],ep[500],ep[300],ep[100]],[tp[900],tp[700],tp[500],tp[300],tp[100]],[np[900],np[700],np[500],np[300],np[100]],[rp[900],rp[700],rp[500],rp[300],rp[100]],[ip[900],ip[700],ip[500],ip[300],ip[100]],[sp[900],sp[700],sp[500],sp[300],sp[100]],[op[900],op[700],op[500],op[300],op[100]],[ap[900],ap[700],ap[500],ap[300],ap[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};ls(BR);var DR=function(e){var n=e.onChange,r=e.onSwatchHover,i=e.hex,s=e.colors,o=e.width,a=e.triangle,l=e.styles,u=l===void 0?{}:l,h=e.className,p=h===void 0?"":h,m=Xt(Ts({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},u),{"hide-triangle":a==="hide","top-left-triangle":a==="top-left","top-right-triangle":a==="top-right"}),v=function(S,A){Rc(S)&&n({hex:S,source:"hex"},A)};return K.createElement("div",{style:m.card,className:"twitter-picker "+p},K.createElement("div",{style:m.triangleShadow}),K.createElement("div",{style:m.triangle}),K.createElement("div",{style:m.body},Ch(s,function(y,S){return K.createElement(Mh,{key:S,color:y,hex:y,style:m.swatch,onClick:v,onHover:r,focusStyle:{boxShadow:"0 0 4px "+y}})}),K.createElement("div",{style:m.hash},"#"),K.createElement(_n,{label:null,style:{input:m.input},value:i.replace("#",""),onChange:v}),K.createElement("div",{style:m.clear})))};DR.propTypes={width:Ye.oneOfType([Ye.string,Ye.number]),triangle:Ye.oneOf(["hide","top-left","top-right"]),colors:Ye.arrayOf(Ye.string),styles:Ye.object};DR.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};ls(DR);var OR=function(e){var n=Xt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return K.createElement("div",{style:n.picker})};OR.propTypes={hsl:Ye.shape({h:Ye.number,s:Ye.number,l:Ye.number,a:Ye.number})};OR.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var FR=function(e){var n=Xt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return K.createElement("div",{style:n.picker})};FR.propTypes={hsl:Ye.shape({h:Ye.number,s:Ye.number,l:Ye.number,a:Ye.number})};FR.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var z1e=function(e){var n=e.onChange,r=e.rgb,i=e.hsl,s=e.hex,o=e.hsv,a=function(v,y){if(v.hex)Rc(v.hex)&&n({hex:v.hex,source:"hex"},y);else if(v.rgb){var S=v.rgb.split(",");lb(v.rgb,"rgb")&&n({r:S[0],g:S[1],b:S[2],a:1,source:"rgb"},y)}else if(v.hsv){var A=v.hsv.split(",");lb(v.hsv,"hsv")&&(A[2]=A[2].replace("%",""),A[1]=A[1].replace("%",""),A[0]=A[0].replace("",""),A[1]==1?A[1]=.01:A[2]==1&&(A[2]=.01),n({h:Number(A[0]),s:Number(A[1]),v:Number(A[2]),source:"hsv"},y))}else if(v.hsl){var _=v.hsl.split(",");lb(v.hsl,"hsl")&&(_[2]=_[2].replace("%",""),_[1]=_[1].replace("%",""),_[0]=_[0].replace("",""),p[1]==1?p[1]=.01:p[2]==1&&(p[2]=.01),n({h:Number(_[0]),s:Number(_[1]),v:Number(_[2]),source:"hsl"},y))}},l=Xt({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),u=r.r+", "+r.g+", "+r.b,h=Math.round(i.h)+", "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",p=Math.round(o.h)+", "+Math.round(o.s*100)+"%, "+Math.round(o.v*100)+"%";return K.createElement("div",{style:l.wrap,className:"flexbox-fix"},K.createElement("div",{style:l.fields},K.createElement("div",{style:l.double},K.createElement(_n,{style:{input:l.input,label:l.label},label:"hex",value:s,onChange:a})),K.createElement("div",{style:l.column},K.createElement("div",{style:l.single},K.createElement(_n,{style:{input:l.input2,label:l.label2},label:"rgb",value:u,onChange:a})),K.createElement("div",{style:l.single},K.createElement(_n,{style:{input:l.input2,label:l.label2},label:"hsv",value:p,onChange:a})),K.createElement("div",{style:l.single},K.createElement(_n,{style:{input:l.input2,label:l.label2},label:"hsl",value:h,onChange:a})))))},NR=function(e){var n=e.width,r=e.onChange,i=e.rgb,s=e.hsl,o=e.hsv,a=e.hex,l=e.header,u=e.styles,h=u===void 0?{}:u,p=e.className,m=p===void 0?"":p,v=Xt(Ts({default:{picker:{width:n,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},h));return K.createElement("div",{style:v.picker,className:"google-picker "+m},K.createElement("div",{style:v.head},l),K.createElement("div",{style:v.swatch}),K.createElement("div",{style:v.saturation},K.createElement(IA,{hsl:s,hsv:o,pointer:OR,onChange:r})),K.createElement("div",{style:v.body},K.createElement("div",{style:v.controls,className:"flexbox-fix"},K.createElement("div",{style:v.hue},K.createElement(Sm,{style:v.Hue,hsl:s,radius:"4px",pointer:FR,onChange:r}))),K.createElement(z1e,{rgb:i,hsl:s,hex:a,hsv:o,onChange:r})))};NR.propTypes={width:Ye.oneOfType([Ye.string,Ye.number]),styles:Ye.object,header:Ye.string};NR.defaultProps={width:652,styles:{},header:"Color picker"};ls(NR);const G1e=ze.div`
  width: 100%;
  min-width: 0;
  display: flex;
  flex: 0 1 auto;
  overflow: auto;
  border-radius: 4px;
  -webkit-overflow-scrolling: touch;
  -ms-overflow-style: -ms-autohiding-scrollbar;

  &::-webkit-scrollbar {
    display: none;
  }
`,$1e=ze.button`
  width: 38px;
  height: 38px;
  margin-right: 3px;
  border-radius: 4px;
  flex: 0 0 auto;
  background-color: ${t=>t.color};
  border: none;

  &:last-child {
    margin-right: 0px;
  }

  &:focus {
    outline: none;
  }
`;function W1e({colorsArray:t,handleColorChange:e}){return G.jsx(Lr,{children:G.jsx(G1e,{children:t.map((n,r)=>G.jsx($1e,{color:n,onClick:()=>e(n)},r))})})}var qx={},Uv={},UR={};Object.defineProperty(UR,"__esModule",{value:!0});UR.calculateChange=function(e,n,r,i,s){var o=s.clientWidth,a=s.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,u=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,h=l-(s.getBoundingClientRect().left+window.pageXOffset),p=u-(s.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var m=void 0;if(p<0?m=0:p>a?m=1:m=Math.round(p*100/a)/100,n.a!==m)return{h:n.h,s:n.s,l:n.l,a:m,source:"rgb"}}else{var v=void 0;if(h<0?v=0:h>o?v=1:v=Math.round(h*100/o)/100,i!==v)return{h:n.h,s:n.s,l:n.l,a:v,source:"rgb"}}return null};var Th={},DA={};Object.defineProperty(DA,"__esModule",{value:!0});var cb={},V1e=DA.render=function(e,n,r,i){if(typeof document>"u"&&!i)return null;var s=i?new i:document.createElement("canvas");s.width=r*2,s.height=r*2;var o=s.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,s.width,s.height),o.fillStyle=n,o.fillRect(0,0,r,r),o.translate(r,r),o.fillRect(0,0,r,r),s.toDataURL()):null};DA.get=function(e,n,r,i){var s=e+"-"+n+"-"+r+(i?"-server":"");if(cb[s])return cb[s];var o=V1e(e,n,r,i);return cb[s]=o,o};Object.defineProperty(Th,"__esModule",{value:!0});Th.Checkboard=void 0;var aO=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y9=oe,lO=q9(Y9),j1e=Zr,X1e=q9(j1e),J1e=DA,K1e=Y1e(J1e);function Y1e(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function q9(t){return t&&t.__esModule?t:{default:t}}var Q9=Th.Checkboard=function(e){var n=e.white,r=e.grey,i=e.size,s=e.renderers,o=e.borderRadius,a=e.boxShadow,l=e.children,u=(0,X1e.default)({default:{grid:{borderRadius:o,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+K1e.get(n,r,i,s.canvas)+") center left"}}});return(0,Y9.isValidElement)(l)?lO.default.cloneElement(l,aO({},l.props,{style:aO({},l.props.style,u.grid)})):lO.default.createElement("div",{style:u.grid})};Q9.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};Th.default=Q9;Object.defineProperty(Uv,"__esModule",{value:!0});Uv.Alpha=void 0;var q1e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q1e=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),BC=oe,Hu=kR(BC),Z1e=Zr,eSe=kR(Z1e),tSe=UR,nSe=sSe(tSe),rSe=Th,iSe=kR(rSe);function sSe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function kR(t){return t&&t.__esModule?t:{default:t}}function oSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function aSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var lSe=Uv.Alpha=function(t){aSe(e,t);function e(){var n,r,i,s;oSe(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=uO(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var h=nSe.calculateChange(u,i.props.hsl,i.props.direction,i.props.a,i.container);h&&typeof i.props.onChange=="function"&&i.props.onChange(h,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},r),uO(i,s)}return Q1e(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var r=this,i=this.props.rgb,s=(0,eSe.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+`, 0) 0%,
           rgba(`+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:q1e({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return Hu.default.createElement("div",{style:s.alpha},Hu.default.createElement("div",{style:s.checkboard},Hu.default.createElement(iSe.default,{renderers:this.props.renderers})),Hu.default.createElement("div",{style:s.gradient}),Hu.default.createElement("div",{style:s.container,ref:function(a){return r.container=a},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},Hu.default.createElement("div",{style:s.pointer},this.props.pointer?Hu.default.createElement(this.props.pointer,this.props):Hu.default.createElement("div",{style:s.slider}))))}}]),e}(BC.PureComponent||BC.Component);Uv.default=lSe;var kv={};Object.defineProperty(kv,"__esModule",{value:!0});kv.EditableInput=void 0;var uSe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),DC=oe,fb=Z9(DC),cSe=Zr,fSe=Z9(cSe);function Z9(t){return t&&t.__esModule?t:{default:t}}function hSe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pSe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function mSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var gSe=1,eH=38,vSe=40,ySe=[eH,vSe],_Se=function(e){return ySe.indexOf(e)>-1},xSe=function(e){return Number(String(e).replace(/%/g,""))},SSe=1,ASe=kv.EditableInput=function(t){mSe(e,t);function e(n){dSe(this,e);var r=pSe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(i){r.setUpdatedValue(i.target.value,i)},r.handleKeyDown=function(i){var s=xSe(i.target.value);if(!isNaN(s)&&_Se(i.keyCode)){var o=r.getArrowOffset(),a=i.keyCode===eH?s+o:s-o;r.setUpdatedValue(a,i)}},r.handleDrag=function(i){if(r.props.dragLabel){var s=Math.round(r.props.value+i.movementX);s>=0&&s<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(s),i)}},r.handleMouseDown=function(i){r.props.dragLabel&&(i.preventDefault(),r.handleDrag(i),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(n.value).toUpperCase(),blurValue:String(n.value).toUpperCase()},r.inputId="rc-editable-input-"+SSe++,r}return uSe(e,[{key:"componentDidUpdate",value:function(r,i){this.props.value!==this.state.value&&(r.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(r){return hSe({},this.props.label,r)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||gSe}},{key:"setUpdatedValue",value:function(r,i){var s=this.props.label?this.getValueObjectWithLabel(r):r;this.props.onChange&&this.props.onChange(s,i),this.setState({value:r})}},{key:"render",value:function(){var r=this,i=(0,fSe.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return fb.default.createElement("div",{style:i.wrap},fb.default.createElement("input",{id:this.inputId,style:i.input,ref:function(o){return r.input=o},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?fb.default.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(DC.PureComponent||DC.Component);kv.default=ASe;var Hv={},HR={};Object.defineProperty(HR,"__esModule",{value:!0});HR.calculateChange=function(e,n,r,i){var s=i.clientWidth,o=i.clientHeight,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(i.getBoundingClientRect().left+window.pageXOffset),h=l-(i.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var p=void 0;if(h<0)p=359;else if(h>o)p=0;else{var m=-(h*100/o)+100;p=360*m/100}if(r.h!==p)return{h:p,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var v=void 0;if(u<0)v=0;else if(u>s)v=359;else{var y=u*100/s;v=360*y/100}if(r.h!==v)return{h:v,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null};Object.defineProperty(Hv,"__esModule",{value:!0});Hv.Hue=void 0;var wSe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),OC=oe,Hd=tH(OC),ESe=Zr,bSe=tH(ESe),MSe=HR,CSe=TSe(MSe);function TSe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function tH(t){return t&&t.__esModule?t:{default:t}}function RSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function PSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ISe=Hv.Hue=function(t){PSe(e,t);function e(){var n,r,i,s;RSe(this,e);for(var o=arguments.length,a=Array(o),l=0;l<o;l++)a[l]=arguments[l];return s=(r=(i=cO(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.handleChange=function(u){var h=CSe.calculateChange(u,i.props.direction,i.props.hsl,i.container);h&&typeof i.props.onChange=="function"&&i.props.onChange(h,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},r),cO(i,s)}return wSe(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.direction,s=i===void 0?"horizontal":i,o=(0,bSe.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:s==="vertical"});return Hd.default.createElement("div",{style:o.hue},Hd.default.createElement("div",{className:"hue-"+s,style:o.container,ref:function(l){return r.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},Hd.default.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),Hd.default.createElement("div",{style:o.pointer},this.props.pointer?Hd.default.createElement(this.props.pointer,this.props):Hd.default.createElement("div",{style:o.slider}))))}}]),e}(OC.PureComponent||OC.Component);Hv.default=ISe;var zv={},LSe=lR,BSe=Rv;function DSe(t,e,n){(n!==void 0&&!BSe(t[e],n)||n===void 0&&!(e in t))&&LSe(t,e,n)}var nH=DSe,OSe=dm,FSe=qa;function NSe(t){return FSe(t)&&OSe(t)}var USe=NSe;function kSe(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var rH=kSe,HSe=Iv,zSe=Lv;function GSe(t){return HSe(t,zSe(t))}var $Se=GSe,fO=nH,WSe=u9,VSe=h9,jSe=c9,XSe=d9,hO=X2,dO=uo,JSe=USe,KSe=gA,YSe=eR,qSe=Uo,QSe=z5,ZSe=Q2,pO=rH,eAe=$Se;function tAe(t,e,n,r,i,s,o){var a=pO(t,n),l=pO(e,n),u=o.get(l);if(u){fO(t,n,u);return}var h=s?s(a,l,n+"",t,e,o):void 0,p=h===void 0;if(p){var m=dO(l),v=!m&&KSe(l),y=!m&&!v&&ZSe(l);h=l,m||v||y?dO(a)?h=a:JSe(a)?h=jSe(a):v?(p=!1,h=WSe(l,!0)):y?(p=!1,h=VSe(l,!0)):h=[]:QSe(l)||hO(l)?(h=a,hO(a)?h=eAe(a):(!qSe(a)||YSe(a))&&(h=XSe(l))):p=!1}p&&(o.set(l,h),i(h,l,r,s,o),o.delete(l)),fO(t,n,h)}var nAe=tAe,rAe=AA,iAe=nH,sAe=D5,oAe=nAe,aAe=Uo,lAe=Lv,uAe=rH;function iH(t,e,n,r,i){t!==e&&sAe(e,function(s,o){if(i||(i=new rAe),aAe(s))oAe(t,e,o,n,iH,r,i);else{var a=r?r(uAe(t,o),s,o+"",t,e,i):void 0;a===void 0&&(a=s),iAe(t,o,a)}},lAe)}var cAe=iH;function fAe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var hAe=fAe,dAe=hAe,mO=Math.max;function pAe(t,e,n){return e=mO(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=mO(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),dAe(t,this,a)}}var mAe=pAe;function gAe(t){return function(){return t}}var vAe=gAe,yAe=vAe,gO=a9,_Ae=vA,xAe=gO?function(t,e){return gO(t,"toString",{configurable:!0,enumerable:!1,value:yAe(e),writable:!0})}:_Ae,SAe=xAe,AAe=800,wAe=16,EAe=Date.now;function bAe(t){var e=0,n=0;return function(){var r=EAe(),i=wAe-(r-n);if(n=r,i>0){if(++e>=AAe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var MAe=bAe,CAe=SAe,TAe=MAe,RAe=TAe(CAe),PAe=RAe,IAe=vA,LAe=mAe,BAe=PAe;function DAe(t,e){return BAe(LAe(t,e,IAe),t+"")}var OAe=DAe,FAe=Rv,NAe=dm,UAe=J2,kAe=Uo;function HAe(t,e,n){if(!kAe(n))return!1;var r=typeof e;return(r=="number"?NAe(n)&&UAe(e,n.length):r=="string"&&e in n)?FAe(n[e],t):!1}var zAe=HAe,GAe=OAe,$Ae=zAe;function WAe(t){return GAe(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&$Ae(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var VAe=WAe,jAe=cAe,XAe=VAe,JAe=XAe(function(t,e,n){jAe(t,e,n)}),KAe=JAe;Object.defineProperty(zv,"__esModule",{value:!0});zv.Raised=void 0;var YAe=oe,hb=OA(YAe),qAe=I5,Sx=OA(qAe),QAe=Zr,ZAe=OA(QAe),ewe=KAe,twe=OA(ewe);function OA(t){return t&&t.__esModule?t:{default:t}}var zR=zv.Raised=function(e){var n=e.zDepth,r=e.radius,i=e.background,s=e.children,o=e.styles,a=o===void 0?{}:o,l=(0,ZAe.default)((0,twe.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+n+"px "+n*4+"px rgba(0,0,0,.24)",borderRadius:r,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":n===1});return hb.default.createElement("div",{style:l.wrap},hb.default.createElement("div",{style:l.bg}),hb.default.createElement("div",{style:l.content},s))};zR.propTypes={background:Sx.default.string,zDepth:Sx.default.oneOf([0,1,2,3,4,5]),radius:Sx.default.number,styles:Sx.default.object};zR.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};zv.default=zR;var Gv={},nwe=ya,rwe=function(){return nwe.Date.now()},iwe=rwe,swe=/\s/;function owe(t){for(var e=t.length;e--&&swe.test(t.charAt(e)););return e}var awe=owe,lwe=awe,uwe=/^\s+/;function cwe(t){return t&&t.slice(0,lwe(t)+1).replace(uwe,"")}var fwe=cwe,hwe=fwe,vO=Uo,dwe=EA,yO=0/0,pwe=/^[-+]0x[0-9a-f]+$/i,mwe=/^0b[01]+$/i,gwe=/^0o[0-7]+$/i,vwe=parseInt;function ywe(t){if(typeof t=="number")return t;if(dwe(t))return yO;if(vO(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=vO(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=hwe(t);var n=mwe.test(t);return n||gwe.test(t)?vwe(t.slice(2),n?2:8):pwe.test(t)?yO:+t}var _we=ywe,xwe=Uo,db=iwe,_O=_we,Swe="Expected a function",Awe=Math.max,wwe=Math.min;function Ewe(t,e,n){var r,i,s,o,a,l,u=0,h=!1,p=!1,m=!0;if(typeof t!="function")throw new TypeError(Swe);e=_O(e)||0,xwe(n)&&(h=!!n.leading,p="maxWait"in n,s=p?Awe(_O(n.maxWait)||0,e):s,m="trailing"in n?!!n.trailing:m);function v(T){var I=r,F=i;return r=i=void 0,u=T,o=t.apply(F,I),o}function y(T){return u=T,a=setTimeout(_,e),h?v(T):o}function S(T){var I=T-l,F=T-u,B=e-I;return p?wwe(B,s-F):B}function A(T){var I=T-l,F=T-u;return l===void 0||I>=e||I<0||p&&F>=s}function _(){var T=db();if(A(T))return w(T);a=setTimeout(_,S(T))}function w(T){return a=void 0,m&&r?v(T):(r=i=void 0,o)}function x(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function M(){return a===void 0?o:w(db())}function R(){var T=db(),I=A(T);if(r=arguments,i=this,l=T,I){if(a===void 0)return y(l);if(p)return clearTimeout(a),a=setTimeout(_,e),v(l)}return a===void 0&&(a=setTimeout(_,e)),o}return R.cancel=x,R.flush=M,R}var sH=Ewe,bwe=sH,Mwe=Uo,Cwe="Expected a function";function Twe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Cwe);return Mwe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),bwe(t,e,{leading:r,maxWait:e,trailing:i})}var Rwe=Twe,GR={};Object.defineProperty(GR,"__esModule",{value:!0});GR.calculateChange=function(e,n,r){var i=r.getBoundingClientRect(),s=i.width,o=i.height,a=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=a-(r.getBoundingClientRect().left+window.pageXOffset),h=l-(r.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>s&&(u=s),h<0?h=0:h>o&&(h=o);var p=u/s,m=1-h/o;return{h:n.h,s:p,v:m,a:n.a,source:"hsv"}};Object.defineProperty(Gv,"__esModule",{value:!0});Gv.Saturation=void 0;var Pwe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),FC=oe,wf=$R(FC),Iwe=Zr,Lwe=$R(Iwe),Bwe=Rwe,Dwe=$R(Bwe),Owe=GR,Fwe=Nwe(Owe);function Nwe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function $R(t){return t&&t.__esModule?t:{default:t}}function Uwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kwe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Hwe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var zwe=Gv.Saturation=function(t){Hwe(e,t);function e(n){Uwe(this,e);var r=kwe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n));return r.handleChange=function(i){typeof r.props.onChange=="function"&&r.throttle(r.props.onChange,Fwe.calculateChange(i,r.props.hsl,r.container),i)},r.handleMouseDown=function(i){r.handleChange(i);var s=r.getContainerRenderWindow();s.addEventListener("mousemove",r.handleChange),s.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=(0,Dwe.default)(function(i,s,o){i(s,o)},50),r}return Pwe(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var r=this.container,i=window;!i.document.contains(r)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var r=this.getContainerRenderWindow();r.removeEventListener("mousemove",this.handleChange),r.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var r=this,i=this.props.style||{},s=i.color,o=i.white,a=i.black,l=i.pointer,u=i.circle,h=(0,Lwe.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:s,white:o,black:a,pointer:l,circle:u}},{custom:!!this.props.style});return wf.default.createElement("div",{style:h.color,ref:function(m){return r.container=m},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},wf.default.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),wf.default.createElement("div",{style:h.white,className:"saturation-white"},wf.default.createElement("div",{style:h.black,className:"saturation-black"}),wf.default.createElement("div",{style:h.pointer},this.props.pointer?wf.default.createElement(this.props.pointer,this.props):wf.default.createElement("div",{style:h.circle}))))}}]),e}(FC.PureComponent||FC.Component);Gv.default=zwe;var $v={},Ss={},Gwe=o9,$we=s9,Wwe=k5,Vwe=uo;function jwe(t,e){var n=Vwe(t)?Gwe:$we;return n(t,Wwe(e))}var Xwe=jwe,Jwe=Xwe;const Kwe=G8(S_e);Object.defineProperty(Ss,"__esModule",{value:!0});Ss.isvalidColorString=Ss.red=Ss.getContrastingColor=Ss.isValidHex=Ss.toState=Ss.simpleCheckForValidColor=void 0;var Ywe=Jwe,qwe=oH(Ywe),Qwe=Kwe,K1=oH(Qwe);function oH(t){return t&&t.__esModule?t:{default:t}}Ss.simpleCheckForValidColor=function(e){var n=["r","g","b","a","h","s","l","v"],r=0,i=0;return(0,qwe.default)(n,function(s){if(e[s]&&(r+=1,isNaN(e[s])||(i+=1),s==="s"||s==="l")){var o=/^\d+%$/;o.test(e[s])&&(i+=1)}}),r===i?e:!1};var Zwe=Ss.toState=function(e,n){var r=e.hex?(0,K1.default)(e.hex):(0,K1.default)(e),i=r.toHsl(),s=r.toHsv(),o=r.toRgb(),a=r.toHex();i.s===0&&(i.h=n||0,s.h=n||0);var l=a==="000000"&&o.a===0;return{hsl:i,hex:l?"transparent":"#"+a,rgb:o,hsv:s,oldHue:e.h||n||i.h,source:e.source}};Ss.isValidHex=function(e){if(e==="transparent")return!0;var n=String(e).charAt(0)==="#"?1:0;return e.length!==4+n&&e.length<7+n&&(0,K1.default)(e).isValid()};Ss.getContrastingColor=function(e){if(!e)return"#fff";var n=Zwe(e);if(n.hex==="transparent")return"rgba(0,0,0,0.4)";var r=(n.rgb.r*299+n.rgb.g*587+n.rgb.b*114)/1e3;return r>=128?"#000":"#fff"};Ss.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}};Ss.isvalidColorString=function(e,n){var r=e.replace("","");return(0,K1.default)(n+" ("+r+")")._ok};Object.defineProperty($v,"__esModule",{value:!0});$v.ColorWrap=void 0;var $g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eEe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),NC=oe,tEe=aH(NC),nEe=sH,rEe=aH(nEe),iEe=Ss,zd=sEe(iEe);function sEe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function aH(t){return t&&t.__esModule?t:{default:t}}function oEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aEe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function lEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var uEe=$v.ColorWrap=function(e){var n=function(r){lEe(i,r);function i(s){oEe(this,i);var o=aEe(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return o.handleChange=function(a,l){var u=zd.simpleCheckForValidColor(a);if(u){var h=zd.toState(a,a.h||o.state.oldHue);o.setState(h),o.props.onChangeComplete&&o.debounce(o.props.onChangeComplete,h,l),o.props.onChange&&o.props.onChange(h,l)}},o.handleSwatchHover=function(a,l){var u=zd.simpleCheckForValidColor(a);if(u){var h=zd.toState(a,a.h||o.state.oldHue);o.props.onSwatchHover&&o.props.onSwatchHover(h,l)}},o.state=$g({},zd.toState(s.color,0)),o.debounce=(0,rEe.default)(function(a,l,u){a(l,u)},100),o}return eEe(i,[{key:"render",value:function(){var o={};return this.props.onSwatchHover&&(o.onSwatchHover=this.handleSwatchHover),tEe.default.createElement(e,$g({},this.props,this.state,{onChange:this.handleChange},o))}}],[{key:"getDerivedStateFromProps",value:function(o,a){return $g({},zd.toState(o.color,a.oldHue))}}]),i}(NC.PureComponent||NC.Component);return n.propTypes=$g({},e.propTypes),n.defaultProps=$g({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),n};$v.default=uEe;var Wv={},FA={};Object.defineProperty(FA,"__esModule",{value:!0});FA.handleFocus=void 0;var cEe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fEe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),hEe=oe,pb=dEe(hEe);function dEe(t){return t&&t.__esModule?t:{default:t}}function pEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xO(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function mEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}FA.handleFocus=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){mEe(i,r);function i(){var s,o,a,l;pEe(this,i);for(var u=arguments.length,h=Array(u),p=0;p<u;p++)h[p]=arguments[p];return l=(o=(a=xO(this,(s=i.__proto__||Object.getPrototypeOf(i)).call.apply(s,[this].concat(h))),a),a.state={focus:!1},a.handleFocus=function(){return a.setState({focus:!0})},a.handleBlur=function(){return a.setState({focus:!1})},o),xO(a,l)}return fEe(i,[{key:"render",value:function(){return pb.default.createElement(n,{onFocus:this.handleFocus,onBlur:this.handleBlur},pb.default.createElement(e,cEe({},this.props,this.state)))}}]),i}(pb.default.Component)};Object.defineProperty(Wv,"__esModule",{value:!0});Wv.Swatch=void 0;var SO=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gEe=oe,AO=WR(gEe),vEe=Zr,yEe=WR(vEe),_Ee=FA,xEe=Th,SEe=WR(xEe);function WR(t){return t&&t.__esModule?t:{default:t}}var AEe=13,wEe=Wv.Swatch=function(e){var n=e.color,r=e.style,i=e.onClick,s=i===void 0?function(){}:i,o=e.onHover,a=e.title,l=a===void 0?n:a,u=e.children,h=e.focus,p=e.focusStyle,m=p===void 0?{}:p,v=n==="transparent",y=(0,yEe.default)({default:{swatch:SO({background:n,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,h?m:{})}}),S=function(M){return s(n,M)},A=function(M){return M.keyCode===AEe&&s(n,M)},_=function(M){return o(n,M)},w={};return o&&(w.onMouseOver=_),AO.default.createElement("div",SO({style:y.swatch,onClick:S,title:l,tabIndex:0,onKeyDown:A},w),u,v&&AO.default.createElement(SEe.default,{borderRadius:y.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};Wv.default=(0,_Ee.handleFocus)(wEe);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Uv;Object.defineProperty(t,"Alpha",{enumerable:!0,get:function(){return u(e).default}});var n=Th;Object.defineProperty(t,"Checkboard",{enumerable:!0,get:function(){return u(n).default}});var r=kv;Object.defineProperty(t,"EditableInput",{enumerable:!0,get:function(){return u(r).default}});var i=Hv;Object.defineProperty(t,"Hue",{enumerable:!0,get:function(){return u(i).default}});var s=zv;Object.defineProperty(t,"Raised",{enumerable:!0,get:function(){return u(s).default}});var o=Gv;Object.defineProperty(t,"Saturation",{enumerable:!0,get:function(){return u(o).default}});var a=$v;Object.defineProperty(t,"ColorWrap",{enumerable:!0,get:function(){return u(a).default}});var l=Wv;Object.defineProperty(t,"Swatch",{enumerable:!0,get:function(){return u(l).default}});function u(h){return h&&h.__esModule?h:{default:h}}})(qx);const EEe=ze.div``,bEe=ze.div`
  height: 20px;
  position: relative;
  overflow: hidden;
  border: 1px solid #343434;
  border-radius: 4px;
`,MEe=ze.div`
  width: 100%;
  height: 120px;
  position: relative;
  overflow: hidden;
  border: 1px solid #343434;
  border-radius: 4px;
`,CEe=ze.div`
  border-radius: 4px;
  display: flex;
  justify-content: space-between;
  width: 100%;
  min-width: 0;

  input {
    width: 100%;
    height: 38px;
    margin-right: 3px;
    border: 1px solid #ffffff;
    border-radius: 4px;
    font-size: 14px;
    padding-left: 8px;
    padding-right: 0px;
    box-shadow: none;
    -webkit-appearance: none;
    -webkit-border-radius: 4px;
  }
`,TEe=ze.div`
  flex: 0 0 auto;
  width: 38px;
  height: 38px;
  margin-left: 3px;
  border-radius: 4px;
  background-color: ${t=>t.color};
`,REe=ze.div`
  width: 18px;
  height: 18px;
  border-radius: 50%;
  border: #ffffff solid 2px;
  transform: translate(-9px, -9px);
`,PEe=ze.div`
  width: 18px;
  height: 18px;
  border-radius: 50%;
  border: #ffffff solid 2px;
  transform: translate(-9px, 0px);
`,IEe=ze.div`
  /* Wrapper to prevent props from being passed to DOM */
`,LEe=({hex:t,hsl:e,hsv:n,onChange:r,handleColorChange:i,colorsArray:s})=>G.jsx(IEe,{children:G.jsxs(EEe,{children:[G.jsxs(Kl,{children:[G.jsx(Lr,{children:G.jsx(bEe,{children:G.jsx(qx.Hue,{hsl:e,onChange:r,pointer:PEe})})}),G.jsx(Lr,{children:G.jsx(MEe,{children:G.jsx(qx.Saturation,{hsl:e,hsv:n,onChange:r,pointer:REe})})}),G.jsx(W1e,{colorsArray:s,handleColorChange:i})]}),G.jsxs(V2,{children:[G.jsx(Lr,{children:G.jsx(vi,{$active:!0,onClick:()=>i("#"+("00000"+(Math.random()*(1<<24)|0).toString(16)).slice(-6)),children:"Random"})}),G.jsx(Lr,{children:G.jsxs(CEe,{children:[G.jsx(qx.EditableInput,{className:"editable-input",value:t,onChange:r}),G.jsx(TEe,{color:t})]})})]})]})}),lH=ls(LEe),BEe=t=>{switch(t){case 255:return 4;case 220:return 2;case 210:return 0;case 200:return 5;case 190:return 3;case 180:return 1;case 170:return 16;case 160:return 15;case 150:return 14;case 140:return 9;case 130:return 13;case 120:return 11;case 110:return 12;case 100:return 8;case 90:return 10;case 80:return 7;case 70:return 6;case 60:return 17}},{desktop:DEe}=cv,OEe=ze.div`
  width: 100vw;
  height: 100vw;
  color: #000;
  flex: 0 0 auto;
  overflow: hidden;

  ${DEe} {
    height: 100vh;
    width: 100vh;
    margin-left: 160px;
  }
`;function wO({design:t,texture:e,right:n,setCurrentPart:r,setCurrentShoe:i,alone:s,setLayersView:o,setCurrentLayer:a,setView:l,redMapCanvas:u}){const h=oe.useRef(),{nodes:p}=dA(`/api/assets/models/${t.configData.source.model}`),m=hm(L2,`/api/assets/designimages/${t.configData.source[n?"aoMapRight":"aoMapLeft"]}`);m.flipY=!1;let v,y;const S=w=>{w.stopPropagation(),v=w.clientX,y=w.clientY},A=w=>{w.stopPropagation(),w.clientX>v-5&&w.clientX<v+5&&w.clientY>y-5&&w.clientY<y+5&&_(w)},_=w=>{if(w.delta<10){const x=Math.floor(w.uv.x*1e3),M=Math.floor(w.uv.y*1e3),R=u.getContext("2d").getImageData(x,M,1,1).data,T=BEe(R[0]);(T||T===0)&&(o("LayersMain"),a(-1),l("Layers"),r(T),i(n?"right":"left"))}};return G.jsx("group",{ref:h,dispose:null,onPointerDown:w=>S(w),onPointerUp:w=>A(w),children:G.jsx("mesh",{geometry:p.af1.geometry,rotation:[Math.PI/2,0,Math.PI/2],position:[0,-1,s?0:n?1.3:-1.3],scale:[n?.35:-.35,.35,.35],children:G.jsx("meshStandardMaterial",{aoMap:m,aoMapIntensity:1,map:e})})})}const FEe=({design:t,rightTexture:e,leftTexture:n,texturesLoaded:r,setCurrentPart:i,setCurrentShoe:s,shoeVisibility:o,setLayersView:a,setCurrentLayer:l,setView:u,redMapCanvas:h,cameraReset:p,setCameraReset:m})=>{function v({reset:y}){return y&&(El().camera.position.set(5.5,1.5,5.5),m(!1)),null}return G.jsxs(OEe,{id:"scene-container-id",children:[G.jsxs(dne,{camera:{fov:45},dpr:3,gl:y=>(y.preserveDrawingBuffer=!0,y.colorSpace=zr,y),children:[G.jsx(v,{reset:p}),G.jsx("ambientLight",{intensity:Math.PI,color:"#ffffff"}),G.jsxs(oe.Suspense,{fallback:null,children:[o.right&&G.jsx(wO,{right:!0,design:t,texture:e,setCurrentPart:i,setCurrentShoe:s,alone:!o.left,setLayersView:a,setCurrentLayer:l,setView:u,redMapCanvas:h}),o.left&&G.jsx(wO,{design:t,texture:n,setCurrentPart:i,setCurrentShoe:s,alone:!o.right,setLayersView:a,setCurrentLayer:l,setView:u,redMapCanvas:h})]}),G.jsx(ore,{minPolarAngle:Math.PI/4,maxPolarAngle:Math.PI*3/4,minDistance:4,maxDistance:12,enablePan:!1,enableDamping:!0})]}),!r&&G.jsx(j2,{})]})},{desktop:NEe}=cv,UEe=ze.div`
  position: fixed;
  bottom: 0;
  width: 100%;
  touch-action: none;
  display: flex;
  padding-bottom: 30px;

  ${NEe} {
    right: 0;
    width: 375px;
  }
`,kEe=ze.div`
  width: 0px;
  flex: 1 0 auto;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  margin-left: 16px;
`,HEe=ze.div`
  width: 70px;
  flex: 0 0 auto;
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
`;var uH={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},EO=K.createContext&&K.createContext(uH),zEe=["attr","size","title"];function GEe(t,e){if(t==null)return{};var n=$Ee(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $Ee(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Y1(){return Y1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y1.apply(this,arguments)}function bO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bO(Object(n),!0).forEach(function(r){WEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WEe(t,e,n){return e=VEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VEe(t){var e=jEe(t,"string");return typeof e=="symbol"?e:e+""}function jEe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cH(t){return t&&t.map((e,n)=>K.createElement(e.tag,q1({key:n},e.attr),cH(e.child)))}function jr(t){return e=>K.createElement(XEe,Y1({attr:q1({},t.attr)},e),cH(t.child))}function XEe(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=GEe(t,zEe),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),K.createElement("svg",Y1({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:q1(q1({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&K.createElement("title",null,s),t.children)};return EO!==void 0?K.createElement(EO.Consumer,null,n=>e(n)):e(uH)}function JEe(t){return jr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(t)}function KEe(t){return jr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function YEe(t){return jr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function qEe(t){return jr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(t)}function QEe(t){return jr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M352.201 425.775l-79.196 79.196c-9.373 9.373-24.568 9.373-33.941 0l-79.196-79.196c-15.119-15.119-4.411-40.971 16.971-40.97h51.162L228 284H127.196v51.162c0 21.382-25.851 32.09-40.971 16.971L7.029 272.937c-9.373-9.373-9.373-24.569 0-33.941L86.225 159.8c15.119-15.119 40.971-4.411 40.971 16.971V228H228V127.196h-51.23c-21.382 0-32.09-25.851-16.971-40.971l79.196-79.196c9.373-9.373 24.568-9.373 33.941 0l79.196 79.196c15.119 15.119 4.411 40.971-16.971 40.971h-51.162V228h100.804v-51.162c0-21.382 25.851-32.09 40.97-16.971l79.196 79.196c9.373 9.373 9.373 24.569 0 33.941L425.773 352.2c-15.119 15.119-40.971 4.411-40.97-16.971V284H284v100.804h51.23c21.382 0 32.09 25.851 16.971 40.971z"},child:[]}]})(t)}function ZEe(t){return jr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function fH(t){return jr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function ebe(t){return jr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function tbe(t){return jr({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(t)}function nbe(t){return jr({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(t)}function rbe(t){return jr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(t)}function ibe(t){return jr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M200 288H88c-21.4 0-32.1 25.8-17 41l32.9 31-99.2 99.3c-6.2 6.2-6.2 16.4 0 22.6l25.4 25.4c6.2 6.2 16.4 6.2 22.6 0L152 408l31.1 33c15.1 15.1 40.9 4.4 40.9-17V312c0-13.3-10.7-24-24-24zm112-64h112c21.4 0 32.1-25.9 17-41l-33-31 99.3-99.3c6.2-6.2 6.2-16.4 0-22.6L481.9 4.7c-6.2-6.2-16.4-6.2-22.6 0L360 104l-31.1-33C313.8 55.9 288 66.6 288 88v112c0 13.3 10.7 24 24 24zm96 136l33-31.1c15.1-15.1 4.4-40.9-17-40.9H312c-13.3 0-24 10.7-24 24v112c0 21.4 25.9 32.1 41 17l31-32.9 99.3 99.3c6.2 6.2 16.4 6.2 22.6 0l25.4-25.4c6.2-6.2 6.2-16.4 0-22.6L408 360zM183 71.1L152 104 52.7 4.7c-6.2-6.2-16.4-6.2-22.6 0L4.7 30.1c-6.2 6.2-6.2 16.4 0 22.6L104 152l-33 31.1C55.9 198.2 66.6 224 88 224h112c13.3 0 24-10.7 24-24V88c0-21.3-25.9-32-41-16.9z"},child:[]}]})(t)}function sbe(t){return jr({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function obe(t){return jr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M12.41 148.02l232.94 105.67c6.8 3.09 14.49 3.09 21.29 0l232.94-105.67c16.55-7.51 16.55-32.52 0-40.03L266.65 2.31a25.607 25.607 0 0 0-21.29 0L12.41 107.98c-16.55 7.51-16.55 32.53 0 40.04zm487.18 88.28l-58.09-26.33-161.64 73.27c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.51 209.97l-58.1 26.33c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 276.3c16.55-7.5 16.55-32.5 0-40zm0 127.8l-57.87-26.23-161.86 73.37c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.29 337.87 12.41 364.1c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40z"},child:[]}]})(t)}function abe(t){return jr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 128V32c0-17.67-14.33-32-32-32H32C14.33 0 0 14.33 0 32v96c0 17.67 14.33 32 32 32h352c17.67 0 32-14.33 32-32zm32-64v128c0 17.67-14.33 32-32 32H256c-35.35 0-64 28.65-64 64v32c-17.67 0-32 14.33-32 32v128c0 17.67 14.33 32 32 32h64c17.67 0 32-14.33 32-32V352c0-17.67-14.33-32-32-32v-32h160c53.02 0 96-42.98 96-96v-64c0-35.35-28.65-64-64-64z"},child:[]}]})(t)}function lbe(t){return jr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"},child:[]}]})(t)}function ube(t){return jr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function cbe(t){return jr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z"},child:[]}]})(t)}function fbe(t){return jr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function hbe(t){return jr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z"},child:[]}]})(t)}const dbe=ze.div`
  display: flex;
  flex-direction: column;
  height: 280px;
  justify-content: space-between;
`,Ax=ze.div`
  width: 40px;
  height: 40px;
  margin: 15px;
  display: flex;
  align-items: center;
  justify-content: center;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
  background-color: ${t=>t.selected?"#212121":"unset"};
  border-radius: 6px;

  svg {
    font-size: 22px;
    color: ${t=>t.selected?"#ffffff":"#212121"};
  }
`;function pbe({handleViewChange:t,view:e}){const n=r=>{t(e===r?"DesignInfo":r)};return G.jsxs(dbe,{children:[G.jsx(Ax,{selected:e==="Layers",onClick:()=>n("Layers"),children:G.jsx(obe,{})}),G.jsx(Ax,{selected:e==="ChangeBaseColor",onClick:()=>n("ChangeBaseColor"),children:G.jsx(abe,{})}),G.jsx(Ax,{selected:e==="DesignVisibility",onClick:()=>n("DesignVisibility"),children:G.jsx(sbe,{})}),G.jsx(Ax,{selected:e==="DesignMenu"||e==="ChangeDesignName",onClick:()=>n("DesignMenu"),children:G.jsx(ZEe,{})})]})}const mbe=ze.div`
  padding-bottom: 10px;
  padding-left: 20px;
`,gbe=ze.p`
  margin: 5px;
  font-size: 26px;
  color: #212121;
`,vbe=ze.p`
  margin: 5px;
  font-size: 16px;
  color: #212121;
`;function ybe({design:t}){return G.jsxs(mbe,{children:[G.jsx(gbe,{children:t.title}),G.jsx(vbe,{children:t.modelName})]})}const Qx=(t,e)=>{const n=new FormData;return e?n.append("image",t,"newImage"):n.append("image",t),fetch("/api/assets/uploadimage",{method:"POST",body:n}).then(r=>r.json())},mb=t=>new Promise(e=>{setTimeout(()=>{const n=document.getElementById("scene-container-id").firstElementChild.firstElementChild,r=document.createElement("canvas");r.width=1024,r.height=1024,r.getContext("2d").drawImage(n,0,0,1024,1024);const s=r.toDataURL("image/png");for(var o=atob(s.split(",")[1]),a=[],l=0;l<o.length;l++)a.push(o.charCodeAt(l));var u=new Blob([new Uint8Array(a)],{type:"image/png"});u.name="theBlob",u.lastModifiedDate=new Date;var h=new File([u],t,{type:"image/png"});e(h)},500)}),Zx=t=>{let e=t.split("/");return e=e[e.length-1],e};function _be({handleViewChange:t,design:e,canSave:n,setCanSave:r,userData:i,setCameraReset:s}){const[o,a]=oe.useState(!1);let l;typeof i=="object"&&"_id"in i&&(l=i._id);const u=async()=>{if(i)if(r(!1),e.author)if(e.author===i._id){a(!0),s(!0);const p=await mb(e.screenshot);Qx(p,!1).then(m=>{const v=Zx(m.image),y={author:e.author,title:e.title,screenshot:v,configId:"5f925589cc6d6c16e44d5dfd",outlineData:e.outlineData};v_(`/api/outlines/${e._id}`,"PUT",y),a(!1)})}else{a(!0),s(!0);const p=await mb(e.screenshot);Qx(p,!0).then(m=>{const v=Zx(m.image),y={author:i._id,title:e.title,screenshot:v,configId:"5f925589cc6d6c16e44d5dfd",outlineData:e.outlineData};v_("/api/outlines/","POST",y).then(S=>{window.location.href=`/designer/${S._id}`})})}else{a(!0),s(!0);const p=await mb("newImage");Qx(p,!0).then(m=>{const v=Zx(m.image),y={author:i._id,title:e.title,screenshot:v,configId:"5f925589cc6d6c16e44d5dfd",outlineData:e.outlineData};v_("/api/outlines","POST",y).then(S=>{window.location.href=`/designer/${S._id}`})})}},h=async()=>{i&&i._id===e.author&&(await v_(`/api/outlines/${e._id}`,"DELETE"),window.location.href="/")};return o?G.jsx(so,{children:G.jsx(j2,{})}):G.jsxs(so,{children:[G.jsxs(pA,{children:[G.jsx(mA,{children:G.jsx(Tc,{children:e.title})}),G.jsx(Wf,{children:G.jsx(Vf,{$active:!0,onClick:()=>t("ChangeDesignName"),children:G.jsx(lbe,{})})})]}),G.jsxs(V2,{children:[G.jsx(Lr,{onClick:()=>s(!0),children:G.jsx(vi,{$active:!0,children:"Reset Camera"})}),n&&i?G.jsx(Lr,{onClick:()=>{u()},children:G.jsx(vi,{$active:!0,children:"Save"})}):G.jsx(Lr,{children:G.jsx(vi,{children:"Save"})}),i&&e.author===l?G.jsx(Lr,{onClick:()=>{h()},children:G.jsx(vi,{$active:!0,children:"Delete"})}):G.jsx(Lr,{children:G.jsx(vi,{children:"Delete"})}),G.jsx(Lr,{children:G.jsx(lc,{to:"/",children:G.jsx(vi,{$active:!0,children:"Exit"})})})]})]})}const xbe=ze.div`
  width: 50%;
  margin-left: auto;
  background-color: #212121;
  border-radius: 9px;
`,MO=ze.div`
  border: 1px solid #343434;
  border-radius: 6px;
  background-color: #000000;
  padding: 3px;
`,CO=ze.button`
  border: ${t=>t.$active?"1px solid #343434":"unset"};
  border-radius: 4px;
  width: 100%;
  height: 38px;
  background-color: ${t=>t.$active?"#212121":"#000000"};
  color: ${t=>t.$active?"#ffffff":"#999999"};
  padding: 0px;
  width: 100%;
  font-size: 16px;

  &:focus {
    outline: none;
  }
`;function Sbe({setCurrentShoe:t,visibility:e,setVisibility:n}){const r=i=>{if(i==="left")if(e.left&&e.right){let s={...e};s.left=!1,n(s),t("right")}else if(e.left&&!e.right){let s={...e};s.left=!1,s.right=!0,n(s),t("right")}else{let s={...e};s.left=!0,n(s),t("left")}else if(e.left&&e.right){let s={...e};s.right=!1,n(s),t("left")}else if(!e.left&&e.right){let s={...e};s.right=!1,s.left=!0,n(s),t("left")}else{let s={...e};s.right=!0,n(s),t("right")}};return G.jsxs(Kl,{children:[G.jsx(MO,{children:G.jsx(CO,{$active:e.left,onClick:()=>{r("left")},children:"Left"})}),G.jsx(MO,{children:G.jsx(CO,{$active:e.right,onClick:()=>{r("right")},children:"Right"})})]})}function Abe({currentShoe:t,setCurrentShoe:e,shoeVisibility:n,setShoeVisibility:r}){return G.jsx(xbe,{children:G.jsx(so,{children:G.jsx(Sbe,{currentShoe:t,setCurrentShoe:e,visibility:n,setVisibility:r})})})}var Q1={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Q1.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,h="__lodash_placeholder__",p=1,m=2,v=4,y=1,S=2,A=1,_=2,w=4,x=8,M=16,R=32,T=64,I=128,F=256,B=512,O=30,V="...",H=800,ne=16,j=1,q=2,re=3,he=1/0,z=9007199254740991,ee=17976931348623157e292,te=0/0,fe=4294967295,ye=fe-1,ue=fe>>>1,_e=[["ary",I],["bind",A],["bindKey",_],["curry",x],["curryRight",M],["flip",B],["partial",R],["partialRight",T],["rearg",F]],Ne="[object Arguments]",Ve="[object Array]",Xe="[object AsyncFunction]",vt="[object Boolean]",yt="[object Date]",ut="[object DOMException]",ht="[object Error]",Z="[object Function]",He="[object GeneratorFunction]",Me="[object Map]",Ge="[object Number]",Re="[object Null]",ct="[object Object]",Qe="[object Promise]",W="[object Proxy]",U="[object RegExp]",me="[object Set]",Oe="[object String]",De="[object Symbol]",Be="[object Undefined]",ft="[object WeakMap]",Je="[object WeakSet]",et="[object ArrayBuffer]",_t="[object DataView]",zt="[object Float32Array]",Fe="[object Float64Array]",an="[object Int8Array]",Jt="[object Int16Array]",Dt="[object Int32Array]",bt="[object Uint8Array]",ot="[object Uint8ClampedArray]",ie="[object Uint16Array]",Pe="[object Uint32Array]",st=/\b__p \+= '';/g,rt=/\b(__p \+=) '' \+/g,ke=/(__e\(.*?\)|\b__t\)) \+\n'';/g,se=/&(?:amp|lt|gt|quot|#39);/g,je=/[&<>"']/g,qe=RegExp(se.source),Tt=RegExp(je.source),gt=/<%-([\s\S]+?)%>/g,ln=/<%([\s\S]+?)%>/g,hn=/<%=([\s\S]+?)%>/g,Rn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kn=/^\w*$/,vn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wr=/[\\^$.*+?()[\]{}|]/g,us=RegExp(wr.source),Qa=/^\s+/,Pc=/\s/,Ql=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,xa=/\{\n\/\* \[wrapped with (.+)\] \*/,Zl=/,? & /,Rh=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ph=/[()=,{}\[\]\/\s]/,Em=/\\(\\)?/g,bm=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ih=/\w*$/,X=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,Ae=/^\[object .+?Constructor\]$/,Ee=/^0o[0-7]+$/i,xe=/^(?:0|[1-9]\d*)$/,at=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xt=/($^)/,Lt=/['\n\r\u2028\u2029\\]/g,Rt="\\ud800-\\udfff",Wt="\\u0300-\\u036f",$t="\\ufe20-\\ufe2f",Vt="\\u20d0-\\u20ff",Hn=Wt+$t+Vt,Br="\\u2700-\\u27bf",Bn="a-z\\xdf-\\xf6\\xf8-\\xff",Dr="\\xac\\xb1\\xd7\\xf7",Ot="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",dt="\\u2000-\\u206f",cs=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Qt="A-Z\\xc0-\\xd6\\xd8-\\xde",Xn="\\ufe0e\\ufe0f",Rs=Dr+Ot+dt+cs,Ri="[']",Or="["+Rt+"]",Zn="["+Rs+"]",Wi="["+Hn+"]",Za="\\d+",Xr="["+Br+"]",el="["+Bn+"]",Pi="[^"+Rt+Rs+Za+Br+Bn+Qt+"]",eu="\\ud83c[\\udffb-\\udfff]",kA="(?:"+Wi+"|"+eu+")",jv="[^"+Rt+"]",tu="(?:\\ud83c[\\udde6-\\uddff]){2}",nu="[\\ud800-\\udbff][\\udc00-\\udfff]",co="["+Qt+"]",Ic="\\u200d",Xv="(?:"+el+"|"+Pi+")",HA="(?:"+co+"|"+Pi+")",Lh="(?:"+Ri+"(?:d|ll|m|re|s|t|ve))?",Bh="(?:"+Ri+"(?:D|LL|M|RE|S|T|VE))?",ru=kA+"?",Jv="["+Xn+"]?",Mm="(?:"+Ic+"(?:"+[jv,tu,nu].join("|")+")"+Jv+ru+")*",xn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Kv="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Dh=Jv+ru+Mm,Yv="(?:"+[Xr,tu,nu].join("|")+")"+Dh,zA="(?:"+[jv+Wi+"?",Wi,tu,nu,Or].join("|")+")",GA=RegExp(Ri,"g"),Fr=RegExp(Wi,"g"),Lc=RegExp(eu+"(?="+eu+")|"+zA+Dh,"g"),$A=RegExp([co+"?"+el+"+"+Lh+"(?="+[Zn,co,"$"].join("|")+")",HA+"+"+Bh+"(?="+[Zn,co+Xv,"$"].join("|")+")",co+"?"+Xv+"+"+Lh,co+"+"+Bh,Kv,xn,Za,Yv].join("|"),"g"),Cm=RegExp("["+Ic+Rt+Hn+Xn+"]"),WA=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Oh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],fo=-1,On={};On[zt]=On[Fe]=On[an]=On[Jt]=On[Dt]=On[bt]=On[ot]=On[ie]=On[Pe]=!0,On[Ne]=On[Ve]=On[et]=On[vt]=On[_t]=On[yt]=On[ht]=On[Z]=On[Me]=On[Ge]=On[ct]=On[U]=On[me]=On[Oe]=On[ft]=!1;var Dn={};Dn[Ne]=Dn[Ve]=Dn[et]=Dn[_t]=Dn[vt]=Dn[yt]=Dn[zt]=Dn[Fe]=Dn[an]=Dn[Jt]=Dn[Dt]=Dn[Me]=Dn[Ge]=Dn[ct]=Dn[U]=Dn[me]=Dn[Oe]=Dn[De]=Dn[bt]=Dn[ot]=Dn[ie]=Dn[Pe]=!0,Dn[ht]=Dn[Z]=Dn[ft]=!1;var ho={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},ko={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Fh={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Tm={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},qv=parseFloat,VA=parseInt,Ps=typeof Pl=="object"&&Pl&&Pl.Object===Object&&Pl,jA=typeof self=="object"&&self&&self.Object===Object&&self,dr=Ps||jA||Function("return this")(),Rm=e&&!e.nodeType&&e,Jr=Rm&&!0&&t&&!t.nodeType&&t,Bc=Jr&&Jr.exports===Rm,iu=Bc&&Ps.process,Kr=function(){try{var le=Jr&&Jr.require&&Jr.require("util").types;return le||iu&&iu.binding&&iu.binding("util")}catch{}}(),Nh=Kr&&Kr.isArrayBuffer,Uh=Kr&&Kr.isDate,Pm=Kr&&Kr.isMap,kh=Kr&&Kr.isRegExp,Hh=Kr&&Kr.isSet,tl=Kr&&Kr.isTypedArray;function zn(le,Ce,Se){switch(Se.length){case 0:return le.call(Ce);case 1:return le.call(Ce,Se[0]);case 2:return le.call(Ce,Se[0],Se[1]);case 3:return le.call(Ce,Se[0],Se[1],Se[2])}return le.apply(Ce,Se)}function po(le,Ce,Se,lt){for(var Gt=-1,Yt=le==null?0:le.length;++Gt<Yt;){var Gn=le[Gt];Ce(lt,Gn,Se(Gn),le)}return lt}function Er(le,Ce){for(var Se=-1,lt=le==null?0:le.length;++Se<lt&&Ce(le[Se],Se,le)!==!1;);return le}function Im(le,Ce){for(var Se=le==null?0:le.length;Se--&&Ce(le[Se],Se,le)!==!1;);return le}function Lm(le,Ce){for(var Se=-1,lt=le==null?0:le.length;++Se<lt;)if(!Ce(le[Se],Se,le))return!1;return!0}function ii(le,Ce){for(var Se=-1,lt=le==null?0:le.length,Gt=0,Yt=[];++Se<lt;){var Gn=le[Se];Ce(Gn,Se,le)&&(Yt[Gt++]=Gn)}return Yt}function Is(le,Ce){var Se=le==null?0:le.length;return!!Se&&Bs(le,Ce,0)>-1}function su(le,Ce,Se){for(var lt=-1,Gt=le==null?0:le.length;++lt<Gt;)if(Se(Ce,le[lt]))return!0;return!1}function Fn(le,Ce){for(var Se=-1,lt=le==null?0:le.length,Gt=Array(lt);++Se<lt;)Gt[Se]=Ce(le[Se],Se,le);return Gt}function Ls(le,Ce){for(var Se=-1,lt=Ce.length,Gt=le.length;++Se<lt;)le[Gt+Se]=Ce[Se];return le}function zh(le,Ce,Se,lt){var Gt=-1,Yt=le==null?0:le.length;for(lt&&Yt&&(Se=le[++Gt]);++Gt<Yt;)Se=Ce(Se,le[Gt],Gt,le);return Se}function Qv(le,Ce,Se,lt){var Gt=le==null?0:le.length;for(lt&&Gt&&(Se=le[--Gt]);Gt--;)Se=Ce(Se,le[Gt],Gt,le);return Se}function Dc(le,Ce){for(var Se=-1,lt=le==null?0:le.length;++Se<lt;)if(Ce(le[Se],Se,le))return!0;return!1}var Gh=Ii("length");function Zv(le){return le.split("")}function ey(le){return le.match(Rh)||[]}function Bm(le,Ce,Se){var lt;return Se(le,function(Gt,Yt,Gn){if(Ce(Gt,Yt,Gn))return lt=Yt,!1}),lt}function ou(le,Ce,Se,lt){for(var Gt=le.length,Yt=Se+(lt?1:-1);lt?Yt--:++Yt<Gt;)if(Ce(le[Yt],Yt,le))return Yt;return-1}function Bs(le,Ce,Se){return Ce===Ce?fu(le,Ce,Se):ou(le,Oc,Se)}function au(le,Ce,Se,lt){for(var Gt=Se-1,Yt=le.length;++Gt<Yt;)if(lt(le[Gt],Ce))return Gt;return-1}function Oc(le){return le!==le}function Fc(le,Ce){var Se=le==null?0:le.length;return Se?Ds(le,Ce)/Se:te}function Ii(le){return function(Ce){return Ce==null?n:Ce[le]}}function Li(le){return function(Ce){return le==null?n:le[Ce]}}function Sa(le,Ce,Se,lt,Gt){return Gt(le,function(Yt,Gn,Ut){Se=lt?(lt=!1,Yt):Ce(Se,Yt,Gn,Ut)}),Se}function Ho(le,Ce){var Se=le.length;for(le.sort(Ce);Se--;)le[Se]=le[Se].value;return le}function Ds(le,Ce){for(var Se,lt=-1,Gt=le.length;++lt<Gt;){var Yt=Ce(le[lt]);Yt!==n&&(Se=Se===n?Yt:Se+Yt)}return Se}function zo(le,Ce){for(var Se=-1,lt=Array(le);++Se<le;)lt[Se]=Ce(Se);return lt}function ty(le,Ce){return Fn(Ce,function(Se){return[Se,le[Se]]})}function $h(le){return le&&le.slice(0,hu(le)+1).replace(Qa,"")}function xi(le){return function(Ce){return le(Ce)}}function Si(le,Ce){return Fn(Ce,function(Se){return le[Se]})}function Yr(le,Ce){return le.has(Ce)}function Nn(le,Ce){for(var Se=-1,lt=le.length;++Se<lt&&Bs(Ce,le[Se],0)>-1;);return Se}function lu(le,Ce){for(var Se=le.length;Se--&&Bs(Ce,le[Se],0)>-1;);return Se}function Os(le,Ce){for(var Se=le.length,lt=0;Se--;)le[Se]===Ce&&++lt;return lt}var ny=Li(ho),ry=Li(ko);function Dm(le){return"\\"+Tm[le]}function Om(le,Ce){return le==null?n:le[Ce]}function nl(le){return Cm.test(le)}function Nc(le){return WA.test(le)}function uu(le){for(var Ce,Se=[];!(Ce=le.next()).done;)Se.push(Ce.value);return Se}function Uc(le){var Ce=-1,Se=Array(le.size);return le.forEach(function(lt,Gt){Se[++Ce]=[Gt,lt]}),Se}function cu(le,Ce){return function(Se){return le(Ce(Se))}}function Fs(le,Ce){for(var Se=-1,lt=le.length,Gt=0,Yt=[];++Se<lt;){var Gn=le[Se];(Gn===Ce||Gn===h)&&(le[Se]=h,Yt[Gt++]=Se)}return Yt}function kc(le){var Ce=-1,Se=Array(le.size);return le.forEach(function(lt){Se[++Ce]=lt}),Se}function iy(le){var Ce=-1,Se=Array(le.size);return le.forEach(function(lt){Se[++Ce]=[lt,lt]}),Se}function fu(le,Ce,Se){for(var lt=Se-1,Gt=le.length;++lt<Gt;)if(le[lt]===Ce)return lt;return-1}function sy(le,Ce,Se){for(var lt=Se+1;lt--;)if(le[lt]===Ce)return lt;return lt}function mo(le){return nl(le)?go(le):Gh(le)}function er(le){return nl(le)?Fm(le):Zv(le)}function hu(le){for(var Ce=le.length;Ce--&&Pc.test(le.charAt(Ce)););return Ce}var du=Li(Fh);function go(le){for(var Ce=Lc.lastIndex=0;Lc.test(le);)++Ce;return Ce}function Fm(le){return le.match(Lc)||[]}function pu(le){return le.match($A)||[]}var oy=function le(Ce){Ce=Ce==null?dr:Aa.defaults(dr.Object(),Ce,Aa.pick(dr,Oh));var Se=Ce.Array,lt=Ce.Date,Gt=Ce.Error,Yt=Ce.Function,Gn=Ce.Math,Ut=Ce.Object,Nr=Ce.RegExp,Ur=Ce.String,Ai=Ce.TypeError,wa=Se.prototype,Hc=Yt.prototype,mu=Ut.prototype,br=Ce["__core-js_shared__"],gu=Hc.toString,En=mu.hasOwnProperty,Nm=0,vo=function(){var c=/[^.]+$/.exec(br&&br.keys&&br.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),Vi=mu.toString,rl=gu.call(Ut),Wh=dr._,Vh=Nr("^"+gu.call(En).replace(wr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zc=Bc?Ce.Buffer:n,Go=Ce.Symbol,Gc=Ce.Uint8Array,Um=zc?zc.allocUnsafe:n,$c=cu(Ut.getPrototypeOf,Ut),km=Ut.create,jh=mu.propertyIsEnumerable,Ea=wa.splice,Hm=Go?Go.isConcatSpreadable:n,ba=Go?Go.iterator:n,yo=Go?Go.toStringTag:n,vu=function(){try{var c=uf(Ut,"defineProperty");return c({},"",{}),c}catch{}}(),Wc=Ce.clearTimeout!==dr.clearTimeout&&Ce.clearTimeout,ay=lt&&lt.now!==dr.Date.now&&lt.now,ly=Ce.setTimeout!==dr.setTimeout&&Ce.setTimeout,Vc=Gn.ceil,jc=Gn.floor,Xc=Ut.getOwnPropertySymbols,uy=zc?zc.isBuffer:n,zm=Ce.isFinite,XA=wa.join,cy=cu(Ut.keys,Ut),Mr=Gn.max,si=Gn.min,fy=lt.now,hy=Ce.parseInt,Gm=Gn.random,dy=wa.reverse,yu=uf(Ce,"DataView"),Jc=uf(Ce,"Map"),$m=uf(Ce,"Promise"),_u=uf(Ce,"Set"),il=uf(Ce,"WeakMap"),sl=uf(Ut,"create"),Xh=il&&new il,ol={},py=cf(yu),my=cf(Jc),gy=cf($m),vy=cf(_u),_o=cf(il),Kc=Go?Go.prototype:n,$o=Kc?Kc.valueOf:n,xu=Kc?Kc.toString:n;function k(c){if(vr(c)&&!qt(c)&&!(c instanceof It)){if(c instanceof oi)return c;if(En.call(c,"__wrapped__"))return iP(c)}return new oi(c)}var Wo=function(){function c(){}return function(g){if(!or(g))return{};if(km)return km(g);c.prototype=g;var b=new c;return c.prototype=n,b}}();function Yc(){}function oi(c,g){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!g,this.__index__=0,this.__values__=n}k.templateSettings={escape:gt,evaluate:ln,interpolate:hn,variable:"",imports:{_:k}},k.prototype=Yc.prototype,k.prototype.constructor=k,oi.prototype=Wo(Yc.prototype),oi.prototype.constructor=oi;function It(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=fe,this.__views__=[]}function JA(){var c=new It(this.__wrapped__);return c.__actions__=fi(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=fi(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=fi(this.__views__),c}function KA(){if(this.__filtered__){var c=new It(this);c.__dir__=-1,c.__filtered__=!0}else c=this.clone(),c.__dir__*=-1;return c}function ji(){var c=this.__wrapped__.value(),g=this.__dir__,b=qt(c),L=g<0,N=b?c.length:0,$=dH(0,N,this.__views__),Q=$.start,ae=$.end,pe=ae-Q,Ie=L?ae:Q-1,Le=this.__iteratees__,Ue=Le.length,tt=0,Mt=si(pe,this.__takeCount__);if(!b||!L&&N==pe&&Mt==pe)return Ia(c,this.__actions__);var kt=[];e:for(;pe--&&tt<Mt;){Ie+=g;for(var un=-1,Ht=c[Ie];++un<Ue;){var dn=Le[un],yn=dn.iteratee,$s=dn.type,Zi=yn(Ht);if($s==q)Ht=Zi;else if(!Zi){if($s==j)continue e;break e}}kt[tt++]=Ht}return kt}It.prototype=Wo(Yc.prototype),It.prototype.constructor=It;function rr(c){var g=-1,b=c==null?0:c.length;for(this.clear();++g<b;){var L=c[g];this.set(L[0],L[1])}}function yy(){this.__data__=sl?sl(null):{},this.size=0}function _y(c){var g=this.has(c)&&delete this.__data__[c];return this.size-=g?1:0,g}function xy(c){var g=this.__data__;if(sl){var b=g[c];return b===l?n:b}return En.call(g,c)?g[c]:n}function Sy(c){var g=this.__data__;return sl?g[c]!==n:En.call(g,c)}function Ay(c,g){var b=this.__data__;return this.size+=this.has(c)?0:1,b[c]=sl&&g===n?l:g,this}rr.prototype.clear=yy,rr.prototype.delete=_y,rr.prototype.get=xy,rr.prototype.has=Sy,rr.prototype.set=Ay;function Ns(c){var g=-1,b=c==null?0:c.length;for(this.clear();++g<b;){var L=c[g];this.set(L[0],L[1])}}function wy(){this.__data__=[],this.size=0}function Wm(c){var g=this.__data__,b=Ca(g,c);if(b<0)return!1;var L=g.length-1;return b==L?g.pop():Ea.call(g,b,1),--this.size,!0}function Ey(c){var g=this.__data__,b=Ca(g,c);return b<0?n:g[b][1]}function by(c){return Ca(this.__data__,c)>-1}function Jh(c,g){var b=this.__data__,L=Ca(b,c);return L<0?(++this.size,b.push([c,g])):b[L][1]=g,this}Ns.prototype.clear=wy,Ns.prototype.delete=Wm,Ns.prototype.get=Ey,Ns.prototype.has=by,Ns.prototype.set=Jh;function fs(c){var g=-1,b=c==null?0:c.length;for(this.clear();++g<b;){var L=c[g];this.set(L[0],L[1])}}function My(){this.size=0,this.__data__={hash:new rr,map:new(Jc||Ns),string:new rr}}function Vm(c){var g=$y(this,c).delete(c);return this.size-=g?1:0,g}function Cy(c){return $y(this,c).get(c)}function Ty(c){return $y(this,c).has(c)}function Kh(c,g){var b=$y(this,c),L=b.size;return b.set(c,g),this.size+=b.size==L?0:1,this}fs.prototype.clear=My,fs.prototype.delete=Vm,fs.prototype.get=Cy,fs.prototype.has=Ty,fs.prototype.set=Kh;function Ma(c){var g=-1,b=c==null?0:c.length;for(this.__data__=new fs;++g<b;)this.add(c[g])}function jm(c){return this.__data__.set(c,l),this}function Ry(c){return this.__data__.has(c)}Ma.prototype.add=Ma.prototype.push=jm,Ma.prototype.has=Ry;function Cr(c){var g=this.__data__=new Ns(c);this.size=g.size}function YA(){this.__data__=new Ns,this.size=0}function qA(c){var g=this.__data__,b=g.delete(c);return this.size=g.size,b}function Yh(c){return this.__data__.get(c)}function al(c){return this.__data__.has(c)}function QA(c,g){var b=this.__data__;if(b instanceof Ns){var L=b.__data__;if(!Jc||L.length<i-1)return L.push([c,g]),this.size=++b.size,this;b=this.__data__=new fs(L)}return b.set(c,g),this.size=b.size,this}Cr.prototype.clear=YA,Cr.prototype.delete=qA,Cr.prototype.get=Yh,Cr.prototype.has=al,Cr.prototype.set=QA;function Ze(c,g){var b=qt(c),L=!b&&ff(c),N=!b&&!L&&Pu(c),$=!b&&!L&&!N&&dd(c),Q=b||L||N||$,ae=Q?zo(c.length,Ur):[],pe=ae.length;for(var Ie in c)(g||En.call(c,Ie))&&!(Q&&(Ie=="length"||N&&(Ie=="offset"||Ie=="parent")||$&&(Ie=="buffer"||Ie=="byteLength"||Ie=="byteOffset")||dl(Ie,pe)))&&ae.push(Ie);return ae}function qc(c){var g=c.length;return g?c[So(0,g-1)]:n}function Xm(c,g){return Wy(fi(c),Ta(g,0,c.length))}function Py(c){return Wy(fi(c))}function Jm(c,g,b){(b!==n&&!Xo(c[g],b)||b===n&&!(g in c))&&xo(c,g,b)}function Us(c,g,b){var L=c[g];(!(En.call(c,g)&&Xo(L,b))||b===n&&!(g in c))&&xo(c,g,b)}function Ca(c,g){for(var b=c.length;b--;)if(Xo(c[b][0],g))return b;return-1}function Km(c,g,b,L){return ks(c,function(N,$,Q){g(L,N,b(N),Q)}),L}function Ym(c,g){return c&&ps(g,di(g),c)}function Iy(c,g){return c&&ps(g,gs(g),c)}function xo(c,g,b){g=="__proto__"&&vu?vu(c,g,{configurable:!0,enumerable:!0,value:b,writable:!0}):c[g]=b}function qh(c,g){for(var b=-1,L=g.length,N=Se(L),$=c==null;++b<L;)N[b]=$?n:gw(c,g[b]);return N}function Ta(c,g,b){return c===c&&(b!==n&&(c=c<=b?c:b),g!==n&&(c=c>=g?c:g)),c}function Xi(c,g,b,L,N,$){var Q,ae=g&p,pe=g&m,Ie=g&v;if(b&&(Q=N?b(c,L,N,$):b(c)),Q!==n)return Q;if(!or(c))return c;var Le=qt(c);if(Le){if(Q=mH(c),!ae)return fi(c,Q)}else{var Ue=Bi(c),tt=Ue==Z||Ue==He;if(Pu(c))return cg(c,ae);if(Ue==ct||Ue==Ne||tt&&!N){if(Q=pe||tt?{}:KR(c),!ae)return pe?zy(c,Iy(Q,c)):nw(c,Ym(Q,c))}else{if(!Dn[Ue])return N?c:{};Q=gH(c,Ue,ae)}}$||($=new Cr);var Mt=$.get(c);if(Mt)return Mt;$.set(c,Q),EP(c)?c.forEach(function(Ht){Q.add(Xi(Ht,g,b,Ht,c,$))}):AP(c)&&c.forEach(function(Ht,dn){Q.set(dn,Xi(Ht,g,b,dn,c,$))});var kt=Ie?pe?gn:gr:pe?gs:di,un=Le?n:kt(c);return Er(un||c,function(Ht,dn){un&&(dn=Ht,Ht=c[dn]),Us(Q,dn,Xi(Ht,g,b,dn,c,$))}),Q}function qm(c){var g=di(c);return function(b){return Qh(b,c,g)}}function Qh(c,g,b){var L=b.length;if(c==null)return!L;for(c=Ut(c);L--;){var N=b[L],$=g[N],Q=c[N];if(Q===n&&!(N in c)||!$(Q))return!1}return!0}function Qm(c,g,b){if(typeof c!="function")throw new Ai(o);return pg(function(){c.apply(n,b)},g)}function ll(c,g,b,L){var N=-1,$=Is,Q=!0,ae=c.length,pe=[],Ie=g.length;if(!ae)return pe;b&&(g=Fn(g,xi(b))),L?($=su,Q=!1):g.length>=i&&($=Yr,Q=!1,g=new Ma(g));e:for(;++N<ae;){var Le=c[N],Ue=b==null?Le:b(Le);if(Le=L||Le!==0?Le:0,Q&&Ue===Ue){for(var tt=Ie;tt--;)if(g[tt]===Ue)continue e;pe.push(Le)}else $(g,Ue,L)||pe.push(Le)}return pe}var ks=hg(Ji),Ly=hg(Au,!0);function ZA(c,g){var b=!0;return ks(c,function(L,N,$){return b=!!g(L,N,$),b}),b}function Qc(c,g,b){for(var L=-1,N=c.length;++L<N;){var $=c[L],Q=g($);if(Q!=null&&(ae===n?Q===Q&&!Gs(Q):b(Q,ae)))var ae=Q,pe=$}return pe}function By(c,g,b,L){var N=c.length;for(b=rn(b),b<0&&(b=-b>N?0:N+b),L=L===n||L>N?N:rn(L),L<0&&(L+=N),L=b>L?0:MP(L);b<L;)c[b++]=g;return c}function Zm(c,g){var b=[];return ks(c,function(L,N,$){g(L,N,$)&&b.push(L)}),b}function kr(c,g,b,L,N){var $=-1,Q=c.length;for(b||(b=yH),N||(N=[]);++$<Q;){var ae=c[$];g>0&&b(ae)?g>1?kr(ae,g-1,b,L,N):Ls(N,ae):L||(N[N.length]=ae)}return N}var Su=cd(),Zc=cd(!0);function Ji(c,g){return c&&Su(c,g,di)}function Au(c,g){return c&&Zc(c,g,di)}function ul(c,g){return ii(g,function(b){return pl(c[b])})}function Hs(c,g){g=Ba(g,c);for(var b=0,L=g.length;c!=null&&b<L;)c=c[Fa(g[b++])];return b&&b==L?c:n}function Zh(c,g,b){var L=g(c);return qt(c)?L:Ls(L,b(c))}function qr(c){return c==null?c===n?Be:Re:yo&&yo in Ut(c)?hH(c):bH(c)}function ef(c,g){return c>g}function Dy(c,g){return c!=null&&En.call(c,g)}function eg(c,g){return c!=null&&g in Ut(c)}function ew(c,g,b){return c>=si(g,b)&&c<Mr(g,b)}function wu(c,g,b){for(var L=b?su:Is,N=c[0].length,$=c.length,Q=$,ae=Se($),pe=1/0,Ie=[];Q--;){var Le=c[Q];Q&&g&&(Le=Fn(Le,xi(g))),pe=si(Le.length,pe),ae[Q]=!b&&(g||N>=120&&Le.length>=120)?new Ma(Q&&Le):n}Le=c[0];var Ue=-1,tt=ae[0];e:for(;++Ue<N&&Ie.length<pe;){var Mt=Le[Ue],kt=g?g(Mt):Mt;if(Mt=b||Mt!==0?Mt:0,!(tt?Yr(tt,kt):L(Ie,kt,b))){for(Q=$;--Q;){var un=ae[Q];if(!(un?Yr(un,kt):L(c[Q],kt,b)))continue e}tt&&tt.push(kt),Ie.push(Mt)}}return Ie}function tg(c,g,b,L){return Ji(c,function(N,$,Q){g(L,b(N),$,Q)}),L}function Un(c,g,b){g=Ba(g,c),c=ZR(c,g);var L=c==null?c:c[Fa(Eo(g))];return L==null?n:zn(L,c,b)}function Zt(c){return vr(c)&&qr(c)==Ne}function pr(c){return vr(c)&&qr(c)==et}function mr(c){return vr(c)&&qr(c)==yt}function ir(c,g,b,L,N){return c===g?!0:c==null||g==null||!vr(c)&&!vr(g)?c!==c&&g!==g:Ki(c,g,b,L,ir,N)}function Ki(c,g,b,L,N,$){var Q=qt(c),ae=qt(g),pe=Q?Ve:Bi(c),Ie=ae?Ve:Bi(g);pe=pe==Ne?ct:pe,Ie=Ie==Ne?ct:Ie;var Le=pe==ct,Ue=Ie==ct,tt=pe==Ie;if(tt&&Pu(c)){if(!Pu(g))return!1;Q=!0,Le=!1}if(tt&&!Le)return $||($=new Cr),Q||dd(c)?At(c,g,b,L,N,$):en(c,g,pe,b,L,N,$);if(!(b&y)){var Mt=Le&&En.call(c,"__wrapped__"),kt=Ue&&En.call(g,"__wrapped__");if(Mt||kt){var un=Mt?c.value():c,Ht=kt?g.value():g;return $||($=new Cr),N(un,Ht,b,L,$)}}return tt?($||($=new Cr),Kt(c,g,b,L,N,$)):!1}function Eu(c){return vr(c)&&Bi(c)==Me}function sr(c,g,b,L){var N=b.length,$=N,Q=!L;if(c==null)return!$;for(c=Ut(c);N--;){var ae=b[N];if(Q&&ae[2]?ae[1]!==c[ae[0]]:!(ae[0]in c))return!1}for(;++N<$;){ae=b[N];var pe=ae[0],Ie=c[pe],Le=ae[1];if(Q&&ae[2]){if(Ie===n&&!(pe in c))return!1}else{var Ue=new Cr;if(L)var tt=L(Ie,Le,pe,c,g,Ue);if(!(tt===n?ir(Le,Ie,y|S,L,Ue):tt))return!1}}return!0}function bu(c){if(!or(c)||xH(c))return!1;var g=pl(c)?Vh:Ae;return g.test(cf(c))}function Mu(c){return vr(c)&&qr(c)==U}function ed(c){return vr(c)&&Bi(c)==me}function ng(c){return vr(c)&&Yy(c.length)&&!!On[qr(c)]}function Cu(c){return typeof c=="function"?c:c==null?vs:typeof c=="object"?qt(c)?td(c[0],c[1]):nf(c):NP(c)}function ai(c){if(!dg(c))return cy(c);var g=[];for(var b in Ut(c))En.call(c,b)&&b!="constructor"&&g.push(b);return g}function rg(c){if(!or(c))return EH(c);var g=dg(c),b=[];for(var L in c)L=="constructor"&&(g||!En.call(c,L))||b.push(L);return b}function tf(c,g){return c<g}function cl(c,g){var b=-1,L=ms(c)?Se(c.length):[];return ks(c,function(N,$,Q){L[++b]=g(N,$,Q)}),L}function nf(c){var g=iw(c);return g.length==1&&g[0][2]?qR(g[0][0],g[0][1]):function(b){return b===c||sr(b,c,g)}}function td(c,g){return ow(c)&&YR(g)?qR(Fa(c),g):function(b){var L=gw(b,c);return L===n&&L===g?vw(b,c):ir(g,L,y|S)}}function zs(c,g,b,L,N){c!==g&&Su(g,function($,Q){if(N||(N=new Cr),or($))nd(c,g,Q,b,zs,L,N);else{var ae=L?L(lw(c,Q),$,Q+"",c,g,N):n;ae===n&&(ae=$),Jm(c,Q,ae)}},gs)}function nd(c,g,b,L,N,$,Q){var ae=lw(c,b),pe=lw(g,b),Ie=Q.get(pe);if(Ie){Jm(c,b,Ie);return}var Le=$?$(ae,pe,b+"",c,g,Q):n,Ue=Le===n;if(Ue){var tt=qt(pe),Mt=!tt&&Pu(pe),kt=!tt&&!Mt&&dd(pe);Le=pe,tt||Mt||kt?qt(ae)?Le=ae:Tr(ae)?Le=fi(ae):Mt?(Ue=!1,Le=cg(pe,!0)):kt?(Ue=!1,Le=Hy(pe,!0)):Le=[]:mg(pe)||ff(pe)?(Le=ae,ff(ae)?Le=CP(ae):(!or(ae)||pl(ae))&&(Le=KR(pe))):Ue=!1}Ue&&(Q.set(pe,Le),N(Le,pe,L,$,Q),Q.delete(pe)),Jm(c,b,Le)}function Vo(c,g){var b=c.length;if(b)return g+=g<0?b:0,dl(g,b)?c[g]:n}function rf(c,g,b){g.length?g=Fn(g,function($){return qt($)?function(Q){return Hs(Q,$.length===1?$[0]:$)}:$}):g=[vs];var L=-1;g=Fn(g,xi(Ft()));var N=cl(c,function($,Q,ae){var pe=Fn(g,function(Ie){return Ie($)});return{criteria:pe,index:++L,value:$}});return Ho(N,function($,Q){return ud($,Q,b)})}function sf(c,g){return rd(c,g,function(b,L){return vw(c,L)})}function rd(c,g,b){for(var L=-1,N=g.length,$={};++L<N;){var Q=g[L],ae=Hs(c,Q);b(ae,Q)&&fl($,Ba(Q,c),ae)}return $}function id(c){return function(g){return Hs(g,c)}}function Tu(c,g,b,L){var N=L?au:Bs,$=-1,Q=g.length,ae=c;for(c===g&&(g=fi(g)),b&&(ae=Fn(c,xi(b)));++$<Q;)for(var pe=0,Ie=g[$],Le=b?b(Ie):Ie;(pe=N(ae,Le,pe,L))>-1;)ae!==c&&Ea.call(ae,pe,1),Ea.call(c,pe,1);return c}function li(c,g){for(var b=c?g.length:0,L=b-1;b--;){var N=g[b];if(b==L||N!==$){var $=N;dl(N)?Ea.call(c,N,1):ag(c,N)}}return c}function So(c,g){return c+jc(Gm()*(g-c+1))}function hs(c,g,b,L){for(var N=-1,$=Mr(Vc((g-c)/(b||1)),0),Q=Se($);$--;)Q[L?$:++N]=c,c+=b;return Q}function Ru(c,g){var b="";if(!c||g<1||g>z)return b;do g%2&&(b+=c),g=jc(g/2),g&&(c+=c);while(g);return b}function Pt(c,g){return uw(QR(c,g,vs),c+"")}function Oy(c){return qc(pd(c))}function ig(c,g){var b=pd(c);return Wy(b,Ta(g,0,b.length))}function fl(c,g,b,L){if(!or(c))return c;g=Ba(g,c);for(var N=-1,$=g.length,Q=$-1,ae=c;ae!=null&&++N<$;){var pe=Fa(g[N]),Ie=b;if(pe==="__proto__"||pe==="constructor"||pe==="prototype")return c;if(N!=Q){var Le=ae[pe];Ie=L?L(Le,pe,ae):n,Ie===n&&(Ie=or(Le)?Le:dl(g[N+1])?[]:{})}Us(ae,pe,Ie),ae=ae[pe]}return c}var Fy=Xh?function(c,g){return Xh.set(c,g),c}:vs,Ra=vu?function(c,g){return vu(c,"toString",{configurable:!0,enumerable:!1,value:_w(g),writable:!0})}:vs;function Ny(c){return Wy(pd(c))}function Yi(c,g,b){var L=-1,N=c.length;g<0&&(g=-g>N?0:N+g),b=b>N?N:b,b<0&&(b+=N),N=g>b?0:b-g>>>0,g>>>=0;for(var $=Se(N);++L<N;)$[L]=c[L+g];return $}function sg(c,g){var b;return ks(c,function(L,N,$){return b=g(L,N,$),!b}),!!b}function Ao(c,g,b){var L=0,N=c==null?L:c.length;if(typeof g=="number"&&g===g&&N<=ue){for(;L<N;){var $=L+N>>>1,Q=c[$];Q!==null&&!Gs(Q)&&(b?Q<=g:Q<g)?L=$+1:N=$}return N}return sd(c,g,vs,b)}function sd(c,g,b,L){var N=0,$=c==null?0:c.length;if($===0)return 0;g=b(g);for(var Q=g!==g,ae=g===null,pe=Gs(g),Ie=g===n;N<$;){var Le=jc((N+$)/2),Ue=b(c[Le]),tt=Ue!==n,Mt=Ue===null,kt=Ue===Ue,un=Gs(Ue);if(Q)var Ht=L||kt;else Ie?Ht=kt&&(L||tt):ae?Ht=kt&&tt&&(L||!Mt):pe?Ht=kt&&tt&&!Mt&&(L||!un):Mt||un?Ht=!1:Ht=L?Ue<=g:Ue<g;Ht?N=Le+1:$=Le}return si($,ye)}function og(c,g){for(var b=-1,L=c.length,N=0,$=[];++b<L;){var Q=c[b],ae=g?g(Q):Q;if(!b||!Xo(ae,pe)){var pe=ae;$[N++]=Q===0?0:Q}}return $}function od(c){return typeof c=="number"?c:Gs(c)?te:+c}function ui(c){if(typeof c=="string")return c;if(qt(c))return Fn(c,ui)+"";if(Gs(c))return xu?xu.call(c):"";var g=c+"";return g=="0"&&1/c==-he?"-0":g}function Pa(c,g,b){var L=-1,N=Is,$=c.length,Q=!0,ae=[],pe=ae;if(b)Q=!1,N=su;else if($>=i){var Ie=g?null:hi(c);if(Ie)return kc(Ie);Q=!1,N=Yr,pe=new Ma}else pe=g?[]:ae;e:for(;++L<$;){var Le=c[L],Ue=g?g(Le):Le;if(Le=b||Le!==0?Le:0,Q&&Ue===Ue){for(var tt=pe.length;tt--;)if(pe[tt]===Ue)continue e;g&&pe.push(Ue),ae.push(Le)}else N(pe,Ue,b)||(pe!==ae&&pe.push(Ue),ae.push(Le))}return ae}function ag(c,g){return g=Ba(g,c),c=ZR(c,g),c==null||delete c[Fa(Eo(g))]}function lg(c,g,b,L){return fl(c,g,b(Hs(c,g)),L)}function of(c,g,b,L){for(var N=c.length,$=L?N:-1;(L?$--:++$<N)&&g(c[$],$,c););return b?Yi(c,L?0:$,L?$+1:N):Yi(c,L?$+1:0,L?N:$)}function Ia(c,g){var b=c;return b instanceof It&&(b=b.value()),zh(g,function(L,N){return N.func.apply(N.thisArg,Ls([L],N.args))},b)}function ug(c,g,b){var L=c.length;if(L<2)return L?Pa(c[0]):[];for(var N=-1,$=Se(L);++N<L;)for(var Q=c[N],ae=-1;++ae<L;)ae!=N&&($[N]=ll($[N]||Q,c[ae],g,b));return Pa(kr($,1),g,b)}function La(c,g,b){for(var L=-1,N=c.length,$=g.length,Q={};++L<N;){var ae=L<$?g[L]:n;b(Q,c[L],ae)}return Q}function ad(c){return Tr(c)?c:[]}function ci(c){return typeof c=="function"?c:vs}function Ba(c,g){return qt(c)?c:ow(c,g)?[c]:rP(Cn(c))}var Uy=Pt;function Da(c,g,b){var L=c.length;return b=b===n?L:b,!g&&b>=L?c:Yi(c,g,b)}var ky=Wc||function(c){return dr.clearTimeout(c)};function cg(c,g){if(g)return c.slice();var b=c.length,L=Um?Um(b):new c.constructor(b);return c.copy(L),L}function ld(c){var g=new c.constructor(c.byteLength);return new Gc(g).set(new Gc(c)),g}function tw(c,g){var b=g?ld(c.buffer):c.buffer;return new c.constructor(b,c.byteOffset,c.byteLength)}function ds(c){var g=new c.constructor(c.source,Ih.exec(c));return g.lastIndex=c.lastIndex,g}function fg(c){return $o?Ut($o.call(c)):{}}function Hy(c,g){var b=g?ld(c.buffer):c.buffer;return new c.constructor(b,c.byteOffset,c.length)}function jo(c,g){if(c!==g){var b=c!==n,L=c===null,N=c===c,$=Gs(c),Q=g!==n,ae=g===null,pe=g===g,Ie=Gs(g);if(!ae&&!Ie&&!$&&c>g||$&&Q&&pe&&!ae&&!Ie||L&&Q&&pe||!b&&pe||!N)return 1;if(!L&&!$&&!Ie&&c<g||Ie&&b&&N&&!L&&!$||ae&&b&&N||!Q&&N||!pe)return-1}return 0}function ud(c,g,b){for(var L=-1,N=c.criteria,$=g.criteria,Q=N.length,ae=b.length;++L<Q;){var pe=jo(N[L],$[L]);if(pe){if(L>=ae)return pe;var Ie=b[L];return pe*(Ie=="desc"?-1:1)}}return c.index-g.index}function Oa(c,g,b,L){for(var N=-1,$=c.length,Q=b.length,ae=-1,pe=g.length,Ie=Mr($-Q,0),Le=Se(pe+Ie),Ue=!L;++ae<pe;)Le[ae]=g[ae];for(;++N<Q;)(Ue||N<$)&&(Le[b[N]]=c[N]);for(;Ie--;)Le[ae++]=c[N++];return Le}function af(c,g,b,L){for(var N=-1,$=c.length,Q=-1,ae=b.length,pe=-1,Ie=g.length,Le=Mr($-ae,0),Ue=Se(Le+Ie),tt=!L;++N<Le;)Ue[N]=c[N];for(var Mt=N;++pe<Ie;)Ue[Mt+pe]=g[pe];for(;++Q<ae;)(tt||N<$)&&(Ue[Mt+b[Q]]=c[N++]);return Ue}function fi(c,g){var b=-1,L=c.length;for(g||(g=Se(L));++b<L;)g[b]=c[b];return g}function ps(c,g,b,L){var N=!b;b||(b={});for(var $=-1,Q=g.length;++$<Q;){var ae=g[$],pe=L?L(b[ae],c[ae],ae,b,c):n;pe===n&&(pe=c[ae]),N?xo(b,ae,pe):Us(b,ae,pe)}return b}function nw(c,g){return ps(c,sw(c),g)}function zy(c,g){return ps(c,XR(c),g)}function lf(c,g){return function(b,L){var N=qt(b)?po:Km,$=g?g():{};return N(b,c,Ft(L,2),$)}}function hl(c){return Pt(function(g,b){var L=-1,N=b.length,$=N>1?b[N-1]:n,Q=N>2?b[2]:n;for($=c.length>3&&typeof $=="function"?(N--,$):n,Q&&Qi(b[0],b[1],Q)&&($=N<3?n:$,N=1),g=Ut(g);++L<N;){var ae=b[L];ae&&c(g,ae,L,$)}return g})}function hg(c,g){return function(b,L){if(b==null)return b;if(!ms(b))return c(b,L);for(var N=b.length,$=g?N:-1,Q=Ut(b);(g?$--:++$<N)&&L(Q[$],$,Q)!==!1;);return b}}function cd(c){return function(g,b,L){for(var N=-1,$=Ut(g),Q=L(g),ae=Q.length;ae--;){var pe=Q[c?ae:++N];if(b($[pe],pe,$)===!1)break}return g}}function rw(c,g,b){var L=g&A,N=d(c);function $(){var Q=this&&this!==dr&&this instanceof $?N:c;return Q.apply(L?b:this,arguments)}return $}function Gy(c){return function(g){g=Cn(g);var b=nl(g)?er(g):n,L=b?b[0]:g.charAt(0),N=b?Da(b,1).join(""):g.slice(1);return L[c]()+N}}function f(c){return function(g){return zh(OP(DP(g).replace(GA,"")),c,"")}}function d(c){return function(){var g=arguments;switch(g.length){case 0:return new c;case 1:return new c(g[0]);case 2:return new c(g[0],g[1]);case 3:return new c(g[0],g[1],g[2]);case 4:return new c(g[0],g[1],g[2],g[3]);case 5:return new c(g[0],g[1],g[2],g[3],g[4]);case 6:return new c(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return new c(g[0],g[1],g[2],g[3],g[4],g[5],g[6])}var b=Wo(c.prototype),L=c.apply(b,g);return or(L)?L:b}}function E(c,g,b){var L=d(c);function N(){for(var $=arguments.length,Q=Se($),ae=$,pe=hd(N);ae--;)Q[ae]=arguments[ae];var Ie=$<3&&Q[0]!==pe&&Q[$-1]!==pe?[]:Fs(Q,pe);if($-=Ie.length,$<b)return Mn(c,g,D,N.placeholder,n,Q,Ie,n,n,b-$);var Le=this&&this!==dr&&this instanceof N?L:c;return zn(Le,this,Q)}return N}function C(c){return function(g,b,L){var N=Ut(g);if(!ms(g)){var $=Ft(b,3);g=di(g),b=function(ae){return $(N[ae],ae,N)}}var Q=c(g,b,L);return Q>-1?N[$?g[Q]:Q]:n}}function P(c){return tn(function(g){var b=g.length,L=b,N=oi.prototype.thru;for(c&&g.reverse();L--;){var $=g[L];if(typeof $!="function")throw new Ai(o);if(N&&!Q&&fd($)=="wrapper")var Q=new oi([],!0)}for(L=Q?L:b;++L<b;){$=g[L];var ae=fd($),pe=ae=="wrapper"?wo($):n;pe&&aw(pe[0])&&pe[1]==(I|x|R|F)&&!pe[4].length&&pe[9]==1?Q=Q[fd(pe[0])].apply(Q,pe[3]):Q=$.length==1&&aw($)?Q[ae]():Q.thru($)}return function(){var Ie=arguments,Le=Ie[0];if(Q&&Ie.length==1&&qt(Le))return Q.plant(Le).value();for(var Ue=0,tt=b?g[Ue].apply(this,Ie):Le;++Ue<b;)tt=g[Ue].call(this,tt);return tt}})}function D(c,g,b,L,N,$,Q,ae,pe,Ie){var Le=g&I,Ue=g&A,tt=g&_,Mt=g&(x|M),kt=g&B,un=tt?n:d(c);function Ht(){for(var dn=arguments.length,yn=Se(dn),$s=dn;$s--;)yn[$s]=arguments[$s];if(Mt)var Zi=hd(Ht),Ws=Os(yn,Zi);if(L&&(yn=Oa(yn,L,N,Mt)),$&&(yn=af(yn,$,Q,Mt)),dn-=Ws,Mt&&dn<Ie){var Rr=Fs(yn,Zi);return Mn(c,g,D,Ht.placeholder,b,yn,Rr,ae,pe,Ie-dn)}var Jo=Ue?b:this,gl=tt?Jo[c]:c;return dn=yn.length,ae?yn=MH(yn,ae):kt&&dn>1&&yn.reverse(),Le&&pe<dn&&(yn.length=pe),this&&this!==dr&&this instanceof Ht&&(gl=un||d(gl)),gl.apply(Jo,yn)}return Ht}function Y(c,g){return function(b,L){return tg(b,c,g(L),{})}}function ce(c,g){return function(b,L){var N;if(b===n&&L===n)return g;if(b!==n&&(N=b),L!==n){if(N===n)return L;typeof b=="string"||typeof L=="string"?(b=ui(b),L=ui(L)):(b=od(b),L=od(L)),N=c(b,L)}return N}}function be(c){return tn(function(g){return g=Fn(g,xi(Ft())),Pt(function(b){var L=this;return c(g,function(N){return zn(N,L,b)})})})}function $e(c,g){g=g===n?" ":ui(g);var b=g.length;if(b<2)return b?Ru(g,c):g;var L=Ru(g,Vc(c/mo(g)));return nl(g)?Da(er(L),0,c).join(""):L.slice(0,c)}function pt(c,g,b,L){var N=g&A,$=d(c);function Q(){for(var ae=-1,pe=arguments.length,Ie=-1,Le=L.length,Ue=Se(Le+pe),tt=this&&this!==dr&&this instanceof Q?$:c;++Ie<Le;)Ue[Ie]=L[Ie];for(;pe--;)Ue[Ie++]=arguments[++ae];return zn(tt,N?b:this,Ue)}return Q}function jt(c){return function(g,b,L){return L&&typeof L!="number"&&Qi(g,b,L)&&(b=L=n),g=ml(g),b===n?(b=g,g=0):b=ml(b),L=L===n?g<b?1:-1:ml(L),hs(g,b,L,c)}}function Ct(c){return function(g,b){return typeof g=="string"&&typeof b=="string"||(g=bo(g),b=bo(b)),c(g,b)}}function Mn(c,g,b,L,N,$,Q,ae,pe,Ie){var Le=g&x,Ue=Le?Q:n,tt=Le?n:Q,Mt=Le?$:n,kt=Le?n:$;g|=Le?R:T,g&=~(Le?T:R),g&w||(g&=~(A|_));var un=[c,g,N,Mt,Ue,kt,tt,ae,pe,Ie],Ht=b.apply(n,un);return aw(c)&&eP(Ht,un),Ht.placeholder=L,tP(Ht,c,g)}function St(c){var g=Gn[c];return function(b,L){if(b=bo(b),L=L==null?0:si(rn(L),292),L&&zm(b)){var N=(Cn(b)+"e").split("e"),$=g(N[0]+"e"+(+N[1]+L));return N=(Cn($)+"e").split("e"),+(N[0]+"e"+(+N[1]-L))}return g(b)}}var hi=_u&&1/kc(new _u([,-0]))[1]==he?function(c){return new _u(c)}:Aw;function qi(c){return function(g){var b=Bi(g);return b==Me?Uc(g):b==me?iy(g):ty(g,c(g))}}function ve(c,g,b,L,N,$,Q,ae){var pe=g&_;if(!pe&&typeof c!="function")throw new Ai(o);var Ie=L?L.length:0;if(Ie||(g&=~(R|T),L=N=n),Q=Q===n?Q:Mr(rn(Q),0),ae=ae===n?ae:rn(ae),Ie-=N?N.length:0,g&T){var Le=L,Ue=N;L=N=n}var tt=pe?n:wo(c),Mt=[c,g,b,L,N,Le,Ue,$,Q,ae];if(tt&&wH(Mt,tt),c=Mt[0],g=Mt[1],b=Mt[2],L=Mt[3],N=Mt[4],ae=Mt[9]=Mt[9]===n?pe?0:c.length:Mr(Mt[9]-Ie,0),!ae&&g&(x|M)&&(g&=~(x|M)),!g||g==A)var kt=rw(c,g,b);else g==x||g==M?kt=E(c,g,ae):(g==R||g==(A|R))&&!N.length?kt=pt(c,g,b,L):kt=D.apply(n,Mt);var un=tt?Fy:eP;return tP(un(kt,Mt),c,g)}function de(c,g,b,L){return c===n||Xo(c,mu[b])&&!En.call(L,b)?g:c}function we(c,g,b,L,N,$){return or(c)&&or(g)&&($.set(g,c),zs(c,g,n,we,$),$.delete(g)),c}function it(c){return mg(c)?n:c}function At(c,g,b,L,N,$){var Q=b&y,ae=c.length,pe=g.length;if(ae!=pe&&!(Q&&pe>ae))return!1;var Ie=$.get(c),Le=$.get(g);if(Ie&&Le)return Ie==g&&Le==c;var Ue=-1,tt=!0,Mt=b&S?new Ma:n;for($.set(c,g),$.set(g,c);++Ue<ae;){var kt=c[Ue],un=g[Ue];if(L)var Ht=Q?L(un,kt,Ue,g,c,$):L(kt,un,Ue,c,g,$);if(Ht!==n){if(Ht)continue;tt=!1;break}if(Mt){if(!Dc(g,function(dn,yn){if(!Yr(Mt,yn)&&(kt===dn||N(kt,dn,b,L,$)))return Mt.push(yn)})){tt=!1;break}}else if(!(kt===un||N(kt,un,b,L,$))){tt=!1;break}}return $.delete(c),$.delete(g),tt}function en(c,g,b,L,N,$,Q){switch(b){case _t:if(c.byteLength!=g.byteLength||c.byteOffset!=g.byteOffset)return!1;c=c.buffer,g=g.buffer;case et:return!(c.byteLength!=g.byteLength||!$(new Gc(c),new Gc(g)));case vt:case yt:case Ge:return Xo(+c,+g);case ht:return c.name==g.name&&c.message==g.message;case U:case Oe:return c==g+"";case Me:var ae=Uc;case me:var pe=L&y;if(ae||(ae=kc),c.size!=g.size&&!pe)return!1;var Ie=Q.get(c);if(Ie)return Ie==g;L|=S,Q.set(c,g);var Le=At(ae(c),ae(g),L,N,$,Q);return Q.delete(c),Le;case De:if($o)return $o.call(c)==$o.call(g)}return!1}function Kt(c,g,b,L,N,$){var Q=b&y,ae=gr(c),pe=ae.length,Ie=gr(g),Le=Ie.length;if(pe!=Le&&!Q)return!1;for(var Ue=pe;Ue--;){var tt=ae[Ue];if(!(Q?tt in g:En.call(g,tt)))return!1}var Mt=$.get(c),kt=$.get(g);if(Mt&&kt)return Mt==g&&kt==c;var un=!0;$.set(c,g),$.set(g,c);for(var Ht=Q;++Ue<pe;){tt=ae[Ue];var dn=c[tt],yn=g[tt];if(L)var $s=Q?L(yn,dn,tt,g,c,$):L(dn,yn,tt,c,g,$);if(!($s===n?dn===yn||N(dn,yn,b,L,$):$s)){un=!1;break}Ht||(Ht=tt=="constructor")}if(un&&!Ht){var Zi=c.constructor,Ws=g.constructor;Zi!=Ws&&"constructor"in c&&"constructor"in g&&!(typeof Zi=="function"&&Zi instanceof Zi&&typeof Ws=="function"&&Ws instanceof Ws)&&(un=!1)}return $.delete(c),$.delete(g),un}function tn(c){return uw(QR(c,n,aP),c+"")}function gr(c){return Zh(c,di,sw)}function gn(c){return Zh(c,gs,XR)}var wo=Xh?function(c){return Xh.get(c)}:Aw;function fd(c){for(var g=c.name+"",b=ol[g],L=En.call(ol,g)?b.length:0;L--;){var N=b[L],$=N.func;if($==null||$==c)return N.name}return g}function hd(c){var g=En.call(k,"placeholder")?k:c;return g.placeholder}function Ft(){var c=k.iteratee||xw;return c=c===xw?Cu:c,arguments.length?c(arguments[0],arguments[1]):c}function $y(c,g){var b=c.__data__;return _H(g)?b[typeof g=="string"?"string":"hash"]:b.map}function iw(c){for(var g=di(c),b=g.length;b--;){var L=g[b],N=c[L];g[b]=[L,N,YR(N)]}return g}function uf(c,g){var b=Om(c,g);return bu(b)?b:n}function hH(c){var g=En.call(c,yo),b=c[yo];try{c[yo]=n;var L=!0}catch{}var N=Vi.call(c);return L&&(g?c[yo]=b:delete c[yo]),N}var sw=Xc?function(c){return c==null?[]:(c=Ut(c),ii(Xc(c),function(g){return jh.call(c,g)}))}:ww,XR=Xc?function(c){for(var g=[];c;)Ls(g,sw(c)),c=$c(c);return g}:ww,Bi=qr;(yu&&Bi(new yu(new ArrayBuffer(1)))!=_t||Jc&&Bi(new Jc)!=Me||$m&&Bi($m.resolve())!=Qe||_u&&Bi(new _u)!=me||il&&Bi(new il)!=ft)&&(Bi=function(c){var g=qr(c),b=g==ct?c.constructor:n,L=b?cf(b):"";if(L)switch(L){case py:return _t;case my:return Me;case gy:return Qe;case vy:return me;case _o:return ft}return g});function dH(c,g,b){for(var L=-1,N=b.length;++L<N;){var $=b[L],Q=$.size;switch($.type){case"drop":c+=Q;break;case"dropRight":g-=Q;break;case"take":g=si(g,c+Q);break;case"takeRight":c=Mr(c,g-Q);break}}return{start:c,end:g}}function pH(c){var g=c.match(xa);return g?g[1].split(Zl):[]}function JR(c,g,b){g=Ba(g,c);for(var L=-1,N=g.length,$=!1;++L<N;){var Q=Fa(g[L]);if(!($=c!=null&&b(c,Q)))break;c=c[Q]}return $||++L!=N?$:(N=c==null?0:c.length,!!N&&Yy(N)&&dl(Q,N)&&(qt(c)||ff(c)))}function mH(c){var g=c.length,b=new c.constructor(g);return g&&typeof c[0]=="string"&&En.call(c,"index")&&(b.index=c.index,b.input=c.input),b}function KR(c){return typeof c.constructor=="function"&&!dg(c)?Wo($c(c)):{}}function gH(c,g,b){var L=c.constructor;switch(g){case et:return ld(c);case vt:case yt:return new L(+c);case _t:return tw(c,b);case zt:case Fe:case an:case Jt:case Dt:case bt:case ot:case ie:case Pe:return Hy(c,b);case Me:return new L;case Ge:case Oe:return new L(c);case U:return ds(c);case me:return new L;case De:return fg(c)}}function vH(c,g){var b=g.length;if(!b)return c;var L=b-1;return g[L]=(b>1?"& ":"")+g[L],g=g.join(b>2?", ":" "),c.replace(Ql,`{
/* [wrapped with `+g+`] */
`)}function yH(c){return qt(c)||ff(c)||!!(Hm&&c&&c[Hm])}function dl(c,g){var b=typeof c;return g=g??z,!!g&&(b=="number"||b!="symbol"&&xe.test(c))&&c>-1&&c%1==0&&c<g}function Qi(c,g,b){if(!or(b))return!1;var L=typeof g;return(L=="number"?ms(b)&&dl(g,b.length):L=="string"&&g in b)?Xo(b[g],c):!1}function ow(c,g){if(qt(c))return!1;var b=typeof c;return b=="number"||b=="symbol"||b=="boolean"||c==null||Gs(c)?!0:kn.test(c)||!Rn.test(c)||g!=null&&c in Ut(g)}function _H(c){var g=typeof c;return g=="string"||g=="number"||g=="symbol"||g=="boolean"?c!=="__proto__":c===null}function aw(c){var g=fd(c),b=k[g];if(typeof b!="function"||!(g in It.prototype))return!1;if(c===b)return!0;var L=wo(b);return!!L&&c===L[0]}function xH(c){return!!vo&&vo in c}var SH=br?pl:Ew;function dg(c){var g=c&&c.constructor,b=typeof g=="function"&&g.prototype||mu;return c===b}function YR(c){return c===c&&!or(c)}function qR(c,g){return function(b){return b==null?!1:b[c]===g&&(g!==n||c in Ut(b))}}function AH(c){var g=Jy(c,function(L){return b.size===u&&b.clear(),L}),b=g.cache;return g}function wH(c,g){var b=c[1],L=g[1],N=b|L,$=N<(A|_|I),Q=L==I&&b==x||L==I&&b==F&&c[7].length<=g[8]||L==(I|F)&&g[7].length<=g[8]&&b==x;if(!($||Q))return c;L&A&&(c[2]=g[2],N|=b&A?0:w);var ae=g[3];if(ae){var pe=c[3];c[3]=pe?Oa(pe,ae,g[4]):ae,c[4]=pe?Fs(c[3],h):g[4]}return ae=g[5],ae&&(pe=c[5],c[5]=pe?af(pe,ae,g[6]):ae,c[6]=pe?Fs(c[5],h):g[6]),ae=g[7],ae&&(c[7]=ae),L&I&&(c[8]=c[8]==null?g[8]:si(c[8],g[8])),c[9]==null&&(c[9]=g[9]),c[0]=g[0],c[1]=N,c}function EH(c){var g=[];if(c!=null)for(var b in Ut(c))g.push(b);return g}function bH(c){return Vi.call(c)}function QR(c,g,b){return g=Mr(g===n?c.length-1:g,0),function(){for(var L=arguments,N=-1,$=Mr(L.length-g,0),Q=Se($);++N<$;)Q[N]=L[g+N];N=-1;for(var ae=Se(g+1);++N<g;)ae[N]=L[N];return ae[g]=b(Q),zn(c,this,ae)}}function ZR(c,g){return g.length<2?c:Hs(c,Yi(g,0,-1))}function MH(c,g){for(var b=c.length,L=si(g.length,b),N=fi(c);L--;){var $=g[L];c[L]=dl($,b)?N[$]:n}return c}function lw(c,g){if(!(g==="constructor"&&typeof c[g]=="function")&&g!="__proto__")return c[g]}var eP=nP(Fy),pg=ly||function(c,g){return dr.setTimeout(c,g)},uw=nP(Ra);function tP(c,g,b){var L=g+"";return uw(c,vH(L,CH(pH(L),b)))}function nP(c){var g=0,b=0;return function(){var L=fy(),N=ne-(L-b);if(b=L,N>0){if(++g>=H)return arguments[0]}else g=0;return c.apply(n,arguments)}}function Wy(c,g){var b=-1,L=c.length,N=L-1;for(g=g===n?L:g;++b<g;){var $=So(b,N),Q=c[$];c[$]=c[b],c[b]=Q}return c.length=g,c}var rP=AH(function(c){var g=[];return c.charCodeAt(0)===46&&g.push(""),c.replace(vn,function(b,L,N,$){g.push(N?$.replace(Em,"$1"):L||b)}),g});function Fa(c){if(typeof c=="string"||Gs(c))return c;var g=c+"";return g=="0"&&1/c==-he?"-0":g}function cf(c){if(c!=null){try{return gu.call(c)}catch{}try{return c+""}catch{}}return""}function CH(c,g){return Er(_e,function(b){var L="_."+b[0];g&b[1]&&!Is(c,L)&&c.push(L)}),c.sort()}function iP(c){if(c instanceof It)return c.clone();var g=new oi(c.__wrapped__,c.__chain__);return g.__actions__=fi(c.__actions__),g.__index__=c.__index__,g.__values__=c.__values__,g}function TH(c,g,b){(b?Qi(c,g,b):g===n)?g=1:g=Mr(rn(g),0);var L=c==null?0:c.length;if(!L||g<1)return[];for(var N=0,$=0,Q=Se(Vc(L/g));N<L;)Q[$++]=Yi(c,N,N+=g);return Q}function RH(c){for(var g=-1,b=c==null?0:c.length,L=0,N=[];++g<b;){var $=c[g];$&&(N[L++]=$)}return N}function PH(){var c=arguments.length;if(!c)return[];for(var g=Se(c-1),b=arguments[0],L=c;L--;)g[L-1]=arguments[L];return Ls(qt(b)?fi(b):[b],kr(g,1))}var IH=Pt(function(c,g){return Tr(c)?ll(c,kr(g,1,Tr,!0)):[]}),LH=Pt(function(c,g){var b=Eo(g);return Tr(b)&&(b=n),Tr(c)?ll(c,kr(g,1,Tr,!0),Ft(b,2)):[]}),BH=Pt(function(c,g){var b=Eo(g);return Tr(b)&&(b=n),Tr(c)?ll(c,kr(g,1,Tr,!0),n,b):[]});function DH(c,g,b){var L=c==null?0:c.length;return L?(g=b||g===n?1:rn(g),Yi(c,g<0?0:g,L)):[]}function OH(c,g,b){var L=c==null?0:c.length;return L?(g=b||g===n?1:rn(g),g=L-g,Yi(c,0,g<0?0:g)):[]}function FH(c,g){return c&&c.length?of(c,Ft(g,3),!0,!0):[]}function NH(c,g){return c&&c.length?of(c,Ft(g,3),!0):[]}function UH(c,g,b,L){var N=c==null?0:c.length;return N?(b&&typeof b!="number"&&Qi(c,g,b)&&(b=0,L=N),By(c,g,b,L)):[]}function sP(c,g,b){var L=c==null?0:c.length;if(!L)return-1;var N=b==null?0:rn(b);return N<0&&(N=Mr(L+N,0)),ou(c,Ft(g,3),N)}function oP(c,g,b){var L=c==null?0:c.length;if(!L)return-1;var N=L-1;return b!==n&&(N=rn(b),N=b<0?Mr(L+N,0):si(N,L-1)),ou(c,Ft(g,3),N,!0)}function aP(c){var g=c==null?0:c.length;return g?kr(c,1):[]}function kH(c){var g=c==null?0:c.length;return g?kr(c,he):[]}function HH(c,g){var b=c==null?0:c.length;return b?(g=g===n?1:rn(g),kr(c,g)):[]}function zH(c){for(var g=-1,b=c==null?0:c.length,L={};++g<b;){var N=c[g];L[N[0]]=N[1]}return L}function lP(c){return c&&c.length?c[0]:n}function GH(c,g,b){var L=c==null?0:c.length;if(!L)return-1;var N=b==null?0:rn(b);return N<0&&(N=Mr(L+N,0)),Bs(c,g,N)}function $H(c){var g=c==null?0:c.length;return g?Yi(c,0,-1):[]}var WH=Pt(function(c){var g=Fn(c,ad);return g.length&&g[0]===c[0]?wu(g):[]}),VH=Pt(function(c){var g=Eo(c),b=Fn(c,ad);return g===Eo(b)?g=n:b.pop(),b.length&&b[0]===c[0]?wu(b,Ft(g,2)):[]}),jH=Pt(function(c){var g=Eo(c),b=Fn(c,ad);return g=typeof g=="function"?g:n,g&&b.pop(),b.length&&b[0]===c[0]?wu(b,n,g):[]});function XH(c,g){return c==null?"":XA.call(c,g)}function Eo(c){var g=c==null?0:c.length;return g?c[g-1]:n}function JH(c,g,b){var L=c==null?0:c.length;if(!L)return-1;var N=L;return b!==n&&(N=rn(b),N=N<0?Mr(L+N,0):si(N,L-1)),g===g?sy(c,g,N):ou(c,Oc,N,!0)}function KH(c,g){return c&&c.length?Vo(c,rn(g)):n}var YH=Pt(uP);function uP(c,g){return c&&c.length&&g&&g.length?Tu(c,g):c}function qH(c,g,b){return c&&c.length&&g&&g.length?Tu(c,g,Ft(b,2)):c}function QH(c,g,b){return c&&c.length&&g&&g.length?Tu(c,g,n,b):c}var ZH=tn(function(c,g){var b=c==null?0:c.length,L=qh(c,g);return li(c,Fn(g,function(N){return dl(N,b)?+N:N}).sort(jo)),L});function ez(c,g){var b=[];if(!(c&&c.length))return b;var L=-1,N=[],$=c.length;for(g=Ft(g,3);++L<$;){var Q=c[L];g(Q,L,c)&&(b.push(Q),N.push(L))}return li(c,N),b}function cw(c){return c==null?c:dy.call(c)}function tz(c,g,b){var L=c==null?0:c.length;return L?(b&&typeof b!="number"&&Qi(c,g,b)?(g=0,b=L):(g=g==null?0:rn(g),b=b===n?L:rn(b)),Yi(c,g,b)):[]}function nz(c,g){return Ao(c,g)}function rz(c,g,b){return sd(c,g,Ft(b,2))}function iz(c,g){var b=c==null?0:c.length;if(b){var L=Ao(c,g);if(L<b&&Xo(c[L],g))return L}return-1}function sz(c,g){return Ao(c,g,!0)}function oz(c,g,b){return sd(c,g,Ft(b,2),!0)}function az(c,g){var b=c==null?0:c.length;if(b){var L=Ao(c,g,!0)-1;if(Xo(c[L],g))return L}return-1}function lz(c){return c&&c.length?og(c):[]}function uz(c,g){return c&&c.length?og(c,Ft(g,2)):[]}function cz(c){var g=c==null?0:c.length;return g?Yi(c,1,g):[]}function fz(c,g,b){return c&&c.length?(g=b||g===n?1:rn(g),Yi(c,0,g<0?0:g)):[]}function hz(c,g,b){var L=c==null?0:c.length;return L?(g=b||g===n?1:rn(g),g=L-g,Yi(c,g<0?0:g,L)):[]}function dz(c,g){return c&&c.length?of(c,Ft(g,3),!1,!0):[]}function pz(c,g){return c&&c.length?of(c,Ft(g,3)):[]}var mz=Pt(function(c){return Pa(kr(c,1,Tr,!0))}),gz=Pt(function(c){var g=Eo(c);return Tr(g)&&(g=n),Pa(kr(c,1,Tr,!0),Ft(g,2))}),vz=Pt(function(c){var g=Eo(c);return g=typeof g=="function"?g:n,Pa(kr(c,1,Tr,!0),n,g)});function yz(c){return c&&c.length?Pa(c):[]}function _z(c,g){return c&&c.length?Pa(c,Ft(g,2)):[]}function xz(c,g){return g=typeof g=="function"?g:n,c&&c.length?Pa(c,n,g):[]}function fw(c){if(!(c&&c.length))return[];var g=0;return c=ii(c,function(b){if(Tr(b))return g=Mr(b.length,g),!0}),zo(g,function(b){return Fn(c,Ii(b))})}function cP(c,g){if(!(c&&c.length))return[];var b=fw(c);return g==null?b:Fn(b,function(L){return zn(g,n,L)})}var Sz=Pt(function(c,g){return Tr(c)?ll(c,g):[]}),Az=Pt(function(c){return ug(ii(c,Tr))}),wz=Pt(function(c){var g=Eo(c);return Tr(g)&&(g=n),ug(ii(c,Tr),Ft(g,2))}),Ez=Pt(function(c){var g=Eo(c);return g=typeof g=="function"?g:n,ug(ii(c,Tr),n,g)}),bz=Pt(fw);function Mz(c,g){return La(c||[],g||[],Us)}function Cz(c,g){return La(c||[],g||[],fl)}var Tz=Pt(function(c){var g=c.length,b=g>1?c[g-1]:n;return b=typeof b=="function"?(c.pop(),b):n,cP(c,b)});function fP(c){var g=k(c);return g.__chain__=!0,g}function Rz(c,g){return g(c),c}function Vy(c,g){return g(c)}var Pz=tn(function(c){var g=c.length,b=g?c[0]:0,L=this.__wrapped__,N=function($){return qh($,c)};return g>1||this.__actions__.length||!(L instanceof It)||!dl(b)?this.thru(N):(L=L.slice(b,+b+(g?1:0)),L.__actions__.push({func:Vy,args:[N],thisArg:n}),new oi(L,this.__chain__).thru(function($){return g&&!$.length&&$.push(n),$}))});function Iz(){return fP(this)}function Lz(){return new oi(this.value(),this.__chain__)}function Bz(){this.__values__===n&&(this.__values__=bP(this.value()));var c=this.__index__>=this.__values__.length,g=c?n:this.__values__[this.__index__++];return{done:c,value:g}}function Dz(){return this}function Oz(c){for(var g,b=this;b instanceof Yc;){var L=iP(b);L.__index__=0,L.__values__=n,g?N.__wrapped__=L:g=L;var N=L;b=b.__wrapped__}return N.__wrapped__=c,g}function Fz(){var c=this.__wrapped__;if(c instanceof It){var g=c;return this.__actions__.length&&(g=new It(this)),g=g.reverse(),g.__actions__.push({func:Vy,args:[cw],thisArg:n}),new oi(g,this.__chain__)}return this.thru(cw)}function Nz(){return Ia(this.__wrapped__,this.__actions__)}var Uz=lf(function(c,g,b){En.call(c,b)?++c[b]:xo(c,b,1)});function kz(c,g,b){var L=qt(c)?Lm:ZA;return b&&Qi(c,g,b)&&(g=n),L(c,Ft(g,3))}function Hz(c,g){var b=qt(c)?ii:Zm;return b(c,Ft(g,3))}var zz=C(sP),Gz=C(oP);function $z(c,g){return kr(jy(c,g),1)}function Wz(c,g){return kr(jy(c,g),he)}function Vz(c,g,b){return b=b===n?1:rn(b),kr(jy(c,g),b)}function hP(c,g){var b=qt(c)?Er:ks;return b(c,Ft(g,3))}function dP(c,g){var b=qt(c)?Im:Ly;return b(c,Ft(g,3))}var jz=lf(function(c,g,b){En.call(c,b)?c[b].push(g):xo(c,b,[g])});function Xz(c,g,b,L){c=ms(c)?c:pd(c),b=b&&!L?rn(b):0;var N=c.length;return b<0&&(b=Mr(N+b,0)),qy(c)?b<=N&&c.indexOf(g,b)>-1:!!N&&Bs(c,g,b)>-1}var Jz=Pt(function(c,g,b){var L=-1,N=typeof g=="function",$=ms(c)?Se(c.length):[];return ks(c,function(Q){$[++L]=N?zn(g,Q,b):Un(Q,g,b)}),$}),Kz=lf(function(c,g,b){xo(c,b,g)});function jy(c,g){var b=qt(c)?Fn:cl;return b(c,Ft(g,3))}function Yz(c,g,b,L){return c==null?[]:(qt(g)||(g=g==null?[]:[g]),b=L?n:b,qt(b)||(b=b==null?[]:[b]),rf(c,g,b))}var qz=lf(function(c,g,b){c[b?0:1].push(g)},function(){return[[],[]]});function Qz(c,g,b){var L=qt(c)?zh:Sa,N=arguments.length<3;return L(c,Ft(g,4),b,N,ks)}function Zz(c,g,b){var L=qt(c)?Qv:Sa,N=arguments.length<3;return L(c,Ft(g,4),b,N,Ly)}function eG(c,g){var b=qt(c)?ii:Zm;return b(c,Ky(Ft(g,3)))}function tG(c){var g=qt(c)?qc:Oy;return g(c)}function nG(c,g,b){(b?Qi(c,g,b):g===n)?g=1:g=rn(g);var L=qt(c)?Xm:ig;return L(c,g)}function rG(c){var g=qt(c)?Py:Ny;return g(c)}function iG(c){if(c==null)return 0;if(ms(c))return qy(c)?mo(c):c.length;var g=Bi(c);return g==Me||g==me?c.size:ai(c).length}function sG(c,g,b){var L=qt(c)?Dc:sg;return b&&Qi(c,g,b)&&(g=n),L(c,Ft(g,3))}var oG=Pt(function(c,g){if(c==null)return[];var b=g.length;return b>1&&Qi(c,g[0],g[1])?g=[]:b>2&&Qi(g[0],g[1],g[2])&&(g=[g[0]]),rf(c,kr(g,1),[])}),Xy=ay||function(){return dr.Date.now()};function aG(c,g){if(typeof g!="function")throw new Ai(o);return c=rn(c),function(){if(--c<1)return g.apply(this,arguments)}}function pP(c,g,b){return g=b?n:g,g=c&&g==null?c.length:g,ve(c,I,n,n,n,n,g)}function mP(c,g){var b;if(typeof g!="function")throw new Ai(o);return c=rn(c),function(){return--c>0&&(b=g.apply(this,arguments)),c<=1&&(g=n),b}}var hw=Pt(function(c,g,b){var L=A;if(b.length){var N=Fs(b,hd(hw));L|=R}return ve(c,L,g,b,N)}),gP=Pt(function(c,g,b){var L=A|_;if(b.length){var N=Fs(b,hd(gP));L|=R}return ve(g,L,c,b,N)});function vP(c,g,b){g=b?n:g;var L=ve(c,x,n,n,n,n,n,g);return L.placeholder=vP.placeholder,L}function yP(c,g,b){g=b?n:g;var L=ve(c,M,n,n,n,n,n,g);return L.placeholder=yP.placeholder,L}function _P(c,g,b){var L,N,$,Q,ae,pe,Ie=0,Le=!1,Ue=!1,tt=!0;if(typeof c!="function")throw new Ai(o);g=bo(g)||0,or(b)&&(Le=!!b.leading,Ue="maxWait"in b,$=Ue?Mr(bo(b.maxWait)||0,g):$,tt="trailing"in b?!!b.trailing:tt);function Mt(Rr){var Jo=L,gl=N;return L=N=n,Ie=Rr,Q=c.apply(gl,Jo),Q}function kt(Rr){return Ie=Rr,ae=pg(dn,g),Le?Mt(Rr):Q}function un(Rr){var Jo=Rr-pe,gl=Rr-Ie,UP=g-Jo;return Ue?si(UP,$-gl):UP}function Ht(Rr){var Jo=Rr-pe,gl=Rr-Ie;return pe===n||Jo>=g||Jo<0||Ue&&gl>=$}function dn(){var Rr=Xy();if(Ht(Rr))return yn(Rr);ae=pg(dn,un(Rr))}function yn(Rr){return ae=n,tt&&L?Mt(Rr):(L=N=n,Q)}function $s(){ae!==n&&ky(ae),Ie=0,L=pe=N=ae=n}function Zi(){return ae===n?Q:yn(Xy())}function Ws(){var Rr=Xy(),Jo=Ht(Rr);if(L=arguments,N=this,pe=Rr,Jo){if(ae===n)return kt(pe);if(Ue)return ky(ae),ae=pg(dn,g),Mt(pe)}return ae===n&&(ae=pg(dn,g)),Q}return Ws.cancel=$s,Ws.flush=Zi,Ws}var lG=Pt(function(c,g){return Qm(c,1,g)}),uG=Pt(function(c,g,b){return Qm(c,bo(g)||0,b)});function cG(c){return ve(c,B)}function Jy(c,g){if(typeof c!="function"||g!=null&&typeof g!="function")throw new Ai(o);var b=function(){var L=arguments,N=g?g.apply(this,L):L[0],$=b.cache;if($.has(N))return $.get(N);var Q=c.apply(this,L);return b.cache=$.set(N,Q)||$,Q};return b.cache=new(Jy.Cache||fs),b}Jy.Cache=fs;function Ky(c){if(typeof c!="function")throw new Ai(o);return function(){var g=arguments;switch(g.length){case 0:return!c.call(this);case 1:return!c.call(this,g[0]);case 2:return!c.call(this,g[0],g[1]);case 3:return!c.call(this,g[0],g[1],g[2])}return!c.apply(this,g)}}function fG(c){return mP(2,c)}var hG=Uy(function(c,g){g=g.length==1&&qt(g[0])?Fn(g[0],xi(Ft())):Fn(kr(g,1),xi(Ft()));var b=g.length;return Pt(function(L){for(var N=-1,$=si(L.length,b);++N<$;)L[N]=g[N].call(this,L[N]);return zn(c,this,L)})}),dw=Pt(function(c,g){var b=Fs(g,hd(dw));return ve(c,R,n,g,b)}),xP=Pt(function(c,g){var b=Fs(g,hd(xP));return ve(c,T,n,g,b)}),dG=tn(function(c,g){return ve(c,F,n,n,n,g)});function pG(c,g){if(typeof c!="function")throw new Ai(o);return g=g===n?g:rn(g),Pt(c,g)}function mG(c,g){if(typeof c!="function")throw new Ai(o);return g=g==null?0:Mr(rn(g),0),Pt(function(b){var L=b[g],N=Da(b,0,g);return L&&Ls(N,L),zn(c,this,N)})}function gG(c,g,b){var L=!0,N=!0;if(typeof c!="function")throw new Ai(o);return or(b)&&(L="leading"in b?!!b.leading:L,N="trailing"in b?!!b.trailing:N),_P(c,g,{leading:L,maxWait:g,trailing:N})}function vG(c){return pP(c,1)}function yG(c,g){return dw(ci(g),c)}function _G(){if(!arguments.length)return[];var c=arguments[0];return qt(c)?c:[c]}function xG(c){return Xi(c,v)}function SG(c,g){return g=typeof g=="function"?g:n,Xi(c,v,g)}function AG(c){return Xi(c,p|v)}function wG(c,g){return g=typeof g=="function"?g:n,Xi(c,p|v,g)}function EG(c,g){return g==null||Qh(c,g,di(g))}function Xo(c,g){return c===g||c!==c&&g!==g}var bG=Ct(ef),MG=Ct(function(c,g){return c>=g}),ff=Zt(function(){return arguments}())?Zt:function(c){return vr(c)&&En.call(c,"callee")&&!jh.call(c,"callee")},qt=Se.isArray,CG=Nh?xi(Nh):pr;function ms(c){return c!=null&&Yy(c.length)&&!pl(c)}function Tr(c){return vr(c)&&ms(c)}function TG(c){return c===!0||c===!1||vr(c)&&qr(c)==vt}var Pu=uy||Ew,RG=Uh?xi(Uh):mr;function PG(c){return vr(c)&&c.nodeType===1&&!mg(c)}function IG(c){if(c==null)return!0;if(ms(c)&&(qt(c)||typeof c=="string"||typeof c.splice=="function"||Pu(c)||dd(c)||ff(c)))return!c.length;var g=Bi(c);if(g==Me||g==me)return!c.size;if(dg(c))return!ai(c).length;for(var b in c)if(En.call(c,b))return!1;return!0}function LG(c,g){return ir(c,g)}function BG(c,g,b){b=typeof b=="function"?b:n;var L=b?b(c,g):n;return L===n?ir(c,g,n,b):!!L}function pw(c){if(!vr(c))return!1;var g=qr(c);return g==ht||g==ut||typeof c.message=="string"&&typeof c.name=="string"&&!mg(c)}function DG(c){return typeof c=="number"&&zm(c)}function pl(c){if(!or(c))return!1;var g=qr(c);return g==Z||g==He||g==Xe||g==W}function SP(c){return typeof c=="number"&&c==rn(c)}function Yy(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=z}function or(c){var g=typeof c;return c!=null&&(g=="object"||g=="function")}function vr(c){return c!=null&&typeof c=="object"}var AP=Pm?xi(Pm):Eu;function OG(c,g){return c===g||sr(c,g,iw(g))}function FG(c,g,b){return b=typeof b=="function"?b:n,sr(c,g,iw(g),b)}function NG(c){return wP(c)&&c!=+c}function UG(c){if(SH(c))throw new Gt(s);return bu(c)}function kG(c){return c===null}function HG(c){return c==null}function wP(c){return typeof c=="number"||vr(c)&&qr(c)==Ge}function mg(c){if(!vr(c)||qr(c)!=ct)return!1;var g=$c(c);if(g===null)return!0;var b=En.call(g,"constructor")&&g.constructor;return typeof b=="function"&&b instanceof b&&gu.call(b)==rl}var mw=kh?xi(kh):Mu;function zG(c){return SP(c)&&c>=-z&&c<=z}var EP=Hh?xi(Hh):ed;function qy(c){return typeof c=="string"||!qt(c)&&vr(c)&&qr(c)==Oe}function Gs(c){return typeof c=="symbol"||vr(c)&&qr(c)==De}var dd=tl?xi(tl):ng;function GG(c){return c===n}function $G(c){return vr(c)&&Bi(c)==ft}function WG(c){return vr(c)&&qr(c)==Je}var VG=Ct(tf),jG=Ct(function(c,g){return c<=g});function bP(c){if(!c)return[];if(ms(c))return qy(c)?er(c):fi(c);if(ba&&c[ba])return uu(c[ba]());var g=Bi(c),b=g==Me?Uc:g==me?kc:pd;return b(c)}function ml(c){if(!c)return c===0?c:0;if(c=bo(c),c===he||c===-he){var g=c<0?-1:1;return g*ee}return c===c?c:0}function rn(c){var g=ml(c),b=g%1;return g===g?b?g-b:g:0}function MP(c){return c?Ta(rn(c),0,fe):0}function bo(c){if(typeof c=="number")return c;if(Gs(c))return te;if(or(c)){var g=typeof c.valueOf=="function"?c.valueOf():c;c=or(g)?g+"":g}if(typeof c!="string")return c===0?c:+c;c=$h(c);var b=ge.test(c);return b||Ee.test(c)?VA(c.slice(2),b?2:8):X.test(c)?te:+c}function CP(c){return ps(c,gs(c))}function XG(c){return c?Ta(rn(c),-z,z):c===0?c:0}function Cn(c){return c==null?"":ui(c)}var JG=hl(function(c,g){if(dg(g)||ms(g)){ps(g,di(g),c);return}for(var b in g)En.call(g,b)&&Us(c,b,g[b])}),TP=hl(function(c,g){ps(g,gs(g),c)}),Qy=hl(function(c,g,b,L){ps(g,gs(g),c,L)}),KG=hl(function(c,g,b,L){ps(g,di(g),c,L)}),YG=tn(qh);function qG(c,g){var b=Wo(c);return g==null?b:Ym(b,g)}var QG=Pt(function(c,g){c=Ut(c);var b=-1,L=g.length,N=L>2?g[2]:n;for(N&&Qi(g[0],g[1],N)&&(L=1);++b<L;)for(var $=g[b],Q=gs($),ae=-1,pe=Q.length;++ae<pe;){var Ie=Q[ae],Le=c[Ie];(Le===n||Xo(Le,mu[Ie])&&!En.call(c,Ie))&&(c[Ie]=$[Ie])}return c}),ZG=Pt(function(c){return c.push(n,we),zn(RP,n,c)});function e6(c,g){return Bm(c,Ft(g,3),Ji)}function t6(c,g){return Bm(c,Ft(g,3),Au)}function n6(c,g){return c==null?c:Su(c,Ft(g,3),gs)}function r6(c,g){return c==null?c:Zc(c,Ft(g,3),gs)}function i6(c,g){return c&&Ji(c,Ft(g,3))}function s6(c,g){return c&&Au(c,Ft(g,3))}function o6(c){return c==null?[]:ul(c,di(c))}function a6(c){return c==null?[]:ul(c,gs(c))}function gw(c,g,b){var L=c==null?n:Hs(c,g);return L===n?b:L}function l6(c,g){return c!=null&&JR(c,g,Dy)}function vw(c,g){return c!=null&&JR(c,g,eg)}var u6=Y(function(c,g,b){g!=null&&typeof g.toString!="function"&&(g=Vi.call(g)),c[g]=b},_w(vs)),c6=Y(function(c,g,b){g!=null&&typeof g.toString!="function"&&(g=Vi.call(g)),En.call(c,g)?c[g].push(b):c[g]=[b]},Ft),f6=Pt(Un);function di(c){return ms(c)?Ze(c):ai(c)}function gs(c){return ms(c)?Ze(c,!0):rg(c)}function h6(c,g){var b={};return g=Ft(g,3),Ji(c,function(L,N,$){xo(b,g(L,N,$),L)}),b}function d6(c,g){var b={};return g=Ft(g,3),Ji(c,function(L,N,$){xo(b,N,g(L,N,$))}),b}var p6=hl(function(c,g,b){zs(c,g,b)}),RP=hl(function(c,g,b,L){zs(c,g,b,L)}),m6=tn(function(c,g){var b={};if(c==null)return b;var L=!1;g=Fn(g,function($){return $=Ba($,c),L||(L=$.length>1),$}),ps(c,gn(c),b),L&&(b=Xi(b,p|m|v,it));for(var N=g.length;N--;)ag(b,g[N]);return b});function g6(c,g){return PP(c,Ky(Ft(g)))}var v6=tn(function(c,g){return c==null?{}:sf(c,g)});function PP(c,g){if(c==null)return{};var b=Fn(gn(c),function(L){return[L]});return g=Ft(g),rd(c,b,function(L,N){return g(L,N[0])})}function y6(c,g,b){g=Ba(g,c);var L=-1,N=g.length;for(N||(N=1,c=n);++L<N;){var $=c==null?n:c[Fa(g[L])];$===n&&(L=N,$=b),c=pl($)?$.call(c):$}return c}function _6(c,g,b){return c==null?c:fl(c,g,b)}function x6(c,g,b,L){return L=typeof L=="function"?L:n,c==null?c:fl(c,g,b,L)}var IP=qi(di),LP=qi(gs);function S6(c,g,b){var L=qt(c),N=L||Pu(c)||dd(c);if(g=Ft(g,4),b==null){var $=c&&c.constructor;N?b=L?new $:[]:or(c)?b=pl($)?Wo($c(c)):{}:b={}}return(N?Er:Ji)(c,function(Q,ae,pe){return g(b,Q,ae,pe)}),b}function A6(c,g){return c==null?!0:ag(c,g)}function w6(c,g,b){return c==null?c:lg(c,g,ci(b))}function E6(c,g,b,L){return L=typeof L=="function"?L:n,c==null?c:lg(c,g,ci(b),L)}function pd(c){return c==null?[]:Si(c,di(c))}function b6(c){return c==null?[]:Si(c,gs(c))}function M6(c,g,b){return b===n&&(b=g,g=n),b!==n&&(b=bo(b),b=b===b?b:0),g!==n&&(g=bo(g),g=g===g?g:0),Ta(bo(c),g,b)}function C6(c,g,b){return g=ml(g),b===n?(b=g,g=0):b=ml(b),c=bo(c),ew(c,g,b)}function T6(c,g,b){if(b&&typeof b!="boolean"&&Qi(c,g,b)&&(g=b=n),b===n&&(typeof g=="boolean"?(b=g,g=n):typeof c=="boolean"&&(b=c,c=n)),c===n&&g===n?(c=0,g=1):(c=ml(c),g===n?(g=c,c=0):g=ml(g)),c>g){var L=c;c=g,g=L}if(b||c%1||g%1){var N=Gm();return si(c+N*(g-c+qv("1e-"+((N+"").length-1))),g)}return So(c,g)}var R6=f(function(c,g,b){return g=g.toLowerCase(),c+(b?BP(g):g)});function BP(c){return yw(Cn(c).toLowerCase())}function DP(c){return c=Cn(c),c&&c.replace(at,ny).replace(Fr,"")}function P6(c,g,b){c=Cn(c),g=ui(g);var L=c.length;b=b===n?L:Ta(rn(b),0,L);var N=b;return b-=g.length,b>=0&&c.slice(b,N)==g}function I6(c){return c=Cn(c),c&&Tt.test(c)?c.replace(je,ry):c}function L6(c){return c=Cn(c),c&&us.test(c)?c.replace(wr,"\\$&"):c}var B6=f(function(c,g,b){return c+(b?"-":"")+g.toLowerCase()}),D6=f(function(c,g,b){return c+(b?" ":"")+g.toLowerCase()}),O6=Gy("toLowerCase");function F6(c,g,b){c=Cn(c),g=rn(g);var L=g?mo(c):0;if(!g||L>=g)return c;var N=(g-L)/2;return $e(jc(N),b)+c+$e(Vc(N),b)}function N6(c,g,b){c=Cn(c),g=rn(g);var L=g?mo(c):0;return g&&L<g?c+$e(g-L,b):c}function U6(c,g,b){c=Cn(c),g=rn(g);var L=g?mo(c):0;return g&&L<g?$e(g-L,b)+c:c}function k6(c,g,b){return b||g==null?g=0:g&&(g=+g),hy(Cn(c).replace(Qa,""),g||0)}function H6(c,g,b){return(b?Qi(c,g,b):g===n)?g=1:g=rn(g),Ru(Cn(c),g)}function z6(){var c=arguments,g=Cn(c[0]);return c.length<3?g:g.replace(c[1],c[2])}var G6=f(function(c,g,b){return c+(b?"_":"")+g.toLowerCase()});function $6(c,g,b){return b&&typeof b!="number"&&Qi(c,g,b)&&(g=b=n),b=b===n?fe:b>>>0,b?(c=Cn(c),c&&(typeof g=="string"||g!=null&&!mw(g))&&(g=ui(g),!g&&nl(c))?Da(er(c),0,b):c.split(g,b)):[]}var W6=f(function(c,g,b){return c+(b?" ":"")+yw(g)});function V6(c,g,b){return c=Cn(c),b=b==null?0:Ta(rn(b),0,c.length),g=ui(g),c.slice(b,b+g.length)==g}function j6(c,g,b){var L=k.templateSettings;b&&Qi(c,g,b)&&(g=n),c=Cn(c),g=Qy({},g,L,de);var N=Qy({},g.imports,L.imports,de),$=di(N),Q=Si(N,$),ae,pe,Ie=0,Le=g.interpolate||xt,Ue="__p += '",tt=Nr((g.escape||xt).source+"|"+Le.source+"|"+(Le===hn?bm:xt).source+"|"+(g.evaluate||xt).source+"|$","g"),Mt="//# sourceURL="+(En.call(g,"sourceURL")?(g.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++fo+"]")+`
`;c.replace(tt,function(Ht,dn,yn,$s,Zi,Ws){return yn||(yn=$s),Ue+=c.slice(Ie,Ws).replace(Lt,Dm),dn&&(ae=!0,Ue+=`' +
__e(`+dn+`) +
'`),Zi&&(pe=!0,Ue+=`';
`+Zi+`;
__p += '`),yn&&(Ue+=`' +
((__t = (`+yn+`)) == null ? '' : __t) +
'`),Ie=Ws+Ht.length,Ht}),Ue+=`';
`;var kt=En.call(g,"variable")&&g.variable;if(!kt)Ue=`with (obj) {
`+Ue+`
}
`;else if(Ph.test(kt))throw new Gt(a);Ue=(pe?Ue.replace(st,""):Ue).replace(rt,"$1").replace(ke,"$1;"),Ue="function("+(kt||"obj")+`) {
`+(kt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ae?", __e = _.escape":"")+(pe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ue+`return __p
}`;var un=FP(function(){return Yt($,Mt+"return "+Ue).apply(n,Q)});if(un.source=Ue,pw(un))throw un;return un}function X6(c){return Cn(c).toLowerCase()}function J6(c){return Cn(c).toUpperCase()}function K6(c,g,b){if(c=Cn(c),c&&(b||g===n))return $h(c);if(!c||!(g=ui(g)))return c;var L=er(c),N=er(g),$=Nn(L,N),Q=lu(L,N)+1;return Da(L,$,Q).join("")}function Y6(c,g,b){if(c=Cn(c),c&&(b||g===n))return c.slice(0,hu(c)+1);if(!c||!(g=ui(g)))return c;var L=er(c),N=lu(L,er(g))+1;return Da(L,0,N).join("")}function q6(c,g,b){if(c=Cn(c),c&&(b||g===n))return c.replace(Qa,"");if(!c||!(g=ui(g)))return c;var L=er(c),N=Nn(L,er(g));return Da(L,N).join("")}function Q6(c,g){var b=O,L=V;if(or(g)){var N="separator"in g?g.separator:N;b="length"in g?rn(g.length):b,L="omission"in g?ui(g.omission):L}c=Cn(c);var $=c.length;if(nl(c)){var Q=er(c);$=Q.length}if(b>=$)return c;var ae=b-mo(L);if(ae<1)return L;var pe=Q?Da(Q,0,ae).join(""):c.slice(0,ae);if(N===n)return pe+L;if(Q&&(ae+=pe.length-ae),mw(N)){if(c.slice(ae).search(N)){var Ie,Le=pe;for(N.global||(N=Nr(N.source,Cn(Ih.exec(N))+"g")),N.lastIndex=0;Ie=N.exec(Le);)var Ue=Ie.index;pe=pe.slice(0,Ue===n?ae:Ue)}}else if(c.indexOf(ui(N),ae)!=ae){var tt=pe.lastIndexOf(N);tt>-1&&(pe=pe.slice(0,tt))}return pe+L}function Z6(c){return c=Cn(c),c&&qe.test(c)?c.replace(se,du):c}var e8=f(function(c,g,b){return c+(b?" ":"")+g.toUpperCase()}),yw=Gy("toUpperCase");function OP(c,g,b){return c=Cn(c),g=b?n:g,g===n?Nc(c)?pu(c):ey(c):c.match(g)||[]}var FP=Pt(function(c,g){try{return zn(c,n,g)}catch(b){return pw(b)?b:new Gt(b)}}),t8=tn(function(c,g){return Er(g,function(b){b=Fa(b),xo(c,b,hw(c[b],c))}),c});function n8(c){var g=c==null?0:c.length,b=Ft();return c=g?Fn(c,function(L){if(typeof L[1]!="function")throw new Ai(o);return[b(L[0]),L[1]]}):[],Pt(function(L){for(var N=-1;++N<g;){var $=c[N];if(zn($[0],this,L))return zn($[1],this,L)}})}function r8(c){return qm(Xi(c,p))}function _w(c){return function(){return c}}function i8(c,g){return c==null||c!==c?g:c}var s8=P(),o8=P(!0);function vs(c){return c}function xw(c){return Cu(typeof c=="function"?c:Xi(c,p))}function a8(c){return nf(Xi(c,p))}function l8(c,g){return td(c,Xi(g,p))}var u8=Pt(function(c,g){return function(b){return Un(b,c,g)}}),c8=Pt(function(c,g){return function(b){return Un(c,b,g)}});function Sw(c,g,b){var L=di(g),N=ul(g,L);b==null&&!(or(g)&&(N.length||!L.length))&&(b=g,g=c,c=this,N=ul(g,di(g)));var $=!(or(b)&&"chain"in b)||!!b.chain,Q=pl(c);return Er(N,function(ae){var pe=g[ae];c[ae]=pe,Q&&(c.prototype[ae]=function(){var Ie=this.__chain__;if($||Ie){var Le=c(this.__wrapped__),Ue=Le.__actions__=fi(this.__actions__);return Ue.push({func:pe,args:arguments,thisArg:c}),Le.__chain__=Ie,Le}return pe.apply(c,Ls([this.value()],arguments))})}),c}function f8(){return dr._===this&&(dr._=Wh),this}function Aw(){}function h8(c){return c=rn(c),Pt(function(g){return Vo(g,c)})}var d8=be(Fn),p8=be(Lm),m8=be(Dc);function NP(c){return ow(c)?Ii(Fa(c)):id(c)}function g8(c){return function(g){return c==null?n:Hs(c,g)}}var v8=jt(),y8=jt(!0);function ww(){return[]}function Ew(){return!1}function _8(){return{}}function x8(){return""}function S8(){return!0}function A8(c,g){if(c=rn(c),c<1||c>z)return[];var b=fe,L=si(c,fe);g=Ft(g),c-=fe;for(var N=zo(L,g);++b<c;)g(b);return N}function w8(c){return qt(c)?Fn(c,Fa):Gs(c)?[c]:fi(rP(Cn(c)))}function E8(c){var g=++Nm;return Cn(c)+g}var b8=ce(function(c,g){return c+g},0),M8=St("ceil"),C8=ce(function(c,g){return c/g},1),T8=St("floor");function R8(c){return c&&c.length?Qc(c,vs,ef):n}function P8(c,g){return c&&c.length?Qc(c,Ft(g,2),ef):n}function I8(c){return Fc(c,vs)}function L8(c,g){return Fc(c,Ft(g,2))}function B8(c){return c&&c.length?Qc(c,vs,tf):n}function D8(c,g){return c&&c.length?Qc(c,Ft(g,2),tf):n}var O8=ce(function(c,g){return c*g},1),F8=St("round"),N8=ce(function(c,g){return c-g},0);function U8(c){return c&&c.length?Ds(c,vs):0}function k8(c,g){return c&&c.length?Ds(c,Ft(g,2)):0}return k.after=aG,k.ary=pP,k.assign=JG,k.assignIn=TP,k.assignInWith=Qy,k.assignWith=KG,k.at=YG,k.before=mP,k.bind=hw,k.bindAll=t8,k.bindKey=gP,k.castArray=_G,k.chain=fP,k.chunk=TH,k.compact=RH,k.concat=PH,k.cond=n8,k.conforms=r8,k.constant=_w,k.countBy=Uz,k.create=qG,k.curry=vP,k.curryRight=yP,k.debounce=_P,k.defaults=QG,k.defaultsDeep=ZG,k.defer=lG,k.delay=uG,k.difference=IH,k.differenceBy=LH,k.differenceWith=BH,k.drop=DH,k.dropRight=OH,k.dropRightWhile=FH,k.dropWhile=NH,k.fill=UH,k.filter=Hz,k.flatMap=$z,k.flatMapDeep=Wz,k.flatMapDepth=Vz,k.flatten=aP,k.flattenDeep=kH,k.flattenDepth=HH,k.flip=cG,k.flow=s8,k.flowRight=o8,k.fromPairs=zH,k.functions=o6,k.functionsIn=a6,k.groupBy=jz,k.initial=$H,k.intersection=WH,k.intersectionBy=VH,k.intersectionWith=jH,k.invert=u6,k.invertBy=c6,k.invokeMap=Jz,k.iteratee=xw,k.keyBy=Kz,k.keys=di,k.keysIn=gs,k.map=jy,k.mapKeys=h6,k.mapValues=d6,k.matches=a8,k.matchesProperty=l8,k.memoize=Jy,k.merge=p6,k.mergeWith=RP,k.method=u8,k.methodOf=c8,k.mixin=Sw,k.negate=Ky,k.nthArg=h8,k.omit=m6,k.omitBy=g6,k.once=fG,k.orderBy=Yz,k.over=d8,k.overArgs=hG,k.overEvery=p8,k.overSome=m8,k.partial=dw,k.partialRight=xP,k.partition=qz,k.pick=v6,k.pickBy=PP,k.property=NP,k.propertyOf=g8,k.pull=YH,k.pullAll=uP,k.pullAllBy=qH,k.pullAllWith=QH,k.pullAt=ZH,k.range=v8,k.rangeRight=y8,k.rearg=dG,k.reject=eG,k.remove=ez,k.rest=pG,k.reverse=cw,k.sampleSize=nG,k.set=_6,k.setWith=x6,k.shuffle=rG,k.slice=tz,k.sortBy=oG,k.sortedUniq=lz,k.sortedUniqBy=uz,k.split=$6,k.spread=mG,k.tail=cz,k.take=fz,k.takeRight=hz,k.takeRightWhile=dz,k.takeWhile=pz,k.tap=Rz,k.throttle=gG,k.thru=Vy,k.toArray=bP,k.toPairs=IP,k.toPairsIn=LP,k.toPath=w8,k.toPlainObject=CP,k.transform=S6,k.unary=vG,k.union=mz,k.unionBy=gz,k.unionWith=vz,k.uniq=yz,k.uniqBy=_z,k.uniqWith=xz,k.unset=A6,k.unzip=fw,k.unzipWith=cP,k.update=w6,k.updateWith=E6,k.values=pd,k.valuesIn=b6,k.without=Sz,k.words=OP,k.wrap=yG,k.xor=Az,k.xorBy=wz,k.xorWith=Ez,k.zip=bz,k.zipObject=Mz,k.zipObjectDeep=Cz,k.zipWith=Tz,k.entries=IP,k.entriesIn=LP,k.extend=TP,k.extendWith=Qy,Sw(k,k),k.add=b8,k.attempt=FP,k.camelCase=R6,k.capitalize=BP,k.ceil=M8,k.clamp=M6,k.clone=xG,k.cloneDeep=AG,k.cloneDeepWith=wG,k.cloneWith=SG,k.conformsTo=EG,k.deburr=DP,k.defaultTo=i8,k.divide=C8,k.endsWith=P6,k.eq=Xo,k.escape=I6,k.escapeRegExp=L6,k.every=kz,k.find=zz,k.findIndex=sP,k.findKey=e6,k.findLast=Gz,k.findLastIndex=oP,k.findLastKey=t6,k.floor=T8,k.forEach=hP,k.forEachRight=dP,k.forIn=n6,k.forInRight=r6,k.forOwn=i6,k.forOwnRight=s6,k.get=gw,k.gt=bG,k.gte=MG,k.has=l6,k.hasIn=vw,k.head=lP,k.identity=vs,k.includes=Xz,k.indexOf=GH,k.inRange=C6,k.invoke=f6,k.isArguments=ff,k.isArray=qt,k.isArrayBuffer=CG,k.isArrayLike=ms,k.isArrayLikeObject=Tr,k.isBoolean=TG,k.isBuffer=Pu,k.isDate=RG,k.isElement=PG,k.isEmpty=IG,k.isEqual=LG,k.isEqualWith=BG,k.isError=pw,k.isFinite=DG,k.isFunction=pl,k.isInteger=SP,k.isLength=Yy,k.isMap=AP,k.isMatch=OG,k.isMatchWith=FG,k.isNaN=NG,k.isNative=UG,k.isNil=HG,k.isNull=kG,k.isNumber=wP,k.isObject=or,k.isObjectLike=vr,k.isPlainObject=mg,k.isRegExp=mw,k.isSafeInteger=zG,k.isSet=EP,k.isString=qy,k.isSymbol=Gs,k.isTypedArray=dd,k.isUndefined=GG,k.isWeakMap=$G,k.isWeakSet=WG,k.join=XH,k.kebabCase=B6,k.last=Eo,k.lastIndexOf=JH,k.lowerCase=D6,k.lowerFirst=O6,k.lt=VG,k.lte=jG,k.max=R8,k.maxBy=P8,k.mean=I8,k.meanBy=L8,k.min=B8,k.minBy=D8,k.stubArray=ww,k.stubFalse=Ew,k.stubObject=_8,k.stubString=x8,k.stubTrue=S8,k.multiply=O8,k.nth=KH,k.noConflict=f8,k.noop=Aw,k.now=Xy,k.pad=F6,k.padEnd=N6,k.padStart=U6,k.parseInt=k6,k.random=T6,k.reduce=Qz,k.reduceRight=Zz,k.repeat=H6,k.replace=z6,k.result=y6,k.round=F8,k.runInContext=le,k.sample=tG,k.size=iG,k.snakeCase=G6,k.some=sG,k.sortedIndex=nz,k.sortedIndexBy=rz,k.sortedIndexOf=iz,k.sortedLastIndex=sz,k.sortedLastIndexBy=oz,k.sortedLastIndexOf=az,k.startCase=W6,k.startsWith=V6,k.subtract=N8,k.sum=U8,k.sumBy=k8,k.template=j6,k.times=A8,k.toFinite=ml,k.toInteger=rn,k.toLength=MP,k.toLower=X6,k.toNumber=bo,k.toSafeInteger=XG,k.toString=Cn,k.toUpper=J6,k.trim=K6,k.trimEnd=Y6,k.trimStart=q6,k.truncate=Q6,k.unescape=Z6,k.uniqueId=E8,k.upperCase=e8,k.upperFirst=yw,k.each=hP,k.eachRight=dP,k.first=lP,Sw(k,function(){var c={};return Ji(k,function(g,b){En.call(k.prototype,b)||(c[b]=g)}),c}(),{chain:!1}),k.VERSION=r,Er(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){k[c].placeholder=k}),Er(["drop","take"],function(c,g){It.prototype[c]=function(b){b=b===n?1:Mr(rn(b),0);var L=this.__filtered__&&!g?new It(this):this.clone();return L.__filtered__?L.__takeCount__=si(b,L.__takeCount__):L.__views__.push({size:si(b,fe),type:c+(L.__dir__<0?"Right":"")}),L},It.prototype[c+"Right"]=function(b){return this.reverse()[c](b).reverse()}}),Er(["filter","map","takeWhile"],function(c,g){var b=g+1,L=b==j||b==re;It.prototype[c]=function(N){var $=this.clone();return $.__iteratees__.push({iteratee:Ft(N,3),type:b}),$.__filtered__=$.__filtered__||L,$}}),Er(["head","last"],function(c,g){var b="take"+(g?"Right":"");It.prototype[c]=function(){return this[b](1).value()[0]}}),Er(["initial","tail"],function(c,g){var b="drop"+(g?"":"Right");It.prototype[c]=function(){return this.__filtered__?new It(this):this[b](1)}}),It.prototype.compact=function(){return this.filter(vs)},It.prototype.find=function(c){return this.filter(c).head()},It.prototype.findLast=function(c){return this.reverse().find(c)},It.prototype.invokeMap=Pt(function(c,g){return typeof c=="function"?new It(this):this.map(function(b){return Un(b,c,g)})}),It.prototype.reject=function(c){return this.filter(Ky(Ft(c)))},It.prototype.slice=function(c,g){c=rn(c);var b=this;return b.__filtered__&&(c>0||g<0)?new It(b):(c<0?b=b.takeRight(-c):c&&(b=b.drop(c)),g!==n&&(g=rn(g),b=g<0?b.dropRight(-g):b.take(g-c)),b)},It.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},It.prototype.toArray=function(){return this.take(fe)},Ji(It.prototype,function(c,g){var b=/^(?:filter|find|map|reject)|While$/.test(g),L=/^(?:head|last)$/.test(g),N=k[L?"take"+(g=="last"?"Right":""):g],$=L||/^find/.test(g);N&&(k.prototype[g]=function(){var Q=this.__wrapped__,ae=L?[1]:arguments,pe=Q instanceof It,Ie=ae[0],Le=pe||qt(Q),Ue=function(dn){var yn=N.apply(k,Ls([dn],ae));return L&&tt?yn[0]:yn};Le&&b&&typeof Ie=="function"&&Ie.length!=1&&(pe=Le=!1);var tt=this.__chain__,Mt=!!this.__actions__.length,kt=$&&!tt,un=pe&&!Mt;if(!$&&Le){Q=un?Q:new It(this);var Ht=c.apply(Q,ae);return Ht.__actions__.push({func:Vy,args:[Ue],thisArg:n}),new oi(Ht,tt)}return kt&&un?c.apply(this,ae):(Ht=this.thru(Ue),kt?L?Ht.value()[0]:Ht.value():Ht)})}),Er(["pop","push","shift","sort","splice","unshift"],function(c){var g=wa[c],b=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",L=/^(?:pop|shift)$/.test(c);k.prototype[c]=function(){var N=arguments;if(L&&!this.__chain__){var $=this.value();return g.apply(qt($)?$:[],N)}return this[b](function(Q){return g.apply(qt(Q)?Q:[],N)})}}),Ji(It.prototype,function(c,g){var b=k[g];if(b){var L=b.name+"";En.call(ol,L)||(ol[L]=[]),ol[L].push({name:g,func:b})}}),ol[D(n,_).name]=[{name:"wrapper",func:n}],It.prototype.clone=JA,It.prototype.reverse=KA,It.prototype.value=ji,k.prototype.at=Pz,k.prototype.chain=Iz,k.prototype.commit=Lz,k.prototype.next=Bz,k.prototype.plant=Oz,k.prototype.reverse=Fz,k.prototype.toJSON=k.prototype.valueOf=k.prototype.value=Nz,k.prototype.first=k.prototype.head,ba&&(k.prototype[ba]=Dz),k},Aa=oy();Jr?((Jr.exports=Aa)._=Aa,Rm._=Aa):dr._=Aa}).call(Pl)})(Q1,Q1.exports);var Z0=Q1.exports;const wbe=ze.div`
  box-sizing: border-box;
  background-color: #000000;
  border-radius: 6px;
  border: 1px solid #343434;
  display: flex;
  flex-direction: row;
  padding: 3px;
`,gb=ze.button`
  box-sizing: border-box;
  font-size: 16px;
  color: ${t=>t.$active?"#ffffff":"#999999"};
  background-color: ${t=>t.$active?"#212121":"#000000"};
  border: 1px solid;
  border-radius: 3px;
  border-color: ${t=>t.$active?"#343434":"#000000"};
  width: 100%;
  height: 38px;
  display: flex;
  justify-content: center;
  align-items: center;
`;function Ebe({design:t,setDesign:e,setCanSave:n,handleUpdateBaseColor:r,currentShoe:i,setCurrentShoe:s}){const[o,a]=oe.useState([]);oe.useEffect(()=>{a((()=>{const _=[];for(const M in t.outlineData.parts){for(const R in t.outlineData.parts[M].right){const T=t.outlineData.parts[M].right[R].type;if(T==="color"||T==="mask"){const I=t.outlineData.parts[M].right[R].color;_.includes(I)||_.push(I)}}for(const R in t.outlineData.parts[M].left){const T=t.outlineData.parts[M].left[R].type;if(T==="color"||T==="mask"){const I=t.outlineData.parts[M].left[R].color;_.includes(I)||_.push(I)}}}for(const M in t.outlineData.overlays){for(const R in t.outlineData.overlays[M].right)if(t.outlineData.overlays[M].right[R].type==="color"){const T=t.outlineData.overlays[M].right[R].color;_.includes(T)||_.push(T)}for(const R in t.outlineData.overlays[M].left)if(t.outlineData.overlays[M].left[R].type==="color"){const T=t.outlineData.overlays[M].left[R].color;_.includes(T)||_.push(T)}}const w=t.outlineData.baseColors.right;_.includes(w)||_.push(w);const x=t.outlineData.baseColors.left;return _.includes(x)||_.push(x),_})())},[t,a]);const l=()=>t.outlineData.baseColors.left===t.outlineData.baseColors.right?"both":i,[u,h]=oe.useState(l()),[p,m]=oe.useState(t.outlineData.baseColors[i]),v=()=>{const A=Z0.cloneDeep(t);u==="left"?A.outlineData.baseColors.left=p:u==="right"?A.outlineData.baseColors.right=p:u==="both"&&(A.outlineData.baseColors.left=p,A.outlineData.baseColors.right=p),n(!0),e(A),r(A)},y=A=>{const _=A.hex||A;m(_)},S=A=>{h(A),(A==="right"||A==="left")&&(s(A),m(t.outlineData.baseColors[A]))};return G.jsxs(so,{children:[G.jsx(Kl,{children:G.jsxs(wbe,{children:[G.jsx(gb,{$active:u==="left",onClick:()=>{S("left")},children:"Left"}),G.jsx(gb,{$active:u==="both",onClick:()=>{S("both")},children:"Both"}),G.jsx(gb,{$active:u==="right",onClick:()=>{S("right")},children:"Right"})]})}),G.jsx(lH,{colorsArray:o,color:p,onChangeComplete:y,handleColorChange:y}),G.jsxs(pA,{children:[G.jsx(mA,{children:G.jsx(Tc,{children:"Base Color"})}),G.jsx(Wf,{children:G.jsx(Vf,{$active:!0,onClick:()=>v(),children:G.jsx(fH,{})})})]})]})}const VR=t=>{let e=t.split(/(?=[A-Z])/).join(" ");return e.charAt(0).toUpperCase()+e.substr(1)},bbe=ze.div`
  display: flex;
  width: 100%;
  justify-content: center;
`,Mbe=ze.div`
  width: 100%;
  min-width: 0;
  box-sizing: border-box;
  border: 1px solid #343434;
  border-radius: 6px;
  background-color: #000000;
  padding: 3px;
`,Cbe=ze.button`
  width: 100%;
  height: 38px;
  text-align: center;
  border: 1px solid #343434;
  background-color: #212121;
  color: #ffffff;
  font-size: 16px;
  padding: 0;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;

  &:focus {
    outline: none;
  }
`,vb=ze.div`
  box-sizing: border-box;
  border: 1px solid #343434;
  border-radius: 6px;
  background-color: #000000;
  padding: 3px;
`,yb=ze.button`
  box-sizing: border-box;
  border: 1px solid #343434;
  border-radius: 4px;
  color: #ffffff;
  width: 38px;
  height: 38px;
  background-color: #212121;
  padding: 0px;
  font-size: 16px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;

  svg {
    color: ${t=>t.$active?"#ffffff":"#343434"};
  }

  &:focus {
    outline: none;
  }
`;function Tbe({design:t,currentPart:e,setCurrentPart:n,setCurrentLayer:r,setLayersView:i,currentShoe:s,setCurrentShoe:o}){const a=t.configData.partsArray.length,l=t.configData.partsArray,u=p=>{e===0&&p<0?n(a-1):e===a-1&&p>0?n(0):n(e+p)},h=()=>{o(s==="right"?"left":"right")};return G.jsx(Kl,{children:G.jsxs(bbe,{children:[G.jsx(vb,{children:G.jsx(yb,{$active:!0,onClick:()=>{u(-1),r(-1)},children:G.jsx(tbe,{})})}),G.jsx(vb,{children:G.jsx(yb,{$active:!0,onClick:()=>{h(),r(-1)},children:s[0].toUpperCase()})}),G.jsx(Mbe,{children:G.jsx(Cbe,{className:"partname-button",onClick:()=>{i("PartList")},children:VR(l[e])})}),G.jsx(vb,{children:G.jsx(yb,{$active:!0,onClick:()=>{u(1),r(-1)},children:G.jsx(nbe,{})})})]})})}const Rbe=ze.div``,Pbe=ze.div`
  height: 5px;
  background-color: #000000;
  border-top: 1px solid #343434;
  border-bottom: 1px solid #343434;
  border-right: none;
  border-left: none;
`,Ibe=ze.div`
  margin: 6px;
  display: flex;
  justify-content: space-between;
`,Lbe=ze.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
`,Bbe=ze.p`
  font-size: 16px;
  color: #ffffff;
  margin: 0px;
  padding-left: 6px;
`,Dbe=ze.div`
  display: flex;

  svg {
    color: #ffffff;
  }
`,Obe=ze.div`
  display: flex;
  flex-direction: column;
  overflow: hidden;
  height: 150px;
  margin: 6px;
  border: 1px solid #343434;
  border-radius: 6px;
  background-color: #000000;
  padding: 3px;
`,Fbe=ze.div`
  display: flex;
  flex-direction: column-reverse;
  justify-content: flex-end;
  border-radius: 4px;
`,Nbe=ze.div`
  display: flex;
  flex-direction: column;
  overflow: auto;
`,Ube=ze.div`
  height: 40px;
  flex-shrink: 0;
  display: flex;
  flex-direction: row;
  margin-bottom: 3px;
  font-size: 16px;
  text-transform: capitalize;
  overflow: hidden;

  &:first-of-type {
    margin-bottom: 0;
  }
`,kbe=ze.div`
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  background-color: ${t=>t.$active?"#EEEEEE":"#212121"};
  color: ${t=>t.$active?"#000000":"#EEEEEE"};
  justify-content: center;
  border: ${t=>t.$active?"1px solid #EEEEEE":"1px solid #343434"};
  border-radius: 4px;
`,Hbe=ze.p`
  margin: 0px;
  padding-left: 10px;
`,wx=ze.div`
  width: 40px;
  margin-right: 3px;
  display: flex;
  flex-direction: column;
  border-radius: 4px;
  background-color: #212121;
`;function zbe({props:t}){var _;const{allLayers:e,currentPart:n,design:r,currentLayer:i,numberOfLayers:s,setCurrentLayer:o,setCurrentPart:a,setLayersView:l,handleDeleteLayer:u,handleEditLayer:h,handleMoveLayer:p,currentShoe:m,setCurrentShoe:v}=t,y=w=>{w!==-1&&e[w].type!=="overlay"&&u(w)},S=(w,x)=>{w!==-1&&(x===-1?w!==0&&p(w,x):w!==s-1&&p(w,x))},A=w=>{w.preventDefault(),w.target.id==="layers-box"&&o(-1)};return G.jsxs(Rbe,{children:[G.jsx(Tbe,{design:r,currentPart:n,setCurrentPart:a,setCurrentLayer:o,setLayersView:l,currentShoe:m,setCurrentShoe:v}),G.jsx(Pbe,{}),G.jsxs(Ibe,{children:[G.jsx(Lbe,{children:G.jsx(Bbe,{children:"Layers"})}),G.jsxs(Dbe,{children:[G.jsx(Wf,{children:G.jsx(Vf,{$active:i!==-1&&((_=e==null?void 0:e[i])==null?void 0:_.type)!=="overlay",onClick:()=>y(i),children:G.jsx(fbe,{})})}),G.jsx(Wf,{children:G.jsx(Vf,{$active:i!==-1&&s-1!==i,onClick:()=>S(i,1),children:G.jsx(rbe,{})})}),G.jsx(Wf,{children:G.jsx(Vf,{$active:i!==-1&&i!==0,onClick:()=>S(i,-1),children:G.jsx(ebe,{})})}),G.jsx(Wf,{children:G.jsx(Vf,{$active:!0,onClick:()=>l("AddLayerType"),children:G.jsx(ube,{})})})]})]}),G.jsx(Obe,{id:"layers-box",onClick:w=>A(w),children:G.jsx(Nbe,{children:G.jsx(Fbe,{children:e.map((w,x)=>G.jsxs(Ube,{onClick:()=>{x===i?h(x,w):o(x)},children:[w.type==="color"?G.jsx(wx,{style:{backgroundColor:w.color}}):w.type==="graphic"?G.jsx(wx,{children:G.jsx("img",{src:`/api/assets/images/${w.link}`,style:{width:"100%",height:"100%",objectFit:"cover"},alt:"design-graphic"})}):w.type==="mask"?G.jsx(wx,{children:G.jsx("img",{src:`/api/assets/designimages/${w.link}`,style:{width:"100%",height:"100%",objectFit:"cover"},alt:"design-graphic"})}):G.jsx(wx,{children:G.jsx("img",{src:`/api/assets/designimages/${w.source}Mask.png`,style:{width:"100%",height:"100%",objectFit:"cover"},alt:"design-graphic"})}),G.jsx(kbe,{$active:x===i,children:G.jsx(Hbe,{children:w.type==="overlay"?VR(w.source).toLowerCase():w.type})})]},x))})})})]})}const Gbe=ze.div`
  display: flex;
  flex-direction: column;
  overflow: hidden;
  height: 220px;
  margin: 6px;
  border: 1px solid #343434;
  border-radius: 6px;
  background-color: #000000;
`,$be=ze.div`
  display: flex;
  flex-direction: column;
  overflow: auto;
`,Wbe=ze.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  column-gap: 6px;
  row-gap: 6px;
`,Vbe=ze.button`
  box-sizing: border-box;
  color: ${t=>t.$active?"#ffffff":"#999999"};
  background-color: ${t=>t.$active?"#212121":"#000000"};
  border: 1px solid;
  border-color: ${t=>t.$active?"#343434":"#000000"};
  border-radius: 4px;
  margin: 3px;
  height: 40px;
  font-size: 16px;
  text-transform: capitalize;
  overflow: hidden;
`;function jbe({props:t}){const{design:e,setCurrentPart:n,setLayersView:r,setCurrentLayer:i,currentPartName:s}=t;return G.jsxs(so,{children:[G.jsx(Tc,{children:"Select Part"}),G.jsx(Gbe,{children:G.jsx($be,{children:G.jsx(Wbe,{children:e.configData.partsArray.map((o,a)=>G.jsx(Vbe,{$active:s===o,onClick:()=>{i(-1),n(a),r("LayersMain")},children:o},a))})})}),G.jsx(Kl,{children:G.jsx(Lr,{children:G.jsx(vi,{$active:!0,onClick:()=>r("LayersMain"),children:"Back"})})})]})}function Xbe({props:t}){const{design:e,currentPartName:n,handleAddLayer:r,setLayersView:i}=t;return G.jsxs(so,{children:[G.jsx(Tc,{children:"Select Layer Type"}),G.jsxs(Kl,{children:[e.configData.layerTypes[n].types.map((s,o)=>G.jsx(Lr,{children:s==="Mask"?G.jsx(vi,{$active:!0,onClick:()=>{i("MaskTypes")},children:s}):s==="Graphic"?G.jsx(vi,{$active:!0,onClick:()=>{i("GraphicPicker")},children:s}):G.jsx(vi,{$active:!0,onClick:()=>{r(s),i("LayersMain")},children:s})},o)),G.jsx(Lr,{children:G.jsx(vi,{$active:!0,onClick:()=>i("LayersMain"),children:"Cancel"})})]})]})}function Jbe({props:t}){const{design:e,currentPartName:n,handleAddMaskLayer:r,setLayersView:i}=t;return G.jsxs(so,{children:[G.jsx(Tc,{children:"Select Mask Type"}),G.jsxs(Kl,{children:[e.configData.maskTypes[n].map((s,o)=>G.jsx(Lr,{children:G.jsx(vi,{$active:!0,onClick:()=>{r(s[0],s[1]),i("LayersMain")},children:s[0]})},o)),G.jsx(Lr,{children:G.jsx(vi,{$active:!0,onClick:()=>i("LayersMain"),children:"Cancel"})})]})]})}function Kbe({props:t}){const{currentLayer:e,currentPartName:n,design:r,handleChangeManager:i,setLayersView:s,setCanSave:o,currentShoe:a}=t,[l,u]=oe.useState("#ffffaa"),[h,p]=oe.useState([]);oe.useEffect(()=>{p((()=>{const y=[];for(const _ in r.outlineData.parts){for(const w in r.outlineData.parts[_].right){const x=r.outlineData.parts[_].right[w].type;if(x==="color"||x==="mask"){const M=r.outlineData.parts[_].right[w].color;y.includes(M)||y.push(M)}}for(const w in r.outlineData.parts[_].left){const x=r.outlineData.parts[_].left[w].type;if(x==="color"||x==="mask"){const M=r.outlineData.parts[_].left[w].color;y.includes(M)||y.push(M)}}}for(const _ in r.outlineData.overlays){for(const w in r.outlineData.overlays[_].right)if(r.outlineData.overlays[_].right[w].type==="color"){const x=r.outlineData.overlays[_].right[w].color;y.includes(x)||y.push(x)}for(const w in r.outlineData.overlays[_].left)if(r.outlineData.overlays[_].left[w].type==="color"){const x=r.outlineData.overlays[_].left[w].color;y.includes(x)||y.push(x)}}const S=r.outlineData.baseColors.right;y.includes(S)||y.push(S);const A=r.outlineData.baseColors.left;return y.includes(A)||y.push(A),y})()),u(n==="outerOverlay"||n==="innerOverlay"?r.outlineData.overlays[n][a][e].color:r.outlineData.parts[n][a][e].color)},[r,n,e,p,a]);const m=v=>{o(!0);const y=v.hex||v;u(v),i({type:"color-changed",partName:n,layerIndex:e,newColor:y})};return G.jsxs(so,{children:[G.jsx(lH,{color:l,colorsArray:h,onChangeComplete:m,handleColorChange:m}),G.jsxs(pA,{children:[G.jsx(mA,{children:G.jsx(Tc,{children:VR(n)})}),G.jsx(Wf,{children:G.jsx(Vf,{$active:!0,onClick:()=>s("LayersMain"),children:G.jsx(fH,{})})})]})]})}const Ybe=ze.div`
  height: 300px;
  position: relative;
  margin: 6px;
`,qbe=ze.div`
  transform: ${t=>t.mirror?"scaleX(-1)":"unset"};
`,zu=ze.button`
  background-color: #00000077;
  color: #ffffff;
  width: 40px;
  height: 40px;
  border: none;
  margin: auto;
  border-radius: 50px;
  padding: 0px;
  font-size: 20px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;

  &:focus {
    outline: none;
  }
`,Qbe=ze.div`
  position: absolute;
  height: 100%;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: grid;
  grid-template-columns: 1fr 3fr 1fr 3fr 1fr;
  grid-template-rows: 1fr 3fr 1fr 3fr 1fr;
  z-index: 1;
  grid-template-areas:
    'counter . up . clock'
    '. . . . .'
    'left . . . right'
    '. . . . .'
    'compress . down . expand';
`;function Zbe({props:t}){const{currentLayer:e,currentPartName:n,graphicVisualCanvas:r,handleChangeManager:i,handleUpdateGraphicVisualCanvas:s,setLayersView:o,setCanSave:a,currentShoe:l}=t,u=(h,p)=>{a(!0),i({type:"graphic-moved",partName:n,layerIndex:e,direction:h,distance:p})};return oe.useEffect(()=>{(()=>{let p=document.getElementById("graphic-visual-container");p.innerHTML="",p.appendChild(r)})(),s(n)},[]),G.jsxs(so,{children:[G.jsxs(Ybe,{children:[G.jsxs(Qbe,{children:[G.jsx(zu,{id:"up-button",onClick:()=>u("vert",-30),children:G.jsx(qEe,{})}),G.jsx(zu,{id:"down-button",onClick:()=>u("vert",30),children:G.jsx(JEe,{})}),G.jsx(zu,{id:"left-button",onClick:()=>u("hor",-30),children:G.jsx(KEe,{})}),G.jsx(zu,{id:"right-button",onClick:()=>u("hor",30),children:G.jsx(YEe,{})}),G.jsx(zu,{id:"scale-up-button",onClick:()=>u("scale",1.1),children:G.jsx(QEe,{})}),G.jsx(zu,{id:"scale-down-button",onClick:()=>u("scale",.9),children:G.jsx(ibe,{})}),G.jsx(zu,{id:"clockwise-button",onClick:()=>u("rotate",5),children:G.jsx(cbe,{})}),G.jsx(zu,{id:"counterclockwise-button",onClick:()=>u("rotate",-5),children:G.jsx(hbe,{})})]}),G.jsx(qbe,{id:"graphic-visual-container",mirror:l==="left"})]}),G.jsxs(V2,{children:[G.jsx(Lr,{children:G.jsx(vi,{$active:!0,onClick:()=>u("reset",0),children:"Reset"})}),G.jsx(Lr,{children:G.jsx(vi,{$active:!0,onClick:()=>o("LayersMain"),children:"Done"})})]})]})}function eMe({graphicsArray:t,handleAddGraphicLayer:e}){return G.jsx("div",{className:"current-graphics-container",children:t.map((n,r)=>G.jsx("div",{className:"current-graphics-item",onClick:()=>e(n),children:G.jsx("img",{src:`/api/assets/images/${n}`,alt:"used-already"})},r))})}function tMe({props:t}){const{setLayersView:e,handleAddLayer:n,design:r}=t,[i,s]=oe.useState(!1),[o,a]=oe.useState(!1),[l,u]=oe.useState();oe.useEffect(()=>{u((()=>{const v=["red-apple.png"];for(const y in r.outlineData.parts){for(const S in r.outlineData.parts[y].right)if(r.outlineData.parts[y].right[S].type==="graphic"){const A=r.outlineData.parts[y].right[S].link;v.includes(A)||v.push(A)}for(const S in r.outlineData.parts[y].left)if(r.outlineData.parts[y].left[S].type==="graphic"){const A=r.outlineData.parts[y].left[S].link;v.includes(A)||v.push(A)}}for(const y in r.outlineData.overlays){for(const S in r.outlineData.overlays[y].right)if(r.outlineData.overlays[y].right[S].type==="graphic"){const A=r.outlineData.overlays[y].right[S].link;v.includes(A)||v.push(A)}for(const S in r.outlineData.overlays[y].left)if(r.outlineData.overlays[y].left[S].type==="graphic"){const A=r.outlineData.overlays[y].left[S].link;v.includes(A)||v.push(A)}}return v[0]?v:null})())},[r]);const h=async m=>{if((m.target.files[0].size/1024/1024).toFixed(4)<2){a(!0);const y=m.target.files[0];await Qx(y,!0).then(S=>{const A=Zx(S.image);p(A)})}else s(!0)},p=m=>{n("Graphic",m),e("LayersMain")};return o?G.jsx(so,{children:G.jsx(j2,{})}):G.jsxs(so,{children:[G.jsx(Tc,{children:"Graphics"}),l&&G.jsx("div",{className:"used-graphics",children:G.jsx(eMe,{graphicsArray:l,handleAddGraphicLayer:p})}),G.jsx("div",{className:"upload-image-input",children:G.jsxs("label",{htmlFor:"image-input-id",className:"upload-image-label",children:[G.jsx("input",{onChange:m=>h(m),id:"image-input-id",type:"file",name:"myImage",accept:"image/png, image/jpeg, .png, .jpg"}),"Upload"]})}),i&&G.jsx("div",{className:"file-size-warning",children:G.jsx("p",{children:"file must be less that 2MB."})}),G.jsx(Kl,{children:G.jsx(Lr,{children:G.jsx(vi,{$active:!0,onClick:()=>e("LayersMain"),children:"Cancel"})})})]})}const nMe={LayersMain:zbe,PartList:jbe,AddLayerType:Xbe,MaskTypes:Jbe,ColorEditor:Kbe,GraphicEditor:Zbe,GraphicPicker:tMe};function rMe({layersView:t,setLayersView:e,currentLayer:n,currentPart:r,design:i,graphicVisualCanvas:s,handleChangeManager:o,handleUpdateGraphicVisualCanvas:a,handleViewChange:l,setCurrentLayer:u,setCurrentPart:h,setCanSave:p,currentShoe:m,setCurrentShoe:v}){const y=Object.keys(i.configData.partsObject)[r];let S="parts";(y==="outerOverlay"||y==="innerOverlay")&&(S="overlays");const A=i.outlineData[S][y][m].length,_=i.outlineData[S][y][m],w=(B,O)=>{p(!0),o({type:"layer-added",partName:y,layerType:B,...O&&{fileName:O}}),u(A)},x=(B,O)=>{p(!0),o({type:"layer-added",partName:y,layerType:"Mask",maskType:B,maskLink:O}),u(A)},M=(B,O)=>{O.type==="color"?(u(B),e("ColorEditor")):O.type==="graphic"?(u(B),e("GraphicEditor")):O.type==="mask"?(u(B),e("ColorEditor")):O.type==="overlay"&&(h(i.configData.partsArray.indexOf(O.source)),u(-1))},R=B=>{p(!0),o({type:"layer-deleted",partName:y,layerIndex:B}),u(-1)},T=(B,O)=>{p(!0),o({type:"layer-moved",partName:y,layerIndex:B,direction:O}),u(n+O)},I=nMe[t],F={allLayers:_,currentPart:r,currentLayer:n,currentPartName:y,design:i,graphicVisualCanvas:s,handleAddLayer:w,handleAddMaskLayer:x,handleMoveLayer:T,handleEditLayer:M,handleDeleteLayer:R,handleChangeManager:o,handleUpdateGraphicVisualCanvas:a,handleViewChange:l,setCurrentLayer:u,setCurrentPart:h,setLayersView:e,numberOfLayers:A,setCanSave:p,currentShoe:m,setCurrentShoe:v,layersView:t};return G.jsx(so,{children:G.jsx(I,{props:F})})}ze.p`
  color: #ffffff;
  margin: 16px;
`;const iMe=ze.input`
  display: block;
  font-size: 18px;
  outline: none;
  width: 100%;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: none;
  border-radius: 3px;
  height: 38px;
  padding-left: 10px;
`;function sMe({handleViewChange:t,design:e,setDesign:n,setCanSave:r}){const i=()=>{const s=Z0.cloneDeep(e),o=Z0.startCase(document.getElementById("design-name-input").value);s.title=o,r(!0),n(s),t("DesignMenu")};return G.jsxs(so,{children:[G.jsx(pA,{children:G.jsx(mA,{children:G.jsx(Tc,{children:"Design Name"})})}),G.jsxs(Kl,{children:[G.jsx(Lr,{children:G.jsx(iMe,{type:"text",id:"design-name-input",defaultValue:e.title})}),G.jsx(Lr,{children:G.jsx(vi,{$active:!0,onClick:()=>i(),children:"Done"})})]})]})}function oMe({design:t,setDesign:e,graphicVisualCanvas:n,handleUpdateGraphicVisualCanvas:r,handleChangeManager:i,handleUpdateBaseColor:s,userData:o,currentPart:a,setCurrentPart:l,currentShoe:u,setCurrentShoe:h,shoeVisibility:p,setShoeVisibility:m,view:v,setView:y,layersView:S,setLayersView:A,currentLayer:_,setCurrentLayer:w,setCameraReset:x}){const[M,R]=oe.useState(!1),T=F=>{y(F)};let I;return v==="DesignMenu"?I=G.jsx(_be,{handleViewChange:T,design:t,setDesign:e,canSave:M,setCanSave:R,userData:o,currentShoe:u,setCurrentShoe:h,shoeVisibility:p,setShoeVisibility:m,setCameraReset:x}):v==="Layers"?I=G.jsx(rMe,{layersView:S,setLayersView:A,handleViewChange:T,design:t,setDesign:e,currentShoe:u,setCurrentShoe:h,currentPart:a,setCurrentPart:l,currentLayer:_,setCurrentLayer:w,graphicVisualCanvas:n,handleUpdateGraphicVisualCanvas:r,handleChangeManager:i,setCanSave:R}):v==="ChangeDesignName"?I=G.jsx(sMe,{handleViewChange:T,design:t,setDesign:e,setCanSave:R}):v==="ChangeBaseColor"?I=G.jsx(Ebe,{handleViewChange:T,design:t,setDesign:e,setCanSave:R,handleUpdateBaseColor:s,currentShoe:u,setCurrentShoe:h}):v==="DesignInfo"?I=G.jsx(ybe,{design:t}):v==="DesignVisibility"&&(I=G.jsx(Abe,{currentShoe:u,setCurrentShoe:h,shoeVisibility:p,setShoeVisibility:m})),G.jsxs(UEe,{children:[G.jsx(kEe,{children:I}),G.jsx(HEe,{children:G.jsx(pbe,{handleViewChange:T,view:v})})]})}const aMe=async({setTexturesLoaded:t,design:e,graphicVisualCanvas:n,rightInnerOverlayCanvas:r,rightOuterOverlayCanvas:i,rightTexture:s,rightTextureCanvas:o,leftInnerOverlayCanvas:a,leftOuterOverlayCanvas:l,leftTexture:u,leftTextureCanvas:h,rightCanvasObjectRef:p,rightOverlaysCanvasObjectRef:m,rightBaseColorCanvasObjectRef:v,leftBaseColorCanvasObjectRef:y,leftCanvasObjectRef:S,leftOverlaysCanvasObjectRef:A})=>{m.current=await Vu({design:e,type:"overlaysCanvasObject",currentShoe:"right"}),A.current=await Vu({design:e,type:"overlaysCanvasObject",currentShoe:"left"}),Qu({design:e,overlayCanvasObject:m.current,overlayCanvas:i,partName:"outerOverlay",graphicVisualCanvas:n,currentShoe:"right"}),Qu({design:e,overlayCanvasObject:A.current,overlayCanvas:l,partName:"outerOverlay",graphicVisualCanvas:n,currentShoe:"left"}),Qu({design:e,overlayCanvasObject:m.current,overlayCanvas:r,partName:"innerOverlay",graphicVisualCanvas:n,currentShoe:"right"}),Qu({design:e,overlayCanvasObject:A.current,overlayCanvas:a,partName:"innerOverlay",graphicVisualCanvas:n,currentShoe:"left"}),p.current=await Vu({design:e,type:"partsCanvasObject",overlays:[i,r],currentShoe:"right"}),S.current=await Vu({design:e,type:"partsCanvasObject",overlays:[l,a],currentShoe:"left"}),v.current=await Vu({design:e,type:"baseColorCanvasObject",currentShoe:"right"}),y.current=await Vu({design:e,type:"baseColorCanvasObject",currentShoe:"left"});const _=await Z1({design:e,canvasObject:p.current,baseColorCanvasObject:v.current}),w=await Z1({design:e,canvasObject:S.current,baseColorCanvasObject:y.current});o.getContext("2d").drawImage(_,0,0),s.needsUpdate=!0,h.getContext("2d").drawImage(w,0,0),u.needsUpdate=!0,t(!0)},TO=t=>{const e=new vk(t);return e.flipY=!1,e.colorSpace=da,e},Gd=({design:t})=>new Promise(e=>{const{canvasSize:n}=t.configData,r=document.createElement("canvas");r.width=n,r.height=n;const i=r.getContext("2d");function s(){i!==null&&typeof r=="object"?(i.fillStyle="#ffffff",i.fillRect(0,0,n,n),e(r)):setTimeout(s,100)}s()}),lMe=({design:t})=>new Promise(e=>{const{canvasSize:n}=t.configData,r=document.createElement("canvas");r.width=n,r.height=n;const i=r.getContext("2d"),s=new Image;s.src=`/api/assets/designimages/${t.configData.source.redMap}`,s.onload=()=>{function o(){i!==null&&typeof r=="object"?(i.drawImage(s,0,0,1e3,1e3),e(r)):setTimeout(o,100)}o()}}),uMe=({design:t})=>{const{canvasSize:e}=t.configData,n=document.createElement("canvas");return n.id="graphic-visual-canvas",n.width=e,n.height=e,n},wm=({design:t,layer:e,partName:n})=>new Promise(r=>{let{mask:i}=t.configData.partsObject[n];const{color:s}=e,{canvasSize:o}=t.configData,a=document.createElement("canvas");a.width=o,a.height=o;const l=a.getContext("2d"),u=new Image;u.src=`/api/assets/designimages/${i}`,u.onload=()=>{function h(){l!==null&&typeof a=="object"?(l.drawImage(u,0,0,o,o),l.globalCompositeOperation="source-in",l.fillStyle=s,l.fillRect(0,0,o,o),r(a)):setTimeout(h,100)}h()}}),Vv=({design:t,layer:e,partName:n,currentShoe:r})=>new Promise(i=>{const{mask:s}=t.configData.partsObject[n];let{link:o,x:a,y:l,scale:u,rotation:h}=e;const{canvasSize:p}=t.configData,m=document.createElement("canvas");m.width=p,m.height=p;const v=m.getContext("2d"),y=new Image;y.src=`/api/assets/images/${o}`,y.onload=()=>{const S=y.width,A=y.height,_=Math.round(Math.sqrt(S*S+A*A)),w=document.createElement("canvas");w.id="pythagorean-canvas",w.width=_,w.height=_;const x=w.getContext("2d");function M(){if(x!==null&&typeof w=="object"&&v!==null&&typeof m=="object"){x.translate(w.width/2,w.height/2),x.rotate(h*Math.PI/180),x.drawImage(y,y.width/-2,y.height/-2,y.width,y.height);const R=new Image;R.src=`/api/assets/designimages/${s}`,R.onload=function(){v.drawImage(R,0,0,p,p),v.globalCompositeOperation="source-in";const T=a+(p-p*u)/2,I=l+(p-p*u)/2,F=p*u;r==="left"&&(v.scale(-1,1),v.translate(-p,0)),v.drawImage(w,T,I,F,F),i(m)}}else setTimeout(M,100)}M()}}),jR=({design:t,layer:e,currentShoe:n})=>new Promise(r=>{const{link:i,color:s}=e,{canvasSize:o}=t.configData,a=document.createElement("canvas");a.width=o,a.height=o;const l=a.getContext("2d"),u=new Image;u.src=`/api/assets/designimages/${i}`,u.onload=()=>{function h(){l!==null&&typeof a=="object"?(n==="left"&&i==="heelWingLogoMask.png"&&(l.scale(-1,1),l.translate(-o,0)),l.drawImage(u,0,0,o,o),l.globalCompositeOperation="source-in",l.fillStyle=s,l.fillRect(0,0,o,o),r(a)):setTimeout(h,100)}h()}}),tm=({design:t,layer:e,partName:n,overlayCanvas:r})=>new Promise(i=>{const{mask:s}=t.configData.partsObject[n],{source:o}=e,{x:a,y:l,scale:u,rotation:h}=t.configData.translations[o][n],{canvasSize:p}=t.configData,m=document.createElement("canvas");m.width=p,m.height=p;const v=m.getContext("2d"),y=new Image;y.src=`/api/assets/designimages/${s}`,y.onload=()=>{function S(){v!==null&&typeof m=="object"?(v.drawImage(y,0,0,p,p),v.globalCompositeOperation="source-in",v.translate(p*a,p*l),v.rotate(h),v.drawImage(r,0,0,p*u,p*u),i(m)):setTimeout(S,100)}S()}}),RO=async({design:t,designLayers:e,partName:n,overlays:r,currentShoe:i})=>{const s=[];for(let o in e)if(e[o].type==="color"){const a=await wm({design:t,layer:e[o],partName:n});s.push(a)}else e[o].type==="graphic"?s.push(await Vv({design:t,layer:e[o],partName:n,currentShoe:i})):e[o].type==="mask"?s.push(await jR({design:t,layer:e[o],currentShoe:i})):e[o].type==="overlay"&&(e[o].source==="outerOverlay"?s.push(await tm({design:t,layer:e[o],partName:n,overlayCanvas:r[0]})):s.push(await tm({design:t,layer:e[o],partName:n,overlayCanvas:r[1]})));return{layers:s}},cMe=async({design:t,partName:e,currentShoe:n})=>await wm({design:t,layer:{color:t.outlineData.baseColors[n]},partName:e}),Vu=({design:t,type:e,overlays:n,currentShoe:r})=>new Promise((i,s)=>{const o={};(async()=>{if(e==="partsCanvasObject")for(let l in t.outlineData.parts)o[l]=await RO({design:t,designLayers:t.outlineData.parts[l][r],partName:l,overlays:n,currentShoe:r});else if(e==="overlaysCanvasObject")for(let l in t.outlineData.overlays)o[l]=await RO({design:t,designLayers:t.outlineData.overlays[l][r],partName:l,currentShoe:r});else if(e==="baseColorCanvasObject")for(let l in t.outlineData.parts)o[l]=await cMe({design:t,partName:l,currentShoe:r});i(o)})()}),Qu=({design:t,overlayCanvasObject:e,overlayCanvas:n,partName:r,graphicVisualCanvas:i})=>{const{canvasSize:s}=t.configData,o=n.getContext("2d"),a=i.getContext("2d");a.clearRect(0,0,s,s),o.clearRect(0,0,s,s);for(let l in e[r].layers){const u=e[r].layers[l];o.drawImage(u,0,0,s,s),a.drawImage(u,0,0,s,s)}},Ex=({design:t,graphicVisualCanvas:e,partName:n,canvasObject:r,baseColorCanvasObject:i})=>{const{canvasSize:s}=t.configData,o=e.getContext("2d");if(o.clearRect(0,0,s,s),i[n]){const a=i[n];o.drawImage(a,0,0,s,s)}for(let a in r[n].layers){const l=r[n].layers[a];o.drawImage(l,0,0,s,s)}},Z1=({design:t,canvasObject:e,baseColorCanvasObject:n})=>new Promise((r,i)=>{const s=document.createElement("canvas");s.width=t.configData.canvasSize,s.height=t.configData.canvasSize;const o=s.getContext("2d");function a(){if(typeof o<"u"){for(let l in e){const{x:u,y:h,width:p,height:m}=t.configData.partsObject[l],{divider:v}=t.configData;o.drawImage(n[l],u/v,h/v,p/v,m/v);for(let y in e[l].layers){const S=e[l].layers[y];o.drawImage(S,u/v,h/v,p/v,m/v)}}r(s)}else setTimeout(a,100)}a()}),fMe=({changeObject:t,design:e,setDesign:n,texture:r,textureCanvas:i,graphicVisualCanvas:s,canvasObject:o,baseColorCanvasObject:a,currentShoe:l})=>{const{type:u,fileName:h}=t,p=Z0.cloneDeep(e);if(u==="graphic-moved"){const{partName:m,layerIndex:v,direction:y,distance:S}=t,A=p.outlineData.parts[m][l][v];y==="vert"?A.y+=S:y==="hor"?A.x+=S:y==="scale"?A.scale*=S:y==="rotate"?A.rotation+=S:y==="reset"&&(A.y=0,A.x=0,A.scale=1,A.rotation=0),n(p),PO({partName:m,layerIndex:v,layerObject:A,canvasObject:o,textureCanvas:i,texture:r,graphicVisualCanvas:s,design:e,baseColorCanvasObject:a,currentShoe:l})}else if(u==="color-changed"){const{partName:m,layerIndex:v,newColor:y}=t;let S;m==="outerOverlay"||m==="innerOverlay"?S=p.outlineData.overlays[m].layers[v]:S=p.outlineData.parts[m][l][v],S.color=y,n(p),PO({partName:m,layerIndex:v,layerObject:S,canvasObject:o,textureCanvas:i,texture:r,graphicVisualCanvas:s,design:e,baseColorCanvasObject:a,currentShoe:l})}else if(u==="layer-added"){const{partName:m,layerType:v}=t;if(v==="Color")p.outlineData.parts[m][l].push({type:"color",color:"#777777"});else if(v==="Graphic")p.outlineData.parts[m][l].push({type:"graphic",link:h,x:0,y:0,scale:1,rotation:0});else{const{maskLink:S}=t;p.outlineData.parts[m][l].push({type:"mask",link:S,color:"#000000"})}n(p);const y=p.outlineData.parts[m][l].slice(-1)[0];hMe({canvasObject:o,graphicVisualCanvas:s,layerObject:y,partName:m,texture:r,textureCanvas:i,design:e,baseColorCanvasObject:a,currentShoe:l})}else if(u==="layer-moved"){const{partName:m,layerIndex:v,direction:y}=t;let S=p.outlineData.parts[m][l],A=S[v];S[v]=S[v+y],S[v+y]=A,p.outlineData.parts[m].layers=S,n(p),pMe({canvasObject:o,partName:m,layerIndex:v,direction:y,textureCanvas:i,texture:r,graphicVisualCanvas:s,design:e,baseColorCanvasObject:a,currentShoe:l})}else if(u==="layer-deleted"){const{partName:m,layerIndex:v}=t;p.outlineData.parts[m][l].splice(v,1),n(p),dMe({canvasObject:o,partName:m,layerIndex:v,textureCanvas:i,texture:r,graphicVisualCanvas:s,design:e,baseColorCanvasObject:a,currentShoe:l})}},PO=async({partName:t,layerIndex:e,layerObject:n,canvasObject:r,textureCanvas:i,texture:s,graphicVisualCanvas:o,design:a,baseColorCanvasObject:l,currentShoe:u})=>{let h;n.type==="color"?h=await wm({design:a,layer:n,partName:t}):n.type==="graphic"?h=await Vv({design:a,layer:n,partName:t,currentShoe:u}):h=await jR({design:a,layer:n,currentShoe:u}),r[t].layers[e]=h,NA({textureCanvas:i,canvasObjectPart:r[t],partName:t,texture:s,graphicVisualCanvas:o,design:a,baseColorCanvasObject:l})},hMe=async({canvasObject:t,graphicVisualCanvas:e,layerObject:n,partName:r,texture:i,textureCanvas:s,design:o,baseColorCanvasObject:a,currentShoe:l})=>{if(n.type==="color"){const u=await wm({design:o,layer:n,partName:r});t[r].layers.push(u)}else if(n.type==="graphic"){const u=await Vv({design:o,layer:n,partName:r,currentShoe:l});t[r].layers.push(u)}else{const u=await jR({design:o,layer:n,currentShoe:l});t[r].layers.push(u)}NA({textureCanvas:s,canvasObjectPart:t[r],partName:r,texture:i,graphicVisualCanvas:e,design:o,baseColorCanvasObject:a})},dMe=({canvasObject:t,partName:e,layerIndex:n,textureCanvas:r,texture:i,graphicVisualCanvas:s,design:o,baseColorCanvasObject:a})=>{t[e].layers.splice(n,1),NA({textureCanvas:r,canvasObjectPart:t[e],partName:e,texture:i,graphicVisualCanvas:s,design:o,baseColorCanvasObject:a})},pMe=({canvasObject:t,partName:e,layerIndex:n,direction:r,textureCanvas:i,texture:s,graphicVisualCanvas:o,design:a,baseColorCanvasObject:l})=>{let u=t[e].layers,h=u[n];u[n]=u[n+r],u[n+r]=h,t[e].layers=u,NA({textureCanvas:i,canvasObjectPart:t[e],partName:e,texture:s,graphicVisualCanvas:o,design:a,baseColorCanvasObject:l})},NA=({textureCanvas:t,canvasObjectPart:e,partName:n,texture:r,graphicVisualCanvas:i,design:s,baseColorCanvasObject:o})=>{const a=t.getContext("2d"),l=i.getContext("2d");l.clearRect(0,0,s.configData.canvasSize,s.configData.canvasSize);const{x:u,y:h,width:p,height:m}=s.configData.partsObject[n],{divider:v}=s.configData;a.drawImage(o[n],u/v,h/v,p/v,m/v),l.drawImage(o[n],0,0,s.configData.canvasSize,s.configData.canvasSize);for(let y in e.layers){const S=e.layers[y];a.drawImage(S,u/v,h/v,p/v,m/v),l.drawImage(S,0,0,s.configData.canvasSize,s.configData.canvasSize)}r.needsUpdate=!0},IO=({changeObject:t,design:e,setDesign:n,texture:r,textureCanvas:i,graphicVisualCanvas:s,canvasObject:o,overlayCanvas:a,overlayCanvasObject:l,baseColorCanvasObject:u,currentShoe:h})=>{const{type:p,fileName:m}=t,v=Z0.cloneDeep(e);if(p==="graphic-moved"){const{partName:y,layerIndex:S,direction:A,distance:_}=t,w=v.outlineData.overlays[y][h][S];A==="vert"?w.y+=_:A==="hor"?w.x+=_:A==="scale"?w.scale*=_:A==="rotate"?w.rotation+=_:A==="reset"&&(w.y=0,w.x=0,w.scale=1,w.rotation=0),n(v),LO({partName:y,layerIndex:S,layerObject:w,overlayCanvasObject:l,overlayCanvas:a,texture:r,graphicVisualCanvas:s,design:e,canvasObject:o,textureCanvas:i,baseColorCanvasObject:u,currentShoe:h})}else if(p==="color-changed"){const{partName:y,layerIndex:S,newColor:A}=t;let _=v.outlineData.overlays[y][h][S];_.color=A,n(v),LO({partName:y,layerIndex:S,layerObject:_,overlayCanvasObject:l,overlayCanvas:a,texture:r,graphicVisualCanvas:s,design:e,canvasObject:o,textureCanvas:i,baseColorCanvasObject:u,currentShoe:h})}else if(p==="layer-added"){const{partName:y,layerType:S}=t;if(e.outlineData.overlays[y][h].length===0){const A=e.configData.overlayParts[y];for(let _ in A){const w=A[_];v.outlineData.parts[w][h].push({type:"overlay",source:y})}}S==="Color"?v.outlineData.overlays[y][h].push({type:"color",color:"#777777"}):v.outlineData.overlays[y][h].push({type:"graphic",link:m,x:0,y:0,scale:1,rotation:0}),n(v),mMe({overlayCanvasObject:l,partName:y,layerObject:v.outlineData.overlays[y][h].slice(-1)[0],overlayCanvas:a,texture:r,graphicVisualCanvas:s,design:e,textureCanvas:i,canvasObject:o,tempDesign:v,baseColorCanvasObject:u,currentShoe:h})}else if(p==="layer-moved"){const{partName:y,layerIndex:S,direction:A}=t;let _=v.outlineData.overlays[y][h],w=_[S];_[S]=_[S+A],_[S+A]=w,v.outlineData.overlays[y][h]=_,n(v),gMe({overlayCanvasObject:l,partName:y,layerIndex:S,direction:A,overlayCanvas:a,texture:r,graphicVisualCanvas:s,design:e,textureCanvas:i,canvasObject:o,baseColorCanvasObject:u,currentShoe:h})}else if(p==="layer-deleted"){const{partName:y,layerIndex:S}=t;if(v.outlineData.overlays[y][h].splice(S,1),v.outlineData.overlays[y][h].length===0){const A=e.configData.overlayParts[y];for(let _ in A){const w=A[_];for(let x=0;x<v.outlineData.parts[w][h].length;x++){const M=x;v.outlineData.parts[w][h][x].type==="overlay"&&v.outlineData.parts[w][h][x].source===y&&(v.outlineData.parts[w][h].splice(M,1),o[w].layers.splice(M,1))}}}n(v),vMe({overlayCanvasObject:l,partName:y,layerIndex:S,overlayCanvas:a,texture:r,graphicVisualCanvas:s,design:e,textureCanvas:i,canvasObject:o,tempDesign:v,baseColorCanvasObject:u,currentShoe:h})}},LO=async({partName:t,layerIndex:e,layerObject:n,overlayCanvasObject:r,overlayCanvas:i,texture:s,graphicVisualCanvas:o,design:a,canvasObject:l,textureCanvas:u,baseColorCanvasObject:h,currentShoe:p})=>{const m=a.configData.overlayParts[t];let v;n.type==="color"?v=await wm({design:a,layer:n,partName:t}):v=await Vv({design:a,layer:n,partName:t,currentShoe:p}),r[t].layers[e]=v,Qu({design:a,overlayCanvasObject:r,overlayCanvas:i,partName:t,graphicVisualCanvas:o,currentShoe:p});for(let y in m){const S=m[y];for(let A=0;A<a.outlineData.parts[S][p].length;A++){const _=A;if(a.outlineData.parts[S][p][A].type==="overlay"&&a.outlineData.parts[S][p][A].source===t){const w=await tm({design:a,layer:a.outlineData.parts[S][p][A],partName:S,overlayCanvas:i});l[S].layers[_]=w,UA({textureCanvas:u,canvasObjectPart:l[S],partName:S,design:a,baseColorCanvasObject:h})}}}s.needsUpdate=!0},mMe=async({overlayCanvasObject:t,partName:e,layerObject:n,overlayCanvas:r,texture:i,graphicVisualCanvas:s,design:o,textureCanvas:a,canvasObject:l,tempDesign:u,baseColorCanvasObject:h,currentShoe:p})=>{if(n.type==="color"){const v=await wm({design:o,layer:n,partName:e});t[e].layers.push(v)}else if(n.type==="graphic"){const v=await Vv({design:o,layer:n,partName:e,currentShoe:p});t[e].layers.push(v)}Qu({design:o,overlayCanvasObject:t,overlayCanvas:r,partName:e,graphicVisualCanvas:s,currentShoe:p});const m=o.configData.overlayParts[e];for(let v in m){const y=m[v];for(let S=0;S<u.outlineData.parts[y][p].length;S++){const A=S;if(u.outlineData.parts[y][p][S].type==="overlay"&&u.outlineData.parts[y][p][S].source===e){const _=await tm({design:o,layer:u.outlineData.parts[y][p][S],partName:y,overlayCanvas:r});l[y].layers[A]=_,UA({textureCanvas:a,canvasObjectPart:l[y],partName:y,design:o,baseColorCanvasObject:h})}}}i.needsUpdate=!0},gMe=async({overlayCanvasObject:t,partName:e,layerIndex:n,direction:r,overlayCanvas:i,texture:s,graphicVisualCanvas:o,design:a,textureCanvas:l,canvasObject:u,baseColorCanvasObject:h,currentShoe:p})=>{let m=t[e].layers,v=m[n];m[n]=m[n+r],m[n+r]=v,t[e].layers=m,Qu({design:a,overlayCanvasObject:t,overlayCanvas:i,partName:e,graphicVisualCanvas:o,currentShoe:p});const y=a.configData.overlayParts[e];for(let S in y){const A=y[S];for(let _=0;_<a.outlineData.parts[A][p].length;_++){const w=_;if(a.outlineData.parts[A][p][_].type==="overlay"&&a.outlineData.parts[A][p][_].source===e){const x=await tm({design:a,layer:a.outlineData.parts[A][p][_],partName:A,overlayCanvas:i});u[A].layers[w]=x,UA({textureCanvas:l,canvasObjectPart:u[A],partName:A,design:a,baseColorCanvasObject:h})}}}s.needsUpdate=!0},vMe=async({overlayCanvasObject:t,partName:e,layerIndex:n,overlayCanvas:r,texture:i,graphicVisualCanvas:s,design:o,textureCanvas:a,canvasObject:l,tempDesign:u,baseColorCanvasObject:h,currentShoe:p})=>{t[e].layers.splice(n,1),Qu({design:o,overlayCanvasObject:t,overlayCanvas:r,partName:e,graphicVisualCanvas:s,currentShoe:p});const m=o.configData.overlayParts[e];for(let v in m){const y=m[v];for(let S=0;S<u.outlineData.parts[y][p].length;S++){const A=S;if(u.outlineData.parts[y][p][S].type==="overlay"&&u.outlineData.parts[y][p][S].source===e){const _=await tm({design:o,layer:o.outlineData.parts[y][p][S],partName:y,overlayCanvas:r});l[y].layers[A]=_}}UA({textureCanvas:a,canvasObjectPart:l[y],partName:y,design:o,baseColorCanvasObject:h})}i.needsUpdate=!0},UA=({textureCanvas:t,canvasObjectPart:e,partName:n,design:r,baseColorCanvasObject:i})=>{const s=t.getContext("2d"),{x:o,y:a,width:l,height:u}=r.configData.partsObject[n],{divider:h}=r.configData;s.drawImage(i[n],o/h,a/h,l/h,u/h);for(let p in e.layers){const m=e.layers[p];s.drawImage(m,o/h,a/h,l/h,u/h)}},BO=ze.div`
  height: 100vh;
  width: 100vw;
  background-color: #f9f9f9;
  font-family: 'Roboto';
`;function yMe({userData:t,designSpec:e,graphicVisualCanvas:n,rightInnerOverlayCanvas:r,rightOuterOverlayCanvas:i,rightTexture:s,rightTextureCanvas:o,leftInnerOverlayCanvas:a,leftOuterOverlayCanvas:l,leftTexture:u,leftTextureCanvas:h,redMapCanvas:p}){const[m,v]=oe.useState(e),[y,S]=oe.useState(!1),[A,_]=oe.useState(0),[w,x]=oe.useState("right"),[M,R]=oe.useState(-1),[T,I]=oe.useState({right:!0,left:!0}),[F,B]=oe.useState("DesignInfo"),[O,V]=oe.useState("LayersMain"),H=oe.useRef(),ne=oe.useRef(),j=oe.useRef(),q=oe.useRef(),re=oe.useRef(),he=oe.useRef(),[z,ee]=oe.useState(!0),te=ue=>{Ex(ue==="outerOverlay"||ue==="innerOverlay"?w==="right"?{design:m,graphicVisualCanvas:n,partName:ue,canvasObject:j.current,baseColorCanvasObject:H.current,currentShoe:w}:{design:m,graphicVisualCanvas:n,partName:ue,canvasObject:he.current,baseColorCanvasObject:q.current,currentShoe:w}:w==="right"?{design:m,graphicVisualCanvas:n,partName:ue,canvasObject:ne.current,baseColorCanvasObject:H.current,currentShoe:w}:{design:m,graphicVisualCanvas:n,partName:ue,canvasObject:re.current,baseColorCanvasObject:q.current,currentShoe:w})},fe=ue=>{const{partName:_e}=ue;_e==="outerOverlay"?IO({changeObject:ue,design:m,setDesign:v,texture:w==="right"?s:u,textureCanvas:w==="right"?o:h,graphicVisualCanvas:n,canvasObject:w==="right"?ne.current:re.current,overlayCanvas:w==="right"?i:l,overlayCanvasObject:w==="right"?j.current:he.current,baseColorCanvasObject:w==="right"?H.current:q.current,currentShoe:w}):_e==="innerOverlay"?IO({changeObject:ue,design:m,setDesign:v,texture:w==="right"?s:u,textureCanvas:w==="right"?o:h,graphicVisualCanvas:n,canvasObject:w==="right"?ne.current:re.current,overlayCanvas:w==="right"?r:a,overlayCanvasObject:w==="right"?j.current:he.current,baseColorCanvasObject:w==="right"?H.current:q.current,currentShoe:w}):fMe({changeObject:ue,design:m,setDesign:v,texture:w==="right"?s:u,textureCanvas:w==="right"?o:h,graphicVisualCanvas:n,canvasObject:w==="right"?ne.current:re.current,baseColorCanvasObject:w==="right"?H.current:q.current,currentShoe:w})},ye=async ue=>{H.current=await Vu({design:ue,type:"baseColorCanvasObject",currentShoe:"right"}),q.current=await Vu({design:ue,type:"baseColorCanvasObject",currentShoe:"left"});const _e=await Z1({design:m,canvasObject:ne.current,baseColorCanvasObject:H.current}),Ne=await Z1({design:m,canvasObject:re.current,baseColorCanvasObject:q.current});o.getContext("2d").drawImage(_e,0,0),s.needsUpdate=!0,h.getContext("2d").drawImage(Ne,0,0),u.needsUpdate=!0};return oe.useEffect(()=>{(!ne.current||!re.current)&&aMe({setTexturesLoaded:S,design:m,graphicVisualCanvas:n,rightBaseColorCanvasObjectRef:H,rightInnerOverlayCanvas:r,rightOuterOverlayCanvas:i,rightTexture:s,rightTextureCanvas:o,rightCanvasObjectRef:ne,rightOverlaysCanvasObjectRef:j,leftBaseColorCanvasObjectRef:q,leftInnerOverlayCanvas:a,leftOuterOverlayCanvas:l,leftTexture:u,leftTextureCanvas:h,leftCanvasObjectRef:re,leftOverlaysCanvasObjectRef:he})},[m,n,r,i,s,o,a,l,u,h]),m?G.jsxs(BO,{children:[G.jsx(FEe,{design:m,setView:B,setLayersView:V,rightTexture:s,leftTexture:u,texturesLoaded:y,setCurrentPart:_,setCurrentShoe:x,setCurrentLayer:R,shoeVisibility:T,redMapCanvas:p,cameraReset:z,setCameraReset:ee}),G.jsx(oMe,{design:m,setDesign:v,view:F,setView:B,currentLayer:M,setCurrentLayer:R,layersView:O,setLayersView:V,graphicVisualCanvas:n,handleUpdateGraphicVisualCanvas:te,handleChangeManager:fe,handleUpdateBaseColor:ye,userData:t,currentPart:A,setCurrentPart:_,currentShoe:w,setCurrentShoe:x,shoeVisibility:T,setShoeVisibility:I,setCameraReset:ee})]}):G.jsx(BO,{children:"Please wait..."})}function DO(){const{id:t}=WV(),e=oe.useContext(ov.context),[n,r]=oe.useState(null),[i,s]=oe.useState(null),[o,a]=oe.useState(null),[l,u]=oe.useState(null),[h,p]=oe.useState(null),[m,v]=oe.useState(null),[y,S]=oe.useState(null),[A,_]=oe.useState(null),[w,x]=oe.useState(null),[M,R]=oe.useState(null),[T,I]=oe.useState(null),F=async O=>{r(O),s(uMe({design:O}));const V=await Gd({design:O});a(V);const H=await Gd({design:O});u(H);const ne=await Gd({design:O});p(ne);const j=await Gd({design:O});S(j);const q=await Gd({design:O});_(q);const re=await Gd({design:O});x(re);const he=await lMe({design:O});I(he)};return oe.useEffect(()=>{t?M1(`/api/outlines/${t}`,"GET").then(O=>{F(O)}):M1("/api/outlines/newdesign","GET").then(O=>{F(O)})},[t]),oe.useEffect(()=>{h&&w&&(v(TO(h)),R(TO(w)))},[h,w]),n&&i&&o&&l&&h&&m&&y&&A&&w&&M&&T?G.jsx(yMe,{userData:e,designSpec:n,graphicVisualCanvas:i,rightInnerOverlayCanvas:o,rightOuterOverlayCanvas:l,rightTexture:m,rightTextureCanvas:h,leftInnerOverlayCanvas:y,leftOuterOverlayCanvas:A,leftTexture:M,leftTextureCanvas:w,redMapCanvas:T}):G.jsx("div",{})}const _Me=ze.div`
  max-width: 400px;
  margin: auto;
  display: flex;
  flex-direction: column;
  height: 100vh;
  justify-content: center;
  padding: 16px;
`;function xMe(){const t=()=>{window.open("http://solecomposer.com/auth/google","_self")};return G.jsxs(_Me,{children:[G.jsx(O0,{google:!0,onClick:()=>t(),children:"Login With Google"}),G.jsx(lc,{to:"/",children:G.jsx(O0,{children:"Back"})})]})}const SMe=ze.div`
  max-width: 400px;
  margin: auto;
  display: flex;
  flex-direction: column;
  padding: 16px;
`,UC=ze.p`
  font-family: 'Roboto';
  padding: 0;
  text-align: center;
  margin: 0;
  margin-top: 15px;
`;function AMe(){const t=oe.useContext(ov.context),e=()=>{window.open("http://solecomposer.com/auth/logout","_self")};return G.jsxs(SMe,{children:[G.jsx(UC,{children:t.firstName}),G.jsx(UC,{children:t.email}),G.jsx(O0,{onClick:()=>e(),children:"Log Out"}),G.jsx(lc,{to:"/",children:G.jsx(O0,{children:"Back"})})]})}const wMe=ze.div`
  max-width: 400px;
  margin: auto;
  display: flex;
  flex-direction: column;
  padding: 16px;
`;function EMe(){return G.jsxs(wMe,{children:[G.jsx(UC,{children:"404 - PAGE NOT FOUND"}),G.jsx(lc,{to:"/",children:G.jsx(O0,{children:"Home"})})]})}const bMe=ze.div``;function MMe(){return G.jsx(bMe,{children:G.jsx(d7,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:G.jsx(ov,{children:G.jsxs(o7,{children:[G.jsx(Mf,{path:"/",element:G.jsx(BX,{})}),G.jsx(Mf,{path:"/login",element:G.jsx(xMe,{})}),G.jsx(Mf,{path:"/profile",element:G.jsx(AMe,{})}),G.jsx(Mf,{path:"/designer",element:G.jsx(DO,{})}),G.jsx(Mf,{path:"/designer/:id",element:G.jsx(DO,{})}),G.jsx(Mf,{path:"*",element:G.jsx(EMe,{})})]})})})})}const CMe=XN(document.getElementById("root"));CMe.render(G.jsx(K.StrictMode,{children:G.jsx(MMe,{})}))});export default TMe();
