{"version":3,"sources":["context/UserProvider.js","components/NewDesignButton/NewDesignButton.js","components/FeaturedDesignCard/FeaturedDesignCard.js","components/MyDesignTiles/MyDesignTiles.js","helpers/fetchHelpers.js","pages/Landing/Landing.js","components/LoadingSpinner/LoadingSpinner.js","components/Scene/Scene.js","helpers/uploadImage.js","helpers/takeScreenshot.js","helpers/convertAwsLink.js","components/DesignPreview/DesignPreview.js","components/AddLayerType/AddLayerType.js","helpers/convertPartNames.js","components/CurrentColors/CurrentColors.js","components/CustomPointer/CustomPointer.js","components/CustomColor/CustomColor.js","components/ColorPicker/ColorPicker.js","components/GraphicEditor/GraphicEditor.js","components/PartSelector/PartSelector.js","components/LayerOverview/LayerOverview.js","components/MaskTypes/MaskTypes.js","components/PartList/PartList.js","components/CurrentGraphics/CurrentGraphics.js","components/GraphicPicker/GraphicPicker.js","components/Layers/Constants.js","components/Layers/Layers.js","components/ChangeDesignName/ChangeDesignName.js","components/ChangeBaseColor/ChangeBaseColor.js","components/Interface/Interface.js","canvasFunctions/setup/setup.js","canvasFunctions/create/createCanvasFunctions.js","canvasFunctions/create/createColorLayerCanvas.js","canvasFunctions/create/createGraphicLayerCanvas.js","canvasFunctions/create/createMaskLayerCanvas.js","canvasFunctions/create/createOverlayLayerCanvas.js","canvasFunctions/create/initialFunctions.js","canvasFunctions/update/partChangeManager.js","canvasFunctions/update/overlayChangeManager.js","canvasFunctions/update/canvasObjectToTextureCanvas.js","components/DesignerContainer/DesignerContainer.js","pages/Designer/Designer.js","components/Login/Login.js","components/Profile/Profile.js","components/NoPage/NoPage.js","App.js","serviceWorker.js","index.js"],"names":["context","createContext","UserProvider","children","useState","user","setUser","useEffect","fetch","method","credentials","then","res","json","data","err","Provider","value","NewDesignButton","userData","history","useHistory","className","onClick","push","FeaturedDesignCard","props","_id","title","configId","author","screenshot","src","alt","modelName","firstName","MyDesignTiles","myDesigns","map","design","key","to","simpleFetch","link","designFetch","body","headers","JSON","stringify","Landing","useContext","featured","setFeatured","setMyDesigns","LoadingSpinner","id","Scene","rightTexture","leftTexture","initialLoaded","camera","setCamera","orbitControls","setOrbitControls","setCurrentPart","setCurrentShoe","setView","setLayersView","setFocusLayer","shoeVisibility","isLoading","setIsLoading","sceneBuilt","setSceneBuilt","renderer","setRenderer","rightMaterial","setRightMaterial","leftMaterial","setLeftMaterial","threeCanvasRef","useRef","createRightMaterial","a","createMaterial","mat","createLeftMaterial","texture","aoName","Promise","resolve","aoimg","Image","configData","source","onload","ao","THREE","flipY","aoMap","antialias","preserveDrawingBuffer","alpha","setSize","current","appendChild","domElement","position","z","y","layers","enable","controls","OrbitControls","maxDistance","minDistance","minPolarAngle","Math","PI","maxPolarAngle","enablePan","enableDamping","dampingFactor","update","scene","light","add","manager","onLoad","textureLoader","raycaster","GLTFLoader","load","model","gltf","traverse","node","isMesh","material","set","rightModel","scale","rotation","name","leftModel","clone","redMap","mouse","img","image","textureCanvas","document","createElement","width","height","textureCanvasCTX","getContext","waitForElement","drawImage","setTimeout","drag","addEventListener","event","preventDefault","box","getBoundingClientRect","x","clientX","clientY","setFromCamera","intersects","intersectObjects","length","object","parent","right","left","uv","uv2","getImageData","setupRaycasting","render","requestAnimationFrame","cancelAnimationFrame","ref","uploadImage","file","isNew","formData","FormData","append","takeScreenshot","fileName","threeCanvas","getElementById","firstElementChild","newCanvas","dataUrl","toDataURL","blobBin","atob","split","array","i","charCodeAt","blob","Blob","Uint8Array","type","lastModifiedDate","Date","File","convertAwsLink","url","awsFileName","DesignPreview","handleViewChange","canSave","setCanSave","currentShoe","setShoeVisibility","loading","setLoading","handleSaveDesign","imageName","outlineData","window","location","href","handleCurrentShoe","shoe","cameraPosition","target","visObj","toggle","handleToggleShoeVisible","index","style","color","baseColors","enableAll","AddLayerType","currentPartName","handleAddLayer","layerTypes","types","handleConvertPartName","partName","converted","join","charAt","toUpperCase","substr","CurrentColors","colorsArray","handleColorChange","backgroundColor","CustomPointer","CustomPicker","hex","hsl","hsv","onChange","styles","hue","marginBottom","overflow","saturation","input","border","borderRadius","fontSize","WebkitAppearance","WebkitBorderRadius","boxShadow","display","paddingLeft","paddingRight","swatch","background","inputContainer","pointer","ColorPicker","currentLayer","handlePartChangeManager","currentColor","setCurrentColor","setColorsArray","colors","property","parts","layer","thisColor","includes","overlays","rightBaseColor","leftBaseColor","getDesignColors","newColor","layerIndex","floor","random","toString","onChangeComplete","GraphicEditor","graphicVisualCanvas","handleUpdateGraphicVisualCanvas","handleMoveGraphic","direction","distance","div","innerHTML","placeGraphicVisual","PartSelector","currentPart","numberOfParts","partsArray","arrayOfParts","handlePartChange","LayerOverview","allLayers","focusLayer","numberOfLayers","setCurrentLayer","handleCurrentLayer","handleMoveLayer","tempDesign","cloneDeep","tempElement","e","handleFocusLayer","toLowerCase","objectFit","indexOf","handleDeleteLayer","MaskTypes","handleAddMaskLayer","maskTypes","PartList","part","CurrentGraphics","graphicsArray","handleAddGraphicLayer","graphic","GraphicPicker","LayerDictionary","warning","setWarning","setGraphicsArray","graphics","thisGraphic","getGraphicsArray","onFileChange","files","size","toFixed","htmlFor","accept","LayersView","layersView","Object","keys","partsObject","Component","propsToPassDown","layerType","maskType","maskLink","ChangeDesignName","setDesign","defaultValue","newTitle","startCase","handleUpdateDesignName","ChangeBaseColor","handleUpdateBaseColor","radioOption","setRadioOption","baseColor","setBaseColor","handleRadioOption","option","updateBaseColor","Interface","view","viewChange","setup","setInitialLoaded","rightInnerOverlayCanvas","rightOuterOverlayCanvas","rightTextureCanvas","leftInnerOverlayCanvas","leftOuterOverlayCanvas","leftTextureCanvas","rightCanvasObjectRef","rightOverlaysCanvasObjectRef","rightBaseColorCanvasObjectRef","leftBaseColorCanvasObjectRef","leftCanvasObjectRef","leftOverlaysCanvasObjectRef","designObjectToCanvasObject","overlayCanvasObjectToTextureCanvas","overlayCanvasObject","overlayCanvas","canvasObjectToTextureCanvas","canvasObject","baseColorCanvasObject","rightCanvas","leftCanvas","needsUpdate","createTexture","createCanvas","canvasSize","canvas","canvasCTX","fillStyle","fillRect","createGraphicVisualCanvas","createColorLayerCanvas","mask","layerCanvas","layerCanvasCTX","maskImg","globalCompositeOperation","createGraphicLayerCanvas","graphicImg","graphicWidth","graphicHeight","graphicPythagorean","round","sqrt","pythagoreanCanvas","pythagoreanCTX","translate","rotate","newX","newY","newScale","createMaskLayerCanvas","createOverlayLayerCanvas","translations","createCanvasObjectPart","designLayers","canvasLayers","thisLayer","createBaseColorCanvasObjectPart","reject","createAllParts","overlayCanvasCTX","graphicCTX","clearRect","updateGraphicVisualCanvas","baseColorCanvas","updateLayer","layerObject","redrawCanvasObjectPart","canvasObjectPart","addLayerToCanvasObject","newLayerCanvas","deleteLayerFromCanvasObject","splice","moveLayerInCanvasObject","divider","overlayChangeManager","changeObject","updateOverlayLayer","effectedParts","overlayParts","addLayerToOverlayCanvasObject","slice","moveLayerInOverlayCanvasObject","deleteLayerFromOverlayCanvasObject","redrawOverlayCanvasObjectPart","finalCanvasCTX","DesignerContainer","designSpec","partChangeManager","Designer","useParams","setDesignSpec","setGraphicVisualCanvas","setRightInnerOverlayCanvas","setRightOuterOverlayCanvas","setRightTextureCanvas","setRightTexture","setLeftInnerOverlayCanvas","setLeftOuterOverlayCanvas","setLeftTextureCanvas","setLeftTexture","canvasOne","canvasTwo","canvasThree","canvasFour","canvasFive","canvasSix","Login","open","Profile","email","NoPage","App","exact","path","component","Boolean","hostname","match","ReactDOM","StrictMode","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.7b40cdd9.chunk.js","sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\r\nconst context = createContext(null);\r\n\r\nconst UserProvider = ({ children }) => {\r\n  const [user, setUser] = useState();\r\n\r\n  useEffect(() => {\r\n    fetch('/auth/getsession', {\r\n      method: 'GET',\r\n      credentials: 'include',\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.err) {\r\n        } else {\r\n          setUser(data);\r\n        }\r\n      });\r\n  }, []);\r\n\r\n  return <context.Provider value={user}>{children}</context.Provider>;\r\n};\r\n\r\nUserProvider.context = context;\r\n\r\nexport default UserProvider;\r\n","import React from 'react';\r\nimport './NewDesignButton.css';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nfunction NewDesignButton({ userData }) {\r\n  const history = useHistory();\r\n\r\n  const handleClick = () => {\r\n    if (userData) {\r\n      history.push(`/designer`);\r\n    }\r\n  };\r\n  return (\r\n    <div\r\n      className='new-design-button standard-button'\r\n      onClick={() => handleClick()}\r\n    >\r\n      <button>N E W &nbsp; D E S I G N</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NewDesignButton;\r\n","import React from 'react';\r\nimport './FeaturedDesignCard.css';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nfunction FeaturedDesignCard({ props, userData }) {\r\n  const { _id, title, configId, author, screenshot } = props;\r\n\r\n  const history = useHistory();\r\n\r\n  const handleClick = () => {\r\n    if (userData) {\r\n      history.push(`/designer/${_id}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='featureddesigncard-container' onClick={() => handleClick()}>\r\n      <div className='featureddesigncard-image'>\r\n        <img src={`api/assets/images/${screenshot}`} alt='feature-design' />\r\n      </div>\r\n\r\n      <p className='featureddesigncard-title'>{title}</p>\r\n      <p className='featureddesigncard-model'>{configId.modelName}</p>\r\n      <p className='featureddesigncard-author'>{author.firstName}</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FeaturedDesignCard;\r\n","import React from 'react';\r\nimport './MyDesignTiles.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction MyDesignTiles({ myDesigns }) {\r\n  return (\r\n    <div className='mydesigntiles-container'>\r\n      <div>\r\n        <p className='landing-section-label'>MY DESIGNS</p>\r\n      </div>\r\n      <div className='my-designs-grid'>\r\n        {myDesigns.map((design, key) => (\r\n          <Link\r\n            key={key}\r\n            to={`/designer/${design._id}`}\r\n            className='link-to-designer'\r\n          >\r\n            <div className='my-design-tile'>\r\n              <img\r\n                src={`/api/assets/images/${design.screenshot}`}\r\n                alt='my-design-preview'\r\n              />\r\n            </div>\r\n          </Link>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyDesignTiles;\r\n","export const simpleFetch = (link, method) => {\r\n  return fetch(link, { method: method });\r\n};\r\n\r\nexport const designFetch = (link, method, body) => {\r\n  return fetch(link, {\r\n    method: method,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(body),\r\n  });\r\n};\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport './Landing.css';\r\nimport NewDesignButton from '../../components/NewDesignButton/NewDesignButton';\r\nimport FeaturedDesignCard from '../../components/FeaturedDesignCard/FeaturedDesignCard';\r\nimport MyDesignTiles from '../../components/MyDesignTiles/MyDesignTiles';\r\nimport UserProvider from '../../context/UserProvider';\r\nimport { simpleFetch } from '../../helpers/fetchHelpers';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Landing() {\r\n  const userData = useContext(UserProvider.context);\r\n  const [featured, setFeatured] = useState();\r\n  const [myDesigns, setMyDesigns] = useState();\r\n\r\n  useEffect(() => {\r\n    simpleFetch('/api/featured', 'GET')\r\n      .then((res) => res.json())\r\n      .then((data) => setFeatured(data));\r\n\r\n    if (userData) {\r\n      simpleFetch('/api/outlines/mydesigns', 'GET')\r\n        .then((res) => res.json())\r\n        .then((data) => setMyDesigns(data));\r\n    }\r\n  }, [userData]);\r\n\r\n  return (\r\n    <div className='landing-container'>\r\n      <div className='landing-header'>\r\n        <p>\r\n          <strong>Sole</strong> Composer\r\n        </p>\r\n        {userData ? (\r\n          <Link to='/profile'>{userData.firstName}</Link>\r\n        ) : (\r\n          <Link to='/login'>Login</Link>\r\n        )}\r\n      </div>\r\n      <div className='landing-content'>\r\n        <div className='featured-designs-container'>\r\n          <p className='landing-section-label'>FEATURED</p>\r\n          <div className='feature-designs'>\r\n            {featured\r\n              ? featured.featured.map((design, key) => (\r\n                  <FeaturedDesignCard\r\n                    props={design}\r\n                    userData={userData}\r\n                    key={key}\r\n                  />\r\n                ))\r\n              : null}\r\n          </div>\r\n        </div>\r\n\r\n        {userData ? (\r\n          <NewDesignButton userData={userData} />\r\n        ) : (\r\n          <Link to='/login'>\r\n            <div className='landing-button'>\r\n              <button>Get Started</button>\r\n            </div>\r\n          </Link>\r\n        )}\r\n\r\n        {myDesigns && <MyDesignTiles myDesigns={myDesigns} />}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Landing;\r\n","import React from 'react';\r\nimport './LoadingSpinner.css';\r\n\r\nfunction LoadingSpinner() {\r\n  return (\r\n    <div id='loading-screen'>\r\n      <div id='loader'></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoadingSpinner;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport './Scene.css';\r\nimport * as THREE from 'three';\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\r\nimport LoadingSpinner from '../LoadingSpinner/LoadingSpinner';\r\n\r\nconst Scene = ({\r\n  design,\r\n  rightTexture,\r\n  leftTexture,\r\n  initialLoaded,\r\n  camera,\r\n  setCamera,\r\n  orbitControls,\r\n  setOrbitControls,\r\n  setCurrentPart,\r\n  setCurrentShoe,\r\n  setView,\r\n  setLayersView,\r\n  setFocusLayer,\r\n  shoeVisibility,\r\n}) => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [sceneBuilt, setSceneBuilt] = useState(false);\r\n  const [renderer, setRenderer] = useState(null);\r\n  const [rightMaterial, setRightMaterial] = useState(null);\r\n  const [leftMaterial, setLeftMaterial] = useState(null);\r\n\r\n  const threeCanvasRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (!sceneBuilt) {\r\n      const createMaterial = (texture, aoName) => {\r\n        return new Promise((resolve) => {\r\n          const aoimg = new Image();\r\n          aoimg.src = `/api/assets/designimages/${design.configData.source[aoName]}`;\r\n\r\n          aoimg.onload = () => {\r\n            const ao = new THREE.CanvasTexture(aoimg);\r\n            ao.flipY = false;\r\n            resolve(\r\n              new THREE.MeshStandardMaterial({\r\n                map: texture,\r\n                aoMap: ao,\r\n              })\r\n            );\r\n          };\r\n        });\r\n      };\r\n\r\n      setRenderer(\r\n        new THREE.WebGLRenderer({\r\n          antialias: true,\r\n          preserveDrawingBuffer: true,\r\n          alpha: true,\r\n        })\r\n      );\r\n\r\n      async function createRightMaterial() {\r\n        const mat = await createMaterial(rightTexture, 'aoMapRight');\r\n        setRightMaterial(mat);\r\n      }\r\n      createRightMaterial();\r\n\r\n      async function createLeftMaterial() {\r\n        const mat = await createMaterial(leftTexture, 'aoMapLeft');\r\n        setLeftMaterial(mat);\r\n      }\r\n      createLeftMaterial();\r\n    }\r\n  }, [sceneBuilt, rightTexture, leftTexture, design.configData.source]);\r\n\r\n  useEffect(() => {\r\n    if (renderer && rightMaterial && leftMaterial && !sceneBuilt) {\r\n      //===================================================== camera\r\n      renderer.setSize(2048, 2048);\r\n      threeCanvasRef.current.appendChild(renderer.domElement);\r\n      const camera = new THREE.PerspectiveCamera(45, 1, 0.1, 1000);\r\n      camera.position.z = 8.5;\r\n      camera.position.y = 0;\r\n      camera.layers.enable(1);\r\n      camera.layers.enable(2);\r\n      setCamera(camera);\r\n\r\n      //===================================================== orbit controls\r\n      const controls = new OrbitControls(camera, renderer.domElement);\r\n      controls.maxDistance = 10;\r\n      controls.minDistance = 4;\r\n      controls.minPolarAngle = Math.PI * (1 / 5);\r\n      controls.maxPolarAngle = Math.PI * (6 / 7);\r\n      controls.enablePan = false;\r\n      controls.enableDamping = true;\r\n      controls.dampingFactor = 0.18;\r\n      controls.update();\r\n      setOrbitControls(controls);\r\n    }\r\n  }, [\r\n    sceneBuilt,\r\n    renderer,\r\n    rightMaterial,\r\n    leftMaterial,\r\n    setCamera,\r\n    setOrbitControls,\r\n  ]);\r\n\r\n  // Build threeJS Scene\r\n  useEffect(() => {\r\n    if (\r\n      renderer &&\r\n      rightMaterial &&\r\n      leftMaterial &&\r\n      camera &&\r\n      orbitControls &&\r\n      !sceneBuilt\r\n    ) {\r\n      //===================================================== scene\r\n      const scene = new THREE.Scene();\r\n\r\n      //===================================================== lights\r\n      const light = new THREE.AmbientLight(0xffffff, 1);\r\n      scene.add(light);\r\n\r\n      //===================================================== loading mananger\r\n      const manager = new THREE.LoadingManager();\r\n      manager.onLoad = () => {\r\n        setIsLoading(false);\r\n      };\r\n\r\n      //===================================================== raycasting\r\n      const textureLoader = new THREE.TextureLoader();\r\n      const raycaster = new THREE.Raycaster();\r\n      raycaster.layers.enable(1);\r\n      raycaster.layers.enable(2);\r\n\r\n      const setupRaycasting = (rightModel, leftModel) => {\r\n        textureLoader.load(\r\n          `/api/assets/designimages/${design.configData.source.redMap}`,\r\n          (texture) => {\r\n            const mouse = new THREE.Vector2();\r\n            const img = texture.image;\r\n            const textureCanvas = document.createElement('canvas');\r\n            textureCanvas.width = img.width;\r\n            textureCanvas.height = img.height;\r\n            const textureCanvasCTX = textureCanvas.getContext('2d');\r\n\r\n            function waitForElement() {\r\n              if (\r\n                textureCanvasCTX !== null &&\r\n                typeof textureCanvas === 'object'\r\n              ) {\r\n                textureCanvasCTX.drawImage(img, 0, 0, img.width, img.height);\r\n              } else {\r\n                setTimeout(waitForElement, 100);\r\n              }\r\n            }\r\n            waitForElement();\r\n\r\n            let drag = false;\r\n\r\n            renderer.domElement.addEventListener('pointerdown', (event) => {\r\n              drag = false;\r\n            });\r\n\r\n            renderer.domElement.addEventListener('pointermove', (event) => {\r\n              event.preventDefault();\r\n              drag = true;\r\n            });\r\n\r\n            renderer.domElement.addEventListener('pointerup', (event) => {\r\n              event.preventDefault();\r\n              if (!drag) {\r\n                // check intersections with imported model\r\n                const box = renderer.domElement.getBoundingClientRect();\r\n\r\n                mouse.x = (event.clientX / box.width) * 2 - 1;\r\n                mouse.y = -(event.clientY / box.height) * 2 + 1;\r\n\r\n                raycaster.setFromCamera(mouse, camera);\r\n\r\n                const intersects = raycaster.intersectObjects(\r\n                  [rightModel, leftModel],\r\n                  true\r\n                );\r\n\r\n                // if there is any intersection, continues\r\n                if (intersects.length) {\r\n                  // setCurrentShoe\r\n                  if (\r\n                    intersects[0].object.parent.name === 'rightModel' &&\r\n                    shoeVisibility.right === true\r\n                  ) {\r\n                    // runIt();\r\n                    setFocusLayer(null);\r\n                    setLayersView('LayerOverview');\r\n                    setView('Layers');\r\n                    setCurrentShoe('right');\r\n                  } else if (\r\n                    intersects[0].object.parent.name === 'leftModel' &&\r\n                    shoeVisibility.left === true\r\n                  ) {\r\n                    // runIt();\r\n                    setFocusLayer(null);\r\n                    setLayersView('LayerOverview');\r\n                    setView('Layers');\r\n                    setCurrentShoe('left');\r\n                  }\r\n\r\n                  // get pixel coordinates on texture\r\n                  const uv = intersects[0].uv2;\r\n                  uv.x *= img.width;\r\n                  uv.y *= img.height;\r\n\r\n                  // get pixel value\r\n                  const colorValues = textureCanvas\r\n                    .getContext('2d')\r\n                    .getImageData(uv.x, uv.y, 1, 1).data;\r\n\r\n                  // setCurrentPart\r\n                  switch (colorValues[0]) {\r\n                    case 255:\r\n                      setCurrentPart(4);\r\n                      break;\r\n\r\n                    case 220:\r\n                      setCurrentPart(2);\r\n                      break;\r\n\r\n                    case 210:\r\n                      setCurrentPart(0);\r\n                      break;\r\n\r\n                    case 200:\r\n                      setCurrentPart(5);\r\n                      break;\r\n\r\n                    case 190:\r\n                      setCurrentPart(3);\r\n                      break;\r\n\r\n                    case 180:\r\n                      setCurrentPart(1);\r\n                      break;\r\n\r\n                    case 170:\r\n                      setCurrentPart(16);\r\n                      break;\r\n\r\n                    case 160:\r\n                      setCurrentPart(15);\r\n                      break;\r\n\r\n                    case 150:\r\n                      setCurrentPart(14);\r\n                      break;\r\n\r\n                    case 140:\r\n                      setCurrentPart(9);\r\n                      break;\r\n\r\n                    case 130:\r\n                      setCurrentPart(13);\r\n                      break;\r\n\r\n                    case 120:\r\n                      setCurrentPart(11);\r\n                      break;\r\n\r\n                    case 110:\r\n                      setCurrentPart(12);\r\n                      break;\r\n\r\n                    case 100:\r\n                      setCurrentPart(8);\r\n                      break;\r\n\r\n                    case 90:\r\n                      setCurrentPart(10);\r\n                      break;\r\n\r\n                    case 80:\r\n                      setCurrentPart(7);\r\n                      break;\r\n\r\n                    case 70:\r\n                      setCurrentPart(6);\r\n                      break;\r\n\r\n                    case 60:\r\n                      setCurrentPart(17);\r\n                      break;\r\n                    default:\r\n                      break;\r\n                  }\r\n                }\r\n              }\r\n            });\r\n          }\r\n        );\r\n      };\r\n\r\n      //===================================================== models\r\n      const loader = new GLTFLoader(manager);\r\n      loader.load(\r\n        `/api/assets/models/${design.configData.source.model}`,\r\n        (gltf) => {\r\n          gltf.scene.traverse((node) => {\r\n            if (node.isMesh) {\r\n              node.material = rightMaterial;\r\n              node.layers.set(1);\r\n            }\r\n          });\r\n          const rightModel = gltf.scene;\r\n\r\n          rightModel.scale.set(0.35, 0.35, 0.35);\r\n          rightModel.position.y = -1;\r\n          rightModel.position.z = 1.25;\r\n          rightModel.rotation.y = -95 * (Math.PI / 180);\r\n          rightModel.name = 'rightModel';\r\n          scene.add(rightModel);\r\n\r\n          const leftModel = gltf.scene.clone();\r\n\r\n          leftModel.scale.set(-0.35, 0.35, 0.35);\r\n          leftModel.position.y = -1;\r\n          leftModel.position.z = -1.25;\r\n          leftModel.rotation.y = -95 * (Math.PI / 180);\r\n          leftModel.name = 'leftModel';\r\n          scene.add(leftModel);\r\n\r\n          leftModel.traverse((node) => {\r\n            if (node.isMesh) {\r\n              node.material = leftMaterial;\r\n              node.layers.set(2);\r\n            }\r\n          });\r\n\r\n          setupRaycasting(rightModel, leftModel);\r\n          // console.log(leftModel);\r\n          setSceneBuilt(true);\r\n        }\r\n      );\r\n\r\n      // console.log(scene);\r\n\r\n      //===================================================== animate\r\n      const render = () => {\r\n        renderer.render(scene, camera);\r\n        requestAnimationFrame(render);\r\n        orbitControls.update();\r\n      };\r\n\r\n      render();\r\n\r\n      //===================================================== cleanup\r\n      const cleanup = () => {\r\n        cancelAnimationFrame(render);\r\n        // orbitControls.dispose();\r\n      };\r\n\r\n      return cleanup;\r\n    }\r\n  }, [\r\n    sceneBuilt,\r\n    rightMaterial,\r\n    leftMaterial,\r\n    renderer,\r\n    camera,\r\n    design.configData.source,\r\n    setCurrentPart,\r\n    setCurrentShoe,\r\n    setView,\r\n    setLayersView,\r\n    setFocusLayer,\r\n    shoeVisibility,\r\n    orbitControls,\r\n  ]);\r\n\r\n  return (\r\n    <div\r\n      className='scene-container'\r\n      id='scene-container-id'\r\n      ref={threeCanvasRef}\r\n    >\r\n      {!isLoading && initialLoaded ? null : <LoadingSpinner />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Scene;\r\n","export const uploadImage = (file, isNew) => {\r\n  const formData = new FormData();\r\n  if (isNew) {\r\n    formData.append('image', file, 'newImage');\r\n  } else {\r\n    formData.append('image', file);\r\n  }\r\n\r\n  return fetch('/api/assets/uploadimage', {\r\n    method: 'POST',\r\n    body: formData,\r\n  }).then((res) => res.json());\r\n};\r\n","export const takeScreenshot = (camera, fileName) => {\r\n  return new Promise((resolve) => {\r\n    camera.position.set(0, 0, 8.5);\r\n    setTimeout(() => {\r\n      const threeCanvas = document.getElementById('scene-container-id')\r\n        .firstElementChild;\r\n      const newCanvas = document.createElement('canvas');\r\n      newCanvas.width = 1024;\r\n      newCanvas.height = 1024;\r\n      const newCanvasCtx = newCanvas.getContext('2d');\r\n      newCanvasCtx.drawImage(threeCanvas, 0, 0, 1024, 1024);\r\n\r\n      const dataUrl = newCanvas.toDataURL('image/png');\r\n\r\n      var blobBin = atob(dataUrl.split(',')[1]);\r\n      var array = [];\r\n      for (var i = 0; i < blobBin.length; i++) {\r\n        array.push(blobBin.charCodeAt(i));\r\n      }\r\n      var blob = new Blob([new Uint8Array(array)], { type: 'image/png' });\r\n      blob.name = 'theBlob';\r\n      blob.lastModifiedDate = new Date();\r\n      var file = new File([blob], fileName, { type: 'image/png' });\r\n      resolve(file);\r\n    }, 500);\r\n  });\r\n};\r\n","export const convertAwsLink = (url) => {\r\n  let awsFileName = url.split('/');\r\n  awsFileName = awsFileName[awsFileName.length - 1];\r\n  return awsFileName;\r\n};\r\n","import React, { useState } from 'react';\r\nimport './DesignPreview.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { uploadImage } from '../../helpers/uploadImage';\r\nimport { takeScreenshot } from '../../helpers/takeScreenshot';\r\nimport { convertAwsLink } from '../../helpers/convertAwsLink';\r\nimport { designFetch } from '../../helpers/fetchHelpers';\r\nimport {\r\n  FaPen,\r\n  FaLayerGroup,\r\n  FaTrashAlt,\r\n  FaSave,\r\n  FaTimes,\r\n  FaCamera,\r\n  FaSquare,\r\n  FaEye,\r\n} from 'react-icons/fa';\r\n\r\nfunction DesignPreview({\r\n  handleViewChange,\r\n  design,\r\n  camera,\r\n  orbitControls,\r\n  canSave,\r\n  setCanSave,\r\n  userData,\r\n  currentShoe,\r\n  setCurrentShoe,\r\n  shoeVisibility,\r\n  setShoeVisibility,\r\n}) {\r\n  // console.log('DP right', setRightShoeVisible);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleSaveDesign = async () => {\r\n    setCanSave(false);\r\n    // if new design\r\n    if (!design.author) {\r\n      setLoading(true);\r\n      const file = await takeScreenshot(camera, 'newImage');\r\n      uploadImage(file, true).then((data) => {\r\n        const imageName = convertAwsLink(data.image);\r\n        const body = {\r\n          author: userData._id,\r\n          title: design.title,\r\n          screenshot: imageName,\r\n          configId: '5f925589cc6d6c16e44d5dfd',\r\n          outlineData: design.outlineData,\r\n        };\r\n        designFetch('/api/outlines', 'POST', body)\r\n          .then((res) => res.json())\r\n          .then((data) => {\r\n            window.location.href = `/designer/${data._id}`;\r\n          });\r\n      });\r\n    }\r\n    // if design is mine\r\n    else if (design.author === userData._id) {\r\n      setLoading(true);\r\n      const file = await takeScreenshot(camera, design.screenshot);\r\n      uploadImage(file, false).then((data) => {\r\n        const imageName = convertAwsLink(data.image);\r\n        const body = {\r\n          author: design.author,\r\n          title: design.title,\r\n          screenshot: imageName,\r\n          configId: '5f925589cc6d6c16e44d5dfd',\r\n          outlineData: design.outlineData,\r\n        };\r\n        designFetch(`/api/outlines/${design._id}`, 'PUT', body);\r\n        setLoading(false);\r\n      });\r\n    }\r\n    // if design is not mine\r\n    else {\r\n      setLoading(true);\r\n      const file = await takeScreenshot(camera, design.screenshot);\r\n      uploadImage(file, true).then((data) => {\r\n        const imageName = convertAwsLink(data.image);\r\n        const body = {\r\n          author: userData._id,\r\n          title: design.title,\r\n          screenshot: imageName,\r\n          configId: '5f925589cc6d6c16e44d5dfd',\r\n          outlineData: design.outlineData,\r\n        };\r\n        designFetch(`/api/outlines/`, 'POST', body)\r\n          .then((res) => res.json())\r\n          .then((data) => {\r\n            window.location.href = `/designer/${data._id}`;\r\n          });\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleDeleteDesign = () => {\r\n    if (userData._id === design.author) {\r\n      fetch(`/api/outlines/${design._id}`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n      });\r\n      window.location.href = '/';\r\n    }\r\n  };\r\n\r\n  const handleResetCamera = () => {\r\n    camera.layers.enableAll();\r\n    orbitControls.target.set(0, 0, 0);\r\n    setShoeVisibility({ right: true, left: true });\r\n    camera.position.set(0, 0, 8.5);\r\n  };\r\n\r\n  const handleCurrentShoe = (shoe) => {\r\n    // if right shoe\r\n    if (shoe === 'right' && shoe !== currentShoe) {\r\n      if (shoeVisibility.right) {\r\n        setCurrentShoe(shoe);\r\n      } else {\r\n        let cameraPosition = camera.position;\r\n        orbitControls.target.set(0, 0, 1.25);\r\n        camera.position.set(\r\n          cameraPosition.x,\r\n          cameraPosition.y,\r\n          cameraPosition.z + 2.5\r\n        );\r\n        // L => R\r\n        let visObj = { ...shoeVisibility };\r\n        visObj.right = true;\r\n        visObj.left = false;\r\n        setShoeVisibility(visObj);\r\n\r\n        camera.layers.toggle(1);\r\n        camera.layers.toggle(2);\r\n        setCurrentShoe(shoe);\r\n      }\r\n    }\r\n    // if left shoe\r\n    else if (shoe === 'left' && shoe !== currentShoe) {\r\n      if (shoeVisibility.left) {\r\n        setCurrentShoe(shoe);\r\n      } else {\r\n        let cameraPosition = camera.position;\r\n        orbitControls.target.set(0, 0, -1.25);\r\n        camera.position.set(\r\n          cameraPosition.x,\r\n          cameraPosition.y,\r\n          cameraPosition.z - 2.5\r\n        );\r\n        // R => L\r\n        let visObj = { ...shoeVisibility };\r\n        visObj.right = false;\r\n        visObj.left = true;\r\n        setShoeVisibility(visObj);\r\n\r\n        camera.layers.toggle(1);\r\n        camera.layers.toggle(2);\r\n        setCurrentShoe(shoe);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleToggleShoeVisible = (index) => {\r\n    // if toggle right\r\n    if (index === 1) {\r\n      // if left is current - toggle right\r\n      if (currentShoe === 'left') {\r\n        if (shoeVisibility.right) {\r\n          let cameraPosition = camera.position;\r\n          orbitControls.target.set(0, 0, -1.25);\r\n          camera.position.set(\r\n            cameraPosition.x,\r\n            cameraPosition.y,\r\n            cameraPosition.z - 1.25\r\n          );\r\n          // LR => L\r\n        } else {\r\n          let cameraPosition = camera.position;\r\n          orbitControls.target.set(0, 0, 0);\r\n          camera.position.set(\r\n            cameraPosition.x,\r\n            cameraPosition.y,\r\n            cameraPosition.z + 1.25\r\n          );\r\n          // L => LR\r\n        }\r\n\r\n        let visObj = { ...shoeVisibility };\r\n        visObj.right = !visObj.right;\r\n        setShoeVisibility(visObj);\r\n\r\n        camera.layers.toggle(index);\r\n      }\r\n      // if right is current, we know it's visible\r\n      else if (currentShoe === 'right') {\r\n        // if left is visible - make left current, make right invisible\r\n        if (shoeVisibility.left) {\r\n          let cameraPosition = camera.position;\r\n          orbitControls.target.set(0, 0, -1.25);\r\n          camera.position.set(\r\n            cameraPosition.x,\r\n            cameraPosition.y,\r\n            cameraPosition.z - 1.25\r\n          );\r\n          // LR => L\r\n          let visObj = { ...shoeVisibility };\r\n          visObj.right = false;\r\n          setShoeVisibility(visObj);\r\n\r\n          setCurrentShoe('left');\r\n          camera.layers.toggle(index);\r\n        }\r\n        // if left is invisible - make left visible and current, make right invisible\r\n        else {\r\n          let cameraPosition = camera.position;\r\n          orbitControls.target.set(0, 0, -1.25);\r\n          camera.position.set(\r\n            cameraPosition.x,\r\n            cameraPosition.y,\r\n            cameraPosition.z - 2.5\r\n          );\r\n          // R => L\r\n          let visObj = { ...shoeVisibility };\r\n          visObj.right = !visObj.right;\r\n          visObj.left = !visObj.left;\r\n          setShoeVisibility(visObj);\r\n\r\n          camera.layers.toggle(1);\r\n          camera.layers.toggle(2);\r\n          setCurrentShoe('left');\r\n        }\r\n      }\r\n    }\r\n    // if toggle left\r\n    else if (index === 2) {\r\n      // if right is current - toggle left\r\n      if (currentShoe === 'right') {\r\n        if (shoeVisibility.left) {\r\n          let cameraPosition = camera.position;\r\n          orbitControls.target.set(0, 0, 1.25);\r\n          camera.position.set(\r\n            cameraPosition.x,\r\n            cameraPosition.y,\r\n            cameraPosition.z + 1.25\r\n          );\r\n          // LR => R\r\n        } else {\r\n          let cameraPosition = camera.position;\r\n          orbitControls.target.set(0, 0, 0);\r\n          camera.position.set(\r\n            cameraPosition.x,\r\n            cameraPosition.y,\r\n            cameraPosition.z - 1.25\r\n          );\r\n          // R => LR\r\n        }\r\n\r\n        let visObj = { ...shoeVisibility };\r\n        visObj.left = !visObj.left;\r\n        setShoeVisibility(visObj);\r\n\r\n        camera.layers.toggle(index);\r\n      }\r\n      // if left is current, we know it's visible\r\n      else if (currentShoe === 'left') {\r\n        // if right is visible - make right current, make left invisible\r\n        if (shoeVisibility.right) {\r\n          let cameraPosition = camera.position;\r\n          orbitControls.target.set(0, 0, 1.25);\r\n          camera.position.set(\r\n            cameraPosition.x,\r\n            cameraPosition.y,\r\n            cameraPosition.z + 1.25\r\n          );\r\n          // LR => R\r\n          let visObj = { ...shoeVisibility };\r\n          visObj.left = false;\r\n          setShoeVisibility(visObj);\r\n\r\n          setCurrentShoe('right');\r\n          camera.layers.toggle(index);\r\n        }\r\n        // if right is invisible - make right visible and current, make left invisible\r\n        else {\r\n          let cameraPosition = camera.position;\r\n          orbitControls.target.set(0, 0, 1.25);\r\n          camera.position.set(\r\n            cameraPosition.x,\r\n            cameraPosition.y,\r\n            cameraPosition.z + 2.5\r\n          );\r\n          // L => R\r\n          let visObj = { ...shoeVisibility };\r\n          visObj.right = !visObj.right;\r\n          visObj.left = !visObj.left;\r\n          setShoeVisibility(visObj);\r\n\r\n          camera.layers.toggle(1);\r\n          camera.layers.toggle(2);\r\n          setCurrentShoe('right');\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className='design-preview-container'>\r\n        <div id='loading-small'>\r\n          <div id='loader'></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  } else if (userData) {\r\n    return (\r\n      <div className='design-preview-container'>\r\n        <div className='design-preview-info'>\r\n          <div className='design-title-container'>\r\n            <p className='design-title'>{design.title}</p>\r\n            <button\r\n              className='edit-design-title-button'\r\n              onClick={() => handleViewChange('ChangeDesignName')}\r\n            >\r\n              <FaPen />\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className='design-preview-buttons'>\r\n          <div className='design-preview-toggle-container'>\r\n            <div className='design-preview-toggle-left'>\r\n              <div\r\n                className={`design-preview-toggle-shoe ${\r\n                  currentShoe === 'right' ? null : 'disabled-shoe'\r\n                }`}\r\n                onClick={() => {\r\n                  handleCurrentShoe('right');\r\n                }}\r\n              >\r\n                <p>Right</p>\r\n              </div>\r\n              <div\r\n                className={`design-preview-toggle-shoe ${\r\n                  currentShoe === 'left' ? null : 'disabled-shoe'\r\n                }`}\r\n                onClick={() => {\r\n                  handleCurrentShoe('left');\r\n                }}\r\n              >\r\n                <p>Left</p>\r\n              </div>\r\n            </div>\r\n            <div className='design-preview-toggle-right'>\r\n              <div\r\n                className={`design-preview-toggle-visible ${\r\n                  shoeVisibility.right ? null : 'disabled-visibility'\r\n                }`}\r\n                onClick={() => {\r\n                  handleToggleShoeVisible(1);\r\n                }}\r\n              >\r\n                <FaEye />\r\n              </div>\r\n              <div\r\n                className={`design-preview-toggle-visible ${\r\n                  shoeVisibility.left ? null : 'disabled-visibility'\r\n                }`}\r\n                onClick={() => {\r\n                  handleToggleShoeVisible(2);\r\n                }}\r\n              >\r\n                <FaEye />\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div\r\n            className='design-preview-button'\r\n            onClick={() => handleViewChange('ChangeBaseColor')}\r\n          >\r\n            <div\r\n              className='design-preview-button-icon'\r\n              style={{ color: design.outlineData.baseColors[currentShoe] }}\r\n            >\r\n              <FaSquare />\r\n            </div>\r\n            <button>Base Color</button>\r\n          </div>\r\n          <div\r\n            className='design-preview-button'\r\n            onClick={() => handleViewChange('Layers')}\r\n          >\r\n            <div className='design-preview-button-icon'>\r\n              <FaLayerGroup />\r\n            </div>\r\n            <button>Layers</button>\r\n          </div>\r\n          <div\r\n            className='design-preview-button'\r\n            onClick={() => {\r\n              handleResetCamera();\r\n            }}\r\n          >\r\n            <div className='design-preview-button-icon'>\r\n              <FaCamera />\r\n            </div>\r\n            <button>Reset Camera</button>\r\n          </div>\r\n          {canSave ? (\r\n            <div\r\n              className='design-preview-button'\r\n              onClick={() => {\r\n                handleSaveDesign();\r\n              }}\r\n            >\r\n              <div className='design-preview-button-icon'>\r\n                <FaSave />\r\n              </div>\r\n              <button>Save</button>\r\n            </div>\r\n          ) : (\r\n            <div className='design-preview-button save-deactivated'>\r\n              <div className='design-preview-button-icon'>\r\n                <FaSave />\r\n              </div>\r\n              <button>Save</button>\r\n            </div>\r\n          )}\r\n          {design.author === userData._id && (\r\n            <div\r\n              className='design-preview-button'\r\n              onClick={() => {\r\n                handleDeleteDesign();\r\n              }}\r\n            >\r\n              <div className='design-preview-button-icon'>\r\n                <FaTrashAlt />\r\n              </div>\r\n              <button>Delete</button>\r\n            </div>\r\n          )}\r\n          <Link to='/'>\r\n            <div className='design-preview-button'>\r\n              <div className='design-preview-button-icon'>\r\n                <FaTimes />\r\n              </div>\r\n              <button>Exit</button>\r\n            </div>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    return <div>no data</div>;\r\n  }\r\n}\r\n\r\nexport default DesignPreview;\r\n","import React from 'react';\r\nimport './AddLayerType.css';\r\n\r\nfunction AddLayerType({ props }) {\r\n  const { design, currentPartName, handleAddLayer, setLayersView } = props;\r\n  return (\r\n    <div className='design-preview-container'>\r\n      <div className='view-title'>\r\n        <p>Select Layer Type</p>\r\n      </div>\r\n      {design.configData.layerTypes[currentPartName].types.map((type, i) => (\r\n        <div key={i} className='standard-button'>\r\n          {type === 'Mask' ? (\r\n            <button\r\n              onClick={() => {\r\n                setLayersView('MaskTypes');\r\n              }}\r\n            >\r\n              {type}\r\n            </button>\r\n          ) : type === 'Graphic' ? (\r\n            <button\r\n              onClick={() => {\r\n                setLayersView('GraphicPicker');\r\n              }}\r\n            >\r\n              {type}\r\n            </button>\r\n          ) : (\r\n            <button\r\n              onClick={() => {\r\n                handleAddLayer(type);\r\n                setLayersView('LayerOverview');\r\n              }}\r\n            >\r\n              {type}\r\n            </button>\r\n          )}\r\n        </div>\r\n      ))}\r\n      <div className='standard-button'>\r\n        <button onClick={() => setLayersView('LayerOverview')}>Cancel</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddLayerType;\r\n","export const handleConvertPartName = (partName) => {\r\n  let converted = partName.split(/(?=[A-Z])/).join(' ');\r\n  return converted.charAt(0).toUpperCase() + converted.substr(1);\r\n};\r\n","import React from 'react';\r\nimport './CurrentColors.css';\r\n\r\nfunction CurrentColors({ colorsArray, handleColorChange }) {\r\n  return (\r\n    <div className='current-colors-container'>\r\n      <div className='current-colors-scroll'>\r\n        {colorsArray.map((color, i) => (\r\n          <button\r\n            key={i}\r\n            style={{ backgroundColor: color }}\r\n            onClick={() => handleColorChange(color)}\r\n          ></button>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CurrentColors;\r\n","import React from 'react';\r\nimport './CustomPointer.css';\r\n\r\nconst CustomPointer = () => {\r\n  return <div className='custom-pointer'></div>;\r\n};\r\n\r\nexport default CustomPointer;\r\n","import React from 'react';\r\nimport './CustomColor.css';\r\nimport { CustomPicker } from 'react-color';\r\nimport CustomPointer from '../CustomPointer/CustomPointer';\r\nimport {\r\n  EditableInput,\r\n  Hue,\r\n  Saturation,\r\n} from 'react-color/lib/components/common';\r\n\r\nexport const CustomColor = ({ hex, hsl, hsv, onChange }) => {\r\n  const styles = {\r\n    hue: {\r\n      height: 18,\r\n      position: 'relative',\r\n      marginBottom: 9,\r\n      overflow: 'hidden',\r\n    },\r\n    saturation: {\r\n      width: '100%',\r\n      height: 120,\r\n      position: 'relative',\r\n      marginBottom: 9,\r\n      overflow: 'hidden',\r\n    },\r\n    input: {\r\n      width: '47%',\r\n      height: '30px',\r\n      border: 'none',\r\n      borderRadius: 'none',\r\n      fontSize: '.7rem',\r\n      WebkitAppearance: 'none',\r\n      WebkitBorderRadius: 0,\r\n      boxShadow: 'none',\r\n      display: 'block',\r\n      paddingLeft: '3%',\r\n      paddingRight: '0px',\r\n    },\r\n    swatch: {\r\n      width: '100%',\r\n      height: '100%',\r\n      background: hex,\r\n    },\r\n    inputContainer: {\r\n      background: hex,\r\n    },\r\n  };\r\n  return (\r\n    <div className='custom-color'>\r\n      <div style={styles.hue}>\r\n        <Hue hsl={hsl} onChange={onChange} pointer={CustomPointer} />\r\n      </div>\r\n\r\n      <div style={styles.saturation}>\r\n        <Saturation\r\n          hsl={hsl}\r\n          hsv={hsv}\r\n          onChange={onChange}\r\n          pointer={CustomPointer}\r\n        />\r\n      </div>\r\n\r\n      <div className='color-input' style={styles.inputContainer}>\r\n        <EditableInput\r\n          style={{ input: styles.input }}\r\n          className='custom-color-input'\r\n          value={hex}\r\n          onChange={onChange}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CustomPicker(CustomColor);\r\n","import React, { useState, useEffect } from 'react';\r\nimport './ColorPicker.css';\r\nimport { handleConvertPartName } from '../../helpers/convertPartNames';\r\nimport CurrentColors from '../CurrentColors/CurrentColors';\r\nimport CustomColor from '../CustomColor/CustomColor';\r\n// import { findValuesOfKey } from '../../helpers/findValuesOfKey';\r\n\r\nfunction ColorPicker({ props }) {\r\n  const {\r\n    currentLayer,\r\n    currentPartName,\r\n    design,\r\n    handlePartChangeManager,\r\n    setLayersView,\r\n    setCanSave,\r\n    currentShoe,\r\n  } = props;\r\n\r\n  const [currentColor, setCurrentColor] = useState('#ffffaa');\r\n  const [colorsArray, setColorsArray] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const getDesignColors = () => {\r\n      const colors = [];\r\n      for (const property in design.outlineData.parts) {\r\n        for (const layer in design.outlineData.parts[property].right) {\r\n          const type = design.outlineData.parts[property].right[layer].type;\r\n          if (type === 'color' || type === 'mask') {\r\n            const thisColor =\r\n              design.outlineData.parts[property].right[layer].color;\r\n            if (!colors.includes(thisColor)) {\r\n              colors.push(thisColor);\r\n            }\r\n          }\r\n        }\r\n        for (const layer in design.outlineData.parts[property].left) {\r\n          const type = design.outlineData.parts[property].left[layer].type;\r\n          if (type === 'color' || type === 'mask') {\r\n            const thisColor =\r\n              design.outlineData.parts[property].left[layer].color;\r\n            if (!colors.includes(thisColor)) {\r\n              colors.push(thisColor);\r\n            }\r\n          }\r\n        }\r\n      }\r\n      for (const property in design.outlineData.overlays) {\r\n        for (const layer in design.outlineData.overlays[property].right) {\r\n          if (\r\n            design.outlineData.overlays[property].right[layer].type === 'color'\r\n          ) {\r\n            const thisColor =\r\n              design.outlineData.overlays[property].right[layer].color;\r\n            if (!colors.includes(thisColor)) {\r\n              colors.push(thisColor);\r\n            }\r\n          }\r\n        }\r\n        for (const layer in design.outlineData.overlays[property].left) {\r\n          if (\r\n            design.outlineData.overlays[property].left[layer].type === 'color'\r\n          ) {\r\n            const thisColor =\r\n              design.outlineData.overlays[property].left[layer].color;\r\n            if (!colors.includes(thisColor)) {\r\n              colors.push(thisColor);\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      const rightBaseColor = design.outlineData.baseColors.right;\r\n      if (!colors.includes(rightBaseColor)) {\r\n        colors.push(rightBaseColor);\r\n      }\r\n\r\n      const leftBaseColor = design.outlineData.baseColors.left;\r\n      if (!colors.includes(leftBaseColor)) {\r\n        colors.push(leftBaseColor);\r\n      }\r\n\r\n      return colors;\r\n    };\r\n\r\n    setColorsArray(getDesignColors());\r\n\r\n    if (\r\n      currentPartName === 'outerOverlay' ||\r\n      currentPartName === 'innerOverlay'\r\n    ) {\r\n      setCurrentColor(\r\n        design.outlineData.overlays[currentPartName][currentShoe][currentLayer]\r\n          .color\r\n      );\r\n    } else {\r\n      setCurrentColor(\r\n        design.outlineData.parts[currentPartName][currentShoe][currentLayer]\r\n          .color\r\n      );\r\n    }\r\n  }, [design, currentPartName, currentLayer, setColorsArray, currentShoe]);\r\n\r\n  const handleColorChange = (color) => {\r\n    setCanSave(true);\r\n    const newColor = color.hex || color;\r\n    setCurrentColor(color);\r\n    handlePartChangeManager({\r\n      type: 'color-changed',\r\n      partName: currentPartName,\r\n      layerIndex: currentLayer,\r\n      newColor,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className='color-picker-container'>\r\n      <div className='view-title'>\r\n        <p>{handleConvertPartName(currentPartName)}</p>\r\n      </div>\r\n      <div className='standard-button'>\r\n        <button\r\n          onClick={() =>\r\n            handleColorChange(\r\n              '#' + Math.floor(Math.random() * 16777215).toString(16)\r\n            )\r\n          }\r\n        >\r\n          Random Color\r\n        </button>\r\n      </div>\r\n      <div>\r\n        <CurrentColors\r\n          colorsArray={colorsArray}\r\n          handleColorChange={handleColorChange}\r\n        />\r\n      </div>\r\n      <div>\r\n        <CustomColor\r\n          color={currentColor}\r\n          onChangeComplete={handleColorChange}\r\n        />\r\n      </div>\r\n      <div className='standard-button'>\r\n        <button onClick={() => setLayersView('LayerOverview')}>Back</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ColorPicker;\r\n","import React, { useEffect } from 'react';\r\nimport {\r\n  FaArrowDown,\r\n  FaArrowLeft,\r\n  FaArrowRight,\r\n  FaArrowsAlt,\r\n  FaArrowUp,\r\n  FaCompressArrowsAlt,\r\n  FaRedoAlt,\r\n  FaUndoAlt,\r\n} from 'react-icons/fa';\r\nimport './GraphicEditor.css';\r\n\r\nfunction GraphicEditor({ props }) {\r\n  const {\r\n    currentLayer,\r\n    currentPartName,\r\n    graphicVisualCanvas,\r\n    handlePartChangeManager,\r\n    handleUpdateGraphicVisualCanvas,\r\n    setLayersView,\r\n    setCanSave,\r\n    currentShoe,\r\n  } = props;\r\n\r\n  const handleMoveGraphic = (direction, distance) => {\r\n    setCanSave(true);\r\n    handlePartChangeManager({\r\n      type: 'graphic-moved',\r\n      partName: currentPartName,\r\n      layerIndex: currentLayer,\r\n      direction,\r\n      distance,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const placeGraphicVisual = () => {\r\n      let div = document.getElementById('graphic-visual-container');\r\n      div.innerHTML = '';\r\n      div.appendChild(graphicVisualCanvas);\r\n    };\r\n    placeGraphicVisual();\r\n    handleUpdateGraphicVisualCanvas(currentPartName);\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <div className='graphic-editor-container'>\r\n      <div className='graphic-editor-upper'>\r\n        <div className='graphic-editor-buttons' id='edit-buttons-div'>\r\n          <button\r\n            className='graphic-edit-button'\r\n            id='up-button'\r\n            onClick={() => handleMoveGraphic('vert', -30)}\r\n          >\r\n            <FaArrowUp />\r\n          </button>\r\n          <button\r\n            className='graphic-edit-button'\r\n            id='down-button'\r\n            onClick={() => handleMoveGraphic('vert', 30)}\r\n          >\r\n            <FaArrowDown />\r\n          </button>\r\n          <button\r\n            className='graphic-edit-button'\r\n            id='left-button'\r\n            onClick={() => handleMoveGraphic('hor', -30)}\r\n          >\r\n            <FaArrowLeft />\r\n          </button>\r\n          <button\r\n            className='graphic-edit-button'\r\n            id='right-button'\r\n            onClick={() => handleMoveGraphic('hor', 30)}\r\n          >\r\n            <FaArrowRight />\r\n          </button>\r\n          <button\r\n            className='graphic-edit-button'\r\n            id='scale-up-button'\r\n            onClick={() => handleMoveGraphic('scale', 1.1)}\r\n          >\r\n            <FaArrowsAlt />\r\n          </button>\r\n          <button\r\n            className='graphic-edit-button'\r\n            id='scale-down-button'\r\n            onClick={() => handleMoveGraphic('scale', 0.9)}\r\n          >\r\n            <FaCompressArrowsAlt />\r\n          </button>\r\n          <button\r\n            className='graphic-edit-button'\r\n            id='clockwise-button'\r\n            onClick={() => handleMoveGraphic('rotate', 5)}\r\n          >\r\n            <FaRedoAlt />\r\n          </button>\r\n          <button\r\n            className='graphic-edit-button'\r\n            id='counterclockwise-button'\r\n            onClick={() => handleMoveGraphic('rotate', -5)}\r\n          >\r\n            <FaUndoAlt />\r\n          </button>\r\n        </div>\r\n        <div\r\n          id='graphic-visual-container'\r\n          className={currentShoe === 'left' ? 'mirror-graphic-visual' : null}\r\n        ></div>\r\n      </div>\r\n      <div className='graphic-editor-lower'>\r\n        <div className='standard-button graphic-editor-lower-button'>\r\n          <button onClick={() => handleMoveGraphic('reset', 0)}>Reset</button>\r\n        </div>\r\n        <div className='standard-button graphic-editor-lower-button'>\r\n          <button onClick={() => setLayersView('LayerOverview')}>Back</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GraphicEditor;\r\n","import React from 'react';\r\nimport './PartSelector.css';\r\nimport { FaChevronLeft, FaChevronRight } from 'react-icons/fa';\r\nimport { handleConvertPartName } from '../../helpers/convertPartNames';\r\n\r\nfunction PartSelector({\r\n  design,\r\n  currentPart,\r\n  setCurrentPart,\r\n  setFocusLayer,\r\n  setLayersView,\r\n}) {\r\n  const numberOfParts = design.configData.partsArray.length;\r\n  const arrayOfParts = design.configData.partsArray;\r\n\r\n  const handlePartChange = (i) => {\r\n    if (currentPart === 0 && i < 0) {\r\n      setCurrentPart(numberOfParts - 1);\r\n    } else if (currentPart === numberOfParts - 1 && i > 0) {\r\n      setCurrentPart(0);\r\n    } else {\r\n      setCurrentPart(currentPart + i);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='part-selector-container'>\r\n      <div>\r\n        <button\r\n          className='change-part-button'\r\n          onClick={() => {\r\n            handlePartChange(-1);\r\n            setFocusLayer(-1);\r\n          }}\r\n        >\r\n          <FaChevronLeft />\r\n        </button>\r\n        <button\r\n          className='partname-button'\r\n          onClick={() => {\r\n            setLayersView('PartList');\r\n          }}\r\n        >\r\n          {handleConvertPartName(arrayOfParts[currentPart])}\r\n        </button>\r\n        <button\r\n          className='change-part-button'\r\n          onClick={() => {\r\n            handlePartChange(1);\r\n            setFocusLayer(-1);\r\n          }}\r\n        >\r\n          <FaChevronRight />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PartSelector;\r\n","import React from 'react';\r\nimport { cloneDeep } from 'lodash';\r\nimport './LayerOverview.css';\r\nimport { handleConvertPartName } from '../../helpers/convertPartNames';\r\nimport { FaChevronUp, FaChevronDown, FaPen, FaTimes } from 'react-icons/fa';\r\nimport PartSelector from '../PartSelector/PartSelector';\r\n\r\nfunction LayerOverview({ props }) {\r\n  const {\r\n    allLayers,\r\n    currentPart,\r\n    currentPartName,\r\n    design,\r\n    focusLayer,\r\n    handlePartChangeManager,\r\n    handleViewChange,\r\n    numberOfLayers,\r\n    setCurrentLayer,\r\n    setCurrentPart,\r\n    setFocusLayer,\r\n    setLayersView,\r\n    setCanSave,\r\n    currentShoe,\r\n  } = props;\r\n\r\n  const handleFocusLayer = (i) => {\r\n    setFocusLayer(i);\r\n  };\r\n\r\n  const handleClearFocusLayer = (aClass) => {\r\n    if (aClass === 'layers-view-container') {\r\n      setFocusLayer(-1);\r\n    }\r\n  };\r\n\r\n  const handleCurrentLayer = (key) => {\r\n    setCurrentLayer(key);\r\n  };\r\n\r\n  const handleDeleteLayer = (layer) => {\r\n    setCanSave(true);\r\n    handlePartChangeManager({\r\n      type: 'layer-deleted',\r\n      partName: currentPartName,\r\n      layerIndex: layer,\r\n    });\r\n    setFocusLayer(-1);\r\n  };\r\n\r\n  const handleMoveLayer = (layer, direction) => {\r\n    setCanSave(true);\r\n    const tempDesign = cloneDeep(design);\r\n    let array;\r\n\r\n    if (\r\n      currentPartName === 'outerOverlay' ||\r\n      currentPartName === 'innerOverlay'\r\n    ) {\r\n      array = tempDesign.outlineData.overlays[currentPartName][currentShoe];\r\n    } else {\r\n      array = tempDesign.outlineData.parts[currentPartName][currentShoe];\r\n    }\r\n\r\n    if (layer === array.length - 1 && direction === 1) {\r\n      return;\r\n    } else if (layer === 0 && direction === -1) {\r\n      return;\r\n    } else {\r\n      let tempElement = array[layer];\r\n      array[layer] = array[layer + direction];\r\n      array[layer + direction] = tempElement;\r\n      if (\r\n        currentPartName === 'outerOverlay' ||\r\n        currentPartName === 'innerOverlay'\r\n      ) {\r\n        tempDesign.outlineData.overlays[currentPartName][currentShoe] = array;\r\n      } else {\r\n        tempDesign.outlineData.parts[currentPartName][currentShoe] = array;\r\n      }\r\n      handlePartChangeManager({\r\n        type: 'layer-moved',\r\n        partName: currentPartName,\r\n        layerIndex: layer,\r\n        direction,\r\n      });\r\n      setFocusLayer(focusLayer + direction);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className='layers-view-container'\r\n      onClick={(e) => handleClearFocusLayer(e.target.className)}\r\n    >\r\n      <PartSelector\r\n        design={design}\r\n        currentPart={currentPart}\r\n        setCurrentPart={setCurrentPart}\r\n        setFocusLayer={setFocusLayer}\r\n        setLayersView={setLayersView}\r\n      />\r\n\r\n      <div className='add-layer-button'>\r\n        <button onClick={() => setLayersView('AddLayerType')}>Add Layer</button>\r\n      </div>\r\n\r\n      <div className='layers-box-container'>\r\n        {allLayers.map((layer, i) => (\r\n          <div key={i} className='layer-list-items'>\r\n            <div\r\n              className={`layer-list-item-end ${\r\n                focusLayer !== i ? 'hide-edit-buttons' : ''\r\n              }`}\r\n            >\r\n              <div\r\n                className={`edit-layer-button ${\r\n                  i === numberOfLayers - 1 ? 'edit-layer-button-dead' : ''\r\n                }`}\r\n              >\r\n                <button onClick={() => handleMoveLayer(i, 1)}>\r\n                  <FaChevronUp />\r\n                </button>\r\n              </div>\r\n              <div\r\n                className={`edit-layer-button ${\r\n                  i === 0 ? 'edit-layer-button-dead' : ''\r\n                }`}\r\n              >\r\n                <button onClick={() => handleMoveLayer(i, -1)}>\r\n                  <FaChevronDown />\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div\r\n              className='layer-list-item-middle'\r\n              onClick={() => handleFocusLayer(i)}\r\n            >\r\n              <div\r\n                className={`layer-list-item-left ${\r\n                  focusLayer === i ? 'focus-layer-highlight' : ''\r\n                }`}\r\n              >\r\n                <div className='layer-list-item-type'>\r\n                  {layer.type === 'overlay'\r\n                    ? handleConvertPartName(layer.source).toLowerCase()\r\n                    : layer.type}\r\n                </div>\r\n              </div>\r\n\r\n              {layer.type === 'color' ? (\r\n                <div\r\n                  className='layer-list-item-right'\r\n                  style={{\r\n                    backgroundColor: layer.color,\r\n                  }}\r\n                ></div>\r\n              ) : layer.type === 'graphic' ? (\r\n                <div className='layer-list-item-right'>\r\n                  <img\r\n                    src={`/api/assets/images/${layer.link}`}\r\n                    style={{\r\n                      width: '100%',\r\n                      height: '100%',\r\n                      objectFit: 'cover',\r\n                    }}\r\n                    alt='design-graphic'\r\n                  />\r\n                </div>\r\n              ) : layer.type === 'mask' ? (\r\n                <div className='layer-list-item-right'>\r\n                  <img\r\n                    src={`/api/assets/designimages/${layer.link}`}\r\n                    style={{\r\n                      width: '100%',\r\n                      height: '100%',\r\n                      objectFit: 'cover',\r\n                    }}\r\n                    alt='design-graphic'\r\n                  />\r\n                </div>\r\n              ) : (\r\n                <div className='layer-list-item-right'>\r\n                  <img\r\n                    src={`/api/assets/designimages/${layer.source}Mask.png`}\r\n                    style={{\r\n                      width: '100%',\r\n                      height: '100%',\r\n                      objectFit: 'cover',\r\n                    }}\r\n                    alt='design-graphic'\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div\r\n              className={`layer-list-item-end ${\r\n                focusLayer !== i ? 'hide-edit-buttons' : ''\r\n              }`}\r\n            >\r\n              {layer.type === 'color' ? (\r\n                <div className='edit-layer-button'>\r\n                  <button\r\n                    onClick={() => {\r\n                      handleCurrentLayer(i);\r\n                      setLayersView('ColorPicker');\r\n                    }}\r\n                  >\r\n                    <FaPen />\r\n                  </button>\r\n                </div>\r\n              ) : layer.type === 'graphic' ? (\r\n                <div className='edit-layer-button'>\r\n                  <button\r\n                    onClick={() => {\r\n                      handleCurrentLayer(i);\r\n                      setLayersView('GraphicEditor');\r\n                    }}\r\n                  >\r\n                    <FaPen />\r\n                  </button>\r\n                </div>\r\n              ) : layer.type === 'mask' ? (\r\n                <div className='edit-layer-button'>\r\n                  <button\r\n                    onClick={() => {\r\n                      handleCurrentLayer(i);\r\n                      setLayersView('ColorPicker');\r\n                    }}\r\n                  >\r\n                    <FaPen />\r\n                  </button>\r\n                </div>\r\n              ) : (\r\n                <div className='edit-layer-button'>\r\n                  <button\r\n                    onClick={() => {\r\n                      setCurrentPart(\r\n                        design.configData.partsArray.indexOf(layer.source)\r\n                      );\r\n                      setFocusLayer(-1);\r\n                    }}\r\n                  >\r\n                    <FaPen />\r\n                  </button>\r\n                </div>\r\n              )}\r\n              {layer.type === 'overlay' ? (\r\n                <div className='edit-layer-button edit-layer-button-dead'>\r\n                  <button>\r\n                    <FaTimes />\r\n                  </button>\r\n                </div>\r\n              ) : (\r\n                <div className='edit-layer-button'>\r\n                  <button onClick={() => handleDeleteLayer(i)}>\r\n                    <FaTimes />\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      <div className='standard-button layer-back-button'>\r\n        <button onClick={() => handleViewChange('DesignPreview')}>Back</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LayerOverview;\r\n","import React from 'react';\r\nimport './MaskTypes.css';\r\n\r\nfunction MaskTypes({ props }) {\r\n  const { design, currentPartName, handleAddMaskLayer, setLayersView } = props;\r\n  return (\r\n    <div className='design-preview-container'>\r\n      <div className='view-title'>\r\n        <p>Select Mask Type</p>\r\n      </div>\r\n\r\n      {design.configData.maskTypes[currentPartName].map((type, i) => (\r\n        <div key={i} className='standard-button'>\r\n          <button\r\n            onClick={() => {\r\n              handleAddMaskLayer(type[0], type[1]);\r\n              setLayersView('LayerOverview');\r\n            }}\r\n          >\r\n            {type[0]}\r\n          </button>\r\n        </div>\r\n      ))}\r\n      <div className='standard-button'>\r\n        <button onClick={() => setLayersView('LayerOverview')}>Cancel</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MaskTypes;\r\n","import React from 'react';\r\nimport './PartList.css';\r\n\r\nfunction PartList({ props }) {\r\n  const { setCurrentPart, setLayersView, design } = props;\r\n\r\n  return (\r\n    <div className='partlist-container'>\r\n      <div className='partlist-title'>\r\n        <p>Parts</p>\r\n      </div>\r\n      <div className='partlist-buttons'>\r\n        {design.configData.partsArray.map((part, i) => (\r\n          <div className='standard-button part-list-button' key={i}>\r\n            <button\r\n              onClick={() => {\r\n                setCurrentPart(i);\r\n                setLayersView('LayerOverview');\r\n              }}\r\n            >\r\n              {part}\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className='standard-button bottom-button'>\r\n        <button onClick={() => setLayersView('LayerOverview')}>Back</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PartList;\r\n","import React from 'react';\r\nimport './CurrentGraphics.css';\r\n\r\nfunction CurrentGraphics({ graphicsArray, handleAddGraphicLayer }) {\r\n  return (\r\n    <div className='current-graphics-container'>\r\n      {graphicsArray.map((graphic, i) => (\r\n        <div\r\n          className='current-graphics-item'\r\n          key={i}\r\n          onClick={() => handleAddGraphicLayer(graphic)}\r\n        >\r\n          <img src={`/api/assets/images/${graphic}`} alt='used-already'></img>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CurrentGraphics;\r\n","import React, { useState, useEffect } from 'react';\r\nimport './GraphicPicker.css';\r\nimport { uploadImage } from '../../helpers/uploadImage';\r\nimport { convertAwsLink } from '../../helpers/convertAwsLink';\r\nimport CurrentGraphics from '../CurrentGraphics/CurrentGraphics';\r\n\r\nfunction GraphicPicker({ props }) {\r\n  const { setLayersView, handleAddLayer, design } = props;\r\n\r\n  const [warning, setWarning] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [graphicsArray, setGraphicsArray] = useState();\r\n\r\n  useEffect(() => {\r\n    const getGraphicsArray = () => {\r\n      //'1606804479019.png'\r\n      const graphics = ['red-apple.png'];\r\n\r\n      // parts\r\n      for (const property in design.outlineData.parts) {\r\n        for (const layer in design.outlineData.parts[property].right) {\r\n          if (\r\n            design.outlineData.parts[property].right[layer].type === 'graphic'\r\n          ) {\r\n            const thisGraphic =\r\n              design.outlineData.parts[property].right[layer].link;\r\n            if (!graphics.includes(thisGraphic)) {\r\n              graphics.push(thisGraphic);\r\n            }\r\n          }\r\n        }\r\n        for (const layer in design.outlineData.parts[property].left) {\r\n          if (\r\n            design.outlineData.parts[property].left[layer].type === 'graphic'\r\n          ) {\r\n            const thisGraphic =\r\n              design.outlineData.parts[property].left[layer].link;\r\n            if (!graphics.includes(thisGraphic)) {\r\n              graphics.push(thisGraphic);\r\n            }\r\n          }\r\n        }\r\n      }\r\n      // overlays\r\n      for (const property in design.outlineData.overlays) {\r\n        for (const layer in design.outlineData.overlays[property].right) {\r\n          if (\r\n            design.outlineData.overlays[property].right[layer].type ===\r\n            'graphic'\r\n          ) {\r\n            const thisGraphic =\r\n              design.outlineData.overlays[property].right[layer].link;\r\n            if (!graphics.includes(thisGraphic)) {\r\n              graphics.push(thisGraphic);\r\n            }\r\n          }\r\n        }\r\n        for (const layer in design.outlineData.overlays[property].left) {\r\n          if (\r\n            design.outlineData.overlays[property].left[layer].type === 'graphic'\r\n          ) {\r\n            const thisGraphic =\r\n              design.outlineData.overlays[property].left[layer].link;\r\n            if (!graphics.includes(thisGraphic)) {\r\n              graphics.push(thisGraphic);\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (!graphics[0]) {\r\n        return null;\r\n      } else {\r\n        return graphics;\r\n      }\r\n    };\r\n\r\n    setGraphicsArray(getGraphicsArray());\r\n  }, [design]);\r\n\r\n  const onFileChange = async (e) => {\r\n    const fileSize = (e.target.files[0].size / 1024 / 1024).toFixed(4); // MB\r\n    if (fileSize < 2) {\r\n      setIsLoading(true);\r\n      const file = e.target.files[0];\r\n      await uploadImage(file, true).then((data) => {\r\n        const awsFileName = convertAwsLink(data.image);\r\n        handleAddGraphicLayer(awsFileName);\r\n      });\r\n    } else {\r\n      setWarning(true);\r\n    }\r\n  };\r\n\r\n  const handleAddGraphicLayer = (fileName) => {\r\n    handleAddLayer('Graphic', fileName);\r\n    setLayersView('LayerOverview');\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className='upload-image-container'>\r\n        <div id='loading-small'>\r\n          <div id='loader'></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className='upload-image-container'>\r\n      {graphicsArray && (\r\n        <div className='used-graphics'>\r\n          <CurrentGraphics\r\n            graphicsArray={graphicsArray}\r\n            handleAddGraphicLayer={handleAddGraphicLayer}\r\n          />\r\n        </div>\r\n      )}\r\n      <div className='upload-image-input'>\r\n        <label htmlFor='image-input-id' className='upload-image-label'>\r\n          <input\r\n            onChange={(e) => onFileChange(e)}\r\n            id='image-input-id'\r\n            type='file'\r\n            name='myImage'\r\n            accept='image/png, image/jpeg, .png, .jpg'\r\n          />\r\n          Upload\r\n        </label>\r\n      </div>\r\n\r\n      {warning && (\r\n        <div className='file-size-warning'>\r\n          <p>file must be less that 2MB.</p>\r\n        </div>\r\n      )}\r\n\r\n      <div className='standard-button'>\r\n        <button onClick={() => setLayersView('LayerOverview')}>Cancel</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GraphicPicker;\r\n","import AddLayerType from '../AddLayerType/AddLayerType';\r\nimport ColorPicker from '../ColorPicker/ColorPicker';\r\nimport GraphicEditor from '../GraphicEditor/GraphicEditor';\r\nimport LayerOverview from '../LayerOverview/LayerOverview';\r\nimport MaskTypes from '../MaskTypes/MaskTypes';\r\nimport PartList from '../PartList/PartList';\r\nimport GraphicPicker from '../GraphicPicker/GraphicPicker';\r\n\r\nconst LayerDictionary = {\r\n  AddLayerType: AddLayerType,\r\n  ColorPicker: ColorPicker,\r\n  GraphicEditor: GraphicEditor,\r\n  LayerOverview: LayerOverview,\r\n  MaskTypes: MaskTypes,\r\n  PartList: PartList,\r\n  GraphicPicker: GraphicPicker,\r\n};\r\n\r\nexport default LayerDictionary;\r\n","import React, { useEffect } from 'react';\r\nimport LayerDictionary from './Constants';\r\nimport './Layers.css';\r\n\r\nfunction LayersView({\r\n  layersView,\r\n  setLayersView,\r\n  currentLayer,\r\n  currentPart,\r\n  design,\r\n  graphicVisualCanvas,\r\n  handlePartChangeManager,\r\n  handleUpdateGraphicVisualCanvas,\r\n  handleViewChange,\r\n  setCurrentLayer,\r\n  setCurrentPart,\r\n  setCanSave,\r\n  currentShoe,\r\n  focusLayer,\r\n  setFocusLayer,\r\n}) {\r\n  useEffect(() => {\r\n    setLayersView('LayerOverview');\r\n  }, [setLayersView, setFocusLayer]);\r\n\r\n  const currentPartName = Object.keys(design.configData.partsObject)[\r\n    currentPart\r\n  ];\r\n\r\n  let numberOfLayers;\r\n  let allLayers;\r\n\r\n  if (\r\n    currentPartName === 'outerOverlay' ||\r\n    currentPartName === 'innerOverlay'\r\n  ) {\r\n    numberOfLayers =\r\n      design.outlineData.overlays[currentPartName][currentShoe].length;\r\n    allLayers = design.outlineData.overlays[currentPartName][currentShoe];\r\n  } else {\r\n    numberOfLayers =\r\n      design.outlineData.parts[currentPartName][currentShoe].length;\r\n    allLayers = design.outlineData.parts[currentPartName][currentShoe];\r\n  }\r\n\r\n  const handleAddLayer = (type, fileName) => {\r\n    setCanSave(true);\r\n    if (fileName) {\r\n      handlePartChangeManager({\r\n        type: 'layer-added',\r\n        partName: currentPartName,\r\n        layerType: type,\r\n        fileName: fileName,\r\n      });\r\n      setFocusLayer(numberOfLayers);\r\n    } else {\r\n      handlePartChangeManager({\r\n        type: 'layer-added',\r\n        partName: currentPartName,\r\n        layerType: type,\r\n      });\r\n      setFocusLayer(numberOfLayers);\r\n    }\r\n  };\r\n\r\n  const handleAddMaskLayer = (maskType, maskLink) => {\r\n    setCanSave(true);\r\n    handlePartChangeManager({\r\n      type: 'layer-added',\r\n      partName: currentPartName,\r\n      layerType: 'Mask',\r\n      maskType,\r\n      maskLink,\r\n    });\r\n    setFocusLayer(numberOfLayers);\r\n  };\r\n\r\n  const Component = LayerDictionary[layersView];\r\n\r\n  const propsToPassDown = {\r\n    allLayers,\r\n    currentPart,\r\n    currentLayer,\r\n    currentPartName,\r\n    design,\r\n    focusLayer,\r\n    graphicVisualCanvas,\r\n    handleAddLayer,\r\n    handleAddMaskLayer,\r\n    handlePartChangeManager,\r\n    handleUpdateGraphicVisualCanvas,\r\n    handleViewChange,\r\n    setCurrentLayer,\r\n    setCurrentPart,\r\n    setFocusLayer,\r\n    setLayersView,\r\n    numberOfLayers,\r\n    setCanSave,\r\n    currentShoe,\r\n    layersView,\r\n  };\r\n\r\n  return <Component props={propsToPassDown} />;\r\n}\r\n\r\nexport default LayersView;\r\n","import React from 'react';\r\nimport './ChangeDesignName.css';\r\nimport { cloneDeep, startCase } from 'lodash';\r\n\r\nfunction ChangeDesignName({ handleViewChange, design, setDesign, setCanSave }) {\r\n  const handleUpdateDesignName = () => {\r\n    const tempDesign = cloneDeep(design);\r\n    const newTitle = startCase(\r\n      document.getElementById('design-name-input').value\r\n    );\r\n    tempDesign.title = newTitle;\r\n    setCanSave(true);\r\n    setDesign(tempDesign);\r\n    handleViewChange('DesignPreview');\r\n  };\r\n\r\n  return (\r\n    <div className='changedesignname-container'>\r\n      <div className='view-title'>\r\n        <p>Change Design Name</p>\r\n      </div>\r\n      <div className='designer-input-div'>\r\n        <input\r\n          type='text'\r\n          id='design-name-input'\r\n          className='designer-input'\r\n          defaultValue={design.title}\r\n        ></input>\r\n      </div>\r\n      <div className='standard-button'>\r\n        <button onClick={() => handleUpdateDesignName()}>Done</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChangeDesignName;\r\n","import React, { useState } from 'react';\r\nimport './ChangeBaseColor.css';\r\nimport { cloneDeep } from 'lodash';\r\nimport CustomColor from '../CustomColor/CustomColor';\r\n\r\nfunction ChangeBaseColor({\r\n  handleViewChange,\r\n  design,\r\n  setDesign,\r\n  setCanSave,\r\n  handleUpdateBaseColor,\r\n  currentShoe,\r\n  setCurrentShoe,\r\n}) {\r\n  const initialRadioOption = () => {\r\n    if (\r\n      design.outlineData.baseColors.left === design.outlineData.baseColors.right\r\n    ) {\r\n      return 'both';\r\n    } else {\r\n      return currentShoe;\r\n    }\r\n  };\r\n\r\n  const [radioOption, setRadioOption] = useState(initialRadioOption());\r\n  const [baseColor, setBaseColor] = useState(\r\n    design.outlineData.baseColors[currentShoe]\r\n  );\r\n\r\n  const updateBaseColor = () => {\r\n    const tempDesign = cloneDeep(design);\r\n    if (radioOption === 'left') {\r\n      tempDesign.outlineData.baseColors.left = baseColor;\r\n    } else if (radioOption === 'right') {\r\n      tempDesign.outlineData.baseColors.right = baseColor;\r\n    } else if (radioOption === 'both') {\r\n      tempDesign.outlineData.baseColors.left = baseColor;\r\n      tempDesign.outlineData.baseColors.right = baseColor;\r\n    }\r\n    setCanSave(true);\r\n    setDesign(tempDesign);\r\n    handleUpdateBaseColor(tempDesign);\r\n  };\r\n\r\n  const handleColorChange = (color) => {\r\n    const newColor = color.hex || color;\r\n    setBaseColor(newColor);\r\n  };\r\n\r\n  const handleRadioOption = (option) => {\r\n    setRadioOption(option);\r\n    if (option === 'right' || option === 'left') {\r\n      setCurrentShoe(option);\r\n      setBaseColor(design.outlineData.baseColors[option]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='change-base-color-container'>\r\n      <div className='base-color-selector'>\r\n        <CustomColor color={baseColor} onChangeComplete={handleColorChange} />\r\n      </div>\r\n      <div className='base-color-buttons'>\r\n        <div className='base-color-radio'>\r\n          <div className='radio-container'>\r\n            <div\r\n              className={`radio-option ${\r\n                radioOption === 'left' ? 'radio-active' : null\r\n              }`}\r\n              onClick={() => {\r\n                handleRadioOption('left');\r\n              }}\r\n            >\r\n              <p>Left</p>\r\n            </div>\r\n            <div\r\n              className={`radio-option ${\r\n                radioOption === 'both' ? 'radio-active' : null\r\n              }`}\r\n              onClick={() => {\r\n                handleRadioOption('both');\r\n              }}\r\n            >\r\n              <p>Both</p>\r\n            </div>\r\n            <div\r\n              className={`radio-option ${\r\n                radioOption === 'right' ? 'radio-active' : null\r\n              }`}\r\n              onClick={() => {\r\n                handleRadioOption('right');\r\n              }}\r\n            >\r\n              <p>Right</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className='base-color-button'>\r\n          <button\r\n            onClick={() =>\r\n              handleColorChange(\r\n                '#' + Math.floor(Math.random() * 16777215).toString(16)\r\n              )\r\n            }\r\n          >\r\n            Random\r\n          </button>\r\n        </div>\r\n        <div className='base-color-button'>\r\n          <button onClick={() => updateBaseColor()}>Apply</button>\r\n        </div>\r\n        <div className='base-color-button'>\r\n          <button onClick={() => handleViewChange('DesignPreview')}>\r\n            Done\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChangeBaseColor;\r\n","import React, { useState } from 'react';\r\nimport './Interface.css';\r\nimport DesignPreview from '../DesignPreview/DesignPreview';\r\nimport Layers from '../Layers/Layers';\r\nimport ChangeDesignName from '../ChangeDesignName/ChangeDesignName';\r\nimport ChangeBaseColor from '../ChangeBaseColor/ChangeBaseColor';\r\n\r\nfunction Interface({\r\n  design,\r\n  setDesign,\r\n  graphicVisualCanvas,\r\n  handleUpdateGraphicVisualCanvas,\r\n  handlePartChangeManager,\r\n  camera,\r\n  orbitControls,\r\n  handleUpdateBaseColor,\r\n  userData,\r\n  currentPart,\r\n  setCurrentPart,\r\n  currentShoe,\r\n  setCurrentShoe,\r\n  shoeVisibility,\r\n  setShoeVisibility,\r\n  view,\r\n  setView,\r\n  layersView,\r\n  setLayersView,\r\n  focusLayer,\r\n  setFocusLayer,\r\n}) {\r\n  // const [currentPart, setCurrentPart] = useState(0);\r\n  const [currentLayer, setCurrentLayer] = useState(0);\r\n  const [canSave, setCanSave] = useState(false);\r\n\r\n  const handleViewChange = (viewChange) => {\r\n    setView(viewChange);\r\n  };\r\n\r\n  if (view === 'DesignPreview') {\r\n    return (\r\n      <div className='interface-container'>\r\n        <DesignPreview\r\n          handleViewChange={handleViewChange}\r\n          design={design}\r\n          setDesign={setDesign}\r\n          camera={camera}\r\n          orbitControls={orbitControls}\r\n          canSave={canSave}\r\n          setCanSave={setCanSave}\r\n          userData={userData}\r\n          currentShoe={currentShoe}\r\n          setCurrentShoe={setCurrentShoe}\r\n          shoeVisibility={shoeVisibility}\r\n          setShoeVisibility={setShoeVisibility}\r\n        />\r\n      </div>\r\n    );\r\n  } else if (view === 'Layers') {\r\n    return (\r\n      <div className='interface-container'>\r\n        <Layers\r\n          layersView={layersView}\r\n          setLayersView={setLayersView}\r\n          focusLayer={focusLayer}\r\n          setFocusLayer={setFocusLayer}\r\n          handleViewChange={handleViewChange}\r\n          design={design}\r\n          setDesign={setDesign}\r\n          currentShoe={currentShoe}\r\n          currentPart={currentPart}\r\n          setCurrentPart={setCurrentPart}\r\n          currentLayer={currentLayer}\r\n          setCurrentLayer={setCurrentLayer}\r\n          graphicVisualCanvas={graphicVisualCanvas}\r\n          handleUpdateGraphicVisualCanvas={handleUpdateGraphicVisualCanvas}\r\n          handlePartChangeManager={handlePartChangeManager}\r\n          setCanSave={setCanSave}\r\n        />\r\n      </div>\r\n    );\r\n  } else if (view === 'ChangeDesignName') {\r\n    return (\r\n      <div className='interface-container'>\r\n        <ChangeDesignName\r\n          handleViewChange={handleViewChange}\r\n          design={design}\r\n          setDesign={setDesign}\r\n          setCanSave={setCanSave}\r\n        />\r\n      </div>\r\n    );\r\n  } else if (view === 'ChangeBaseColor') {\r\n    return (\r\n      <div className='interface-container'>\r\n        <ChangeBaseColor\r\n          handleViewChange={handleViewChange}\r\n          design={design}\r\n          setDesign={setDesign}\r\n          setCanSave={setCanSave}\r\n          handleUpdateBaseColor={handleUpdateBaseColor}\r\n          currentShoe={currentShoe}\r\n          setCurrentShoe={setCurrentShoe}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Interface;\r\n","import {\r\n  designObjectToCanvasObject,\r\n  overlayCanvasObjectToTextureCanvas,\r\n  canvasObjectToTextureCanvas,\r\n} from '../index';\r\n\r\nexport const setup = async ({\r\n  setInitialLoaded,\r\n  design,\r\n  graphicVisualCanvas,\r\n  rightInnerOverlayCanvas,\r\n  rightOuterOverlayCanvas,\r\n  rightTexture,\r\n  rightTextureCanvas,\r\n  leftInnerOverlayCanvas,\r\n  leftOuterOverlayCanvas,\r\n  leftTexture,\r\n  leftTextureCanvas,\r\n  rightCanvasObjectRef,\r\n  rightOverlaysCanvasObjectRef,\r\n  rightBaseColorCanvasObjectRef,\r\n  leftBaseColorCanvasObjectRef,\r\n  leftCanvasObjectRef,\r\n  leftOverlaysCanvasObjectRef,\r\n}) => {\r\n  // Create Overlay Canvas Objects\r\n  rightOverlaysCanvasObjectRef.current = await designObjectToCanvasObject({\r\n    design,\r\n    type: 'overlaysCanvasObject',\r\n    currentShoe: 'right',\r\n  });\r\n  leftOverlaysCanvasObjectRef.current = await designObjectToCanvasObject({\r\n    design,\r\n    type: 'overlaysCanvasObject',\r\n    currentShoe: 'left',\r\n  });\r\n\r\n  // Outer Overlay Canvas Object to Texture Canvas\r\n  overlayCanvasObjectToTextureCanvas({\r\n    design,\r\n    overlayCanvasObject: rightOverlaysCanvasObjectRef.current,\r\n    overlayCanvas: rightOuterOverlayCanvas,\r\n    partName: 'outerOverlay',\r\n    graphicVisualCanvas,\r\n    currentShoe: 'right',\r\n  });\r\n  overlayCanvasObjectToTextureCanvas({\r\n    design,\r\n    overlayCanvasObject: leftOverlaysCanvasObjectRef.current,\r\n    overlayCanvas: leftOuterOverlayCanvas,\r\n    partName: 'outerOverlay',\r\n    graphicVisualCanvas,\r\n    currentShoe: 'left',\r\n  });\r\n\r\n  // Inner Overlay Canvas Object to Texture Canvas\r\n  overlayCanvasObjectToTextureCanvas({\r\n    design,\r\n    overlayCanvasObject: rightOverlaysCanvasObjectRef.current,\r\n    overlayCanvas: rightInnerOverlayCanvas,\r\n    partName: 'innerOverlay',\r\n    graphicVisualCanvas,\r\n    currentShoe: 'right',\r\n  });\r\n  overlayCanvasObjectToTextureCanvas({\r\n    design,\r\n    overlayCanvasObject: leftOverlaysCanvasObjectRef.current,\r\n    overlayCanvas: leftInnerOverlayCanvas,\r\n    partName: 'innerOverlay',\r\n    graphicVisualCanvas,\r\n    currentShoe: 'left',\r\n  });\r\n\r\n  // Design Object to Canvas Object\r\n  rightCanvasObjectRef.current = await designObjectToCanvasObject({\r\n    design,\r\n    type: 'partsCanvasObject',\r\n    overlays: [rightOuterOverlayCanvas, rightInnerOverlayCanvas],\r\n    currentShoe: 'right',\r\n  });\r\n  leftCanvasObjectRef.current = await designObjectToCanvasObject({\r\n    design,\r\n    type: 'partsCanvasObject',\r\n    overlays: [leftOuterOverlayCanvas, leftInnerOverlayCanvas],\r\n    currentShoe: 'left',\r\n  });\r\n\r\n  // baseColor to baseColor Canvas Object\r\n  rightBaseColorCanvasObjectRef.current = await designObjectToCanvasObject({\r\n    design,\r\n    type: 'baseColorCanvasObject',\r\n    currentShoe: 'right',\r\n  });\r\n  leftBaseColorCanvasObjectRef.current = await designObjectToCanvasObject({\r\n    design,\r\n    type: 'baseColorCanvasObject',\r\n    currentShoe: 'left',\r\n  });\r\n\r\n  // Canvas Object to Canvas\r\n  const rightCanvas = await canvasObjectToTextureCanvas({\r\n    design,\r\n    canvasObject: rightCanvasObjectRef.current,\r\n    baseColorCanvasObject: rightBaseColorCanvasObjectRef.current,\r\n  });\r\n  const leftCanvas = await canvasObjectToTextureCanvas({\r\n    design,\r\n    canvasObject: leftCanvasObjectRef.current,\r\n    baseColorCanvasObject: leftBaseColorCanvasObjectRef.current,\r\n  });\r\n\r\n  // Canvas to Texture Canvas\r\n  rightTextureCanvas.getContext('2d').drawImage(rightCanvas, 0, 0);\r\n  rightTexture.needsUpdate = true;\r\n  leftTextureCanvas.getContext('2d').drawImage(leftCanvas, 0, 0);\r\n  leftTexture.needsUpdate = true;\r\n  setInitialLoaded(true);\r\n};\r\n","import * as THREE from 'three';\r\n\r\nexport const createTexture = (textureCanvas) => {\r\n  const texture = new THREE.CanvasTexture(textureCanvas);\r\n  texture.flipY = false;\r\n  return texture;\r\n};\r\n\r\nexport const createCanvas = ({ design }) => {\r\n  return new Promise((resolve) => {\r\n    const { canvasSize } = design.configData;\r\n    const canvas = document.createElement('canvas');\r\n    canvas.width = canvasSize;\r\n    canvas.height = canvasSize;\r\n    const canvasCTX = canvas.getContext('2d');\r\n\r\n    function waitForElement() {\r\n      if (canvasCTX !== null && typeof canvas === 'object') {\r\n        canvasCTX.fillStyle = '#ffffff';\r\n        canvasCTX.fillRect(0, 0, canvasSize, canvasSize);\r\n        resolve(canvas);\r\n      } else {\r\n        setTimeout(waitForElement, 100);\r\n      }\r\n    }\r\n    waitForElement();\r\n  });\r\n};\r\n\r\nexport const createGraphicVisualCanvas = ({ design }) => {\r\n  const { canvasSize } = design.configData;\r\n  const canvas = document.createElement('canvas');\r\n  canvas.id = 'graphic-visual-canvas';\r\n  canvas.width = canvasSize;\r\n  canvas.height = canvasSize;\r\n  return canvas;\r\n};\r\n","export const createColorLayerCanvas = ({ design, layer, partName }) => {\r\n  return new Promise((resolve) => {\r\n    let { mask } = design.configData.partsObject[partName];\r\n    const { color } = layer;\r\n    const { canvasSize } = design.configData;\r\n    const layerCanvas = document.createElement('canvas');\r\n    layerCanvas.width = canvasSize;\r\n    layerCanvas.height = canvasSize;\r\n    const layerCanvasCTX = layerCanvas.getContext('2d');\r\n    const maskImg = new Image();\r\n    maskImg.src = `/api/assets/designimages/${mask}`;\r\n    maskImg.onload = () => {\r\n      function waitForElement() {\r\n        if (layerCanvasCTX !== null && typeof layerCanvas === 'object') {\r\n          layerCanvasCTX.drawImage(maskImg, 0, 0, canvasSize, canvasSize);\r\n          layerCanvasCTX.globalCompositeOperation = 'source-in';\r\n          layerCanvasCTX.fillStyle = color;\r\n          layerCanvasCTX.fillRect(0, 0, canvasSize, canvasSize);\r\n          resolve(layerCanvas);\r\n        } else {\r\n          setTimeout(waitForElement, 100);\r\n        }\r\n      }\r\n      waitForElement();\r\n    };\r\n  });\r\n};\r\n","export const createGraphicLayerCanvas = ({\r\n  design,\r\n  layer,\r\n  partName,\r\n  currentShoe,\r\n}) => {\r\n  return new Promise((resolve) => {\r\n    const { mask } = design.configData.partsObject[partName];\r\n    let { link, x, y, scale, rotation } = layer;\r\n    const { canvasSize } = design.configData;\r\n    // Create layerCanvas to be returned\r\n    const layerCanvas = document.createElement('canvas');\r\n    layerCanvas.width = canvasSize;\r\n    layerCanvas.height = canvasSize;\r\n    const layerCanvasCTX = layerCanvas.getContext('2d');\r\n    const graphicImg = new Image();\r\n    graphicImg.src = `/api/assets/images/${link}`;\r\n    graphicImg.onload = () => {\r\n      // Get graphic's diagnal length (pythagorean)\r\n      const graphicWidth = graphicImg.width;\r\n      const graphicHeight = graphicImg.height;\r\n      const graphicPythagorean = Math.round(\r\n        Math.sqrt(graphicWidth * graphicWidth + graphicHeight * graphicHeight)\r\n      );\r\n      // Create Pythagorean Canvas\r\n      const pythagoreanCanvas = document.createElement('canvas');\r\n      pythagoreanCanvas.id = 'pythagorean-canvas';\r\n      pythagoreanCanvas.width = graphicPythagorean;\r\n      pythagoreanCanvas.height = graphicPythagorean;\r\n      const pythagoreanCTX = pythagoreanCanvas.getContext('2d');\r\n\r\n      function waitForElement() {\r\n        if (\r\n          pythagoreanCTX !== null &&\r\n          typeof pythagoreanCanvas === 'object' &&\r\n          layerCanvasCTX !== null &&\r\n          typeof layerCanvas === 'object'\r\n        ) {\r\n          // Translate context to the center of the canvas\r\n          pythagoreanCTX.translate(\r\n            pythagoreanCanvas.width / 2,\r\n            pythagoreanCanvas.height / 2\r\n          );\r\n          // Rotate context\r\n          pythagoreanCTX.rotate((rotation * Math.PI) / 180);\r\n          pythagoreanCTX.drawImage(\r\n            graphicImg,\r\n            graphicImg.width / -2,\r\n            graphicImg.height / -2,\r\n            graphicImg.width,\r\n            graphicImg.height\r\n          );\r\n          const maskImg = new Image();\r\n          maskImg.src = `/api/assets/designimages/${mask}`;\r\n          maskImg.onload = function () {\r\n            layerCanvasCTX.drawImage(maskImg, 0, 0, canvasSize, canvasSize);\r\n            layerCanvasCTX.globalCompositeOperation = 'source-in';\r\n            // Calculate new position\r\n            const newX = x + (canvasSize - canvasSize * scale) / 2;\r\n            const newY = y + (canvasSize - canvasSize * scale) / 2;\r\n            const newScale = canvasSize * scale;\r\n            // Draw graphic on layerCanvas\r\n            if (currentShoe === 'left') {\r\n              layerCanvasCTX.scale(-1, 1);\r\n              layerCanvasCTX.translate(-canvasSize, 0);\r\n            }\r\n            layerCanvasCTX.drawImage(\r\n              pythagoreanCanvas,\r\n              newX,\r\n              newY,\r\n              newScale,\r\n              newScale\r\n            );\r\n            resolve(layerCanvas);\r\n          };\r\n        } else {\r\n          setTimeout(waitForElement, 100);\r\n        }\r\n      }\r\n      waitForElement();\r\n    };\r\n  });\r\n};\r\n","export const createMaskLayerCanvas = ({ design, layer, currentShoe }) => {\r\n  return new Promise((resolve) => {\r\n    const { link, color } = layer;\r\n    const { canvasSize } = design.configData;\r\n    const layerCanvas = document.createElement('canvas');\r\n    layerCanvas.width = canvasSize;\r\n    layerCanvas.height = canvasSize;\r\n    const layerCanvasCTX = layerCanvas.getContext('2d');\r\n    const graphicImg = new Image();\r\n    graphicImg.src = `/api/assets/designimages/${link}`;\r\n    graphicImg.onload = () => {\r\n      function waitForElement() {\r\n        if (layerCanvasCTX !== null && typeof layerCanvas === 'object') {\r\n          if (currentShoe === 'left' && link === 'heelWingLogoMask.png') {\r\n            layerCanvasCTX.scale(-1, 1);\r\n            layerCanvasCTX.translate(-canvasSize, 0);\r\n          }\r\n          layerCanvasCTX.drawImage(graphicImg, 0, 0, canvasSize, canvasSize);\r\n          layerCanvasCTX.globalCompositeOperation = 'source-in';\r\n          layerCanvasCTX.fillStyle = color;\r\n          layerCanvasCTX.fillRect(0, 0, canvasSize, canvasSize);\r\n          resolve(layerCanvas);\r\n        } else {\r\n          setTimeout(waitForElement, 100);\r\n        }\r\n      }\r\n      waitForElement();\r\n    };\r\n  });\r\n};\r\n","export const createOverlayLayerCanvas = ({\r\n  design,\r\n  layer,\r\n  partName,\r\n  overlayCanvas,\r\n}) => {\r\n  return new Promise((resolve) => {\r\n    const { mask } = design.configData.partsObject[partName];\r\n    const { source } = layer;\r\n    const { x, y, scale, rotation } = design.configData.translations[source][\r\n      partName\r\n    ];\r\n    const { canvasSize } = design.configData;\r\n    const layerCanvas = document.createElement('canvas');\r\n    layerCanvas.width = canvasSize;\r\n    layerCanvas.height = canvasSize;\r\n    const layerCanvasCTX = layerCanvas.getContext('2d');\r\n    const maskImg = new Image();\r\n    maskImg.src = `/api/assets/designimages/${mask}`;\r\n    maskImg.onload = () => {\r\n      function waitForElement() {\r\n        if (layerCanvasCTX !== null && typeof layerCanvas === 'object') {\r\n          layerCanvasCTX.drawImage(maskImg, 0, 0, canvasSize, canvasSize);\r\n          layerCanvasCTX.globalCompositeOperation = 'source-in';\r\n          layerCanvasCTX.translate(canvasSize * x, canvasSize * y);\r\n          layerCanvasCTX.rotate(rotation);\r\n          layerCanvasCTX.drawImage(\r\n            overlayCanvas,\r\n            0,\r\n            0,\r\n            canvasSize * scale,\r\n            canvasSize * scale\r\n          );\r\n          resolve(layerCanvas);\r\n        } else {\r\n          setTimeout(waitForElement, 100);\r\n        }\r\n      }\r\n      waitForElement();\r\n    };\r\n  });\r\n};\r\n","import {\r\n  createColorLayerCanvas,\r\n  createGraphicLayerCanvas,\r\n  createOverlayLayerCanvas,\r\n  createMaskLayerCanvas,\r\n} from '../index';\r\n\r\n// create canvasObject part with designObject part\r\nconst createCanvasObjectPart = async ({\r\n  design,\r\n  designLayers,\r\n  partName,\r\n  overlays,\r\n  currentShoe,\r\n}) => {\r\n  const canvasLayers = [];\r\n  // For each layer in part of design object\r\n  for (let layer in designLayers) {\r\n    if (designLayers[layer].type === 'color') {\r\n      const thisLayer = await createColorLayerCanvas({\r\n        design,\r\n        layer: designLayers[layer],\r\n        partName,\r\n      });\r\n      canvasLayers.push(thisLayer);\r\n    } else if (designLayers[layer].type === 'graphic') {\r\n      canvasLayers.push(\r\n        await createGraphicLayerCanvas({\r\n          design,\r\n          layer: designLayers[layer],\r\n          partName,\r\n          currentShoe,\r\n        })\r\n      );\r\n    } else if (designLayers[layer].type === 'mask') {\r\n      canvasLayers.push(\r\n        await createMaskLayerCanvas({\r\n          design,\r\n          layer: designLayers[layer],\r\n          currentShoe,\r\n        })\r\n      );\r\n    } else if (designLayers[layer].type === 'overlay') {\r\n      if (designLayers[layer].source === 'outerOverlay') {\r\n        canvasLayers.push(\r\n          await createOverlayLayerCanvas({\r\n            design,\r\n            layer: designLayers[layer],\r\n            partName,\r\n            overlayCanvas: overlays[0],\r\n          })\r\n        );\r\n      } else {\r\n        canvasLayers.push(\r\n          await createOverlayLayerCanvas({\r\n            design,\r\n            layer: designLayers[layer],\r\n            partName,\r\n            overlayCanvas: overlays[1],\r\n          })\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  return { layers: canvasLayers };\r\n};\r\n\r\n// Create Base Color Canvas Object\r\nconst createBaseColorCanvasObjectPart = async ({\r\n  design,\r\n  partName,\r\n  currentShoe,\r\n}) => {\r\n  const canvas = await createColorLayerCanvas({\r\n    design,\r\n    layer: { color: design.outlineData.baseColors[currentShoe] },\r\n    partName,\r\n  });\r\n  return canvas;\r\n};\r\n\r\n// turn designObject into canvasObject\r\nexport const designObjectToCanvasObject = ({\r\n  design,\r\n  type,\r\n  overlays,\r\n  currentShoe,\r\n}) => {\r\n  return new Promise((resolve, reject) => {\r\n    const canvasObject = {};\r\n    const createAllParts = async () => {\r\n      if (type === 'partsCanvasObject') {\r\n        for (let partName in design.outlineData.parts) {\r\n          canvasObject[partName] = await createCanvasObjectPart({\r\n            design,\r\n            designLayers: design.outlineData.parts[partName][currentShoe],\r\n            partName,\r\n            overlays,\r\n            currentShoe,\r\n          });\r\n        }\r\n      } else if (type === 'overlaysCanvasObject') {\r\n        for (let partName in design.outlineData.overlays) {\r\n          canvasObject[partName] = await createCanvasObjectPart({\r\n            design,\r\n            designLayers: design.outlineData.overlays[partName][currentShoe],\r\n            partName,\r\n            currentShoe,\r\n          });\r\n        }\r\n      } else if (type === 'baseColorCanvasObject') {\r\n        for (let partName in design.outlineData.parts) {\r\n          canvasObject[partName] = await createBaseColorCanvasObjectPart({\r\n            design,\r\n            partName,\r\n            currentShoe,\r\n          });\r\n        }\r\n      }\r\n      resolve(canvasObject);\r\n    };\r\n    createAllParts();\r\n  });\r\n};\r\n\r\nexport const overlayCanvasObjectToTextureCanvas = ({\r\n  design,\r\n  overlayCanvasObject,\r\n  overlayCanvas,\r\n  partName,\r\n  graphicVisualCanvas,\r\n}) => {\r\n  const { canvasSize } = design.configData;\r\n  const overlayCanvasCTX = overlayCanvas.getContext('2d');\r\n  const graphicCTX = graphicVisualCanvas.getContext('2d');\r\n  graphicCTX.clearRect(0, 0, canvasSize, canvasSize);\r\n  overlayCanvasCTX.clearRect(0, 0, canvasSize, canvasSize);\r\n  for (let layer in overlayCanvasObject[partName].layers) {\r\n    const layerCanvas = overlayCanvasObject[partName].layers[layer];\r\n    overlayCanvasCTX.drawImage(layerCanvas, 0, 0, canvasSize, canvasSize);\r\n    graphicCTX.drawImage(layerCanvas, 0, 0, canvasSize, canvasSize);\r\n  }\r\n};\r\n\r\n// update graphicVisualCanvas\r\nexport const updateGraphicVisualCanvas = ({\r\n  design,\r\n  graphicVisualCanvas,\r\n  partName,\r\n  canvasObject,\r\n  baseColorCanvasObject,\r\n}) => {\r\n  const { canvasSize } = design.configData;\r\n  const graphicCTX = graphicVisualCanvas.getContext('2d');\r\n  graphicCTX.clearRect(0, 0, canvasSize, canvasSize);\r\n  if (baseColorCanvasObject[partName]) {\r\n    const baseColorCanvas = baseColorCanvasObject[partName];\r\n    graphicCTX.drawImage(baseColorCanvas, 0, 0, canvasSize, canvasSize);\r\n  }\r\n  for (let layer in canvasObject[partName].layers) {\r\n    const layerCanvas = canvasObject[partName].layers[layer];\r\n    graphicCTX.drawImage(layerCanvas, 0, 0, canvasSize, canvasSize);\r\n  }\r\n};\r\n","import { cloneDeep } from 'lodash';\r\nimport {\r\n  createColorLayerCanvas,\r\n  createGraphicLayerCanvas,\r\n  createMaskLayerCanvas,\r\n} from '../index';\r\n\r\n//------------------------------------------- Part Change Functions\r\nexport const partChangeManager = ({\r\n  changeObject,\r\n  design,\r\n  setDesign,\r\n  texture,\r\n  textureCanvas,\r\n  graphicVisualCanvas,\r\n  canvasObject,\r\n  baseColorCanvasObject,\r\n  currentShoe,\r\n}) => {\r\n  const { type, fileName } = changeObject;\r\n  const tempDesign = cloneDeep(design);\r\n  if (type === 'graphic-moved') {\r\n    const { partName, layerIndex, direction, distance } = changeObject;\r\n    const thisLayer =\r\n      tempDesign.outlineData.parts[partName][currentShoe][layerIndex];\r\n    if (direction === 'vert') {\r\n      thisLayer.y += distance;\r\n    } else if (direction === 'hor') {\r\n      thisLayer.x += distance;\r\n    } else if (direction === 'scale') {\r\n      thisLayer.scale *= distance;\r\n    } else if (direction === 'rotate') {\r\n      thisLayer.rotation += distance;\r\n    } else if (direction === 'reset') {\r\n      thisLayer.y = 0;\r\n      thisLayer.x = 0;\r\n      thisLayer.scale = 1;\r\n      thisLayer.rotation = 0;\r\n    }\r\n\r\n    setDesign(tempDesign);\r\n    updateLayer({\r\n      partName,\r\n      layerIndex,\r\n      layerObject: thisLayer,\r\n      canvasObject,\r\n      textureCanvas,\r\n      texture,\r\n      graphicVisualCanvas,\r\n      design,\r\n      baseColorCanvasObject,\r\n      currentShoe,\r\n    });\r\n  } else if (type === 'color-changed') {\r\n    const { partName, layerIndex, newColor } = changeObject;\r\n    let thisLayer;\r\n    if (partName === 'outerOverlay' || partName === 'innerOverlay') {\r\n      thisLayer = tempDesign.outlineData.overlays[partName].layers[layerIndex];\r\n    } else {\r\n      thisLayer =\r\n        tempDesign.outlineData.parts[partName][currentShoe][layerIndex];\r\n    }\r\n\r\n    thisLayer.color = newColor;\r\n    setDesign(tempDesign);\r\n    updateLayer({\r\n      partName,\r\n      layerIndex,\r\n      layerObject: thisLayer,\r\n      canvasObject,\r\n      textureCanvas,\r\n      texture,\r\n      graphicVisualCanvas,\r\n      design,\r\n      baseColorCanvasObject,\r\n      currentShoe,\r\n    });\r\n  } else if (type === 'layer-added') {\r\n    const { partName, layerType } = changeObject;\r\n    if (layerType === 'Color') {\r\n      tempDesign.outlineData.parts[partName][currentShoe].push({\r\n        type: 'color',\r\n        color: '#777777',\r\n      });\r\n    } else if (layerType === 'Graphic') {\r\n      tempDesign.outlineData.parts[partName][currentShoe].push({\r\n        type: 'graphic',\r\n        link: fileName,\r\n        x: 0,\r\n        y: 0,\r\n        scale: 1,\r\n        rotation: 0,\r\n      });\r\n    } else {\r\n      const { maskLink } = changeObject;\r\n      tempDesign.outlineData.parts[partName][currentShoe].push({\r\n        type: 'mask',\r\n        link: maskLink,\r\n        color: '#000000',\r\n      });\r\n    }\r\n\r\n    setDesign(tempDesign);\r\n    const layerObject = tempDesign.outlineData.parts[partName][\r\n      currentShoe\r\n    ].slice(-1)[0];\r\n    addLayerToCanvasObject({\r\n      canvasObject,\r\n      graphicVisualCanvas,\r\n      layerObject,\r\n      partName,\r\n      texture,\r\n      textureCanvas,\r\n      design,\r\n      baseColorCanvasObject,\r\n      currentShoe,\r\n    });\r\n  } else if (type === 'layer-moved') {\r\n    const { partName, layerIndex, direction } = changeObject;\r\n    let array = tempDesign.outlineData.parts[partName][currentShoe];\r\n    let tempElement = array[layerIndex];\r\n    array[layerIndex] = array[layerIndex + direction];\r\n    array[layerIndex + direction] = tempElement;\r\n    tempDesign.outlineData.parts[partName].layers = array;\r\n\r\n    setDesign(tempDesign);\r\n    moveLayerInCanvasObject({\r\n      canvasObject,\r\n      partName,\r\n      layerIndex,\r\n      direction,\r\n      textureCanvas,\r\n      texture,\r\n      graphicVisualCanvas,\r\n      design,\r\n      baseColorCanvasObject,\r\n      currentShoe,\r\n    });\r\n  } else if (type === 'layer-deleted') {\r\n    const { partName, layerIndex } = changeObject;\r\n    tempDesign.outlineData.parts[partName][currentShoe].splice(layerIndex, 1);\r\n\r\n    setDesign(tempDesign);\r\n    deleteLayerFromCanvasObject({\r\n      canvasObject,\r\n      partName,\r\n      layerIndex,\r\n      textureCanvas,\r\n      texture,\r\n      graphicVisualCanvas,\r\n      design,\r\n      baseColorCanvasObject,\r\n      currentShoe,\r\n    });\r\n  }\r\n};\r\n\r\nconst updateLayer = async ({\r\n  partName,\r\n  layerIndex,\r\n  layerObject,\r\n  canvasObject,\r\n  textureCanvas,\r\n  texture,\r\n  graphicVisualCanvas,\r\n  design,\r\n  baseColorCanvasObject,\r\n  currentShoe,\r\n}) => {\r\n  // update canvasObject layer\r\n  let layerCanvas;\r\n  if (layerObject.type === 'color') {\r\n    layerCanvas = await createColorLayerCanvas({\r\n      design,\r\n      layer: layerObject,\r\n      partName: partName,\r\n    });\r\n  } else if (layerObject.type === 'graphic') {\r\n    layerCanvas = await createGraphicLayerCanvas({\r\n      design,\r\n      layer: layerObject,\r\n      partName: partName,\r\n      currentShoe,\r\n    });\r\n  } else {\r\n    layerCanvas = await createMaskLayerCanvas({\r\n      design,\r\n      layer: layerObject,\r\n      currentShoe,\r\n    });\r\n  }\r\n  canvasObject[partName].layers[layerIndex] = layerCanvas;\r\n  // redraw part\r\n  redrawCanvasObjectPart({\r\n    textureCanvas,\r\n    canvasObjectPart: canvasObject[partName],\r\n    partName,\r\n    texture,\r\n    graphicVisualCanvas,\r\n    design,\r\n    baseColorCanvasObject,\r\n  });\r\n};\r\n\r\nconst addLayerToCanvasObject = async ({\r\n  canvasObject,\r\n  graphicVisualCanvas,\r\n  layerObject,\r\n  partName,\r\n  texture,\r\n  textureCanvas,\r\n  design,\r\n  baseColorCanvasObject,\r\n  currentShoe,\r\n}) => {\r\n  if (layerObject.type === 'color') {\r\n    const newLayerCanvas = await createColorLayerCanvas({\r\n      design,\r\n      layer: layerObject,\r\n      partName,\r\n    });\r\n    canvasObject[partName].layers.push(newLayerCanvas);\r\n  } else if (layerObject.type === 'graphic') {\r\n    const newLayerCanvas = await createGraphicLayerCanvas({\r\n      design,\r\n      layer: layerObject,\r\n      partName,\r\n      currentShoe,\r\n    });\r\n    canvasObject[partName].layers.push(newLayerCanvas);\r\n  } else {\r\n    const newLayerCanvas = await createMaskLayerCanvas({\r\n      design,\r\n      layer: layerObject,\r\n      currentShoe,\r\n    });\r\n    canvasObject[partName].layers.push(newLayerCanvas);\r\n  }\r\n  redrawCanvasObjectPart({\r\n    textureCanvas,\r\n    canvasObjectPart: canvasObject[partName],\r\n    partName,\r\n    texture,\r\n    graphicVisualCanvas,\r\n    design,\r\n    baseColorCanvasObject,\r\n  });\r\n};\r\n\r\nconst deleteLayerFromCanvasObject = ({\r\n  canvasObject,\r\n  partName,\r\n  layerIndex,\r\n  textureCanvas,\r\n  texture,\r\n  graphicVisualCanvas,\r\n  design,\r\n  baseColorCanvasObject,\r\n}) => {\r\n  canvasObject[partName].layers.splice(layerIndex, 1);\r\n  redrawCanvasObjectPart({\r\n    textureCanvas,\r\n    canvasObjectPart: canvasObject[partName],\r\n    partName,\r\n    texture,\r\n    graphicVisualCanvas,\r\n    design,\r\n    baseColorCanvasObject,\r\n  });\r\n};\r\n\r\nconst moveLayerInCanvasObject = ({\r\n  canvasObject,\r\n  partName,\r\n  layerIndex,\r\n  direction,\r\n  textureCanvas,\r\n  texture,\r\n  graphicVisualCanvas,\r\n  design,\r\n  baseColorCanvasObject,\r\n}) => {\r\n  let array = canvasObject[partName].layers;\r\n  let tempElement = array[layerIndex];\r\n  array[layerIndex] = array[layerIndex + direction];\r\n  array[layerIndex + direction] = tempElement;\r\n  canvasObject[partName].layers = array;\r\n  redrawCanvasObjectPart({\r\n    textureCanvas,\r\n    canvasObjectPart: canvasObject[partName],\r\n    partName,\r\n    texture,\r\n    graphicVisualCanvas,\r\n    design,\r\n    baseColorCanvasObject,\r\n  });\r\n};\r\n\r\nconst redrawCanvasObjectPart = ({\r\n  textureCanvas,\r\n  canvasObjectPart,\r\n  partName,\r\n  texture,\r\n  graphicVisualCanvas,\r\n  design,\r\n  baseColorCanvasObject,\r\n}) => {\r\n  const textureCanvasCTX = textureCanvas.getContext('2d');\r\n  const graphicCTX = graphicVisualCanvas.getContext('2d');\r\n  graphicCTX.clearRect(\r\n    0,\r\n    0,\r\n    design.configData.canvasSize,\r\n    design.configData.canvasSize\r\n  );\r\n  const { x, y, width, height } = design.configData.partsObject[partName];\r\n  const { divider } = design.configData;\r\n  textureCanvasCTX.drawImage(\r\n    baseColorCanvasObject[partName],\r\n    x / divider,\r\n    y / divider,\r\n    width / divider,\r\n    height / divider\r\n  );\r\n  graphicCTX.drawImage(\r\n    baseColorCanvasObject[partName],\r\n    0,\r\n    0,\r\n    design.configData.canvasSize,\r\n    design.configData.canvasSize\r\n  );\r\n  for (let layer in canvasObjectPart.layers) {\r\n    const layerCanvas = canvasObjectPart.layers[layer];\r\n    textureCanvasCTX.drawImage(\r\n      layerCanvas,\r\n      x / divider,\r\n      y / divider,\r\n      width / divider,\r\n      height / divider\r\n    );\r\n    graphicCTX.drawImage(\r\n      layerCanvas,\r\n      0,\r\n      0,\r\n      design.configData.canvasSize,\r\n      design.configData.canvasSize\r\n    );\r\n  }\r\n  texture.needsUpdate = true;\r\n};\r\n","import { cloneDeep } from 'lodash';\r\nimport {\r\n  createColorLayerCanvas,\r\n  createGraphicLayerCanvas,\r\n  createOverlayLayerCanvas,\r\n  overlayCanvasObjectToTextureCanvas,\r\n} from '../index';\r\n\r\n//------------------------------------------- Overlay Change Functions\r\nexport const overlayChangeManager = ({\r\n  changeObject,\r\n  design,\r\n  setDesign,\r\n  texture,\r\n  textureCanvas,\r\n  graphicVisualCanvas,\r\n  canvasObject,\r\n  overlayCanvas,\r\n  overlayCanvasObject,\r\n  baseColorCanvasObject,\r\n  currentShoe,\r\n}) => {\r\n  const { type, fileName } = changeObject;\r\n  const tempDesign = cloneDeep(design);\r\n  if (type === 'graphic-moved') {\r\n    const { partName, layerIndex, direction, distance } = changeObject;\r\n    const thisLayer =\r\n      tempDesign.outlineData.overlays[partName][currentShoe][layerIndex];\r\n    if (direction === 'vert') {\r\n      thisLayer.y += distance;\r\n    } else if (direction === 'hor') {\r\n      thisLayer.x += distance;\r\n    } else if (direction === 'scale') {\r\n      thisLayer.scale *= distance;\r\n    } else if (direction === 'rotate') {\r\n      thisLayer.rotation += distance;\r\n    } else if (direction === 'reset') {\r\n      thisLayer.y = 0;\r\n      thisLayer.x = 0;\r\n      thisLayer.scale = 1;\r\n      thisLayer.rotation = 0;\r\n    }\r\n\r\n    setDesign(tempDesign);\r\n    updateOverlayLayer({\r\n      partName,\r\n      layerIndex,\r\n      layerObject: thisLayer,\r\n      overlayCanvasObject,\r\n      overlayCanvas,\r\n      texture,\r\n      graphicVisualCanvas,\r\n      design,\r\n      canvasObject,\r\n      textureCanvas,\r\n      baseColorCanvasObject,\r\n      currentShoe,\r\n    });\r\n  } else if (type === 'color-changed') {\r\n    const { partName, layerIndex, newColor } = changeObject;\r\n    let thisLayer =\r\n      tempDesign.outlineData.overlays[partName][currentShoe][layerIndex];\r\n    thisLayer.color = newColor;\r\n\r\n    setDesign(tempDesign);\r\n    updateOverlayLayer({\r\n      partName,\r\n      layerIndex,\r\n      layerObject: thisLayer,\r\n      overlayCanvasObject,\r\n      overlayCanvas,\r\n      texture,\r\n      graphicVisualCanvas,\r\n      design,\r\n      canvasObject,\r\n      textureCanvas,\r\n      baseColorCanvasObject,\r\n      currentShoe,\r\n    });\r\n  } else if (type === 'layer-added') {\r\n    const { partName, layerType } = changeObject;\r\n    // add layers to design if this is the first overlay layer added\r\n    if (design.outlineData.overlays[partName][currentShoe].length === 0) {\r\n      const effectedParts = design.configData.overlayParts[partName];\r\n      for (let layer in effectedParts) {\r\n        const currentPart = effectedParts[layer];\r\n        tempDesign.outlineData.parts[currentPart][currentShoe].push({\r\n          type: 'overlay',\r\n          source: partName,\r\n        });\r\n      }\r\n    }\r\n    if (layerType === 'Color') {\r\n      tempDesign.outlineData.overlays[partName][currentShoe].push({\r\n        type: 'color',\r\n        color: '#777777',\r\n      });\r\n    } else {\r\n      tempDesign.outlineData.overlays[partName][currentShoe].push({\r\n        type: 'graphic',\r\n        link: fileName,\r\n        x: 0,\r\n        y: 0,\r\n        scale: 1,\r\n        rotation: 0,\r\n      });\r\n    }\r\n\r\n    setDesign(tempDesign);\r\n    addLayerToOverlayCanvasObject({\r\n      overlayCanvasObject,\r\n      partName,\r\n      layerObject: tempDesign.outlineData.overlays[partName][currentShoe].slice(\r\n        -1\r\n      )[0],\r\n      overlayCanvas,\r\n      texture,\r\n      graphicVisualCanvas,\r\n      design,\r\n      textureCanvas,\r\n      canvasObject,\r\n      tempDesign,\r\n      baseColorCanvasObject,\r\n      currentShoe,\r\n    });\r\n  } else if (type === 'layer-moved') {\r\n    const { partName, layerIndex, direction } = changeObject;\r\n    let array = tempDesign.outlineData.overlays[partName].layers;\r\n    let tempElement = array[layerIndex];\r\n    array[layerIndex] = array[layerIndex + direction];\r\n    array[layerIndex + direction] = tempElement;\r\n    tempDesign.outlineData.overlays[partName].layers = array;\r\n\r\n    setDesign(tempDesign);\r\n    moveLayerInOverlayCanvasObject({\r\n      overlayCanvasObject,\r\n      partName,\r\n      layerIndex,\r\n      direction,\r\n      overlayCanvas,\r\n      texture,\r\n      graphicVisualCanvas,\r\n      design,\r\n      textureCanvas,\r\n      canvasObject,\r\n      baseColorCanvasObject,\r\n      currentShoe,\r\n    });\r\n  } else if (type === 'layer-deleted') {\r\n    const { partName, layerIndex } = changeObject;\r\n    tempDesign.outlineData.overlays[partName][currentShoe].splice(\r\n      layerIndex,\r\n      1\r\n    );\r\n    if (tempDesign.outlineData.overlays[partName][currentShoe].length === 0) {\r\n      // remove layers from design if this is the last overlay layer deleted\r\n      const effectedParts = design.configData.overlayParts[partName];\r\n      for (let layer in effectedParts) {\r\n        const currentPart = effectedParts[layer];\r\n        for (\r\n          let i = 0;\r\n          i < tempDesign.outlineData.parts[currentPart][currentShoe].length;\r\n          i++\r\n        ) {\r\n          const layerIndex = i;\r\n          if (\r\n            tempDesign.outlineData.parts[currentPart][currentShoe][i].type ===\r\n            'overlay'\r\n          ) {\r\n            if (\r\n              tempDesign.outlineData.parts[currentPart][currentShoe][i]\r\n                .source === partName\r\n            ) {\r\n              tempDesign.outlineData.parts[currentPart][currentShoe].splice(\r\n                layerIndex,\r\n                1\r\n              );\r\n              canvasObject[currentPart].layers.splice(layerIndex, 1);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    setDesign(tempDesign);\r\n    deleteLayerFromOverlayCanvasObject({\r\n      overlayCanvasObject,\r\n      partName,\r\n      layerIndex,\r\n      overlayCanvas,\r\n      texture,\r\n      graphicVisualCanvas,\r\n      design,\r\n      textureCanvas,\r\n      canvasObject,\r\n      tempDesign,\r\n      baseColorCanvasObject,\r\n      currentShoe,\r\n    });\r\n  }\r\n};\r\n\r\nconst updateOverlayLayer = async ({\r\n  partName,\r\n  layerIndex,\r\n  layerObject,\r\n  overlayCanvasObject,\r\n  overlayCanvas,\r\n  texture,\r\n  graphicVisualCanvas,\r\n  design,\r\n  canvasObject,\r\n  textureCanvas,\r\n  baseColorCanvasObject,\r\n  currentShoe,\r\n}) => {\r\n  const effectedParts = design.configData.overlayParts[partName];\r\n  // update canvasObject layer\r\n  let layerCanvas;\r\n  if (layerObject.type === 'color') {\r\n    layerCanvas = await createColorLayerCanvas({\r\n      design,\r\n      layer: layerObject,\r\n      partName,\r\n    });\r\n  } else {\r\n    layerCanvas = await createGraphicLayerCanvas({\r\n      design,\r\n      layer: layerObject,\r\n      partName,\r\n      currentShoe,\r\n    });\r\n  }\r\n  overlayCanvasObject[partName].layers[layerIndex] = layerCanvas;\r\n\r\n  // redraw part on overlayCanvas\r\n  overlayCanvasObjectToTextureCanvas({\r\n    design,\r\n    overlayCanvasObject,\r\n    overlayCanvas,\r\n    partName,\r\n    graphicVisualCanvas,\r\n    currentShoe,\r\n  });\r\n\r\n  // update effected layers in canvas object\r\n  for (let part in effectedParts) {\r\n    const currentPart = effectedParts[part];\r\n    for (\r\n      let i = 0;\r\n      i < design.outlineData.parts[currentPart][currentShoe].length;\r\n      i++\r\n    ) {\r\n      const layerIndex = i;\r\n      if (\r\n        design.outlineData.parts[currentPart][currentShoe][i].type === 'overlay'\r\n      ) {\r\n        if (\r\n          design.outlineData.parts[currentPart][currentShoe][i].source ===\r\n          partName\r\n        ) {\r\n          const layerCanvas = await createOverlayLayerCanvas({\r\n            design,\r\n            layer: design.outlineData.parts[currentPart][currentShoe][i],\r\n            partName: currentPart,\r\n            overlayCanvas,\r\n          });\r\n          canvasObject[currentPart].layers[layerIndex] = layerCanvas;\r\n          // redraw effected parts in textureCanvas\r\n          redrawOverlayCanvasObjectPart({\r\n            textureCanvas,\r\n            canvasObjectPart: canvasObject[currentPart],\r\n            partName: currentPart,\r\n            design,\r\n            baseColorCanvasObject,\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n  texture.needsUpdate = true;\r\n};\r\n\r\nconst addLayerToOverlayCanvasObject = async ({\r\n  overlayCanvasObject,\r\n  partName,\r\n  layerObject,\r\n  overlayCanvas,\r\n  texture,\r\n  graphicVisualCanvas,\r\n  design,\r\n  textureCanvas,\r\n  canvasObject,\r\n  tempDesign,\r\n  baseColorCanvasObject,\r\n  currentShoe,\r\n}) => {\r\n  if (layerObject.type === 'color') {\r\n    const newLayerCanvas = await createColorLayerCanvas({\r\n      design,\r\n      layer: layerObject,\r\n      partName,\r\n    });\r\n    overlayCanvasObject[partName].layers.push(newLayerCanvas);\r\n  } else if (layerObject.type === 'graphic') {\r\n    const newLayerCanvas = await createGraphicLayerCanvas({\r\n      design,\r\n      layer: layerObject,\r\n      partName,\r\n      currentShoe,\r\n    });\r\n    overlayCanvasObject[partName].layers.push(newLayerCanvas);\r\n  }\r\n  overlayCanvasObjectToTextureCanvas({\r\n    design,\r\n    overlayCanvasObject,\r\n    overlayCanvas,\r\n    partName,\r\n    graphicVisualCanvas,\r\n    currentShoe,\r\n  });\r\n  // update effected layers in canvas object\r\n  const effectedParts = design.configData.overlayParts[partName];\r\n  for (let part in effectedParts) {\r\n    const currentPart = effectedParts[part];\r\n    for (\r\n      let i = 0;\r\n      i < tempDesign.outlineData.parts[currentPart][currentShoe].length;\r\n      i++\r\n    ) {\r\n      const layerIndex = i;\r\n      if (\r\n        tempDesign.outlineData.parts[currentPart][currentShoe][i].type ===\r\n        'overlay'\r\n      ) {\r\n        if (\r\n          tempDesign.outlineData.parts[currentPart][currentShoe][i].source ===\r\n          partName\r\n        ) {\r\n          const layerCanvas = await createOverlayLayerCanvas({\r\n            design,\r\n            layer: tempDesign.outlineData.parts[currentPart][currentShoe][i],\r\n            partName: currentPart,\r\n            overlayCanvas,\r\n          });\r\n          canvasObject[currentPart].layers[layerIndex] = layerCanvas;\r\n          // redraw effected parts in textureCanvas\r\n          redrawOverlayCanvasObjectPart({\r\n            textureCanvas,\r\n            canvasObjectPart: canvasObject[currentPart],\r\n            partName: currentPart,\r\n            design,\r\n            baseColorCanvasObject,\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n  texture.needsUpdate = true;\r\n};\r\n\r\nconst moveLayerInOverlayCanvasObject = async ({\r\n  overlayCanvasObject,\r\n  partName,\r\n  layerIndex,\r\n  direction,\r\n  overlayCanvas,\r\n  texture,\r\n  graphicVisualCanvas,\r\n  design,\r\n  textureCanvas,\r\n  canvasObject,\r\n  baseColorCanvasObject,\r\n  currentShoe,\r\n}) => {\r\n  let array = overlayCanvasObject[partName].layers;\r\n  let tempElement = array[layerIndex];\r\n  array[layerIndex] = array[layerIndex + direction];\r\n  array[layerIndex + direction] = tempElement;\r\n  overlayCanvasObject[partName].layers = array;\r\n  overlayCanvasObjectToTextureCanvas({\r\n    design,\r\n    overlayCanvasObject,\r\n    overlayCanvas,\r\n    partName,\r\n    graphicVisualCanvas,\r\n    currentShoe,\r\n  });\r\n\r\n  const effectedParts = design.configData.overlayParts[partName];\r\n  for (let part in effectedParts) {\r\n    const currentPart = effectedParts[part];\r\n    for (\r\n      let i = 0;\r\n      i < design.outlineData.parts[currentPart].layers.length;\r\n      i++\r\n    ) {\r\n      const layerIndex = i;\r\n      if (design.outlineData.parts[currentPart].layers[i].type === 'overlay') {\r\n        if (\r\n          design.outlineData.parts[currentPart].layers[i].source === partName\r\n        ) {\r\n          const layerCanvas = await createOverlayLayerCanvas({\r\n            design,\r\n            layer: design.outlineData.parts[currentPart].layers[i],\r\n            partName: currentPart,\r\n            overlayCanvas,\r\n          });\r\n          canvasObject[currentPart].layers[layerIndex] = layerCanvas;\r\n          // redraw effected parts in textureCanvas\r\n          redrawOverlayCanvasObjectPart({\r\n            textureCanvas,\r\n            canvasObjectPart: canvasObject[currentPart],\r\n            partName: currentPart,\r\n            design,\r\n            baseColorCanvasObject,\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n  texture.needsUpdate = true;\r\n};\r\n\r\nconst deleteLayerFromOverlayCanvasObject = async ({\r\n  overlayCanvasObject,\r\n  partName,\r\n  layerIndex,\r\n  overlayCanvas,\r\n  texture,\r\n  graphicVisualCanvas,\r\n  design,\r\n  textureCanvas,\r\n  canvasObject,\r\n  tempDesign,\r\n  baseColorCanvasObject,\r\n  currentShoe,\r\n}) => {\r\n  overlayCanvasObject[partName].layers.splice(layerIndex, 1);\r\n  overlayCanvasObjectToTextureCanvas({\r\n    design,\r\n    overlayCanvasObject,\r\n    overlayCanvas,\r\n    partName,\r\n    graphicVisualCanvas,\r\n    currentShoe,\r\n  });\r\n\r\n  const effectedParts = design.configData.overlayParts[partName];\r\n  for (let part in effectedParts) {\r\n    const currentPart = effectedParts[part];\r\n    for (\r\n      let i = 0;\r\n      i < tempDesign.outlineData.parts[currentPart][currentShoe].length;\r\n      i++\r\n    ) {\r\n      const layerIndex = i;\r\n      if (\r\n        tempDesign.outlineData.parts[currentPart][currentShoe][i].type ===\r\n          'overlay' &&\r\n        tempDesign.outlineData.parts[currentPart][currentShoe][i].source ===\r\n          partName\r\n      ) {\r\n        const layerCanvas = await createOverlayLayerCanvas({\r\n          design,\r\n          layer: design.outlineData.parts[currentPart][currentShoe][i],\r\n          partName: currentPart,\r\n          overlayCanvas,\r\n        });\r\n        canvasObject[currentPart].layers[layerIndex] = layerCanvas;\r\n      }\r\n    }\r\n    // redraw effected parts in textureCanvas\r\n    redrawOverlayCanvasObjectPart({\r\n      textureCanvas,\r\n      canvasObjectPart: canvasObject[currentPart],\r\n      partName: currentPart,\r\n      design,\r\n      baseColorCanvasObject,\r\n    });\r\n  }\r\n  texture.needsUpdate = true;\r\n};\r\n\r\nconst redrawOverlayCanvasObjectPart = ({\r\n  textureCanvas,\r\n  canvasObjectPart,\r\n  partName,\r\n  design,\r\n  baseColorCanvasObject,\r\n}) => {\r\n  const textureCanvasCTX = textureCanvas.getContext('2d');\r\n  const { x, y, width, height } = design.configData.partsObject[partName];\r\n  const { divider } = design.configData;\r\n  textureCanvasCTX.drawImage(\r\n    baseColorCanvasObject[partName],\r\n    x / divider,\r\n    y / divider,\r\n    width / divider,\r\n    height / divider\r\n  );\r\n  for (let layer in canvasObjectPart.layers) {\r\n    const layerCanvas = canvasObjectPart.layers[layer];\r\n    textureCanvasCTX.drawImage(\r\n      layerCanvas,\r\n      x / divider,\r\n      y / divider,\r\n      width / divider,\r\n      height / divider\r\n    );\r\n  }\r\n};\r\n","// turn canvasObject into a finalTexture\r\nexport const canvasObjectToTextureCanvas = ({\r\n  design,\r\n  canvasObject,\r\n  baseColorCanvasObject,\r\n}) => {\r\n  return new Promise((resolve, reject) => {\r\n    const canvas = document.createElement('canvas');\r\n    canvas.width = design.configData.canvasSize;\r\n    canvas.height = design.configData.canvasSize;\r\n    const finalCanvasCTX = canvas.getContext('2d');\r\n\r\n    function waitForElement() {\r\n      if (typeof finalCanvasCTX !== 'undefined') {\r\n        for (let property in canvasObject) {\r\n          const { x, y, width, height } = design.configData.partsObject[\r\n            property\r\n          ];\r\n          const { divider } = design.configData;\r\n          finalCanvasCTX.drawImage(\r\n            baseColorCanvasObject[property],\r\n            x / divider,\r\n            y / divider,\r\n            width / divider,\r\n            height / divider\r\n          );\r\n          for (let layer in canvasObject[property].layers) {\r\n            const layerCanvas = canvasObject[property].layers[layer];\r\n            finalCanvasCTX.drawImage(\r\n              layerCanvas,\r\n              x / divider,\r\n              y / divider,\r\n              width / divider,\r\n              height / divider\r\n            );\r\n          }\r\n        }\r\n        resolve(canvas);\r\n      } else {\r\n        setTimeout(waitForElement, 100);\r\n      }\r\n    }\r\n    waitForElement();\r\n  });\r\n};\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport './DesignerContainer.css';\r\nimport Scene from '../../components/Scene/Scene.js';\r\nimport Interface from '../../components/Interface/Interface.js';\r\nimport {\r\n  setup,\r\n  designObjectToCanvasObject,\r\n  updateGraphicVisualCanvas,\r\n  partChangeManager,\r\n  canvasObjectToTextureCanvas,\r\n  overlayChangeManager,\r\n} from '../../canvasFunctions';\r\n\r\nfunction DesignerContainer({\r\n  userData,\r\n  designSpec,\r\n  graphicVisualCanvas,\r\n  rightInnerOverlayCanvas,\r\n  rightOuterOverlayCanvas,\r\n  rightTexture,\r\n  rightTextureCanvas,\r\n  leftInnerOverlayCanvas,\r\n  leftOuterOverlayCanvas,\r\n  leftTexture,\r\n  leftTextureCanvas,\r\n}) {\r\n  const [design, setDesign] = useState(designSpec);\r\n  const [initialLoaded, setInitialLoaded] = useState(false);\r\n  const [camera, setCamera] = useState(null);\r\n  const [orbitControls, setOrbitControls] = useState(null);\r\n  const [currentPart, setCurrentPart] = useState(0);\r\n  const [currentShoe, setCurrentShoe] = useState('right');\r\n  const [shoeVisibility, setShoeVisibility] = useState({\r\n    right: true,\r\n    left: true,\r\n  });\r\n  // const [rightShoeVisible, setRightShoeVisible] = useState(true);\r\n  // const [leftShoeVisible, setLeftShoeVisible] = useState(true);\r\n\r\n  const [view, setView] = useState('DesignPreview');\r\n  const [layersView, setLayersView] = useState('LayerOverview');\r\n  const [focusLayer, setFocusLayer] = useState(null);\r\n\r\n  const rightBaseColorCanvasObjectRef = useRef();\r\n  const rightCanvasObjectRef = useRef();\r\n  const rightOverlaysCanvasObjectRef = useRef();\r\n  const leftBaseColorCanvasObjectRef = useRef();\r\n  const leftCanvasObjectRef = useRef();\r\n  const leftOverlaysCanvasObjectRef = useRef();\r\n\r\n  const handleUpdateGraphicVisualCanvas = (partName) => {\r\n    if (partName === 'outerOverlay' || partName === 'innerOverlay') {\r\n      if (currentShoe === 'right') {\r\n        updateGraphicVisualCanvas({\r\n          design,\r\n          graphicVisualCanvas,\r\n          partName,\r\n          canvasObject: rightOverlaysCanvasObjectRef.current,\r\n          baseColorCanvasObject: rightBaseColorCanvasObjectRef.current,\r\n          currentShoe,\r\n        });\r\n      } else {\r\n        updateGraphicVisualCanvas({\r\n          design,\r\n          graphicVisualCanvas,\r\n          partName,\r\n          canvasObject: leftOverlaysCanvasObjectRef.current,\r\n          baseColorCanvasObject: leftBaseColorCanvasObjectRef.current,\r\n          currentShoe,\r\n        });\r\n      }\r\n    } else {\r\n      if (currentShoe === 'right') {\r\n        updateGraphicVisualCanvas({\r\n          design,\r\n          graphicVisualCanvas,\r\n          partName,\r\n          canvasObject: rightCanvasObjectRef.current,\r\n          baseColorCanvasObject: rightBaseColorCanvasObjectRef.current,\r\n          currentShoe,\r\n        });\r\n      } else {\r\n        updateGraphicVisualCanvas({\r\n          design,\r\n          graphicVisualCanvas,\r\n          partName,\r\n          canvasObject: leftCanvasObjectRef.current,\r\n          baseColorCanvasObject: leftBaseColorCanvasObjectRef.current,\r\n          currentShoe,\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const handlePartChangeManager = (changeObject) => {\r\n    const { partName } = changeObject;\r\n    if (partName === 'outerOverlay') {\r\n      overlayChangeManager({\r\n        changeObject,\r\n        design,\r\n        setDesign,\r\n        texture: currentShoe === 'right' ? rightTexture : leftTexture,\r\n        textureCanvas:\r\n          currentShoe === 'right' ? rightTextureCanvas : leftTextureCanvas,\r\n        graphicVisualCanvas,\r\n        canvasObject:\r\n          currentShoe === 'right'\r\n            ? rightCanvasObjectRef.current\r\n            : leftCanvasObjectRef.current,\r\n        overlayCanvas:\r\n          currentShoe === 'right'\r\n            ? rightOuterOverlayCanvas\r\n            : leftOuterOverlayCanvas,\r\n        overlayCanvasObject:\r\n          currentShoe === 'right'\r\n            ? rightOverlaysCanvasObjectRef.current\r\n            : leftOverlaysCanvasObjectRef.current,\r\n        baseColorCanvasObject:\r\n          currentShoe === 'right'\r\n            ? rightBaseColorCanvasObjectRef.current\r\n            : leftBaseColorCanvasObjectRef.current,\r\n        currentShoe,\r\n      });\r\n    } else if (partName === 'innerOverlay') {\r\n      overlayChangeManager({\r\n        changeObject,\r\n        design,\r\n        setDesign,\r\n        texture: currentShoe === 'right' ? rightTexture : leftTexture,\r\n        textureCanvas:\r\n          currentShoe === 'right' ? rightTextureCanvas : leftTextureCanvas,\r\n        graphicVisualCanvas,\r\n        canvasObject:\r\n          currentShoe === 'right'\r\n            ? rightCanvasObjectRef.current\r\n            : leftCanvasObjectRef.current,\r\n        overlayCanvas:\r\n          currentShoe === 'right'\r\n            ? rightInnerOverlayCanvas\r\n            : leftInnerOverlayCanvas,\r\n        overlayCanvasObject:\r\n          currentShoe === 'right'\r\n            ? rightOverlaysCanvasObjectRef.current\r\n            : leftOverlaysCanvasObjectRef.current,\r\n        baseColorCanvasObject:\r\n          currentShoe === 'right'\r\n            ? rightBaseColorCanvasObjectRef.current\r\n            : leftBaseColorCanvasObjectRef.current,\r\n        currentShoe,\r\n      });\r\n    } else {\r\n      partChangeManager({\r\n        changeObject,\r\n        design,\r\n        setDesign,\r\n        texture: currentShoe === 'right' ? rightTexture : leftTexture,\r\n        textureCanvas:\r\n          currentShoe === 'right' ? rightTextureCanvas : leftTextureCanvas,\r\n        graphicVisualCanvas,\r\n        canvasObject:\r\n          currentShoe === 'right'\r\n            ? rightCanvasObjectRef.current\r\n            : leftCanvasObjectRef.current,\r\n        baseColorCanvasObject:\r\n          currentShoe === 'right'\r\n            ? rightBaseColorCanvasObjectRef.current\r\n            : leftBaseColorCanvasObjectRef.current,\r\n        currentShoe,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleUpdateBaseColor = async (tempDesign) => {\r\n    // baseColor to baseColor Canvas Object\r\n    rightBaseColorCanvasObjectRef.current = await designObjectToCanvasObject({\r\n      design: tempDesign,\r\n      type: 'baseColorCanvasObject',\r\n      currentShoe: 'right',\r\n    });\r\n    leftBaseColorCanvasObjectRef.current = await designObjectToCanvasObject({\r\n      design: tempDesign,\r\n      type: 'baseColorCanvasObject',\r\n      currentShoe: 'left',\r\n    });\r\n    // Canvas Object to Canvas\r\n    const rightCanvas = await canvasObjectToTextureCanvas({\r\n      design,\r\n      canvasObject: rightCanvasObjectRef.current,\r\n      baseColorCanvasObject: rightBaseColorCanvasObjectRef.current,\r\n    });\r\n    const leftCanvas = await canvasObjectToTextureCanvas({\r\n      design,\r\n      canvasObject: leftCanvasObjectRef.current,\r\n      baseColorCanvasObject: leftBaseColorCanvasObjectRef.current,\r\n    });\r\n    // Canvas to Texture Canvas\r\n    rightTextureCanvas.getContext('2d').drawImage(rightCanvas, 0, 0);\r\n    rightTexture.needsUpdate = true;\r\n    leftTextureCanvas.getContext('2d').drawImage(leftCanvas, 0, 0);\r\n    leftTexture.needsUpdate = true;\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!rightCanvasObjectRef.current || !leftCanvasObjectRef.current) {\r\n      setup({\r\n        setInitialLoaded,\r\n        design,\r\n        graphicVisualCanvas,\r\n        rightBaseColorCanvasObjectRef,\r\n        rightInnerOverlayCanvas,\r\n        rightOuterOverlayCanvas,\r\n        rightTexture,\r\n        rightTextureCanvas,\r\n        rightCanvasObjectRef,\r\n        rightOverlaysCanvasObjectRef,\r\n        leftBaseColorCanvasObjectRef,\r\n        leftInnerOverlayCanvas,\r\n        leftOuterOverlayCanvas,\r\n        leftTexture,\r\n        leftTextureCanvas,\r\n        leftCanvasObjectRef,\r\n        leftOverlaysCanvasObjectRef,\r\n      });\r\n    }\r\n  }, [\r\n    design,\r\n    graphicVisualCanvas,\r\n    rightInnerOverlayCanvas,\r\n    rightOuterOverlayCanvas,\r\n    rightTexture,\r\n    rightTextureCanvas,\r\n    leftInnerOverlayCanvas,\r\n    leftOuterOverlayCanvas,\r\n    leftTexture,\r\n    leftTextureCanvas,\r\n  ]);\r\n\r\n  if (design && userData) {\r\n    return (\r\n      <div className='designer-container'>\r\n        <Scene\r\n          design={design}\r\n          setView={setView}\r\n          setLayersView={setLayersView}\r\n          rightTexture={rightTexture}\r\n          leftTexture={leftTexture}\r\n          initialLoaded={initialLoaded}\r\n          camera={camera}\r\n          setCamera={setCamera}\r\n          orbitControls={orbitControls}\r\n          setOrbitControls={setOrbitControls}\r\n          setCurrentPart={setCurrentPart}\r\n          setCurrentShoe={setCurrentShoe}\r\n          setFocusLayer={setFocusLayer}\r\n          shoeVisibility={shoeVisibility}\r\n        />\r\n        <Interface\r\n          design={design}\r\n          setDesign={setDesign}\r\n          view={view}\r\n          setView={setView}\r\n          focusLayer={focusLayer}\r\n          setFocusLayer={setFocusLayer}\r\n          layersView={layersView}\r\n          setLayersView={setLayersView}\r\n          graphicVisualCanvas={graphicVisualCanvas}\r\n          handleUpdateGraphicVisualCanvas={handleUpdateGraphicVisualCanvas}\r\n          handlePartChangeManager={handlePartChangeManager}\r\n          setInitialLoaded={setInitialLoaded}\r\n          camera={camera}\r\n          orbitControls={orbitControls}\r\n          handleUpdateBaseColor={handleUpdateBaseColor}\r\n          userData={userData}\r\n          currentPart={currentPart}\r\n          setCurrentPart={setCurrentPart}\r\n          currentShoe={currentShoe}\r\n          setCurrentShoe={setCurrentShoe}\r\n          shoeVisibility={shoeVisibility}\r\n          setShoeVisibility={setShoeVisibility}\r\n        />\r\n      </div>\r\n    );\r\n  } else {\r\n    return <div>hi</div>;\r\n  }\r\n}\r\n\r\nexport default DesignerContainer;\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport './Designer.css';\r\nimport DesignerContainer from '../../components/DesignerContainer/DesignerContainer';\r\nimport {\r\n  createTexture,\r\n  createCanvas,\r\n  createGraphicVisualCanvas,\r\n} from '../../canvasFunctions';\r\nimport { simpleFetch } from '../../helpers/fetchHelpers';\r\nimport { useParams } from 'react-router-dom';\r\nimport UserProvider from '../../context/UserProvider';\r\n\r\nfunction Designer() {\r\n  const { id } = useParams();\r\n  const userData = useContext(UserProvider.context);\r\n\r\n  const [designSpec, setDesignSpec] = useState(null);\r\n  const [graphicVisualCanvas, setGraphicVisualCanvas] = useState(null);\r\n\r\n  const [rightInnerOverlayCanvas, setRightInnerOverlayCanvas] = useState(null);\r\n  const [rightOuterOverlayCanvas, setRightOuterOverlayCanvas] = useState(null);\r\n  const [rightTextureCanvas, setRightTextureCanvas] = useState(null);\r\n  const [rightTexture, setRightTexture] = useState(null);\r\n\r\n  const [leftInnerOverlayCanvas, setLeftInnerOverlayCanvas] = useState(null);\r\n  const [leftOuterOverlayCanvas, setLeftOuterOverlayCanvas] = useState(null);\r\n  const [leftTextureCanvas, setLeftTextureCanvas] = useState(null);\r\n  const [leftTexture, setLeftTexture] = useState(null);\r\n\r\n  const setup = async (data) => {\r\n    setDesignSpec(data);\r\n    setGraphicVisualCanvas(createGraphicVisualCanvas({ design: data }));\r\n    const canvasOne = await createCanvas({ design: data });\r\n    setRightInnerOverlayCanvas(canvasOne);\r\n    const canvasTwo = await createCanvas({ design: data });\r\n    setRightOuterOverlayCanvas(canvasTwo);\r\n    const canvasThree = await createCanvas({ design: data });\r\n    setRightTextureCanvas(canvasThree);\r\n\r\n    const canvasFour = await createCanvas({ design: data });\r\n    setLeftInnerOverlayCanvas(canvasFour);\r\n    const canvasFive = await createCanvas({ design: data });\r\n    setLeftOuterOverlayCanvas(canvasFive);\r\n    const canvasSix = await createCanvas({ design: data });\r\n    setLeftTextureCanvas(canvasSix);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (id) {\r\n      simpleFetch(`/api/outlines/${id}`, 'GET')\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          setup(data);\r\n        });\r\n    } else {\r\n      simpleFetch('/api/outlines/newdesign', 'GET')\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          setup(data);\r\n        });\r\n    }\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    if (rightTextureCanvas && leftTextureCanvas) {\r\n      setRightTexture(createTexture(rightTextureCanvas));\r\n      setLeftTexture(createTexture(leftTextureCanvas));\r\n    }\r\n  }, [rightTextureCanvas, leftTextureCanvas]);\r\n\r\n  const initialized =\r\n    userData &&\r\n    designSpec &&\r\n    graphicVisualCanvas &&\r\n    rightInnerOverlayCanvas &&\r\n    rightOuterOverlayCanvas &&\r\n    rightTextureCanvas &&\r\n    rightTexture &&\r\n    leftInnerOverlayCanvas &&\r\n    leftOuterOverlayCanvas &&\r\n    leftTextureCanvas &&\r\n    leftTexture;\r\n\r\n  if (initialized) {\r\n    return (\r\n      <div className='designer-root-container'>\r\n        <DesignerContainer\r\n          userData={userData}\r\n          designSpec={designSpec}\r\n          graphicVisualCanvas={graphicVisualCanvas}\r\n          rightInnerOverlayCanvas={rightInnerOverlayCanvas}\r\n          rightOuterOverlayCanvas={rightOuterOverlayCanvas}\r\n          rightTexture={rightTexture}\r\n          rightTextureCanvas={rightTextureCanvas}\r\n          leftInnerOverlayCanvas={leftInnerOverlayCanvas}\r\n          leftOuterOverlayCanvas={leftOuterOverlayCanvas}\r\n          leftTexture={leftTexture}\r\n          leftTextureCanvas={leftTextureCanvas}\r\n        />\r\n      </div>\r\n    );\r\n  } else {\r\n    return <div></div>;\r\n  }\r\n}\r\n\r\nexport default Designer;\r\n","import React from 'react';\r\nimport './Login.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Login() {\r\n  const loginWithGoogle = () => {\r\n    if (process.env.NODE_ENV === 'production') {\r\n      window.open(`http://solecomposer.com/auth/google`, '_self');\r\n    } else {\r\n      window.open(`http://localhost:8000/auth/google`, '_self');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='login-container'>\r\n      <div className='login-google-button'>\r\n        <button onClick={() => loginWithGoogle()}>Login With Google</button>\r\n      </div>\r\n      <Link to='/'>\r\n        <div className='basic-button'>\r\n          <button>Back</button>\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useContext } from 'react';\r\nimport './Profile.css';\r\nimport UserProvider from '../../context/UserProvider';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Profile() {\r\n  const userData = useContext(UserProvider.context);\r\n\r\n  const handleLogout = () => {\r\n    if (process.env.NODE_ENV === 'production') {\r\n      window.open(`http://solecomposer.com/auth/logout`, '_self');\r\n    } else {\r\n      window.open(`http://localhost:8000/auth/logout`, '_self');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='profile-container'>\r\n      <p className='basic-paragraph'>{userData.firstName}</p>\r\n      <p className='basic-paragraph'>{userData.email}</p>\r\n      <div className='basic-button'>\r\n        <button onClick={() => handleLogout()}>Log Out</button>\r\n      </div>\r\n      <Link to='/'>\r\n        <div className='basic-button'>\r\n          <button>Back</button>\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport './NoPage.css';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction NoPage() {\r\n  return (\r\n    <div className='no-page-container'>\r\n      <p className='basic-paragraph'>404 - PAGE NOT FOUND</p>\r\n      <Link to='/'>\r\n        <div className='basic-button'>\r\n          <button>Home</button>\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NoPage;\r\n","import React from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport './App.css';\r\nimport UserProvider from './context/UserProvider';\r\nimport Landing from './pages/Landing/Landing';\r\nimport Designer from './pages/Designer/Designer';\r\nimport Login from './components/Login/Login';\r\nimport Profile from './components/Profile/Profile';\r\n\r\nimport NoPage from './components/NoPage/NoPage';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className='app-container'>\r\n      <Router>\r\n        <UserProvider>\r\n          <Switch>\r\n            <Route exact path='/' component={Landing} />\r\n            <Route exact path='/login' component={Login} />\r\n            <Route exact path='/profile' component={Profile} />\r\n            <Route exact path='/designer' component={Designer} />\r\n            <Route exact path='/designer/:id' component={Designer} />\r\n            <Route path='*' component={NoPage} />\r\n          </Switch>\r\n        </UserProvider>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n// import * as Sentry from '@sentry/react';\r\n// import { Integrations } from '@sentry/tracing';\r\n\r\n// Sentry.init({\r\n//   dsn:\r\n//     'https://d98f16c7cc0f4230b7ba30f6a76ef259@o484792.ingest.sentry.io/5538538',\r\n//   integrations: [new Integrations.BrowserTracing()],\r\n//   tracesSampleRate: 1.0,\r\n// });\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}